SELECT MIN(chn.name) AS uncredited_voiced_character,
       MIN(t.title) AS russian_movie
FROM char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     company_type AS ct,
     movie_companies AS mc,
     role_type AS rt,
     title AS t
WHERE ci.note LIKE '%(voice)%'
  AND ci.note LIKE '%(uncredited)%'
  AND cn.country_code = '[ru]'
  AND rt.role = 'actor'
  AND t.production_year > 2005
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mc.movie_id
  AND chn.id = ci.person_role_id
  AND rt.id = ci.role_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7447.87, + "Total Cost": 7447.88, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 330.236, + "Actual Total Time": 372.622, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7447.82, + "Total Cost": 7447.83, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 329.481, + "Actual Total Time": 372.586, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7446.82, + "Total Cost": 7446.83, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 319.485, + "Actual Total Time": 319.491, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 312.446, + "Actual Total Time": 312.452, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 318.759, + "Actual Total Time": 318.763, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 319.307, + "Actual Total Time": 319.311, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 320.483, + "Actual Total Time": 320.488, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 320.592, + "Actual Total Time": 320.597, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 315.305, + "Actual Total Time": 315.310, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 320.578, + "Actual Total Time": 320.583, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.96, + "Total Cost": 7446.82, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 77.457, + "Actual Total Time": 319.359, + "Actual Rows": 13, + "Actual Loops": 8, + "Output": ["chn.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 41.661, + "Actual Total Time": 312.387, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.439, + "Actual Total Time": 318.640, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.797, + "Actual Total Time": 318.816, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.078, + "Actual Total Time": 320.410, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 143.269, + "Actual Total Time": 320.548, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 66.940, + "Actual Total Time": 315.234, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 126.510, + "Actual Total Time": 320.458, + "Actual Rows": 30, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 7446.66, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 77.400, + "Actual Total Time": 319.005, + "Actual Rows": 13, + "Actual Loops": 8, + "Output": ["chn.name", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 41.605, + "Actual Total Time": 312.243, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.372, + "Actual Total Time": 318.399, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.743, + "Actual Total Time": 317.184, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.022, + "Actual Total Time": 320.247, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 143.187, + "Actual Total Time": 320.401, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 66.891, + "Actual Total Time": 315.087, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 126.454, + "Actual Total Time": 320.185, + "Actual Rows": 30, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 7444.96, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 77.200, + "Actual Total Time": 318.287, + "Actual Rows": 14, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 41.466, + "Actual Total Time": 311.720, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.206, + "Actual Total Time": 317.533, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.634, + "Actual Total Time": 316.210, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.207, + "Actual Total Time": 318.944, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 143.113, + "Actual Total Time": 320.029, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 66.779, + "Actual Total Time": 314.575, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 126.331, + "Actual Total Time": 319.293, + "Actual Rows": 32, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 7443.81, + "Plan Rows": 16, + "Plan Width": 29, + "Actual Startup Time": 64.341, + "Actual Total Time": 317.530, + "Actual Rows": 19, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "ci.role_id", "mc.company_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 41.098, + "Actual Total Time": 311.248, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.890, + "Actual Total Time": 317.114, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.268, + "Actual Total Time": 313.286, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.907, + "Actual Total Time": 318.563, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 42.836, + "Actual Total Time": 319.674, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 66.369, + "Actual Total Time": 314.093, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 126.018, + "Actual Total Time": 318.846, + "Actual Rows": 37, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 6434.98, + "Plan Rows": 738, + "Plan Width": 29, + "Actual Startup Time": 0.742, + "Actual Total Time": 66.527, + "Actual Rows": 567, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.503, + "Actual Total Time": 62.907, + "Actual Rows": 508, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.025, + "Actual Total Time": 81.170, + "Actual Rows": 778, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.362, + "Actual Total Time": 44.564, + "Actual Rows": 403, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.313, + "Actual Total Time": 56.834, + "Actual Rows": 438, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.464, + "Actual Total Time": 66.608, + "Actual Rows": 544, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.393, + "Actual Total Time": 68.966, + "Actual Rows": 652, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.321, + "Actual Total Time": 71.002, + "Actual Rows": 570, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 5571.77, + "Plan Rows": 1844, + "Plan Width": 8, + "Actual Startup Time": 0.373, + "Actual Total Time": 34.366, + "Actual Rows": 1099, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.340, + "Actual Total Time": 25.118, + "Actual Rows": 1239, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.339, + "Actual Total Time": 43.914, + "Actual Rows": 1471, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.200, + "Actual Total Time": 25.062, + "Actual Rows": 641, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.206, + "Actual Total Time": 33.411, + "Actual Rows": 807, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.241, + "Actual Total Time": 36.672, + "Actual Rows": 1083, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.288, + "Actual Total Time": 35.345, + "Actual Rows": 1279, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.222, + "Actual Total Time": 29.493, + "Actual Rows": 996, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 166, + "Plan Width": 4, + "Actual Startup Time": 0.258, + "Actual Total Time": 17.574, + "Actual Rows": 170, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[ru]'::text)", + "Rows Removed by Filter": 29204, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.225, + "Actual Total Time": 7.548, + "Actual Rows": 67, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.228, + "Actual Total Time": 23.165, + "Actual Rows": 227, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.116, + "Actual Total Time": 14.183, + "Actual Rows": 131, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.080, + "Actual Total Time": 19.272, + "Actual Rows": 206, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.072, + "Actual Total Time": 19.474, + "Actual Rows": 192, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.170, + "Actual Total Time": 19.054, + "Actual Rows": 191, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.127, + "Actual Total Time": 13.644, + "Actual Rows": 122, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 12.79, + "Plan Rows": 52, + "Plan Width": 12, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.092, + "Actual Rows": 6, + "Actual Loops": 1361, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.247, + "Actual Rows": 18, + "Actual Loops": 67 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.085, + "Actual Rows": 6, + "Actual Loops": 227 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.077, + "Actual Rows": 5, + "Actual Loops": 131 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.064, + "Actual Rows": 4, + "Actual Loops": 206 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.084, + "Actual Rows": 6, + "Actual Loops": 192 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.079, + "Actual Rows": 7, + "Actual Loops": 191 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.117, + "Actual Rows": 8, + "Actual Loops": 122 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 8790, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1239 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 1471 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 641 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 807 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 1083 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 1279 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 996 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.35, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.416, + "Actual Total Time": 0.440, + "Actual Rows": 0, + "Actual Loops": 4539, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ci.note ~~ '%(voice)%'::text) AND (ci.note ~~ '%(uncredited)%'::text))", + "Rows Removed by Filter": 50, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.458, + "Actual Total Time": 0.487, + "Actual Rows": 0, + "Actual Loops": 508 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.289, + "Actual Total Time": 0.302, + "Actual Rows": 0, + "Actual Loops": 778 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.630, + "Actual Total Time": 0.664, + "Actual Rows": 0, + "Actual Loops": 403 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.560, + "Actual Total Time": 0.596, + "Actual Rows": 0, + "Actual Loops": 438 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.437, + "Actual Total Time": 0.463, + "Actual Rows": 0, + "Actual Loops": 544 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.357, + "Actual Total Time": 0.374, + "Actual Rows": 0, + "Actual Loops": 652 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.407, + "Actual Total Time": 0.431, + "Actual Rows": 0, + "Actual Loops": 570 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.090, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.050, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actor'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 1.70, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 112, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 20 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.080, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.096, + "Actual Total Time": 0.096, + "Actual Rows": 1, + "Actual Loops": 13 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 11 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 32 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 104, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 19 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 9 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 30 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6651533820180303979, + "Planning Time": 23.894, + "Triggers": [ + ], + "Execution Time": 373.026, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -6651533820180303979, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(chn.name) AS character,
       MIN(t.title) AS russian_mov_with_actor_producer
FROM char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     company_type AS ct,
     movie_companies AS mc,
     role_type AS rt,
     title AS t
WHERE ci.note LIKE '%(producer)%'
  AND cn.country_code = '[ru]'
  AND rt.role = 'actor'
  AND t.production_year > 2010
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mc.movie_id
  AND chn.id = ci.person_role_id
  AND rt.id = ci.role_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6824.29, + "Total Cost": 6824.30, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 84.843, + "Actual Total Time": 99.315, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6824.24, + "Total Cost": 6824.25, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 84.211, + "Actual Total Time": 99.298, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6823.24, + "Total Cost": 6823.25, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 76.882, + "Actual Total Time": 76.888, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 75.514, + "Actual Total Time": 75.519, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 75.555, + "Actual Total Time": 75.560, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 76.231, + "Actual Total Time": 76.236, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 75.807, + "Actual Total Time": 75.812, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 76.276, + "Actual Total Time": 76.280, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 76.228, + "Actual Total Time": 76.233, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 76.217, + "Actual Total Time": 76.222, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.97, + "Total Cost": 6823.16, + "Plan Rows": 16, + "Plan Width": 33, + "Actual Startup Time": 76.877, + "Actual Total Time": 76.882, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["chn.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 75.509, + "Actual Total Time": 75.513, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 75.550, + "Actual Total Time": 75.555, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 76.227, + "Actual Total Time": 76.232, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 75.804, + "Actual Total Time": 75.808, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 76.271, + "Actual Total Time": 76.276, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 76.223, + "Actual Total Time": 76.228, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 76.211, + "Actual Total Time": 76.216, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 6822.38, + "Plan Rows": 16, + "Plan Width": 37, + "Actual Startup Time": 76.876, + "Actual Total Time": 76.881, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["chn.name", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 75.508, + "Actual Total Time": 75.511, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 75.549, + "Actual Total Time": 75.553, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 76.226, + "Actual Total Time": 76.229, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 75.803, + "Actual Total Time": 75.807, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 76.270, + "Actual Total Time": 76.274, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 76.223, + "Actual Total Time": 76.226, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 76.210, + "Actual Total Time": 76.214, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 6806.01, + "Plan Rows": 34, + "Plan Width": 25, + "Actual Startup Time": 76.875, + "Actual Total Time": 76.879, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 75.507, + "Actual Total Time": 75.510, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 75.549, + "Actual Total Time": 75.552, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 76.226, + "Actual Total Time": 76.228, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 75.803, + "Actual Total Time": 75.805, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 76.270, + "Actual Total Time": 76.272, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 76.222, + "Actual Total Time": 76.225, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 76.210, + "Actual Total Time": 76.213, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 6803.47, + "Plan Rows": 406, + "Plan Width": 29, + "Actual Startup Time": 1.998, + "Actual Total Time": 76.572, + "Actual Rows": 327, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "ci.role_id", "mc.company_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.860, + "Actual Total Time": 75.213, + "Actual Rows": 427, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.111, + "Actual Total Time": 75.288, + "Actual Rows": 274, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.015, + "Actual Total Time": 76.042, + "Actual Rows": 181, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.253, + "Actual Total Time": 75.585, + "Actual Rows": 263, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.697, + "Actual Total Time": 76.031, + "Actual Rows": 246, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.424, + "Actual Total Time": 75.859, + "Actual Rows": 523, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.704, + "Actual Total Time": 75.911, + "Actual Rows": 346, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 6434.98, + "Plan Rows": 288, + "Plan Width": 29, + "Actual Startup Time": 1.637, + "Actual Total Time": 41.958, + "Actual Rows": 157, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.648, + "Actual Total Time": 41.121, + "Actual Rows": 184, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.173, + "Actual Total Time": 34.604, + "Actual Rows": 162, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.929, + "Actual Total Time": 51.603, + "Actual Rows": 92, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.162, + "Actual Total Time": 44.308, + "Actual Rows": 138, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.164, + "Actual Total Time": 47.954, + "Actual Rows": 125, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.714, + "Actual Total Time": 46.855, + "Actual Rows": 257, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.446, + "Actual Total Time": 43.803, + "Actual Rows": 169, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 5571.77, + "Plan Rows": 1844, + "Plan Width": 8, + "Actual Startup Time": 0.208, + "Actual Total Time": 22.294, + "Actual Rows": 1099, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.325, + "Actual Total Time": 20.424, + "Actual Rows": 951, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.127, + "Actual Total Time": 18.735, + "Actual Rows": 917, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.402, + "Actual Total Time": 25.514, + "Actual Rows": 1565, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.086, + "Actual Total Time": 24.773, + "Actual Rows": 1119, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.124, + "Actual Total Time": 26.018, + "Actual Rows": 1235, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.157, + "Actual Total Time": 26.711, + "Actual Rows": 1153, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.376, + "Actual Total Time": 23.117, + "Actual Rows": 1134, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 166, + "Plan Width": 4, + "Actual Startup Time": 0.164, + "Actual Total Time": 14.045, + "Actual Rows": 170, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[ru]'::text)", + "Rows Removed by Filter": 29204, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.290, + "Actual Total Time": 13.562, + "Actual Rows": 137, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.086, + "Actual Total Time": 11.728, + "Actual Rows": 147, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.359, + "Actual Total Time": 15.155, + "Actual Rows": 194, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 16.136, + "Actual Rows": 183, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.075, + "Actual Total Time": 16.185, + "Actual Rows": 185, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.110, + "Actual Total Time": 17.365, + "Actual Rows": 205, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.327, + "Actual Total Time": 14.519, + "Actual Rows": 193, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 12.79, + "Plan Rows": 52, + "Plan Width": 12, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.044, + "Actual Rows": 6, + "Actual Loops": 1361, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.045, + "Actual Rows": 7, + "Actual Loops": 137 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.044, + "Actual Rows": 6, + "Actual Loops": 147 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.048, + "Actual Rows": 8, + "Actual Loops": 194 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.043, + "Actual Rows": 6, + "Actual Loops": 183 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.049, + "Actual Rows": 7, + "Actual Loops": 185 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.042, + "Actual Rows": 6, + "Actual Loops": 205 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.041, + "Actual Rows": 6, + "Actual Loops": 193 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 8790, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 951 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 917 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1565 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1119 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1235 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1153 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1134 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.27, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.118, + "Actual Total Time": 0.217, + "Actual Rows": 2, + "Actual Loops": 1259, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note ~~ '%(producer)%'::text)", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.095, + "Actual Total Time": 0.183, + "Actual Rows": 2, + "Actual Loops": 184 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.136, + "Actual Total Time": 0.249, + "Actual Rows": 2, + "Actual Loops": 162 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.151, + "Actual Total Time": 0.263, + "Actual Rows": 2, + "Actual Loops": 92 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.124, + "Actual Total Time": 0.224, + "Actual Rows": 2, + "Actual Loops": 138 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.114, + "Actual Total Time": 0.222, + "Actual Rows": 2, + "Actual Loops": 125 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.111, + "Actual Rows": 2, + "Actual Loops": 257 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.123, + "Actual Total Time": 0.188, + "Actual Rows": 2, + "Actual Loops": 169 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actor'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 988535410010893112, + "Planning Time": 15.867, + "Triggers": [ + ], + "Execution Time": 99.683, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 988535410010893112, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(chn.name) AS character,
       MIN(t.title) AS movie_with_american_producer
FROM char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     company_type AS ct,
     movie_companies AS mc,
     role_type AS rt,
     title AS t
WHERE ci.note LIKE '%(producer)%'
  AND cn.country_code = '[us]'
  AND t.production_year > 1990
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mc.movie_id
  AND chn.id = ci.person_role_id
  AND rt.id = ci.role_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;
QUERY PLAN ----------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 214855.80, + "Total Cost": 214855.81, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 10303.221, + "Actual Total Time": 10345.191, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 214855.75, + "Total Cost": 214855.76, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 10277.439, + "Actual Total Time": 10345.149, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 214854.75, + "Total Cost": 214854.76, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 10266.913, + "Actual Total Time": 10266.923, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10261.735, + "Actual Total Time": 10261.742, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10260.127, + "Actual Total Time": 10260.134, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10262.838, + "Actual Total Time": 10262.846, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10260.807, + "Actual Total Time": 10260.819, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10265.160, + "Actual Total Time": 10265.172, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10284.271, + "Actual Total Time": 10284.279, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10264.000, + "Actual Total Time": 10264.007, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42720.48, + "Total Cost": 214577.09, + "Plan Rows": 55533, + "Plan Width": 33, + "Actual Startup Time": 6640.155, + "Actual Total Time": 10266.906, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["chn.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1997.991, + "Actual Total Time": 10261.722, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3366.819, + "Actual Total Time": 10260.119, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7340.399, + "Actual Total Time": 10262.832, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6679.062, + "Actual Total Time": 10260.788, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10265.151, + "Actual Total Time": 10265.162, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2931.465, + "Actual Total Time": 10284.248, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10263.993, + "Actual Total Time": 10264.000, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42719.32, + "Total Cost": 214378.67, + "Plan Rows": 55533, + "Plan Width": 37, + "Actual Startup Time": 6640.019, + "Actual Total Time": 10266.764, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["chn.name", "ci.role_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1997.911, + "Actual Total Time": 10261.636, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3366.744, + "Actual Total Time": 10260.042, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7340.333, + "Actual Total Time": 10262.764, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6678.969, + "Actual Total Time": 10260.685, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10265.004, + "Actual Total Time": 10265.013, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2931.398, + "Actual Total Time": 10284.161, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10263.847, + "Actual Total Time": 10263.852, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42718.27, + "Total Cost": 214077.40, + "Plan Rows": 55533, + "Plan Width": 41, + "Actual Startup Time": 6639.996, + "Actual Total Time": 10266.733, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["chn.name", "ci.role_id", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1997.896, + "Actual Total Time": 10261.615, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3366.725, + "Actual Total Time": 10260.020, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7340.313, + "Actual Total Time": 10262.742, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6678.947, + "Actual Total Time": 10260.653, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10264.997, + "Actual Total Time": 10265.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2931.377, + "Actual Total Time": 10284.104, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10263.840, + "Actual Total Time": 10263.844, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42717.83, + "Total Cost": 173572.84, + "Plan Rows": 114946, + "Plan Width": 29, + "Actual Startup Time": 376.197, + "Actual Total Time": 10121.709, + "Actual Rows": 97763, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "ci.role_id", "mc.company_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 374.896, + "Actual Total Time": 10123.353, + "Actual Rows": 92244, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 373.970, + "Actual Total Time": 10113.243, + "Actual Rows": 100041, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 374.706, + "Actual Total Time": 10115.682, + "Actual Rows": 100511, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 371.634, + "Actual Total Time": 10117.340, + "Actual Rows": 99497, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 375.954, + "Actual Total Time": 10110.220, + "Actual Rows": 104878, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 374.622, + "Actual Total Time": 10151.169, + "Actual Rows": 89059, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 375.892, + "Actual Total Time": 10118.960, + "Actual Rows": 98981, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42717.39, + "Total Cost": 69223.68, + "Plan Rows": 81556, + "Plan Width": 29, + "Actual Startup Time": 375.891, + "Actual Total Time": 1181.618, + "Actual Rows": 74531, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 374.654, + "Actual Total Time": 1145.997, + "Actual Rows": 65998, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 373.901, + "Actual Total Time": 1215.458, + "Actual Rows": 76149, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 374.566, + "Actual Total Time": 1132.479, + "Actual Rows": 74034, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 371.270, + "Actual Total Time": 1167.133, + "Actual Rows": 73229, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 375.311, + "Actual Total Time": 1181.011, + "Actual Rows": 77371, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 374.469, + "Actual Total Time": 1203.971, + "Actual Rows": 74282, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 375.334, + "Actual Total Time": 1226.906, + "Actual Rows": 79951, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 26197.21, + "Plan Rows": 117910, + "Plan Width": 8, + "Actual Startup Time": 0.133, + "Actual Total Time": 622.049, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.130, + "Actual Total Time": 603.457, + "Actual Rows": 127508, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.176, + "Actual Total Time": 659.101, + "Actual Rows": 146041, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.090, + "Actual Total Time": 589.318, + "Actual Rows": 129157, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.098, + "Actual Total Time": 611.877, + "Actual Rows": 154118, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.139, + "Actual Total Time": 602.050, + "Actual Rows": 169291, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.167, + "Actual Total Time": 636.297, + "Actual Rows": 134925, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.165, + "Actual Total Time": 668.729, + "Actual Rows": 143266, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10620, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 27.109, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"],+ "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 25.011, + "Actual Rows": 10149, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 27.095, + "Actual Rows": 10635, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 28.778, + "Actual Rows": 10270, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 24.623, + "Actual Rows": 9861, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 26.400, + "Actual Rows": 10419, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 27.691, + "Actual Rows": 10549, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 30.630, + "Actual Rows": 12193, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.63, + "Plan Rows": 52, + "Plan Width": 12, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.049, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.050, + "Actual Rows": 13, + "Actual Loops": 10149 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.052, + "Actual Rows": 14, + "Actual Loops": 10635 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.048, + "Actual Rows": 13, + "Actual Loops": 10270 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.052, + "Actual Rows": 16, + "Actual Loops": 9861 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.047, + "Actual Rows": 16, + "Actual Loops": 10419 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.051, + "Actual Rows": 13, + "Actual Loops": 10549 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.046, + "Actual Rows": 12, + "Actual Loops": 12193 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 39984.49, + "Total Cost": 39984.49, + "Plan Rows": 218598, + "Plan Width": 21, + "Actual Startup Time": 370.702, + "Actual Total Time": 370.703, + "Actual Rows": 218629, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Hash Buckets": 2097152, + "Original Hash Buckets": 2097152, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 114464, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 374.478, + "Actual Total Time": 374.480, + "Actual Rows": 218729, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 373.693, + "Actual Total Time": 373.694, + "Actual Rows": 234559, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 374.436, + "Actual Total Time": 374.437, + "Actual Rows": 213411, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 371.059, + "Actual Total Time": 371.060, + "Actual Rows": 210152, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 375.131, + "Actual Total Time": 375.132, + "Actual Rows": 220752, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 374.268, + "Actual Total Time": 374.269, + "Actual Rows": 203957, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 375.129, + "Actual Total Time": 375.130, + "Actual Rows": 212762, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.00, + "Total Cost": 39984.49, + "Plan Rows": 218598, + "Plan Width": 21, + "Actual Startup Time": 0.203, + "Actual Total Time": 165.219, + "Actual Rows": 218629, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 97410, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.060, + "Actual Total Time": 163.880, + "Actual Rows": 218729, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.060, + "Actual Total Time": 163.929, + "Actual Rows": 234559, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.093, + "Actual Total Time": 163.901, + "Actual Rows": 213411, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.143, + "Actual Total Time": 165.654, + "Actual Rows": 210152, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 164.098, + "Actual Rows": 220752, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.077, + "Actual Total Time": 169.094, + "Actual Rows": 203957, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.058, + "Actual Total Time": 164.505, + "Actual Rows": 212762, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.27, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.118, + "Actual Rows": 1, + "Actual Loops": 596250, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note ~~ '%(producer)%'::text)", + "Rows Removed by Filter": 34, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.134, + "Actual Rows": 1, + "Actual Loops": 65998 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.115, + "Actual Rows": 1, + "Actual Loops": 76149 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.119, + "Actual Rows": 1, + "Actual Loops": 74034 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.120, + "Actual Rows": 1, + "Actual Loops": 73229 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.114, + "Actual Rows": 1, + "Actual Loops": 77371 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.119, + "Actual Rows": 1, + "Actual Loops": 74282 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.109, + "Actual Rows": 1, + "Actual Loops": 79951 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.44, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 782104, + "Output": ["chn.name", "chn.id"], + "Cache Key": "ci.person_role_id", + "Cache Mode": "logical", + "Cache Hits": 96892, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 92244, + "Cache Hits": 92242, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 100041, + "Cache Hits": 100039, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 100511, + "Cache Hits": 100509, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 99497, + "Cache Hits": 99495, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 104878, + "Cache Hits": 104877, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 89059, + "Cache Hits": 89057, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 98981, + "Cache Hits": 98980, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 13, + "Output": ["chn.name", "chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.02, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.046, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["ct.id"], + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.07, + "Total Cost": 1.07, + "Plan Rows": 7, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.088, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.088, + "Actual Total Time": 0.089, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.07, + "Plan Rows": 7, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.019, + "Actual Rows": 12, + "Actual Loops": 1, + "Output": ["rt.id"], + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2494719406442254794, + "Planning Time": 14.691, + "Triggers": [ + ], + "Execution Time": 10347.484, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 2494719406442254794, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(cn.name) AS from_company,
       MIN(lt.link) AS movie_link_type,
       MIN(t.title) AS non_polish_sequel_movie
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND t.production_year BETWEEN 1950 AND 2000
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1350.66, + "Total Cost": 1350.67, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 103.083, + "Actual Total Time": 103.237, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1350.60, + "Total Cost": 1350.61, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 103.063, + "Actual Total Time": 103.226, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1349.60, + "Total Cost": 1349.61, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 18.685, + "Actual Total Time": 18.691, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.782, + "Actual Total Time": 7.789, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.951, + "Actual Total Time": 6.959, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.915, + "Actual Total Time": 6.922, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.957, + "Actual Total Time": 7.962, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.310, + "Actual Total Time": 8.315, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.287, + "Actual Total Time": 1.290, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.063, + "Actual Total Time": 8.070, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.28, + "Total Cost": 1349.59, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 6.386, + "Actual Total Time": 18.641, + "Actual Rows": 39, + "Actual Loops": 8, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.776, + "Actual Total Time": 7.782, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.946, + "Actual Total Time": 6.953, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.908, + "Actual Total Time": 6.914, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.951, + "Actual Total Time": 7.957, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.303, + "Actual Total Time": 8.308, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.283, + "Actual Total Time": 1.286, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.056, + "Actual Total Time": 8.062, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.85, + "Total Cost": 1349.12, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 6.380, + "Actual Total Time": 18.151, + "Actual Rows": 50, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.775, + "Actual Total Time": 7.780, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.945, + "Actual Total Time": 6.951, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.907, + "Actual Total Time": 6.912, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.950, + "Actual Total Time": 7.955, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.302, + "Actual Total Time": 8.307, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.282, + "Actual Total Time": 1.285, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.055, + "Actual Total Time": 8.060, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 1348.95, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 6.375, + "Actual Total Time": 17.905, + "Actual Rows": 53, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.774, + "Actual Total Time": 7.778, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.944, + "Actual Total Time": 6.950, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.907, + "Actual Total Time": 6.911, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.949, + "Actual Total Time": 7.953, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.302, + "Actual Total Time": 8.306, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.282, + "Actual Total Time": 1.284, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.054, + "Actual Total Time": 8.058, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1348.50, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 6.213, + "Actual Total Time": 16.601, + "Actual Rows": 128, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "ml.movie_id", "lt.link"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.773, + "Actual Total Time": 7.776, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.943, + "Actual Total Time": 6.948, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.906, + "Actual Total Time": 6.909, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.949, + "Actual Total Time": 7.952, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.301, + "Actual Total Time": 8.304, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.282, + "Actual Total Time": 1.284, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.053, + "Actual Total Time": 8.056, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 1347.97, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 6.204, + "Actual Total Time": 16.085, + "Actual Rows": 25, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.773, + "Actual Total Time": 7.775, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.943, + "Actual Total Time": 6.947, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.905, + "Actual Total Time": 6.908, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.948, + "Actual Total Time": 7.950, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.301, + "Actual Total Time": 8.303, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.281, + "Actual Total Time": 1.283, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.052, + "Actual Total Time": 8.055, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 1347.79, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 6.197, + "Actual Total Time": 16.006, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.772, + "Actual Total Time": 7.773, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.942, + "Actual Total Time": 6.944, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.904, + "Actual Total Time": 6.906, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.947, + "Actual Total Time": 7.949, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.300, + "Actual Total Time": 8.302, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.281, + "Actual Total Time": 1.282, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.051, + "Actual Total Time": 8.052, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.67, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 6.192, + "Actual Total Time": 11.584, + "Actual Rows": 1318, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.771, + "Actual Total Time": 7.772, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.941, + "Actual Total Time": 6.942, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.904, + "Actual Total Time": 6.905, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.947, + "Actual Total Time": 7.947, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.299, + "Actual Total Time": 8.300, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.280, + "Actual Total Time": 1.281, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.050, + "Actual Total Time": 8.051, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.175, + "Actual Total Time": 6.177, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.770, + "Actual Total Time": 7.770, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.940, + "Actual Total Time": 6.940, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.903, + "Actual Total Time": 6.903, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.945, + "Actual Total Time": 7.946, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.298, + "Actual Total Time": 8.299, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.280, + "Actual Total Time": 1.280, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.049, + "Actual Total Time": 8.049, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.111, + "Actual Total Time": 40.953, + "Actual Rows": 10544, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 0.38, + "Plan Rows": 5, + "Plan Width": 8, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 10544, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 251, + "Output": ["lt.link", "lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 240, + "Cache Misses": 11, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 11, + "Output": ["lt.link", "lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 2, + "Plan Width": 12, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.018, + "Actual Rows": 5, + "Actual Loops": 199, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1021, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 422, + "Output": ["ct.id", "ct.kind"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 402, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2000))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -8754961486292191806, + "Planning Time": 28.663, + "Triggers": [ + ], + "Execution Time": 103.606, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -8754961486292191806, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS from_company,
       MIN(lt.link) AS movie_link_type,
       MIN(t.title) AS sequel_movie
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follows%'
  AND mc.note IS NULL
  AND t.production_year = 1998
  AND t.title LIKE '%Money%'
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1258.42, + "Total Cost": 1258.43, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 23.375, + "Actual Total Time": 23.496, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1258.38, + "Total Cost": 1258.39, + "Plan Rows": 4, + "Plan Width": 96, + "Actual Startup Time": 23.359, + "Actual Total Time": 23.487, + "Actual Rows": 5, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 4, + "Workers Launched": 4, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1257.38, + "Total Cost": 1257.39, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 14.403, + "Actual Total Time": 14.408, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.392, + "Actual Total Time": 12.396, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.330, + "Actual Total Time": 13.334, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.482, + "Actual Total Time": 9.486, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.271, + "Actual Total Time": 14.275, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 1257.38, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 13.914, + "Actual Total Time": 14.397, + "Actual Rows": 3, + "Actual Loops": 5, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.388, + "Actual Total Time": 12.392, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.326, + "Actual Total Time": 13.329, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.476, + "Actual Total Time": 9.480, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.266, + "Actual Total Time": 14.269, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.28, + "Total Cost": 1256.92, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 13.847, + "Actual Total Time": 14.284, + "Actual Rows": 11, + "Actual Loops": 5, + "Output": ["cn.name", "mk.keyword_id", "lt.link", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.387, + "Actual Total Time": 12.391, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.325, + "Actual Total Time": 13.328, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.475, + "Actual Total Time": 9.479, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.265, + "Actual Total Time": 14.268, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 1256.75, + "Plan Rows": 1, + "Plan Width": 56, + "Actual Startup Time": 13.842, + "Actual Total Time": 14.227, + "Actual Rows": 11, + "Actual Loops": 5, + "Output": ["cn.name", "mc.company_type_id", "mk.keyword_id", "lt.link", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.387, + "Actual Total Time": 12.390, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.325, + "Actual Total Time": 13.327, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.474, + "Actual Total Time": 9.477, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.265, + "Actual Total Time": 14.267, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1256.30, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 13.833, + "Actual Total Time": 14.053, + "Actual Rows": 17, + "Actual Loops": 5, + "Output": ["lt.link", "mc.company_type_id", "mc.company_id", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.386, + "Actual Total Time": 12.389, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.324, + "Actual Total Time": 13.326, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.474, + "Actual Total Time": 9.476, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.265, + "Actual Total Time": 14.266, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1255.77, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 13.826, + "Actual Total Time": 13.969, + "Actual Rows": 6, + "Actual Loops": 5, + "Output": ["lt.link", "ml.movie_id", "mk.movie_id", "mk.keyword_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.386, + "Actual Total Time": 12.387, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.323, + "Actual Total Time": 13.325, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.473, + "Actual Total Time": 9.475, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.264, + "Actual Total Time": 14.266, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1253.51, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 13.815, + "Actual Total Time": 13.939, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["lt.link", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.385, + "Actual Total Time": 12.386, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.323, + "Actual Total Time": 13.324, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.472, + "Actual Total Time": 9.474, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.263, + "Actual Total Time": 14.264, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 635.96, + "Plan Rows": 416, + "Plan Width": 16, + "Actual Startup Time": 0.451, + "Actual Total Time": 10.812, + "Actual Rows": 232, + "Actual Loops": 5, + "Output": ["lt.link", "ml.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.243, + "Actual Total Time": 9.355, + "Actual Rows": 237, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.169, + "Actual Total Time": 9.830, + "Actual Rows": 304, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.481, + "Actual Total Time": 7.869, + "Actual Rows": 38, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.146, + "Actual Total Time": 12.116, + "Actual Rows": 147, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 445.81, + "Plan Rows": 7499, + "Plan Width": 8, + "Actual Startup Time": 0.073, + "Actual Total Time": 4.438, + "Actual Rows": 5999, + "Actual Loops": 5, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.083, + "Actual Total Time": 3.884, + "Actual Rows": 4604, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 4.029, + "Actual Rows": 7157, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.133, + "Actual Total Time": 3.120, + "Actual Rows": 2586, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.062, + "Actual Total Time": 5.028, + "Actual Rows": 8196, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.link", "lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 7438, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4604, + "Cache Hits": 4588, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 7157, + "Cache Hits": 7141, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 2586, + "Cache Hits": 2570, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 8196, + "Cache Hits": 8180, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 80, + "Output": ["lt.link", "lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text ~~ '%follows%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1158, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.title ~~ '%Money%'::text) AND (t.production_year = 1998))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 237 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 304 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 38 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 147 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 1.96, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 4, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 2, + "Plan Width": 12, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 28, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 84, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 56, + "Output": ["ct.id", "ct.kind"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 56, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7102013096890644952, + "Planning Time": 26.651, + "Triggers": [ + ], + "Execution Time": 23.883, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 7102013096890644952, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS from_company,
       MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_based_on_book
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '20th Century Fox%'
       OR cn.name LIKE 'Twentieth Century Fox%')
  AND ct.kind != 'production companies'
  AND ct.kind IS NOT NULL
  AND k.keyword IN ('sequel',
                    'revenge',
                    'based-on-novel')
  AND mc.note IS NOT NULL
  AND t.production_year > 1950
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1380.57, + "Total Cost": 1380.58, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 257.025, + "Actual Total Time": 257.177, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mc.note)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1380.51, + "Total Cost": 1380.52, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 257.005, + "Actual Total Time": 257.166, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mc.note))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1379.51, + "Total Cost": 1379.52, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 77.908, + "Actual Total Time": 77.914, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mc.note)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.219, + "Actual Total Time": 13.225, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.277, + "Actual Total Time": 14.282, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 227.696, + "Actual Total Time": 227.702, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.143, + "Actual Total Time": 14.148, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 69.488, + "Actual Total Time": 69.493, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.947, + "Actual Total Time": 13.953, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.286, + "Actual Total Time": 14.292, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.28, + "Total Cost": 1379.50, + "Plan Rows": 1, + "Plan Width": 60, + "Actual Startup Time": 46.361, + "Actual Total Time": 77.129, + "Actual Rows": 868, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "t.title"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.215, + "Actual Total Time": 13.220, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.272, + "Actual Total Time": 14.277, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 227.691, + "Actual Total Time": 227.696, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.139, + "Actual Total Time": 14.144, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 69.483, + "Actual Total Time": 69.487, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.942, + "Actual Total Time": 13.947, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.280, + "Actual Total Time": 14.285, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.85, + "Total Cost": 1379.03, + "Plan Rows": 1, + "Plan Width": 55, + "Actual Startup Time": 46.355, + "Actual Total Time": 71.234, + "Actual Rows": 868, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "mc.movie_id", "mk.movie_id", "ml.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.214, + "Actual Total Time": 13.219, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.271, + "Actual Total Time": 14.275, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 227.691, + "Actual Total Time": 227.695, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.138, + "Actual Total Time": 14.142, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 69.482, + "Actual Total Time": 69.486, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.942, + "Actual Total Time": 13.946, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.280, + "Actual Total Time": 14.284, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 1378.87, + "Plan Rows": 1, + "Plan Width": 59, + "Actual Startup Time": 46.351, + "Actual Total Time": 68.940, + "Actual Rows": 868, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "mc.movie_id", "mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.213, + "Actual Total Time": 13.218, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.271, + "Actual Total Time": 14.274, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 227.690, + "Actual Total Time": 227.694, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.137, + "Actual Total Time": 14.141, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 69.481, + "Actual Total Time": 69.485, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.941, + "Actual Total Time": 13.945, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.279, + "Actual Total Time": 14.283, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1376.63, + "Plan Rows": 5, + "Plan Width": 44, + "Actual Startup Time": 9.201, + "Actual Total Time": 55.575, + "Actual Rows": 1864, + "Actual Loops": 8, + "Output": ["mc.note", "mc.movie_id", "mc.company_id", "mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.213, + "Actual Total Time": 13.217, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.270, + "Actual Total Time": 14.272, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.948, + "Actual Total Time": 216.176, + "Actual Rows": 1245, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.136, + "Actual Total Time": 14.140, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.435, + "Actual Total Time": 65.243, + "Actual Rows": 363, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.940, + "Actual Total Time": 13.943, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.278, + "Actual Total Time": 14.281, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.15, + "Total Cost": 1376.07, + "Plan Rows": 7, + "Plan Width": 48, + "Actual Startup Time": 9.185, + "Actual Total Time": 53.527, + "Actual Rows": 1939, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.note", "mc.movie_id", "mc.company_type_id", "mc.company_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.213, + "Actual Total Time": 13.215, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.269, + "Actual Total Time": 14.271, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.905, + "Actual Total Time": 214.389, + "Actual Rows": 1363, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.136, + "Actual Total Time": 14.138, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.390, + "Actual Total Time": 64.524, + "Actual Rows": 409, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.939, + "Actual Total Time": 13.942, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.277, + "Actual Total Time": 14.279, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 1374.48, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 9.119, + "Actual Total Time": 49.543, + "Actual Rows": 182, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.212, + "Actual Total Time": 13.214, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.269, + "Actual Total Time": 14.270, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.481, + "Actual Total Time": 204.683, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.135, + "Actual Total Time": 14.137, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.342, + "Actual Total Time": 59.992, + "Actual Rows": 251, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.939, + "Actual Total Time": 13.940, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.276, + "Actual Total Time": 14.278, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1368.53, + "Plan Rows": 14, + "Plan Width": 4, + "Actual Startup Time": 9.100, + "Actual Total Time": 29.277, + "Actual Rows": 5925, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.211, + "Actual Total Time": 13.213, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.268, + "Actual Total Time": 14.269, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.405, + "Actual Total Time": 102.263, + "Actual Rows": 29440, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.135, + "Actual Total Time": 14.136, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.308, + "Actual Total Time": 25.364, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.938, + "Actual Total Time": 13.939, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.276, + "Actual Total Time": 14.277, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1212.55, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 8.992, + "Actual Total Time": 9.001, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{sequel,revenge,based-on-novel}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.211, + "Actual Total Time": 13.211, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.267, + "Actual Total Time": 14.267, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.090, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.134, + "Actual Total Time": 14.134, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.222, + "Actual Total Time": 0.236, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.938, + "Actual Total Time": 13.938, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.275, + "Actual Total Time": 14.275, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.281, + "Actual Total Time": 50.518, + "Actual Rows": 15801, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.333, + "Actual Total Time": 95.468, + "Actual Rows": 29440, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.082, + "Actual Total Time": 22.904, + "Actual Rows": 10544, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 0.38, + "Plan Rows": 5, + "Plan Width": 8, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 47403, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 29440 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 10544 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 2, + "Plan Width": 36, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.018, + "Actual Rows": 11, + "Actual Loops": 1460, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NOT NULL)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 753 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.016, + "Actual Rows": 2, + "Actual Loops": 251 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 15510, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 13736, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1363, + "Cache Hits": 1361, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 409, + "Cache Hits": 407, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind IS NOT NULL) AND ((ct.kind)::text <> 'production companies'::text))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 14916, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '20th Century Fox%'::text) OR (cn.name ~~ 'Twentieth Century Fox%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1245 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 363 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 6946, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 6946, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1950)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2333270921735776355, + "Planning Time": 30.826, + "Triggers": [ + ], + "Execution Time": 257.517, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 2333270921735776355, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS from_company,
       MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_based_on_book
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND ct.kind != 'production companies'
  AND ct.kind IS NOT NULL
  AND k.keyword IN ('sequel',
                    'revenge',
                    'based-on-novel')
  AND mc.note IS NOT NULL
  AND t.production_year > 1950
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1381.34, + "Total Cost": 1381.35, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 198.743, + "Actual Total Time": 211.241, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mc.note)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1381.28, + "Total Cost": 1381.29, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 197.913, + "Actual Total Time": 211.226, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mc.note))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1380.28, + "Total Cost": 1380.29, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 65.801, + "Actual Total Time": 65.806, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mc.note)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.854, + "Actual Total Time": 11.858, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.597, + "Actual Total Time": 12.602, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.646, + "Actual Total Time": 12.651, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 190.567, + "Actual Total Time": 190.572, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 76.018, + "Actual Total Time": 76.023, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.695, + "Actual Total Time": 12.700, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.886, + "Actual Total Time": 12.892, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.28, + "Total Cost": 1380.25, + "Plan Rows": 4, + "Plan Width": 60, + "Actual Startup Time": 8.325, + "Actual Total Time": 64.236, + "Actual Rows": 1862, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.850, + "Actual Total Time": 11.855, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.593, + "Actual Total Time": 12.597, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.642, + "Actual Total Time": 12.646, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.077, + "Actual Total Time": 189.518, + "Actual Rows": 1235, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.413, + "Actual Total Time": 75.635, + "Actual Rows": 363, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.692, + "Actual Total Time": 12.696, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.881, + "Actual Total Time": 12.886, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.86, + "Total Cost": 1378.48, + "Plan Rows": 4, + "Plan Width": 45, + "Actual Startup Time": 8.309, + "Actual Total Time": 50.155, + "Actual Rows": 1864, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.850, + "Actual Total Time": 11.854, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.592, + "Actual Total Time": 12.596, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.641, + "Actual Total Time": 12.645, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.027, + "Actual Total Time": 177.333, + "Actual Rows": 1245, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.369, + "Actual Total Time": 71.843, + "Actual Rows": 363, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.691, + "Actual Total Time": 12.695, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.880, + "Actual Total Time": 12.884, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 1377.96, + "Plan Rows": 6, + "Plan Width": 49, + "Actual Startup Time": 8.294, + "Actual Total Time": 48.017, + "Actual Rows": 1939, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_type_id", "mc.company_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.849, + "Actual Total Time": 11.852, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.592, + "Actual Total Time": 12.594, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.641, + "Actual Total Time": 12.644, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.976, + "Actual Total Time": 175.513, + "Actual Rows": 1363, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.338, + "Actual Total Time": 71.174, + "Actual Rows": 409, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.690, + "Actual Total Time": 12.693, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.880, + "Actual Total Time": 12.883, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1376.36, + "Plan Rows": 3, + "Plan Width": 29, + "Actual Startup Time": 8.200, + "Actual Total Time": 43.855, + "Actual Rows": 182, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.849, + "Actual Total Time": 11.851, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.591, + "Actual Total Time": 12.593, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.640, + "Actual Total Time": 12.643, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.327, + "Actual Total Time": 165.249, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.289, + "Actual Total Time": 66.662, + "Actual Rows": 251, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.689, + "Actual Total Time": 12.692, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.879, + "Actual Total Time": 12.882, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1374.94, + "Plan Rows": 3, + "Plan Width": 8, + "Actual Startup Time": 8.176, + "Actual Total Time": 41.910, + "Actual Rows": 182, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.848, + "Actual Total Time": 11.850, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.591, + "Actual Total Time": 12.592, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.640, + "Actual Total Time": 12.642, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.263, + "Actual Total Time": 156.675, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.231, + "Actual Total Time": 63.518, + "Actual Rows": 251, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.689, + "Actual Total Time": 12.691, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.878, + "Actual Total Time": 12.881, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 1374.48, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 8.159, + "Actual Total Time": 41.246, + "Actual Rows": 182, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.848, + "Actual Total Time": 11.849, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.590, + "Actual Total Time": 12.591, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.639, + "Actual Total Time": 12.641, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.220, + "Actual Total Time": 153.915, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.192, + "Actual Total Time": 62.395, + "Actual Rows": 251, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.688, + "Actual Total Time": 12.690, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.878, + "Actual Total Time": 12.879, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1368.53, + "Plan Rows": 14, + "Plan Width": 4, + "Actual Startup Time": 8.142, + "Actual Total Time": 21.535, + "Actual Rows": 5925, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.847, + "Actual Total Time": 11.847, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.589, + "Actual Total Time": 12.590, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.639, + "Actual Total Time": 12.640, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.161, + "Actual Total Time": 57.026, + "Actual Rows": 29440, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.154, + "Actual Total Time": 26.290, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.688, + "Actual Total Time": 12.689, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.877, + "Actual Total Time": 12.878, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1212.55, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 8.105, + "Actual Total Time": 8.114, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{sequel,revenge,based-on-novel}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.846, + "Actual Total Time": 11.847, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.588, + "Actual Total Time": 12.589, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.638, + "Actual Total Time": 12.638, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.086, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.083, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.687, + "Actual Total Time": 12.687, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.876, + "Actual Total Time": 12.877, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.090, + "Actual Total Time": 32.435, + "Actual Rows": 15801, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.090, + "Actual Total Time": 50.834, + "Actual Rows": 29440, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.082, + "Actual Total Time": 23.890, + "Actual Rows": 10544, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 0.38, + "Plan Rows": 5, + "Plan Width": 8, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 47403, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 29440 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 10544 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 1460, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 753 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 251 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1460, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1950)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 753 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 251 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 2, + "Plan Width": 36, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.019, + "Actual Rows": 11, + "Actual Loops": 1460, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NOT NULL)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 753 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.017, + "Actual Rows": 2, + "Actual Loops": 251 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 15510, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 13736, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1363, + "Cache Hits": 1361, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 409, + "Cache Hits": 407, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind IS NOT NULL) AND ((ct.kind)::text <> 'production companies'::text))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 14916, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[pl]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1245 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 363 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5951735317690032369, + "Planning Time": 29.311, + "Triggers": [ + ], + "Execution Time": 211.640, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -5951735317690032369, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS drama_horror_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     title AS t
WHERE cn.country_code = '[us]'
  AND ct.kind = 'production companies'
  AND it1.info = 'genres'
  AND it2.info = 'rating'
  AND mi.info IN ('Drama',
                  'Horror')
  AND mi_idx.info > '8.0'
  AND t.production_year BETWEEN 2005 AND 2008
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND mi.info_type_id = it1.id
  AND mi_idx.info_type_id = it2.id
  AND t.id = mc.movie_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10200.14, + "Total Cost": 10200.15, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 159.751, + "Actual Total Time": 164.816, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10200.07, + "Total Cost": 10200.08, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 159.396, + "Actual Total Time": 164.786, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10199.07, + "Total Cost": 10199.08, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 151.877, + "Actual Total Time": 151.884, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 149.577, + "Actual Total Time": 149.583, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 150.785, + "Actual Total Time": 150.791, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 151.216, + "Actual Total Time": 151.222, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 151.528, + "Actual Total Time": 151.533, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 150.404, + "Actual Total Time": 150.409, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 151.404, + "Actual Total Time": 151.410, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 151.541, + "Actual Total Time": 151.546, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.83, + "Total Cost": 10199.06, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 23.899, + "Actual Total Time": 151.752, + "Actual Rows": 50, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.552, + "Actual Total Time": 149.443, + "Actual Rows": 65, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 54.688, + "Actual Total Time": 150.697, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.248, + "Actual Total Time": 151.079, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.256, + "Actual Total Time": 151.427, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.826, + "Actual Total Time": 150.269, + "Actual Rows": 53, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 51.516, + "Actual Total Time": 151.288, + "Actual Rows": 43, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.424, + "Actual Total Time": 151.382, + "Actual Rows": 60, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.70, + "Total Cost": 10198.89, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 23.511, + "Actual Total Time": 151.124, + "Actual Rows": 88, + "Actual Loops": 8, + "Output": ["cn.name", "mc.company_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.112, + "Actual Total Time": 148.626, + "Actual Rows": 125, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 54.046, + "Actual Total Time": 150.204, + "Actual Rows": 73, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.833, + "Actual Total Time": 150.347, + "Actual Rows": 105, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.076, + "Actual Total Time": 151.038, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.666, + "Actual Total Time": 149.602, + "Actual Rows": 95, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 51.023, + "Actual Total Time": 150.777, + "Actual Rows": 62, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.279, + "Actual Total Time": 150.679, + "Actual Rows": 104, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.28, + "Total Cost": 10198.45, + "Plan Rows": 1, + "Plan Width": 30, + "Actual Startup Time": 17.589, + "Actual Total Time": 146.207, + "Actual Rows": 242, + "Actual Loops": 8, + "Output": ["mc.company_type_id", "mc.company_id", "mi_idx.info", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.940, + "Actual Total Time": 144.175, + "Actual Rows": 227, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 53.918, + "Actual Total Time": 146.183, + "Actual Rows": 210, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.774, + "Actual Total Time": 142.888, + "Actual Rows": 383, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.016, + "Actual Total Time": 148.383, + "Actual Rows": 111, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.531, + "Actual Total Time": 143.348, + "Actual Rows": 331, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.720, + "Actual Total Time": 146.875, + "Actual Rows": 135, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.846, + "Actual Total Time": 144.425, + "Actual Rows": 325, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.85, + "Total Cost": 10197.85, + "Plan Rows": 1, + "Plan Width": 34, + "Actual Startup Time": 17.388, + "Actual Total Time": 143.457, + "Actual Rows": 70, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.811, + "Actual Total Time": 140.652, + "Actual Rows": 75, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 53.796, + "Actual Total Time": 143.858, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.700, + "Actual Total Time": 140.027, + "Actual Rows": 71, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.917, + "Actual Total Time": 146.204, + "Actual Rows": 64, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.440, + "Actual Total Time": 140.530, + "Actual Rows": 77, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.627, + "Actual Total Time": 144.647, + "Actual Rows": 65, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.905, + "Actual Total Time": 140.942, + "Actual Rows": 68, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 10197.18, + "Plan Rows": 4, + "Plan Width": 38, + "Actual Startup Time": 17.341, + "Actual Total Time": 142.789, + "Actual Rows": 70, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.760, + "Actual Total Time": 139.944, + "Actual Rows": 75, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 53.739, + "Actual Total Time": 143.247, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.636, + "Actual Total Time": 139.319, + "Actual Rows": 71, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.868, + "Actual Total Time": 145.601, + "Actual Rows": 64, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.390, + "Actual Total Time": 139.805, + "Actual Rows": 77, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.588, + "Actual Total Time": 144.025, + "Actual Rows": 65, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.859, + "Actual Total Time": 140.254, + "Actual Rows": 68, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10183.78, + "Plan Rows": 10, + "Plan Width": 30, + "Actual Startup Time": 2.250, + "Actual Total Time": 119.975, + "Actual Rows": 506, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.389, + "Actual Total Time": 116.336, + "Actual Rows": 520, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.067, + "Actual Total Time": 119.608, + "Actual Rows": 549, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.168, + "Actual Total Time": 116.433, + "Actual Rows": 507, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.008, + "Actual Total Time": 121.795, + "Actual Rows": 539, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.776, + "Actual Total Time": 118.602, + "Actual Rows": 462, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.467, + "Actual Total Time": 121.505, + "Actual Rows": 507, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.012, + "Actual Total Time": 116.217, + "Actual Rows": 498, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10111.19, + "Plan Rows": 59, + "Plan Width": 9, + "Actual Startup Time": 0.424, + "Actual Total Time": 87.822, + "Actual Rows": 1981, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.297, + "Actual Total Time": 77.949, + "Actual Rows": 1892, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.336, + "Actual Total Time": 85.501, + "Actual Rows": 2295, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.423, + "Actual Total Time": 86.146, + "Actual Rows": 1889, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.336, + "Actual Total Time": 88.561, + "Actual Rows": 1918, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.376, + "Actual Total Time": 91.302, + "Actual Rows": 1778, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.449, + "Actual Total Time": 90.810, + "Actual Rows": 2159, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.742, + "Actual Total Time": 85.469, + "Actual Rows": 1967, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 10091.30, + "Plan Rows": 6623, + "Plan Width": 13, + "Actual Startup Time": 0.065, + "Actual Total Time": 83.972, + "Actual Rows": 6706, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Filter": "(mi_idx.info > '8.0'::text)", + "Rows Removed by Filter": 165798, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 74.450, + "Actual Rows": 6182, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.065, + "Actual Total Time": 81.553, + "Actual Rows": 7244, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 82.532, + "Actual Rows": 6773, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.044, + "Actual Total Time": 84.406, + "Actual Rows": 6881, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 87.946, + "Actual Rows": 6023, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.184, + "Actual Total Time": 86.199, + "Actual Rows": 6745, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.070, + "Actual Total Time": 81.788, + "Actual Rows": 6738, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.060, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.23, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 15849, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2008))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1892 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2295 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1889 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1918 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1778 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 2159 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1967 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.33, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 4047, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Drama,Horror}'::text[]))", + "Rows Removed by Filter": 21, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 520 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 549 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 507 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 539 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 462 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 507 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 498 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 557, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 75 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 63 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 71 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 64 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 77 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 65 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 68 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.56, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.036, + "Actual Rows": 3, + "Actual Loops": 557, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.044, + "Actual Rows": 3, + "Actual Loops": 75 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.034, + "Actual Rows": 3, + "Actual Loops": 63 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.036, + "Actual Rows": 5, + "Actual Loops": 71 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.031, + "Actual Rows": 2, + "Actual Loops": 64 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.033, + "Actual Rows": 4, + "Actual Loops": 77 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.031, + "Actual Rows": 2, + "Actual Loops": 65 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.047, + "Actual Rows": 5, + "Actual Loops": 68 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1934, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 227 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 210 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 383 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 111 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 331 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 135 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 325 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 707, + "Output": ["ct.id", "ct.kind"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 125 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 73 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 105 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 48 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 95 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 62 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 104 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -9026514954839072455, + "Planning Time": 22.369, + "Triggers": [ + ], + "Execution Time": 165.167, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -9026514954839072455, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi.info) AS budget,
       MIN(t.title) AS unsuccsessful_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     title AS t
WHERE cn.country_code ='[us]'
  AND ct.kind IS NOT NULL
  AND (ct.kind ='production companies'
       OR ct.kind = 'distributors')
  AND it1.info ='budget'
  AND it2.info ='bottom 10 rank'
  AND t.production_year >2000
  AND (t.title LIKE 'Birdemic%'
       OR t.title LIKE '%Movie%')
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND mi.info_type_id = it1.id
  AND mi_idx.info_type_id = it2.id
  AND t.id = mc.movie_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10886.90, + "Total Cost": 10886.91, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 94.683, + "Actual Total Time": 100.161, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10886.85, + "Total Cost": 10886.86, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 91.614, + "Actual Total Time": 100.141, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10885.85, + "Total Cost": 10885.86, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 84.593, + "Actual Total Time": 84.602, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 86.256, + "Actual Total Time": 86.266, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 83.611, + "Actual Total Time": 83.617, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 83.417, + "Actual Total Time": 83.425, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 83.725, + "Actual Total Time": 83.733, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 83.704, + "Actual Total Time": 83.711, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 81.658, + "Actual Total Time": 81.666, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 83.681, + "Actual Total Time": 83.688, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.53, + "Total Cost": 10885.84, + "Plan Rows": 1, + "Plan Width": 60, + "Actual Startup Time": 84.353, + "Actual Total Time": 84.592, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 84.366, + "Actual Total Time": 86.225, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 83.606, + "Actual Total Time": 83.612, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 83.414, + "Actual Total Time": 83.421, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 83.721, + "Actual Total Time": 83.728, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 83.701, + "Actual Total Time": 83.707, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 81.653, + "Actual Total Time": 81.660, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 83.675, + "Actual Total Time": 83.681, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.11, + "Total Cost": 10885.40, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 84.343, + "Actual Total Time": 84.467, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mc.company_id", "mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 84.288, + "Actual Total Time": 85.236, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 83.605, + "Actual Total Time": 83.610, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 83.414, + "Actual Total Time": 83.420, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 83.720, + "Actual Total Time": 83.727, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 83.700, + "Actual Total Time": 83.706, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 81.652, + "Actual Total Time": 81.658, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 83.674, + "Actual Total Time": 83.680, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.98, + "Total Cost": 10885.08, + "Plan Rows": 2, + "Plan Width": 68, + "Actual Startup Time": 84.335, + "Actual Total Time": 84.428, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mi.info", "mc.company_type_id", "mc.company_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 84.230, + "Actual Total Time": 84.929, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 83.605, + "Actual Total Time": 83.609, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 83.413, + "Actual Total Time": 83.419, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 83.719, + "Actual Total Time": 83.725, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 83.699, + "Actual Total Time": 83.705, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 81.652, + "Actual Total Time": 81.657, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 83.673, + "Actual Total Time": 83.678, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.55, + "Total Cost": 10884.53, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 84.324, + "Actual Total Time": 84.399, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi.info", "mi.movie_id", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 84.144, + "Actual Total Time": 84.712, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 83.604, + "Actual Total Time": 83.608, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 83.412, + "Actual Total Time": 83.417, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 83.719, + "Actual Total Time": 83.724, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 83.699, + "Actual Total Time": 83.703, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 81.651, + "Actual Total Time": 81.656, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 83.672, + "Actual Total Time": 83.677, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 10882.50, + "Plan Rows": 66, + "Plan Width": 76, + "Actual Startup Time": 84.028, + "Actual Total Time": 84.096, + "Actual Rows": 28, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 83.797, + "Actual Total Time": 84.312, + "Actual Rows": 221, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 83.315, + "Actual Total Time": 83.317, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 83.133, + "Actual Total Time": 83.137, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 83.446, + "Actual Total Time": 83.449, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 83.459, + "Actual Total Time": 83.462, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 81.407, + "Actual Total Time": 81.411, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 83.399, + "Actual Total Time": 83.403, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10878.78, + "Plan Rows": 3, + "Plan Width": 25, + "Actual Startup Time": 84.014, + "Actual Total Time": 84.032, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 83.690, + "Actual Total Time": 83.814, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 83.314, + "Actual Total Time": 83.316, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 83.132, + "Actual Total Time": 83.135, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 83.445, + "Actual Total Time": 83.448, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 83.458, + "Actual Total Time": 83.461, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 81.407, + "Actual Total Time": 81.409, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 83.399, + "Actual Total Time": 83.401, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1527, + "Plan Width": 4, + "Actual Startup Time": 83.965, + "Actual Total Time": 83.975, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 83.303, + "Actual Total Time": 83.362, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 83.314, + "Actual Total Time": 83.315, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 83.132, + "Actual Total Time": 83.134, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 83.444, + "Actual Total Time": 83.446, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 83.457, + "Actual Total Time": 83.459, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 81.406, + "Actual Total Time": 81.408, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 83.398, + "Actual Total Time": 83.400, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.016, + "Actual Total Time": 32.713, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 32.464, + "Actual Rows": 171942, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 32.567, + "Actual Rows": 172690, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 33.037, + "Actual Rows": 170964, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 32.558, + "Actual Rows": 173597, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 32.686, + "Actual Rows": 175669, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 31.760, + "Actual Rows": 163482, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 32.792, + "Actual Rows": 172361, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'bottom 10 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 10, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2000) AND ((t.title ~~ 'Birdemic%'::text) OR (t.title ~~ '%Movie%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 10 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 22, + "Plan Width": 51, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.174, + "Actual Rows": 110, + "Actual Loops": 2, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.174, + "Actual Rows": 110, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'budget'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.089, + "Actual Rows": 16, + "Actual Loops": 2, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.089, + "Actual Rows": 16, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 33, + "Output": ["ct.id", "ct.kind"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind IS NOT NULL) AND (((ct.kind)::text = 'production companies'::text) OR ((ct.kind)::text = 'distributors'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 33 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 33, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 33 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5632455736553151255, + "Planning Time": 24.347, + "Triggers": [ + ], + "Execution Time": 100.541, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 5632455736553151255, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS mainstream_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     title AS t
WHERE cn.country_code = '[us]'
  AND ct.kind = 'production companies'
  AND it1.info = 'genres'
  AND it2.info = 'rating'
  AND mi.info IN ('Drama',
                  'Horror',
                  'Western',
                  'Family')
  AND mi_idx.info > '7.0'
  AND t.production_year BETWEEN 2000 AND 2010
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND mi.info_type_id = it1.id
  AND mi_idx.info_type_id = it2.id
  AND t.id = mc.movie_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10414.71, + "Total Cost": 10414.72, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 627.152, + "Actual Total Time": 639.506, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10414.64, + "Total Cost": 10414.65, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 626.096, + "Actual Total Time": 639.477, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10413.64, + "Total Cost": 10413.65, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 619.177, + "Actual Total Time": 619.184, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 617.841, + "Actual Total Time": 617.848, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 617.813, + "Actual Total Time": 617.819, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 617.947, + "Actual Total Time": 617.953, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 618.030, + "Actual Total Time": 618.035, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 618.494, + "Actual Total Time": 618.499, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 619.202, + "Actual Total Time": 619.207, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 618.869, + "Actual Total Time": 618.876, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.54, + "Total Cost": 10413.64, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 8.458, + "Actual Total Time": 618.208, + "Actual Rows": 589, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.707, + "Actual Total Time": 616.864, + "Actual Rows": 592, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.890, + "Actual Total Time": 616.843, + "Actual Rows": 587, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.949, + "Actual Total Time": 616.893, + "Actual Rows": 669, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.428, + "Actual Total Time": 617.050, + "Actual Rows": 588, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.666, + "Actual Total Time": 617.575, + "Actual Rows": 573, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.781, + "Actual Total Time": 618.218, + "Actual Rows": 599, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.615, + "Actual Total Time": 617.936, + "Actual Rows": 559, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.40, + "Total Cost": 10413.47, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 4.945, + "Actual Total Time": 615.419, + "Actual Rows": 1264, + "Actual Loops": 8, + "Output": ["cn.name", "mc.company_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.958, + "Actual Total Time": 614.159, + "Actual Rows": 1280, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.844, + "Actual Total Time": 614.250, + "Actual Rows": 1222, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.901, + "Actual Total Time": 613.970, + "Actual Rows": 1407, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.821, + "Actual Total Time": 613.750, + "Actual Rows": 1188, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.207, + "Actual Total Time": 614.957, + "Actual Rows": 1243, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.764, + "Actual Total Time": 615.432, + "Actual Rows": 1321, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.565, + "Actual Total Time": 615.249, + "Actual Rows": 1251, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.98, + "Total Cost": 10413.02, + "Plan Rows": 1, + "Plan Width": 30, + "Actual Startup Time": 2.827, + "Actual Total Time": 542.914, + "Actual Rows": 5626, + "Actual Loops": 8, + "Output": ["mc.company_type_id", "mc.company_id", "mi_idx.info", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.737, + "Actual Total Time": 541.560, + "Actual Rows": 5570, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.715, + "Actual Total Time": 542.704, + "Actual Rows": 5531, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.838, + "Actual Total Time": 540.771, + "Actual Rows": 5830, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.631, + "Actual Total Time": 545.266, + "Actual Rows": 5197, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.133, + "Actual Total Time": 543.911, + "Actual Rows": 5385, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.668, + "Actual Total Time": 539.897, + "Actual Rows": 5999, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.459, + "Actual Total Time": 541.199, + "Actual Rows": 5662, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.55, + "Total Cost": 10412.46, + "Plan Rows": 1, + "Plan Width": 34, + "Actual Startup Time": 2.750, + "Actual Total Time": 511.974, + "Actual Rows": 996, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.642, + "Actual Total Time": 507.947, + "Actual Rows": 984, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.632, + "Actual Total Time": 511.564, + "Actual Rows": 1006, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.759, + "Actual Total Time": 510.666, + "Actual Rows": 1065, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.580, + "Actual Total Time": 512.730, + "Actual Rows": 994, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.050, + "Actual Total Time": 515.455, + "Actual Rows": 949, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.562, + "Actual Total Time": 509.530, + "Actual Rows": 1034, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.381, + "Actual Total Time": 511.940, + "Actual Rows": 956, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 10410.50, + "Plan Rows": 42, + "Plan Width": 38, + "Actual Startup Time": 2.627, + "Actual Total Time": 510.459, + "Actual Rows": 996, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.584, + "Actual Total Time": 506.501, + "Actual Rows": 984, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.558, + "Actual Total Time": 510.075, + "Actual Rows": 1006, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.676, + "Actual Total Time": 509.161, + "Actual Rows": 1065, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.518, + "Actual Total Time": 511.222, + "Actual Rows": 994, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.963, + "Actual Total Time": 514.049, + "Actual Rows": 949, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.493, + "Actual Total Time": 508.087, + "Actual Rows": 1034, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.317, + "Actual Total Time": 510.522, + "Actual Rows": 956, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10309.64, + "Plan Rows": 89, + "Plan Width": 30, + "Actual Startup Time": 0.217, + "Actual Total Time": 285.047, + "Actual Rows": 6538, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.091, + "Actual Total Time": 288.618, + "Actual Rows": 6432, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.120, + "Actual Total Time": 285.902, + "Actual Rows": 6673, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.095, + "Actual Total Time": 281.657, + "Actual Rows": 6633, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.419, + "Actual Total Time": 286.081, + "Actual Rows": 6481, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.109, + "Actual Total Time": 288.411, + "Actual Rows": 6721, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.521, + "Actual Total Time": 287.303, + "Actual Rows": 6134, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.231, + "Actual Total Time": 274.139, + "Actual Rows": 6635, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10159.61, + "Plan Rows": 216, + "Plan Width": 9, + "Actual Startup Time": 0.043, + "Actual Total Time": 103.550, + "Actual Rows": 15196, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 101.979, + "Actual Rows": 15796, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 104.661, + "Actual Rows": 15187, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 102.808, + "Actual Rows": 15153, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.034, + "Actual Total Time": 106.145, + "Actual Rows": 14490, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 104.341, + "Actual Rows": 15519, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.041, + "Actual Total Time": 104.115, + "Actual Rows": 15668, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.035, + "Actual Total Time": 100.320, + "Actual Rows": 14393, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 10091.30, + "Plan Rows": 24405, + "Plan Width": 13, + "Actual Startup Time": 0.024, + "Actual Total Time": 86.102, + "Actual Rows": 24237, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Filter": "(mi_idx.info > '7.0'::text)", + "Rows Removed by Filter": 148268, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 84.543, + "Actual Rows": 24559, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 87.777, + "Actual Rows": 24739, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 86.077, + "Actual Rows": 24429, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 85.733, + "Actual Rows": 23372, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 87.095, + "Actual Rows": 24290, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 86.859, + "Actual Rows": 24421, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 83.896, + "Actual Rows": 23339, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.69, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 121572, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 15796 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 15187 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 15153 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 14490 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 15519 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 15668 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 14393 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.12, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 52304, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Drama,Horror,Western,Family}'::text[]))", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 6432 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 6673 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 6633 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 6481 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 6721 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 6134 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 6635 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.028, + "Actual Rows": 6, + "Actual Loops": 7964, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.030, + "Actual Rows": 6, + "Actual Loops": 984 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.028, + "Actual Rows": 5, + "Actual Loops": 1006 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.025, + "Actual Rows": 5, + "Actual Loops": 1065 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.029, + "Actual Rows": 5, + "Actual Loops": 994 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.027, + "Actual Rows": 6, + "Actual Loops": 949 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.026, + "Actual Rows": 6, + "Actual Loops": 1034 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.027, + "Actual Rows": 6, + "Actual Loops": 956 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 45006, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 5570 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 5531 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 5830 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 5197 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 5385 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 5999 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 5662 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 10112, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 1198, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1280, + "Cache Hits": 1278, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1222, + "Cache Hits": 1220, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1407, + "Cache Hits": 1405, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1188, + "Cache Hits": 1186, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1243, + "Cache Hits": 1241, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1321, + "Cache Hits": 1319, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1251, + "Cache Hits": 1249, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 16, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6417179009749033666, + "Planning Time": 25.369, + "Triggers": [ + ], + "Execution Time": 639.872, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 6417179009749033666, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi.info) AS release_date,
       MIN(miidx.info) AS rating,
       MIN(t.title) AS german_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it,
     info_type AS it2,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS miidx,
     title AS t
WHERE cn.country_code ='[de]'
  AND ct.kind ='production companies'
  AND it.info ='rating'
  AND it2.info ='release dates'
  AND kt.kind ='movie'
  AND mi.movie_id = t.id
  AND it2.id = mi.info_type_id
  AND kt.id = t.kind_id
  AND mc.movie_id = t.id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND miidx.movie_id = t.id
  AND it.id = miidx.info_type_id
  AND mi.movie_id = miidx.movie_id
  AND mi.movie_id = mc.movie_id
  AND miidx.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10098.94, + "Total Cost": 10098.95, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 506.547, + "Actual Total Time": 527.603, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(miidx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10098.87, + "Total Cost": 10098.88, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 505.563, + "Actual Total Time": 527.575, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(miidx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10097.87, + "Total Cost": 10097.88, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 497.856, + "Actual Total Time": 497.864, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(miidx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 496.376, + "Actual Total Time": 496.383, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 497.079, + "Actual Total Time": 497.086, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 496.899, + "Actual Total Time": 496.906, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 496.958, + "Actual Total Time": 496.965, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 496.796, + "Actual Total Time": 496.806, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 497.346, + "Actual Total Time": 497.354, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 496.897, + "Actual Total Time": 496.904, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.52, + "Total Cost": 10097.86, + "Plan Rows": 2, + "Plan Width": 65, + "Actual Startup Time": 1.947, + "Actual Total Time": 484.379, + "Actual Rows": 13888, + "Actual Loops": 8, + "Output": ["mi.info", "miidx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.616, + "Actual Total Time": 482.684, + "Actual Rows": 14277, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.802, + "Actual Total Time": 483.839, + "Actual Rows": 13823, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.990, + "Actual Total Time": 484.277, + "Actual Rows": 13227, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.388, + "Actual Total Time": 484.669, + "Actual Rows": 12685, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.773, + "Actual Total Time": 483.132, + "Actual Rows": 14194, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.048, + "Actual Total Time": 485.104, + "Actual Rows": 12762, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.026, + "Actual Total Time": 482.686, + "Actual Rows": 13277, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.67, + "Total Cost": 10095.50, + "Plan Rows": 188, + "Plan Width": 69, + "Actual Startup Time": 1.491, + "Actual Total Time": 455.667, + "Actual Rows": 64541, + "Actual Loops": 8, + "Output": ["mi.info", "mi.info_type_id", "miidx.info", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.845, + "Actual Total Time": 453.152, + "Actual Rows": 67447, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.506, + "Actual Total Time": 456.752, + "Actual Rows": 61959, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.685, + "Actual Total Time": 456.273, + "Actual Rows": 59388, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.607, + "Actual Total Time": 457.691, + "Actual Rows": 61982, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.438, + "Actual Total Time": 453.751, + "Actual Rows": 67372, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.682, + "Actual Total Time": 459.450, + "Actual Rows": 58667, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.684, + "Actual Total Time": 454.671, + "Actual Rows": 61261, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.24, + "Total Cost": 10084.31, + "Plan Rows": 10, + "Plan Width": 34, + "Actual Startup Time": 1.406, + "Actual Total Time": 326.864, + "Actual Rows": 2059, + "Actual Loops": 8, + "Output": ["mc.movie_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.773, + "Actual Total Time": 322.650, + "Actual Rows": 1950, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.404, + "Actual Total Time": 330.942, + "Actual Rows": 2151, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.592, + "Actual Total Time": 338.962, + "Actual Rows": 1897, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.508, + "Actual Total Time": 331.646, + "Actual Rows": 2134, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.345, + "Actual Total Time": 318.265, + "Actual Rows": 2140, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.600, + "Actual Total Time": 341.270, + "Actual Rows": 2048, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.614, + "Actual Total Time": 328.030, + "Actual Rows": 1876, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.17, + "Total Cost": 10082.95, + "Plan Rows": 70, + "Plan Width": 38, + "Actual Startup Time": 0.899, + "Actual Total Time": 323.827, + "Actual Rows": 3939, + "Actual Loops": 8, + "Output": ["mc.movie_id", "miidx.info", "miidx.movie_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.759, + "Actual Total Time": 319.737, + "Actual Rows": 3955, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.387, + "Actual Total Time": 328.060, + "Actual Rows": 4021, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.649, + "Actual Total Time": 336.130, + "Actual Rows": 3640, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.492, + "Actual Total Time": 328.675, + "Actual Rows": 4143, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.328, + "Actual Total Time": 315.397, + "Actual Rows": 3733, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.584, + "Actual Total Time": 338.262, + "Actual Rows": 4635, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.650, + "Actual Total Time": 325.389, + "Actual Rows": 3544, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.74, + "Total Cost": 10050.35, + "Plan Rows": 70, + "Plan Width": 13, + "Actual Startup Time": 0.824, + "Actual Total Time": 255.236, + "Actual Rows": 3939, + "Actual Loops": 8, + "Output": ["mc.movie_id", "miidx.info", "miidx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(miidx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.699, + "Actual Total Time": 251.915, + "Actual Rows": 3955, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.310, + "Actual Total Time": 260.007, + "Actual Rows": 4021, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.545, + "Actual Total Time": 272.508, + "Actual Rows": 3640, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.423, + "Actual Total Time": 257.668, + "Actual Rows": 4143, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.255, + "Actual Total Time": 249.655, + "Actual Rows": 3733, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.510, + "Actual Total Time": 260.332, + "Actual Rows": 4635, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.561, + "Actual Total Time": 257.211, + "Actual Rows": 3544, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.90, + "Total Cost": 10026.95, + "Plan Rows": 7915, + "Plan Width": 17, + "Actual Startup Time": 0.803, + "Actual Total Time": 248.852, + "Actual Rows": 11821, + "Actual Loops": 8, + "Output": ["mc.movie_id", "miidx.info", "miidx.movie_id", "miidx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.671, + "Actual Total Time": 245.323, + "Actual Rows": 11873, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.295, + "Actual Total Time": 253.544, + "Actual Rows": 12065, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.531, + "Actual Total Time": 266.675, + "Actual Rows": 10924, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.409, + "Actual Total Time": 251.008, + "Actual Rows": 12429, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.242, + "Actual Total Time": 243.584, + "Actual Rows": 11205, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.495, + "Actual Total Time": 252.870, + "Actual Rows": 13907, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.546, + "Actual Total Time": 251.462, + "Actual Rows": 10638, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 8274.06, + "Plan Rows": 3402, + "Plan Width": 4, + "Actual Startup Time": 0.240, + "Actual Total Time": 119.713, + "Actual Rows": 8912, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.459, + "Actual Total Time": 119.588, + "Actual Rows": 8526, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.203, + "Actual Total Time": 127.508, + "Actual Rows": 8798, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.173, + "Actual Total Time": 143.375, + "Actual Rows": 8600, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.367, + "Actual Total Time": 111.574, + "Actual Rows": 10048, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.155, + "Actual Total Time": 110.128, + "Actual Rows": 9381, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.195, + "Actual Total Time": 115.455, + "Actual Rows": 9669, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.209, + "Actual Total Time": 126.666, + "Actual Rows": 8018, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 8199.45, + "Plan Rows": 13606, + "Plan Width": 8, + "Actual Startup Time": 0.131, + "Actual Total Time": 108.411, + "Actual Rows": 18516, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.092, + "Actual Total Time": 108.715, + "Actual Rows": 17192, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.112, + "Actual Total Time": 116.140, + "Actual Rows": 19250, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.126, + "Actual Total Time": 130.942, + "Actual Rows": 22997, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.162, + "Actual Total Time": 99.965, + "Actual Rows": 17718, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.121, + "Actual Total Time": 99.238, + "Actual Rows": 16606, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.159, + "Actual Total Time": 103.798, + "Actual Rows": 18716, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.172, + "Actual Total Time": 115.120, + "Actual Rows": 20514, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 1226, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 15.101, + "Actual Rows": 1222, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[de]'::text)", + "Rows Removed by Filter": 28153, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 15.901, + "Actual Rows": 1307, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 16.393, + "Actual Rows": 1384, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 17.980, + "Actual Rows": 1486, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.042, + "Actual Total Time": 13.965, + "Actual Rows": 1159, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 14.617, + "Actual Rows": 1101, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.036, + "Actual Total Time": 14.261, + "Actual Rows": 1165, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.034, + "Actual Total Time": 15.473, + "Actual Rows": 1182, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 3.43, + "Plan Rows": 52, + "Plan Width": 12, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.069, + "Actual Rows": 15, + "Actual Loops": 9775, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.064, + "Actual Rows": 13, + "Actual Loops": 1307 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.065, + "Actual Rows": 14, + "Actual Loops": 1384 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.069, + "Actual Rows": 15, + "Actual Loops": 1486 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.067, + "Actual Rows": 15, + "Actual Loops": 1159 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.069, + "Actual Rows": 15, + "Actual Loops": 1101 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.069, + "Actual Rows": 16, + "Actual Loops": 1165 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.076, + "Actual Rows": 17, + "Actual Loops": 1182 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "miidx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 71294, + "Output": ["miidx.id", "miidx.movie_id", "miidx.info_type_id", "miidx.info", "miidx.note"], + "Index Cond": "(miidx.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 8526 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 8798 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 8600 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 10048 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 9381 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 9669 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 8018 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 31510, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 3955 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 4021 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 3640 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 4143 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 3733 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 4635 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 3544 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.90, + "Plan Rows": 22, + "Plan Width": 51, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.049, + "Actual Rows": 31, + "Actual Loops": 16470, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.052, + "Actual Rows": 35, + "Actual Loops": 1950 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.046, + "Actual Rows": 29, + "Actual Loops": 2151 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.048, + "Actual Rows": 31, + "Actual Loops": 1897 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.046, + "Actual Rows": 29, + "Actual Loops": 2134 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.049, + "Actual Rows": 31, + "Actual Loops": 2140 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.045, + "Actual Rows": 29, + "Actual Loops": 2048 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.053, + "Actual Rows": 33, + "Actual Loops": 1876 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1829334865866162189, + "Planning Time": 37.871, + "Triggers": [ + ], + "Execution Time": 528.065, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -1829334865866162189, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(miidx.info) AS rating,
       MIN(t.title) AS movie_about_winning
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it,
     info_type AS it2,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS miidx,
     title AS t
WHERE cn.country_code ='[us]'
  AND ct.kind ='production companies'
  AND it.info ='rating'
  AND it2.info ='release dates'
  AND kt.kind ='movie'
  AND t.title != ''
  AND (t.title LIKE '%Champion%'
       OR t.title LIKE '%Loser%')
  AND mi.movie_id = t.id
  AND it2.id = mi.info_type_id
  AND kt.id = t.kind_id
  AND mc.movie_id = t.id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND miidx.movie_id = t.id
  AND it.id = miidx.info_type_id
  AND mi.movie_id = miidx.movie_id
  AND mi.movie_id = mc.movie_id
  AND miidx.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10883.35, + "Total Cost": 10883.36, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 873.697, + "Actual Total Time": 887.980, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(miidx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10883.28, + "Total Cost": 10883.29, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 872.563, + "Actual Total Time": 887.942, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(miidx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10882.28, + "Total Cost": 10882.29, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 864.052, + "Actual Total Time": 864.060, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(miidx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 856.812, + "Actual Total Time": 856.819, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 863.860, + "Actual Total Time": 863.867, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 863.671, + "Actual Total Time": 863.678, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 864.544, + "Actual Total Time": 864.552, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 863.839, + "Actual Total Time": 863.848, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 864.281, + "Actual Total Time": 864.288, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 863.855, + "Actual Total Time": 863.862, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.96, + "Total Cost": 10882.27, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 481.207, + "Actual Total Time": 863.982, + "Actual Rows": 46, + "Actual Loops": 8, + "Output": ["cn.name", "miidx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 511.138, + "Actual Total Time": 856.734, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 395.062, + "Actual Total Time": 863.750, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 353.517, + "Actual Total Time": 863.656, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 785.391, + "Actual Total Time": 864.371, + "Actual Rows": 158, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 383.984, + "Actual Total Time": 863.820, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 404.990, + "Actual Total Time": 864.181, + "Actual Rows": 70, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 611.913, + "Actual Total Time": 863.849, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.82, + "Total Cost": 10881.77, + "Plan Rows": 3, + "Plan Width": 45, + "Actual Startup Time": 481.075, + "Actual Total Time": 862.413, + "Actual Rows": 265, + "Actual Loops": 8, + "Output": ["cn.name", "mi.info_type_id", "miidx.info", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 511.095, + "Actual Total Time": 855.714, + "Actual Rows": 152, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 395.017, + "Actual Total Time": 862.134, + "Actual Rows": 273, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 353.421, + "Actual Total Time": 863.434, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 785.030, + "Actual Total Time": 859.103, + "Actual Rows": 922, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 383.891, + "Actual Total Time": 863.390, + "Actual Rows": 64, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 404.796, + "Actual Total Time": 861.507, + "Actual Rows": 457, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 611.728, + "Actual Total Time": 863.637, + "Actual Rows": 32, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.39, + "Total Cost": 10880.59, + "Plan Rows": 1, + "Plan Width": 53, + "Actual Startup Time": 480.987, + "Actual Total Time": 861.773, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 510.983, + "Actual Total Time": 855.081, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 394.931, + "Actual Total Time": 861.413, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 353.350, + "Actual Total Time": 863.228, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 784.926, + "Actual Total Time": 857.595, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 383.805, + "Actual Total Time": 863.033, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 404.694, + "Actual Total Time": 860.355, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 611.625, + "Actual Total Time": 863.489, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.97, + "Total Cost": 10880.15, + "Plan Rows": 1, + "Plan Width": 38, + "Actual Startup Time": 403.990, + "Actual Total Time": 861.394, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 510.924, + "Actual Total Time": 854.527, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 394.870, + "Actual Total Time": 860.986, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 353.293, + "Actual Total Time": 863.122, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 364.234, + "Actual Total Time": 857.218, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 383.748, + "Actual Total Time": 862.810, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 404.632, + "Actual Total Time": 859.617, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 460.913, + "Actual Total Time": 863.336, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 10879.83, + "Plan Rows": 2, + "Plan Width": 42, + "Actual Startup Time": 403.917, + "Actual Total Time": 861.122, + "Actual Rows": 39, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 510.815, + "Actual Total Time": 854.066, + "Actual Rows": 74, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 394.826, + "Actual Total Time": 860.751, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 353.252, + "Actual Total Time": 863.056, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 364.156, + "Actual Total Time": 856.893, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 383.691, + "Actual Total Time": 862.683, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 404.505, + "Actual Total Time": 859.024, + "Actual Rows": 95, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 460.820, + "Actual Total Time": 863.221, + "Actual Rows": 13, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.41, + "Total Cost": 10879.26, + "Plan Rows": 1, + "Plan Width": 30, + "Actual Startup Time": 403.830, + "Actual Total Time": 860.707, + "Actual Rows": 11, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 510.720, + "Actual Total Time": 853.533, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 394.755, + "Actual Total Time": 860.352, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 353.146, + "Actual Total Time": 862.789, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 364.082, + "Actual Total Time": 856.543, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 383.577, + "Actual Total Time": 862.339, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 404.441, + "Actual Total Time": 858.207, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 460.710, + "Actual Total Time": 862.991, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10878.78, + "Plan Rows": 3, + "Plan Width": 34, + "Actual Startup Time": 16.579, + "Actual Total Time": 860.321, + "Actual Rows": 44, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.429, + "Actual Total Time": 853.121, + "Actual Rows": 49, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.061, + "Actual Total Time": 859.897, + "Actual Rows": 50, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.987, + "Actual Total Time": 862.304, + "Actual Rows": 53, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.096, + "Actual Total Time": 856.221, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.297, + "Actual Total Time": 862.075, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.750, + "Actual Total Time": 857.698, + "Actual Rows": 67, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.559, + "Actual Total Time": 862.717, + "Actual Rows": 28, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1527, + "Plan Width": 9, + "Actual Startup Time": 0.348, + "Actual Total Time": 150.959, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(miidx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.347, + "Actual Total Time": 150.935, + "Actual Rows": 57444, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.322, + "Actual Total Time": 151.492, + "Actual Rows": 58090, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.301, + "Actual Total Time": 152.048, + "Actual Rows": 57511, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.369, + "Actual Total Time": 149.919, + "Actual Rows": 57585, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.322, + "Actual Total Time": 148.436, + "Actual Rows": 57048, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.378, + "Actual Total Time": 150.823, + "Actual Rows": 58096, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.315, + "Actual Total Time": 152.253, + "Actual Rows": 55831, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "miidx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 13, + "Actual Startup Time": 0.017, + "Actual Total Time": 43.358, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["miidx.id", "miidx.movie_id", "miidx.info_type_id", "miidx.info", "miidx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 43.625, + "Actual Rows": 172443, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 43.672, + "Actual Rows": 174284, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 43.449, + "Actual Rows": 172695, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 43.146, + "Actual Rows": 172741, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 42.629, + "Actual Rows": 171148, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 43.360, + "Actual Rows": 174288, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 43.507, + "Actual Rows": 167488, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 459925, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.title <> ''::text) AND ((t.title ~~ '%Champion%'::text) OR (t.title ~~ '%Loser%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 57444 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 58090 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 57511 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 57585 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 57048 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 58096 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 55831 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 352, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 49 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 50 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 53 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 36 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 26 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 67 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 28 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.032, + "Actual Rows": 3, + "Actual Loops": 90, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.024, + "Actual Rows": 4, + "Actual Loops": 19 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.035, + "Actual Rows": 3, + "Actual Loops": 10 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.033, + "Actual Rows": 5, + "Actual Loops": 9 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.044, + "Actual Rows": 2, + "Actual Loops": 7 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.026, + "Actual Rows": 4, + "Actual Loops": 27 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.052, + "Actual Rows": 3, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 313, + "Output": ["ct.id", "ct.kind"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 74 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 31 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 46 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 11 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 95 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 13 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 117, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 25 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 15 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 14 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 31 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.90, + "Plan Rows": 22, + "Plan Width": 8, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.062, + "Actual Rows": 35, + "Actual Loops": 61, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.042, + "Actual Rows": 13, + "Actual Loops": 12 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.049, + "Actual Rows": 25, + "Actual Loops": 11 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.059, + "Actual Rows": 10, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.164, + "Actual Rows": 154, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.050, + "Actual Rows": 11, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.048, + "Actual Rows": 25, + "Actual Loops": 18 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.098, + "Actual Total Time": 0.123, + "Actual Rows": 32, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 2122, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 152 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 273 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 31 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 922 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 64 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 457 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 32 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4778871310081631647, + "Planning Time": 40.701, + "Triggers": [ + ], + "Execution Time": 888.434, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 4778871310081631647, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(miidx.info) AS rating,
       MIN(t.title) AS movie_about_winning
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it,
     info_type AS it2,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS miidx,
     title AS t
WHERE cn.country_code ='[us]'
  AND ct.kind ='production companies'
  AND it.info ='rating'
  AND it2.info ='release dates'
  AND kt.kind ='movie'
  AND t.title != ''
  AND (t.title LIKE 'Champion%'
       OR t.title LIKE 'Loser%')
  AND mi.movie_id = t.id
  AND it2.id = mi.info_type_id
  AND kt.id = t.kind_id
  AND mc.movie_id = t.id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND miidx.movie_id = t.id
  AND it.id = miidx.info_type_id
  AND mi.movie_id = miidx.movie_id
  AND mi.movie_id = mc.movie_id
  AND miidx.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10882.58, + "Total Cost": 10882.59, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 760.349, + "Actual Total Time": 774.607, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(miidx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10882.51, + "Total Cost": 10882.52, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 759.700, + "Actual Total Time": 774.580, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(miidx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10881.51, + "Total Cost": 10881.52, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 751.479, + "Actual Total Time": 751.487, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(miidx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 749.932, + "Actual Total Time": 749.939, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 750.377, + "Actual Total Time": 750.385, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 750.439, + "Actual Total Time": 750.446, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 750.747, + "Actual Total Time": 750.755, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 750.663, + "Actual Total Time": 750.671, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 750.343, + "Actual Total Time": 750.351, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 750.804, + "Actual Total Time": 750.811, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.98, + "Total Cost": 10881.50, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 677.795, + "Actual Total Time": 751.471, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["cn.name", "miidx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 749.928, + "Actual Total Time": 749.934, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 535.440, + "Actual Total Time": 750.349, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 750.435, + "Actual Total Time": 750.442, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 750.742, + "Actual Total Time": 750.750, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 750.658, + "Actual Total Time": 750.666, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 750.338, + "Actual Total Time": 750.345, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 750.799, + "Actual Total Time": 750.807, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.84, + "Total Cost": 10881.32, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 677.786, + "Actual Total Time": 751.332, + "Actual Rows": 27, + "Actual Loops": 8, + "Output": ["cn.name", "mi.info_type_id", "miidx.info", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 749.927, + "Actual Total Time": 749.933, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 535.404, + "Actual Total Time": 750.032, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 750.435, + "Actual Total Time": 750.441, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 750.742, + "Actual Total Time": 750.748, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 750.658, + "Actual Total Time": 750.664, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 750.337, + "Actual Total Time": 750.344, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 750.799, + "Actual Total Time": 750.805, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.41, + "Total Cost": 10880.14, + "Plan Rows": 1, + "Plan Width": 53, + "Actual Startup Time": 677.775, + "Actual Total Time": 751.268, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 749.927, + "Actual Total Time": 749.932, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 535.363, + "Actual Total Time": 749.838, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 750.434, + "Actual Total Time": 750.440, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 750.741, + "Actual Total Time": 750.747, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 750.657, + "Actual Total Time": 750.663, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 750.337, + "Actual Total Time": 750.343, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 750.798, + "Actual Total Time": 750.804, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.99, + "Total Cost": 10879.70, + "Plan Rows": 1, + "Plan Width": 38, + "Actual Startup Time": 677.761, + "Actual Total Time": 751.186, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 749.926, + "Actual Total Time": 749.931, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 535.298, + "Actual Total Time": 749.519, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 750.434, + "Actual Total Time": 750.438, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 750.740, + "Actual Total Time": 750.746, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 750.656, + "Actual Total Time": 750.662, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 750.336, + "Actual Total Time": 750.342, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 750.797, + "Actual Total Time": 750.803, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 10879.52, + "Plan Rows": 1, + "Plan Width": 42, + "Actual Startup Time": 251.175, + "Actual Total Time": 751.131, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_id", "miidx.info", "miidx.movie_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.862, + "Actual Total Time": 749.866, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.010, + "Actual Total Time": 749.410, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.437, + "Actual Total Time": 750.379, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 750.739, + "Actual Total Time": 750.744, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 107.255, + "Actual Total Time": 750.595, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 264.392, + "Actual Total Time": 750.301, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 750.797, + "Actual Total Time": 750.801, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 10879.35, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 161.560, + "Actual Total Time": 751.050, + "Actual Rows": 20, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.771, + "Actual Total Time": 749.778, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 44.956, + "Actual Total Time": 749.268, + "Actual Rows": 53, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.361, + "Actual Total Time": 750.304, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 106.862, + "Actual Total Time": 750.680, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.564, + "Actual Total Time": 750.517, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 264.314, + "Actual Total Time": 750.244, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 750.796, + "Actual Total Time": 750.799, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10878.78, + "Plan Rows": 1, + "Plan Width": 34, + "Actual Startup Time": 157.696, + "Actual Total Time": 750.787, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.658, + "Actual Total Time": 749.458, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 44.828, + "Actual Total Time": 748.862, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.225, + "Actual Total Time": 750.052, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 76.646, + "Actual Total Time": 750.502, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.436, + "Actual Total Time": 750.290, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 264.208, + "Actual Total Time": 750.059, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 750.795, + "Actual Total Time": 750.797, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1527, + "Plan Width": 9, + "Actual Startup Time": 0.160, + "Actual Total Time": 136.547, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(miidx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.084, + "Actual Total Time": 141.703, + "Actual Rows": 56083, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.131, + "Actual Total Time": 135.699, + "Actual Rows": 59252, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.128, + "Actual Total Time": 136.003, + "Actual Rows": 57158, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.108, + "Actual Total Time": 134.673, + "Actual Rows": 56110, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.133, + "Actual Total Time": 135.339, + "Actual Rows": 56301, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.128, + "Actual Total Time": 135.933, + "Actual Rows": 56695, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.108, + "Actual Total Time": 135.974, + "Actual Rows": 58318, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "miidx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 13, + "Actual Startup Time": 0.018, + "Actual Total Time": 39.068, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["miidx.id", "miidx.movie_id", "miidx.info_type_id", "miidx.info", "miidx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 38.778, + "Actual Rows": 168499, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 39.039, + "Actual Rows": 177756, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 38.883, + "Actual Rows": 171481, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 39.114, + "Actual Rows": 168344, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 38.855, + "Actual Rows": 168876, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 38.929, + "Actual Rows": 170088, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 39.341, + "Actual Rows": 174972, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.057, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 459925, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.title <> ''::text) AND ((t.title ~~ 'Champion%'::text) OR (t.title ~~ 'Loser%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 56083 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 59252 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 57158 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 56110 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 56301 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 56695 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 58318 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.029, + "Actual Rows": 2, + "Actual Loops": 66, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.060, + "Actual Rows": 2, + "Actual Loops": 5 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.021, + "Actual Rows": 3, + "Actual Loops": 17 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.079, + "Actual Rows": 2, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.083, + "Actual Total Time": 0.084, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.070, + "Actual Rows": 2, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.058, + "Actual Rows": 2, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 159, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 76, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 10, + "Cache Hits": 8, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 53, + "Cache Hits": 51, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 6, + "Cache Hits": 4, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 5, + "Cache Hits": 3, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 5, + "Cache Hits": 3, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 13, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 65, + "Output": ["kt.id"], + "Cache Key": "t.kind_id", + "Cache Mode": "logical", + "Cache Hits": 26, + "Cache Misses": 5, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 4, + "Cache Hits": 3, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 21, + "Cache Hits": 16, + "Cache Misses": 5, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 4, + "Cache Hits": 3, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 3, + "Cache Hits": 2, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 14, + "Output": ["kt.id"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 32, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 15 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.90, + "Plan Rows": 22, + "Plan Width": 8, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.027, + "Actual Rows": 16, + "Actual Loops": 14, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.022, + "Actual Rows": 8, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 218, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 59 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4778871310081631647, + "Planning Time": 38.459, + "Triggers": [ + ], + "Execution Time": 775.138, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 4778871310081631647, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(miidx.info) AS rating,
       MIN(t.title) AS movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it,
     info_type AS it2,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS miidx,
     title AS t
WHERE cn.country_code ='[us]'
  AND ct.kind ='production companies'
  AND it.info ='rating'
  AND it2.info ='release dates'
  AND kt.kind ='movie'
  AND mi.movie_id = t.id
  AND it2.id = mi.info_type_id
  AND kt.id = t.kind_id
  AND mc.movie_id = t.id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND miidx.movie_id = t.id
  AND it.id = miidx.info_type_id
  AND mi.movie_id = miidx.movie_id
  AND mi.movie_id = mc.movie_id
  AND miidx.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11177.18, + "Total Cost": 11177.19, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 6756.746, + "Actual Total Time": 6775.507, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(miidx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11177.11, + "Total Cost": 11177.12, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 6756.702, + "Actual Total Time": 6775.477, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(miidx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11176.11, + "Total Cost": 11176.12, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 6739.917, + "Actual Total Time": 6739.925, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(miidx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6737.590, + "Actual Total Time": 6737.597, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6738.590, + "Actual Total Time": 6738.596, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6739.210, + "Actual Total Time": 6739.219, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6741.380, + "Actual Total Time": 6741.389, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6733.250, + "Actual Total Time": 6733.257, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6736.690, + "Actual Total Time": 6736.697, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6737.003, + "Actual Total Time": 6737.010, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.51, + "Total Cost": 11176.01, + "Plan Rows": 14, + "Plan Width": 41, + "Actual Startup Time": 325.989, + "Actual Total Time": 6657.015, + "Actual Rows": 83799, + "Actual Loops": 8, + "Output": ["cn.name", "miidx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 325.126, + "Actual Total Time": 6651.284, + "Actual Rows": 90906, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 325.539, + "Actual Total Time": 6661.882, + "Actual Rows": 80981, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 323.644, + "Actual Total Time": 6658.755, + "Actual Rows": 82463, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 326.876, + "Actual Total Time": 6643.925, + "Actual Rows": 84703, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 325.271, + "Actual Total Time": 6650.933, + "Actual Rows": 86443, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 323.522, + "Actual Total Time": 6653.441, + "Actual Rows": 86571, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 325.309, + "Actual Total Time": 6655.240, + "Actual Rows": 79101, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.09, + "Total Cost": 11158.34, + "Plan Rows": 40, + "Plan Width": 26, + "Actual Startup Time": 325.225, + "Actual Total Time": 4313.606, + "Actual Rows": 239937, + "Actual Loops": 8, + "Output": ["mc.company_id", "miidx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 324.765, + "Actual Total Time": 4352.899, + "Actual Rows": 238059, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 324.424, + "Actual Total Time": 4299.880, + "Actual Rows": 242533, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 323.593, + "Actual Total Time": 4317.721, + "Actual Rows": 234303, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 324.560, + "Actual Total Time": 4303.362, + "Actual Rows": 234925, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 325.227, + "Actual Total Time": 4285.225, + "Actual Rows": 244776, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 323.335, + "Actual Total Time": 4339.529, + "Actual Rows": 239291, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 323.364, + "Actual Total Time": 4320.515, + "Actual Rows": 238563, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.05, + "Total Cost": 11156.30, + "Plan Rows": 185, + "Plan Width": 30, + "Actual Startup Time": 324.887, + "Actual Total Time": 3911.338, + "Actual Rows": 1015448, + "Actual Loops": 8, + "Output": ["miidx.info", "mc.company_id", "mc.company_type_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 324.484, + "Actual Total Time": 3944.159, + "Actual Rows": 1051437, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 324.103, + "Actual Total Time": 3897.351, + "Actual Rows": 1025602, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 323.264, + "Actual Total Time": 3909.165, + "Actual Rows": 981675, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 324.219, + "Actual Total Time": 3905.781, + "Actual Rows": 1009231, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 324.947, + "Actual Total Time": 3882.803, + "Actual Rows": 1019245, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 322.991, + "Actual Total Time": 3938.874, + "Actual Rows": 1026790, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 323.030, + "Actual Total Time": 3927.061, + "Actual Rows": 986808, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.62, + "Total Cost": 11133.54, + "Plan Rows": 42, + "Plan Width": 34, + "Actual Startup Time": 324.802, + "Actual Total Time": 1943.337, + "Actual Rows": 90591, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 324.293, + "Actual Total Time": 1946.524, + "Actual Rows": 91851, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 324.056, + "Actual Total Time": 1937.800, + "Actual Rows": 90247, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 323.099, + "Actual Total Time": 1962.480, + "Actual Rows": 88512, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 324.160, + "Actual Total Time": 1926.691, + "Actual Rows": 88714, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 324.893, + "Actual Total Time": 1920.859, + "Actual Rows": 90905, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 322.925, + "Actual Total Time": 1961.643, + "Actual Rows": 91707, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 322.974, + "Actual Total Time": 1976.079, + "Actual Rows": 92008, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.77, + "Total Cost": 11118.85, + "Plan Rows": 4718, + "Plan Width": 38, + "Actual Startup Time": 324.772, + "Actual Total Time": 1736.575, + "Actual Rows": 564339, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 324.264, + "Actual Total Time": 1738.665, + "Actual Rows": 575363, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 324.036, + "Actual Total Time": 1729.771, + "Actual Rows": 567040, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 323.078, + "Actual Total Time": 1757.485, + "Actual Rows": 553123, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 324.126, + "Actual Total Time": 1722.113, + "Actual Rows": 554011, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 324.873, + "Actual Total Time": 1716.625, + "Actual Rows": 563515, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 322.902, + "Actual Total Time": 1751.665, + "Actual Rows": 577420, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 322.963, + "Actual Total Time": 1764.576, + "Actual Rows": 570826, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.34, + "Total Cost": 10874.83, + "Plan Rows": 218, + "Plan Width": 30, + "Actual Startup Time": 324.688, + "Actual Total Time": 792.061, + "Actual Rows": 26235, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 324.196, + "Actual Total Time": 787.406, + "Actual Rows": 26269, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 323.952, + "Actual Total Time": 787.621, + "Actual Rows": 26273, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 323.004, + "Actual Total Time": 797.524, + "Actual Rows": 25951, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 324.043, + "Actual Total Time": 789.992, + "Actual Rows": 25665, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 324.791, + "Actual Total Time": 786.036, + "Actual Rows": 25904, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 322.731, + "Actual Total Time": 793.857, + "Actual Rows": 26559, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 322.888, + "Actual Total Time": 803.533, + "Actual Rows": 27168, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10867.33, + "Plan Rows": 1527, + "Plan Width": 34, + "Actual Startup Time": 0.110, + "Actual Total Time": 759.104, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.093, + "Actual Total Time": 754.934, + "Actual Rows": 57397, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.120, + "Actual Total Time": 754.896, + "Actual Rows": 57754, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.113, + "Actual Total Time": 763.150, + "Actual Rows": 57398, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.102, + "Actual Total Time": 757.065, + "Actual Rows": 56868, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.088, + "Actual Total Time": 753.917, + "Actual Rows": 57285, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.119, + "Actual Total Time": 761.262, + "Actual Rows": 57919, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.110, + "Actual Total Time": 769.484, + "Actual Rows": 57329, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1527, + "Plan Width": 9, + "Actual Startup Time": 0.044, + "Actual Total Time": 145.767, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(miidx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 144.422, + "Actual Rows": 57397, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.042, + "Actual Total Time": 145.903, + "Actual Rows": 57754, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.043, + "Actual Total Time": 146.519, + "Actual Rows": 57398, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 146.531, + "Actual Rows": 56868, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 143.808, + "Actual Rows": 57285, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.043, + "Actual Total Time": 146.342, + "Actual Rows": 57919, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.043, + "Actual Total Time": 148.276, + "Actual Rows": 57329, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "miidx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 13, + "Actual Startup Time": 0.018, + "Actual Total Time": 45.717, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["miidx.id", "miidx.movie_id", "miidx.info_type_id", "miidx.info", "miidx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 45.052, + "Actual Rows": 172204, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 44.895, + "Actual Rows": 173235, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 46.259, + "Actual Rows": 172206, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 46.684, + "Actual Rows": 170608, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 45.425, + "Actual Rows": 172106, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 45.630, + "Actual Rows": 173743, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 46.398, + "Actual Rows": 171994, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 459925, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 57397 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 57754 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 57398 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 56868 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 57285 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 57919 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 57329 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.90, + "Plan Rows": 22, + "Plan Width": 8, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.028, + "Actual Rows": 22, + "Actual Loops": 209880, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.028, + "Actual Rows": 22, + "Actual Loops": 26269 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.028, + "Actual Rows": 22, + "Actual Loops": 26273 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.029, + "Actual Rows": 21, + "Actual Loops": 25951 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.028, + "Actual Rows": 22, + "Actual Loops": 25665 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.028, + "Actual Rows": 22, + "Actual Loops": 25904 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.028, + "Actual Rows": 22, + "Actual Loops": 26559 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.027, + "Actual Rows": 21, + "Actual Loops": 27168 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.017, + "Actual Rows": 11, + "Actual Loops": 724731, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.017, + "Actual Rows": 11, + "Actual Loops": 91851 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.017, + "Actual Rows": 11, + "Actual Loops": 90247 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.017, + "Actual Rows": 11, + "Actual Loops": 88512 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.018, + "Actual Rows": 11, + "Actual Loops": 88714 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.017, + "Actual Rows": 11, + "Actual Loops": 90905 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.017, + "Actual Rows": 11, + "Actual Loops": 91707 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.017, + "Actual Rows": 11, + "Actual Loops": 92008 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.072, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.064, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1919495, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 238059 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 242533 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 234303 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 234925 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 244776 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 239291 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 238563 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2434959201386717317, + "Planning Time": 38.145, + "Triggers": [ + ], + "Execution Time": 6775.928, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 2434959201386717317, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS northern_dark_movie
FROM info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind = 'movie'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2010
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1404.26, + "Total Cost": 1404.27, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 316.464, + "Actual Total Time": 336.749, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1404.21, + "Total Cost": 1404.22, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 195.898, + "Actual Total Time": 336.725, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1403.21, + "Total Cost": 1403.22, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 98.584, + "Actual Total Time": 98.590, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 198.663, + "Actual Total Time": 198.666, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 307.403, + "Actual Total Time": 307.406, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.038, + "Actual Total Time": 18.045, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.037, + "Actual Total Time": 16.043, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.334, + "Actual Total Time": 18.340, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.198, + "Actual Total Time": 18.203, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.072, + "Actual Total Time": 17.077, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 1403.21, + "Plan Rows": 1, + "Plan Width": 22, + "Actual Startup Time": 21.607, + "Actual Total Time": 98.497, + "Actual Rows": 95, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.638, + "Actual Total Time": 198.428, + "Actual Rows": 235, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 49.193, + "Actual Total Time": 307.133, + "Actual Rows": 346, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.034, + "Actual Total Time": 18.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.032, + "Actual Total Time": 16.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.330, + "Actual Total Time": 18.335, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.193, + "Actual Total Time": 18.198, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.067, + "Actual Total Time": 17.072, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.01, + "Total Cost": 1403.02, + "Plan Rows": 1, + "Plan Width": 26, + "Actual Startup Time": 21.438, + "Actual Total Time": 97.359, + "Actual Rows": 283, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.610, + "Actual Total Time": 195.216, + "Actual Rows": 698, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 49.169, + "Actual Total Time": 303.452, + "Actual Rows": 1022, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.033, + "Actual Total Time": 18.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.031, + "Actual Total Time": 16.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.329, + "Actual Total Time": 18.334, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.192, + "Actual Total Time": 18.196, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.067, + "Actual Total Time": 17.071, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.58, + "Total Cost": 1402.50, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 21.371, + "Actual Total Time": 94.865, + "Actual Rows": 160, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.192, + "Actual Total Time": 188.705, + "Actual Rows": 366, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 49.112, + "Actual Total Time": 295.269, + "Actual Rows": 614, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.032, + "Actual Total Time": 18.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.031, + "Actual Total Time": 16.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.328, + "Actual Total Time": 18.333, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.191, + "Actual Total Time": 18.195, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.066, + "Actual Total Time": 17.070, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.43, + "Total Cost": 1402.31, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 21.350, + "Actual Total Time": 94.529, + "Actual Rows": 181, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.143, + "Actual Total Time": 187.839, + "Actual Rows": 414, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 49.041, + "Actual Total Time": 294.148, + "Actual Rows": 685, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.031, + "Actual Total Time": 18.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.030, + "Actual Total Time": 16.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.328, + "Actual Total Time": 18.331, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.191, + "Actual Total Time": 18.194, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.065, + "Actual Total Time": 17.068, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.00, + "Total Cost": 1401.16, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 21.307, + "Actual Total Time": 79.145, + "Actual Rows": 246, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.030, + "Actual Total Time": 144.996, + "Actual Rows": 573, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 48.885, + "Actual Total Time": 244.982, + "Actual Rows": 903, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.031, + "Actual Total Time": 18.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.029, + "Actual Total Time": 16.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.327, + "Actual Total Time": 18.329, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.190, + "Actual Total Time": 18.193, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.064, + "Actual Total Time": 17.066, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1400.68, + "Plan Rows": 3, + "Plan Width": 29, + "Actual Startup Time": 11.760, + "Actual Total Time": 77.868, + "Actual Rows": 323, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.809, + "Actual Total Time": 141.848, + "Actual Rows": 710, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.719, + "Actual Total Time": 240.447, + "Actual Rows": 1236, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.030, + "Actual Total Time": 18.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.029, + "Actual Total Time": 16.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.326, + "Actual Total Time": 18.327, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.189, + "Actual Total Time": 18.191, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.063, + "Actual Total Time": 17.065, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1391.93, + "Plan Rows": 19, + "Plan Width": 4, + "Actual Startup Time": 11.497, + "Actual Total Time": 32.184, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.251, + "Actual Total Time": 45.664, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.561, + "Actual Total Time": 68.316, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.029, + "Actual Total Time": 18.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.028, + "Actual Total Time": 16.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.325, + "Actual Total Time": 18.326, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.189, + "Actual Total Time": 18.190, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.062, + "Actual Total Time": 17.063, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 11.446, + "Actual Total Time": 11.452, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.118, + "Actual Total Time": 0.128, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.408, + "Actual Total Time": 0.413, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.028, + "Actual Total Time": 18.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.027, + "Actual Total Time": 16.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.324, + "Actual Total Time": 18.324, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.188, + "Actual Total Time": 18.189, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.061, + "Actual Total Time": 17.061, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.05, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.128, + "Actual Total Time": 52.307, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.130, + "Actual Total Time": 43.182, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.147, + "Actual Total Time": 63.607, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 2582, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 710 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 1236 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.062, + "Actual Rows": 1, + "Actual Loops": 1966, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 47, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.074, + "Actual Rows": 1, + "Actual Loops": 573 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.054, + "Actual Rows": 1, + "Actual Loops": 903 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1445, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 343, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 414, + "Cache Hits": 411, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 685, + "Cache Hits": 682, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 9, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 1281, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.016, + "Actual Rows": 2, + "Actual Loops": 366 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 614 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 2262, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 698 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1022 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 274192810335693858, + "Planning Time": 21.686, + "Triggers": [ + ], + "Execution Time": 337.236, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 274192810335693858, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_dark_production
FROM info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title')
  AND kt.kind = 'movie'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info > '6.0'
  AND t.production_year > 2010
  AND (t.title LIKE '%murder%'
       OR t.title LIKE '%Murder%'
       OR t.title LIKE '%Mord%')
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1353.04, + "Total Cost": 1353.05, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 246.808, + "Actual Total Time": 246.975, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1353.00, + "Total Cost": 1353.01, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 246.788, + "Actual Total Time": 246.965, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1352.00, + "Total Cost": 1352.01, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 38.850, + "Actual Total Time": 38.855, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.840, + "Actual Total Time": 0.842, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.735, + "Actual Total Time": 10.739, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.667, + "Actual Total Time": 10.672, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.283, + "Actual Total Time": 10.289, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.040, + "Actual Total Time": 11.045, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.312, + "Actual Total Time": 10.316, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.066, + "Actual Total Time": 11.072, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.14, + "Total Cost": 1351.99, + "Plan Rows": 1, + "Plan Width": 22, + "Actual Startup Time": 28.095, + "Actual Total Time": 38.849, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.836, + "Actual Total Time": 0.838, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.730, + "Actual Total Time": 10.734, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.663, + "Actual Total Time": 10.668, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.279, + "Actual Total Time": 10.283, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.035, + "Actual Total Time": 11.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.308, + "Actual Total Time": 10.312, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.061, + "Actual Total Time": 11.066, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.01, + "Total Cost": 1351.82, + "Plan Rows": 1, + "Plan Width": 26, + "Actual Startup Time": 8.966, + "Actual Total Time": 38.844, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.836, + "Actual Total Time": 0.837, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.730, + "Actual Total Time": 10.733, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.662, + "Actual Total Time": 10.666, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.278, + "Actual Total Time": 10.282, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.034, + "Actual Total Time": 11.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.307, + "Actual Total Time": 10.311, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.060, + "Actual Total Time": 11.065, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.87, + "Total Cost": 1351.63, + "Plan Rows": 1, + "Plan Width": 30, + "Actual Startup Time": 8.961, + "Actual Total Time": 38.838, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.info_type_id", "t.title", "t.kind_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.835, + "Actual Total Time": 0.837, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.729, + "Actual Total Time": 10.731, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.661, + "Actual Total Time": 10.665, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.277, + "Actual Total Time": 10.281, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.033, + "Actual Total Time": 11.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.306, + "Actual Total Time": 10.309, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.059, + "Actual Total Time": 11.063, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.44, + "Total Cost": 1351.13, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 8.953, + "Actual Total Time": 38.815, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.835, + "Actual Total Time": 0.836, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.728, + "Actual Total Time": 10.730, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.661, + "Actual Total Time": 10.664, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.276, + "Actual Total Time": 10.280, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.032, + "Actual Total Time": 11.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.305, + "Actual Total Time": 10.308, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.058, + "Actual Total Time": 11.062, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1350.95, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 8.944, + "Actual Total Time": 38.798, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.835, + "Actual Total Time": 0.836, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.728, + "Actual Total Time": 10.729, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.660, + "Actual Total Time": 10.662, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.276, + "Actual Total Time": 10.278, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.032, + "Actual Total Time": 11.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.304, + "Actual Total Time": 10.306, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.057, + "Actual Total Time": 11.060, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1349.80, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 8.930, + "Actual Total Time": 38.712, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.834, + "Actual Total Time": 0.835, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.727, + "Actual Total Time": 10.728, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.660, + "Actual Total Time": 10.661, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.275, + "Actual Total Time": 10.277, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.031, + "Actual Total Time": 11.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.304, + "Actual Total Time": 10.306, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.057, + "Actual Total Time": 11.058, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.12, + "Plan Rows": 10, + "Plan Width": 4, + "Actual Startup Time": 8.551, + "Actual Total Time": 15.039, + "Actual Rows": 2441, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.834, + "Actual Total Time": 0.835, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.726, + "Actual Total Time": 10.727, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.659, + "Actual Total Time": 10.660, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.274, + "Actual Total Time": 10.275, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.030, + "Actual Total Time": 11.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.303, + "Actual Total Time": 10.304, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.056, + "Actual Total Time": 11.057, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 8.536, + "Actual Total Time": 8.537, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.834, + "Actual Total Time": 0.834, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.726, + "Actual Total Time": 10.726, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.658, + "Actual Total Time": 10.659, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.273, + "Actual Total Time": 10.274, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.029, + "Actual Total Time": 11.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.303, + "Actual Total Time": 10.303, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.055, + "Actual Total Time": 11.056, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.15, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.105, + "Actual Total Time": 47.094, + "Actual Rows": 19528, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 19528, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2010) AND ((t.title ~~ '%murder%'::text) OR (t.title ~~ '%Murder%'::text) OR (t.title ~~ '%Mord%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 15, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 12, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '6.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4506995590541967356, + "Planning Time": 25.707, + "Triggers": [ + ], + "Execution Time": 247.374, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -4506995590541967356, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS north_european_dark_production
FROM info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IS NOT NULL
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1406.19, + "Total Cost": 1406.20, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 558.964, + "Actual Total Time": 583.427, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1406.14, + "Total Cost": 1406.15, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 367.022, + "Actual Total Time": 583.399, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1405.14, + "Total Cost": 1405.15, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 174.367, + "Actual Total Time": 174.373, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 17.988, + "Actual Total Time": 17.994, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.208, + "Actual Total Time": 16.214, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 387.211, + "Actual Total Time": 387.215, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.598, + "Actual Total Time": 19.605, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 19.712, + "Actual Total Time": 19.719, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 550.134, + "Actual Total Time": 550.139, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 18.052, + "Actual Total Time": 18.059, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.07, + "Total Cost": 1405.14, + "Plan Rows": 1, + "Plan Width": 22, + "Actual Startup Time": 12.311, + "Actual Total Time": 173.984, + "Actual Rows": 514, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 17.984, + "Actual Total Time": 17.989, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.203, + "Actual Total Time": 16.208, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.938, + "Actual Total Time": 386.203, + "Actual Rows": 1382, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.593, + "Actual Total Time": 19.599, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 19.707, + "Actual Total Time": 19.713, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.332, + "Actual Total Time": 548.885, + "Actual Rows": 1772, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 18.048, + "Actual Total Time": 18.054, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.93, + "Total Cost": 1404.96, + "Plan Rows": 1, + "Plan Width": 26, + "Actual Startup Time": 12.299, + "Actual Total Time": 167.361, + "Actual Rows": 1550, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 17.983, + "Actual Total Time": 17.988, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.202, + "Actual Total Time": 16.207, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.906, + "Actual Total Time": 368.452, + "Actual Rows": 4159, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.592, + "Actual Total Time": 19.597, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 19.707, + "Actual Total Time": 19.711, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.300, + "Actual Total Time": 526.777, + "Actual Rows": 5340, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 18.047, + "Actual Total Time": 18.053, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.50, + "Total Cost": 1404.43, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 12.276, + "Actual Total Time": 157.366, + "Actual Rows": 664, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 17.982, + "Actual Total Time": 17.987, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.201, + "Actual Total Time": 16.206, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.843, + "Actual Total Time": 342.481, + "Actual Rows": 1687, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.592, + "Actual Total Time": 19.597, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 19.706, + "Actual Total Time": 19.710, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.240, + "Actual Total Time": 494.477, + "Actual Rows": 2378, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 18.047, + "Actual Total Time": 18.051, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.36, + "Total Cost": 1404.08, + "Plan Rows": 2, + "Plan Width": 33, + "Actual Startup Time": 12.259, + "Actual Total Time": 153.684, + "Actual Rows": 752, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 17.982, + "Actual Total Time": 17.986, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.201, + "Actual Total Time": 16.205, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.805, + "Actual Total Time": 333.188, + "Actual Rows": 1908, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.591, + "Actual Total Time": 19.595, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 19.705, + "Actual Total Time": 19.708, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.205, + "Actual Total Time": 481.962, + "Actual Rows": 2658, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 18.046, + "Actual Total Time": 18.050, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 1401.78, + "Plan Rows": 2, + "Plan Width": 25, + "Actual Startup Time": 12.222, + "Actual Total Time": 74.940, + "Actual Rows": 1009, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 17.981, + "Actual Total Time": 17.985, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.200, + "Actual Total Time": 16.203, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.716, + "Actual Total Time": 123.199, + "Actual Rows": 2502, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.591, + "Actual Total Time": 19.594, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 19.704, + "Actual Total Time": 19.707, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.123, + "Actual Total Time": 239.283, + "Actual Rows": 3653, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 18.045, + "Actual Total Time": 18.048, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1400.68, + "Plan Rows": 8, + "Plan Width": 29, + "Actual Startup Time": 11.842, + "Actual Total Time": 73.477, + "Actual Rows": 1217, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 17.706, + "Actual Total Time": 17.707, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.914, + "Actual Total Time": 15.915, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.295, + "Actual Total Time": 120.043, + "Actual Rows": 3009, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.301, + "Actual Total Time": 19.302, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 19.398, + "Actual Total Time": 19.400, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.520, + "Actual Total Time": 235.109, + "Actual Rows": 4326, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.742, + "Actual Total Time": 17.743, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1391.93, + "Plan Rows": 19, + "Plan Width": 4, + "Actual Startup Time": 11.819, + "Actual Total Time": 25.381, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 17.705, + "Actual Total Time": 17.706, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.913, + "Actual Total Time": 15.914, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.231, + "Actual Total Time": 28.059, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.300, + "Actual Total Time": 19.301, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 19.398, + "Actual Total Time": 19.399, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.447, + "Actual Total Time": 49.661, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.741, + "Actual Total Time": 17.741, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 11.770, + "Actual Total Time": 11.777, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "((k.keyword IS NOT NULL) AND (k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[])))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 17.704, + "Actual Total Time": 17.704, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.913, + "Actual Total Time": 15.913, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.107, + "Actual Total Time": 0.118, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.299, + "Actual Total Time": 19.299, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 19.397, + "Actual Total Time": 19.397, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.330, + "Actual Total Time": 0.336, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.740, + "Actual Total Time": 17.740, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.05, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.120, + "Actual Total Time": 32.966, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.119, + "Actual Total Time": 25.656, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.106, + "Actual Total Time": 44.417, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.040, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.077, + "Actual Rows": 1, + "Actual Loops": 8073, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 57, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.083, + "Actual Rows": 1, + "Actual Loops": 2502 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.065, + "Actual Rows": 1, + "Actual Loops": 3653 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 6017, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1908 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 2658 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 5316, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 1687 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 2378 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 12401, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 4159 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 5340 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 299267792258938541, + "Planning Time": 29.320, + "Triggers": [ + ], + "Execution Time": 583.950, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 299267792258938541, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi.info) AS release_date,
       MIN(t.title) AS internet_movie
FROM aka_title AS at,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND mc.note LIKE '%(200%)%'
  AND mc.note LIKE '%(worldwide)%'
  AND mi.note LIKE '%internet%'
  AND mi.info LIKE 'USA:% 200%'
  AND t.production_year > 2000
  AND t.id = at.movie_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = at.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = at.movie_id
  AND mc.movie_id = at.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24502.87, + "Total Cost": 24502.88, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 596.928, + "Actual Total Time": 616.511, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24502.82, + "Total Cost": 24502.83, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 596.332, + "Actual Total Time": 616.476, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24501.82, + "Total Cost": 24501.83, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 587.487, + "Actual Total Time": 587.494, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 587.488, + "Actual Total Time": 587.494, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 583.012, + "Actual Total Time": 583.020, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 587.256, + "Actual Total Time": 587.263, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 587.507, + "Actual Total Time": 587.512, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 588.201, + "Actual Total Time": 588.207, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 583.229, + "Actual Total Time": 583.234, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 587.759, + "Actual Total Time": 587.765, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 24501.81, + "Plan Rows": 2, + "Plan Width": 60, + "Actual Startup Time": 251.162, + "Actual Total Time": 587.437, + "Actual Rows": 41, + "Actual Loops": 8, + "Output": ["mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.527, + "Actual Total Time": 587.447, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 224.518, + "Actual Total Time": 582.893, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 587.251, + "Actual Total Time": 587.258, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 174.437, + "Actual Total Time": 587.477, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 112.305, + "Actual Total Time": 588.165, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 583.224, + "Actual Total Time": 583.229, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.130, + "Actual Total Time": 587.585, + "Actual Rows": 172, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.42, + "Total Cost": 24500.94, + "Plan Rows": 2, + "Plan Width": 64, + "Actual Startup Time": 251.105, + "Actual Total Time": 586.493, + "Actual Rows": 41, + "Actual Loops": 8, + "Output": ["mi.info", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.435, + "Actual Total Time": 586.854, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 224.450, + "Actual Total Time": 580.857, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 587.251, + "Actual Total Time": 587.257, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 174.360, + "Actual Total Time": 586.995, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 112.214, + "Actual Total Time": 587.834, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 583.223, + "Actual Total Time": 583.228, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.038, + "Actual Total Time": 583.522, + "Actual Rows": 172, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.99, + "Total Cost": 24499.65, + "Plan Rows": 1, + "Plan Width": 76, + "Actual Startup Time": 136.261, + "Actual Total Time": 585.198, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.141, + "Actual Total Time": 585.550, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 224.034, + "Actual Total Time": 577.301, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 217.016, + "Actual Total Time": 586.856, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 174.295, + "Actual Total Time": 586.867, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 110.975, + "Actual Total Time": 585.342, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 125.317, + "Actual Total Time": 582.289, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.949, + "Actual Total Time": 582.302, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.85, + "Total Cost": 24499.45, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 136.217, + "Actual Total Time": 585.096, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.088, + "Actual Total Time": 585.436, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 223.994, + "Actual Total Time": 577.145, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 216.976, + "Actual Total Time": 586.815, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 174.246, + "Actual Total Time": 586.796, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 110.930, + "Actual Total Time": 585.180, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 125.273, + "Actual Total Time": 582.215, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.900, + "Actual Total Time": 582.178, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 24499.30, + "Plan Rows": 1, + "Plan Width": 84, + "Actual Startup Time": 136.148, + "Actual Total Time": 584.983, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.040, + "Actual Total Time": 585.342, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 223.922, + "Actual Total Time": 576.983, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 216.905, + "Actual Total Time": 586.743, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 174.160, + "Actual Total Time": 586.691, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 110.849, + "Actual Total Time": 585.015, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 125.195, + "Actual Total Time": 582.114, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.809, + "Actual Total Time": 582.026, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.28, + "Total Cost": 24224.69, + "Plan Rows": 253, + "Plan Width": 33, + "Actual Startup Time": 4.370, + "Actual Total Time": 531.795, + "Actual Rows": 642, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.944, + "Actual Total Time": 480.411, + "Actual Rows": 942, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.393, + "Actual Total Time": 534.972, + "Actual Rows": 608, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.492, + "Actual Total Time": 552.584, + "Actual Rows": 616, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.997, + "Actual Total Time": 486.495, + "Actual Rows": 750, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.208, + "Actual Total Time": 556.742, + "Actual Rows": 509, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.060, + "Actual Total Time": 536.963, + "Actual Rows": 577, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.750, + "Actual Total Time": 544.488, + "Actual Rows": 495, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 23955.22, + "Plan Rows": 464, + "Plan Width": 12, + "Actual Startup Time": 3.950, + "Actual Total Time": 507.496, + "Actual Rows": 1712, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.849, + "Actual Total Time": 459.920, + "Actual Rows": 1272, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.327, + "Actual Total Time": 516.124, + "Actual Rows": 1159, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.648, + "Actual Total Time": 533.978, + "Actual Rows": 1154, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.938, + "Actual Total Time": 467.860, + "Actual Rows": 1193, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.142, + "Actual Total Time": 491.755, + "Actual Rows": 5596, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.968, + "Actual Total Time": 523.401, + "Actual Rows": 825, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.683, + "Actual Total Time": 522.541, + "Actual Rows": 1450, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 23542.21, + "Plan Rows": 760, + "Plan Width": 8, + "Actual Startup Time": 0.396, + "Actual Total Time": 435.497, + "Actual Rows": 5480, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.635, + "Actual Total Time": 396.849, + "Actual Rows": 5669, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.663, + "Actual Total Time": 439.526, + "Actual Rows": 5592, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.111, + "Actual Total Time": 446.349, + "Actual Rows": 6482, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.196, + "Actual Total Time": 406.636, + "Actual Rows": 4025, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.394, + "Actual Total Time": 401.377, + "Actual Rows": 6913, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.245, + "Actual Total Time": 457.539, + "Actual Rows": 5636, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.505, + "Actual Total Time": 463.158, + "Actual Rows": 4502, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10620, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 16.563, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 16.563, + "Actual Rows": 10493, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 17.627, + "Actual Rows": 10731, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 17.844, + "Actual Rows": 11784, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 15.869, + "Actual Rows": 10365, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 16.673, + "Actual Rows": 10431, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 14.159, + "Actual Rows": 9137, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 16.714, + "Actual Rows": 10969, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.89, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(200%)%'::text) AND (mc.note ~~ '%(worldwide)%'::text))", + "Rows Removed by Filter": 13, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 10493 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 10731 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 11784 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 10365 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 10431 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 9137 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 10969 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_aka_title", + "Relation Name": "aka_title", + "Schema": "public", + "Alias": "at", + "Startup Cost": 0.42, + "Total Cost": 0.52, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 43837, + "Output": ["at.movie_id"], + "Index Cond": "(at.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 5669 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 5592 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 6482 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 4025 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 6913 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 5636 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 4502 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.58, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 13699, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = at.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 1272 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 1159 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 1154 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 1193 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 5596 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 825 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1450 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.08, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.082, + "Actual Rows": 0, + "Actual Loops": 5134, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.note ~~ '%internet%'::text) AND (mi.info ~~ 'USA:% 200%'::text))", + "Rows Removed by Filter": 72, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.110, + "Actual Total Time": 0.110, + "Actual Rows": 0, + "Actual Loops": 942 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.068, + "Actual Rows": 0, + "Actual Loops": 608 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 616 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.133, + "Actual Total Time": 0.133, + "Actual Rows": 0, + "Actual Loops": 750 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 509 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.077, + "Actual Rows": 0, + "Actual Loops": 577 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.075, + "Actual Rows": 0, + "Actual Loops": 495 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 57, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 14 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.066, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 14 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 8 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 57, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 14 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 14 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 8 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.172, + "Actual Total Time": 0.177, + "Actual Rows": 6, + "Actual Loops": 57, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.156, + "Actual Total Time": 0.159, + "Actual Rows": 4, + "Actual Loops": 8 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.243, + "Actual Total Time": 0.249, + "Actual Rows": 6, + "Actual Loops": 14 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.396, + "Actual Total Time": 0.397, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.036, + "Actual Rows": 6, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.174, + "Actual Total Time": 0.175, + "Actual Rows": 1, + "Actual Loops": 14 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.232, + "Actual Total Time": 0.232, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.121, + "Actual Total Time": 0.142, + "Actual Rows": 22, + "Actual Loops": 8 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 328, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 28 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 88 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 19 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 19 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 172 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -460740518707800565, + "Planning Time": 85.929, + "Triggers": [ + ], + "Execution Time": 616.915, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -460740518707800565, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi.info) AS release_date,
       MIN(t.title) AS youtube_movie
FROM aka_title AS at,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code = '[us]'
  AND cn.name = 'YouTube'
  AND it1.info = 'release dates'
  AND mc.note LIKE '%(200%)%'
  AND mc.note LIKE '%(worldwide)%'
  AND mi.note LIKE '%internet%'
  AND mi.info LIKE 'USA:% 200%'
  AND t.production_year BETWEEN 2005 AND 2010
  AND t.id = at.movie_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = at.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = at.movie_id
  AND mc.movie_id = at.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3481.31, + "Total Cost": 3481.32, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 37.203, + "Actual Total Time": 41.646, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3481.26, + "Total Cost": 3481.27, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 24.215, + "Actual Total Time": 41.629, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3480.26, + "Total Cost": 3480.27, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 17.621, + "Actual Total Time": 17.627, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.366, + "Actual Total Time": 15.373, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.771, + "Actual Total Time": 14.777, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.757, + "Actual Total Time": 14.763, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.090, + "Actual Total Time": 15.098, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.979, + "Actual Total Time": 14.986, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.758, + "Actual Total Time": 14.764, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.948, + "Actual Total Time": 27.951, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.85, + "Total Cost": 3480.25, + "Plan Rows": 1, + "Plan Width": 60, + "Actual Startup Time": 17.271, + "Actual Total Time": 17.619, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.361, + "Actual Total Time": 15.367, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.765, + "Actual Total Time": 14.770, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.753, + "Actual Total Time": 14.758, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.085, + "Actual Total Time": 15.092, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.975, + "Actual Total Time": 14.981, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.754, + "Actual Total Time": 14.760, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.177, + "Actual Total Time": 27.917, + "Actual Rows": 37, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.43, + "Total Cost": 3479.82, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 17.263, + "Actual Total Time": 17.572, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mi.info", "mk.keyword_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.360, + "Actual Total Time": 15.366, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.764, + "Actual Total Time": 14.769, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.752, + "Actual Total Time": 14.757, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.085, + "Actual Total Time": 15.091, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.974, + "Actual Total Time": 14.980, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.754, + "Actual Total Time": 14.759, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.119, + "Actual Total Time": 27.552, + "Actual Rows": 37, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.28, + "Total Cost": 3479.62, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 17.256, + "Actual Total Time": 17.558, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mi.info", "mi.info_type_id", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.359, + "Actual Total Time": 15.364, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.764, + "Actual Total Time": 14.768, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.751, + "Actual Total Time": 14.756, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.084, + "Actual Total Time": 15.089, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.973, + "Actual Total Time": 14.978, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.753, + "Actual Total Time": 14.757, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.064, + "Actual Total Time": 27.453, + "Actual Rows": 37, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.85, + "Total Cost": 3478.64, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 14.616, + "Actual Total Time": 16.503, + "Actual Rows": 36, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mk.movie_id", "mk.keyword_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.359, + "Actual Total Time": 15.363, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.763, + "Actual Total Time": 14.767, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.751, + "Actual Total Time": 14.754, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.084, + "Actual Total Time": 15.088, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.972, + "Actual Total Time": 14.976, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.752, + "Actual Total Time": 14.756, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.952, + "Actual Total Time": 19.016, + "Actual Rows": 292, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.41, + "Total Cost": 3477.33, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 14.475, + "Actual Total Time": 15.798, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.358, + "Actual Total Time": 15.361, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.763, + "Actual Total Time": 14.766, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.750, + "Actual Total Time": 14.753, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.083, + "Actual Total Time": 15.086, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.971, + "Actual Total Time": 14.975, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.752, + "Actual Total Time": 14.755, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.828, + "Actual Total Time": 13.388, + "Actual Rows": 26, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.98, + "Total Cost": 3476.75, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 14.468, + "Actual Total Time": 15.711, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.357, + "Actual Total Time": 15.360, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.762, + "Actual Total Time": 14.765, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.750, + "Actual Total Time": 14.752, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.082, + "Actual Total Time": 15.085, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.971, + "Actual Total Time": 14.973, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.751, + "Actual Total Time": 14.754, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.772, + "Actual Total Time": 12.704, + "Actual Rows": 27, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 3476.59, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 14.460, + "Actual Total Time": 15.688, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.357, + "Actual Total Time": 15.359, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.761, + "Actual Total Time": 14.763, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.749, + "Actual Total Time": 14.751, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.082, + "Actual Total Time": 15.083, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.970, + "Actual Total Time": 14.972, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.750, + "Actual Total Time": 14.752, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.719, + "Actual Total Time": 12.526, + "Actual Rows": 27, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 3476.05, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 14.309, + "Actual Total Time": 15.283, + "Actual Rows": 35, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.356, + "Actual Total Time": 15.358, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.761, + "Actual Total Time": 14.762, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.748, + "Actual Total Time": 14.750, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.081, + "Actual Total Time": 15.082, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.969, + "Actual Total Time": 14.970, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.750, + "Actual Total Time": 14.751, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.515, + "Actual Total Time": 9.294, + "Actual Rows": 278, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3435.62, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 14.288, + "Actual Total Time": 14.290, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "(((cn.country_code)::text = '[us]'::text) AND (cn.name = 'YouTube'::text))", + "Rows Removed by Filter": 29374, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.355, + "Actual Total Time": 15.356, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.760, + "Actual Total Time": 14.761, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.748, + "Actual Total Time": 14.748, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.080, + "Actual Total Time": 15.081, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.969, + "Actual Total Time": 14.969, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.749, + "Actual Total Time": 14.750, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.345, + "Actual Total Time": 1.360, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 40.42, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.165, + "Actual Total Time": 7.837, + "Actual Rows": 278, + "Actual Loops": 1, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(200%)%'::text) AND (mc.note ~~ '%(worldwide)%'::text))", + "Rows Removed by Filter": 1180, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.165, + "Actual Total Time": 7.837, + "Actual Rows": 278, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_aka_title", + "Relation Name": "aka_title", + "Schema": "public", + "Alias": "at", + "Startup Cost": 0.42, + "Total Cost": 0.52, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 278, + "Output": ["at.movie_id"], + "Index Cond": "(at.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 278 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 27, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 27 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.58, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 27, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = at.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 27 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 1.01, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.203, + "Actual Total Time": 0.211, + "Actual Rows": 11, + "Actual Loops": 26, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.203, + "Actual Total Time": 0.211, + "Actual Rows": 11, + "Actual Loops": 26 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 292, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.note ~~ '%internet%'::text) AND (mi.info ~~ 'USA:% 200%'::text))", + "Rows Removed by Filter": 29, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 292 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 37, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 37, + "Cache Hits": 36, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 37, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 37 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4209927756710409746, + "Planning Time": 59.024, + "Triggers": [ + ], + "Execution Time": 42.042, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -4209927756710409746, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi.info) AS release_date,
       MIN(t.title) AS modern_american_internet_movie
FROM aka_title AS at,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND mi.note LIKE '%internet%'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'USA:% 199%'
       OR mi.info LIKE 'USA:% 200%')
  AND t.production_year > 1990
  AND t.id = at.movie_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = at.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = at.movie_id
  AND mc.movie_id = at.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 73071.07, + "Total Cost": 73071.08, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1431.929, + "Actual Total Time": 1445.754, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 73071.03, + "Total Cost": 73071.04, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 1430.726, + "Actual Total Time": 1445.725, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 73070.03, + "Total Cost": 73070.04, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1418.316, + "Actual Total Time": 1418.323, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1409.503, + "Actual Total Time": 1409.509, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1421.810, + "Actual Total Time": 1421.816, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1421.745, + "Actual Total Time": 1421.751, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1421.452, + "Actual Total Time": 1421.458, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1406.317, + "Actual Total Time": 1406.323, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1417.832, + "Actual Total Time": 1417.838, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1418.045, + "Actual Total Time": 1418.051, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 73069.99, + "Plan Rows": 8, + "Plan Width": 60, + "Actual Startup Time": 42.258, + "Actual Total Time": 1418.025, + "Actual Rows": 284, + "Actual Loops": 8, + "Output": ["mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.682, + "Actual Total Time": 1409.183, + "Actual Rows": 339, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.437, + "Actual Total Time": 1421.494, + "Actual Rows": 288, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.930, + "Actual Total Time": 1421.493, + "Actual Rows": 272, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.335, + "Actual Total Time": 1421.280, + "Actual Rows": 139, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.543, + "Actual Total Time": 1405.865, + "Actual Rows": 466, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 111.169, + "Actual Total Time": 1417.567, + "Actual Rows": 228, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 86.965, + "Actual Total Time": 1417.977, + "Actual Rows": 58, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 73066.49, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 42.188, + "Actual Total Time": 1414.327, + "Actual Rows": 284, + "Actual Loops": 8, + "Output": ["mi.info", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.605, + "Actual Total Time": 1405.766, + "Actual Rows": 339, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.356, + "Actual Total Time": 1417.394, + "Actual Rows": 288, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.853, + "Actual Total Time": 1418.568, + "Actual Rows": 272, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.266, + "Actual Total Time": 1419.254, + "Actual Rows": 139, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.470, + "Actual Total Time": 1398.077, + "Actual Rows": 466, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 111.086, + "Actual Total Time": 1414.401, + "Actual Rows": 228, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 86.894, + "Actual Total Time": 1417.073, + "Actual Rows": 58, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.41, + "Total Cost": 73065.21, + "Plan Rows": 1, + "Plan Width": 76, + "Actual Startup Time": 28.989, + "Actual Total Time": 1410.350, + "Actual Rows": 36, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.324, + "Actual Total Time": 1391.332, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.759, + "Actual Total Time": 1414.728, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.590, + "Actual Total Time": 1416.411, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.191, + "Actual Total Time": 1416.188, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.134, + "Actual Total Time": 1395.023, + "Actual Rows": 40, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.425, + "Actual Total Time": 1411.766, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 86.573, + "Actual Total Time": 1416.320, + "Actual Rows": 13, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.28, + "Total Cost": 73065.06, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 28.941, + "Actual Total Time": 1410.116, + "Actual Rows": 36, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.278, + "Actual Total Time": 1391.124, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.711, + "Actual Total Time": 1414.395, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.538, + "Actual Total Time": 1416.229, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.144, + "Actual Total Time": 1416.001, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.084, + "Actual Total Time": 1394.762, + "Actual Rows": 40, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.378, + "Actual Total Time": 1411.422, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 86.499, + "Actual Total Time": 1416.179, + "Actual Rows": 13, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.86, + "Total Cost": 73064.61, + "Plan Rows": 1, + "Plan Width": 84, + "Actual Startup Time": 28.876, + "Actual Total Time": 1409.168, + "Actual Rows": 50, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.210, + "Actual Total Time": 1390.352, + "Actual Rows": 34, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.647, + "Actual Total Time": 1413.230, + "Actual Rows": 62, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.471, + "Actual Total Time": 1415.682, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.072, + "Actual Total Time": 1415.256, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.018, + "Actual Total Time": 1393.217, + "Actual Rows": 87, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.309, + "Actual Total Time": 1410.171, + "Actual Rows": 74, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 86.427, + "Actual Total Time": 1415.784, + "Actual Rows": 16, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.43, + "Total Cost": 73064.06, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 21.199, + "Actual Total Time": 1408.516, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["at.movie_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.103, + "Actual Total Time": 1389.847, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.546, + "Actual Total Time": 1412.509, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.363, + "Actual Total Time": 1415.012, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.980, + "Actual Total Time": 1414.785, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.912, + "Actual Total Time": 1392.251, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.022, + "Actual Total Time": 1409.289, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.860, + "Actual Total Time": 1415.447, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 73060.44, + "Plan Rows": 21, + "Plan Width": 76, + "Actual Startup Time": 21.139, + "Actual Total Time": 1408.298, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["at.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.035, + "Actual Total Time": 1389.659, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.490, + "Actual Total Time": 1412.254, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.298, + "Actual Total Time": 1414.825, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.915, + "Actual Total Time": 1414.604, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.841, + "Actual Total Time": 1391.959, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.971, + "Actual Total Time": 1409.027, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.795, + "Actual Total Time": 1415.313, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 33422.65, + "Plan Rows": 35718, + "Plan Width": 25, + "Actual Startup Time": 0.332, + "Actual Total Time": 551.727, + "Actual Rows": 17622, + "Actual Loops": 8, + "Output": ["at.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.346, + "Actual Total Time": 527.497, + "Actual Rows": 17409, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.157, + "Actual Total Time": 547.832, + "Actual Rows": 18132, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.163, + "Actual Total Time": 561.020, + "Actual Rows": 18637, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.151, + "Actual Total Time": 548.526, + "Actual Rows": 16576, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.617, + "Actual Total Time": 585.991, + "Actual Rows": 16745, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.256, + "Actual Total Time": 559.507, + "Actual Rows": 17815, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.307, + "Actual Total Time": 561.964, + "Actual Rows": 18140, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_aka_title", + "Relation Name": "aka_title", + "Schema": "public", + "Alias": "at", + "Startup Cost": 0.42, + "Total Cost": 3432.97, + "Plan Rows": 51639, + "Plan Width": 4, + "Actual Startup Time": 0.093, + "Actual Total Time": 32.695, + "Actual Rows": 45184, + "Actual Loops": 8, + "Output": ["at.movie_id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.154, + "Actual Total Time": 29.628, + "Actual Rows": 44190, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.074, + "Actual Total Time": 31.781, + "Actual Rows": 45775, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.071, + "Actual Total Time": 32.415, + "Actual Rows": 48566, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.062, + "Actual Total Time": 28.463, + "Actual Rows": 42771, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.151, + "Actual Total Time": 31.710, + "Actual Rows": 42649, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.089, + "Actual Total Time": 30.840, + "Actual Rows": 46627, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.109, + "Actual Total Time": 47.161, + "Actual Rows": 47012, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.58, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 361472, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = at.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 44190 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 45775 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 48566 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 42771 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 42649 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 46627 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 47012 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.10, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 140974, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND (mi.note ~~ '%internet%'::text) AND ((mi.info ~~ 'USA:% 199%'::text) OR (mi.info ~~ 'USA:% 200%'::text)))", + "Rows Removed by Filter": 38, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 17409 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 18132 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 18637 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 16576 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 16745 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 17815 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 18140 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 120, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 11 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 17 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 11 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 22 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 21 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.039, + "Actual Rows": 3, + "Actual Loops": 120, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.041, + "Actual Rows": 3, + "Actual Loops": 11 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.038, + "Actual Rows": 4, + "Actual Loops": 17 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.057, + "Actual Rows": 2, + "Actual Loops": 11 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.035, + "Actual Rows": 3, + "Actual Loops": 12 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.040, + "Actual Rows": 4, + "Actual Loops": 22 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.038, + "Actual Rows": 4, + "Actual Loops": 21 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.044, + "Actual Rows": 2, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 400, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 34 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 62 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 24 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 36 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 87 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 74 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 16 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 284, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 31 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 48 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 22 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 27 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 40 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 63 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 13 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.101, + "Actual Total Time": 0.108, + "Actual Rows": 8, + "Actual Loops": 284, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.451, + "Actual Total Time": 0.460, + "Actual Rows": 11, + "Actual Loops": 31 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.052, + "Actual Rows": 6, + "Actual Loops": 48 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.092, + "Actual Rows": 12, + "Actual Loops": 22 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.106, + "Actual Total Time": 0.110, + "Actual Rows": 5, + "Actual Loops": 27 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.071, + "Actual Rows": 12, + "Actual Loops": 40 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.039, + "Actual Rows": 4, + "Actual Loops": 63 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.055, + "Actual Rows": 4, + "Actual Loops": 13 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 2271, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 339 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 288 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 272 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 139 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 466 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 228 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 58 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4486446217020337985, + "Planning Time": 62.786, + "Triggers": [ + ], + "Execution Time": 1446.200, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 4486446217020337985, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(at.title) AS aka_title,
       MIN(t.title) AS internet_movie_title
FROM aka_title AS at,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND mi.note LIKE '%internet%'
  AND t.production_year > 1990
  AND t.id = at.movie_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = at.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = at.movie_id
  AND mc.movie_id = at.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 64242.30, + "Total Cost": 64242.31, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1466.352, + "Actual Total Time": 1492.711, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(at.title)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 64242.25, + "Total Cost": 64242.26, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 1465.186, + "Actual Total Time": 1492.683, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(at.title))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 64241.25, + "Total Cost": 64241.26, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1456.942, + "Actual Total Time": 1456.950, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(at.title)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1456.287, + "Actual Total Time": 1456.295, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1456.833, + "Actual Total Time": 1456.841, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1456.644, + "Actual Total Time": 1456.650, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1455.823, + "Actual Total Time": 1455.831, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1455.184, + "Actual Total Time": 1455.191, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1456.300, + "Actual Total Time": 1456.308, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1454.157, + "Actual Total Time": 1454.164, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.55, + "Total Cost": 64240.26, + "Plan Rows": 197, + "Plan Width": 38, + "Actual Startup Time": 44.598, + "Actual Total Time": 1455.843, + "Actual Rows": 1418, + "Actual Loops": 8, + "Output": ["at.title", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.332, + "Actual Total Time": 1455.225, + "Actual Rows": 1439, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 73.018, + "Actual Total Time": 1456.245, + "Actual Rows": 697, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.609, + "Actual Total Time": 1455.719, + "Actual Rows": 1125, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 96.456, + "Actual Total Time": 1454.777, + "Actual Rows": 1407, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 40.750, + "Actual Total Time": 1454.297, + "Actual Rows": 1021, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 66.446, + "Actual Total Time": 1455.223, + "Actual Rows": 1371, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 42.030, + "Actual Total Time": 1452.293, + "Actual Rows": 2450, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.13, + "Total Cost": 64154.05, + "Plan Rows": 197, + "Plan Width": 42, + "Actual Startup Time": 44.518, + "Actual Total Time": 1441.921, + "Actual Rows": 1418, + "Actual Loops": 8, + "Output": ["at.title", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.258, + "Actual Total Time": 1440.249, + "Actual Rows": 1439, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 72.931, + "Actual Total Time": 1448.943, + "Actual Rows": 697, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.536, + "Actual Total Time": 1444.436, + "Actual Rows": 1125, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 96.357, + "Actual Total Time": 1440.891, + "Actual Rows": 1407, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 40.652, + "Actual Total Time": 1444.950, + "Actual Rows": 1021, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 66.382, + "Actual Total Time": 1441.588, + "Actual Rows": 1371, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 41.937, + "Actual Total Time": 1429.683, + "Actual Rows": 2450, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.70, + "Total Cost": 64145.10, + "Plan Rows": 7, + "Plan Width": 54, + "Actual Startup Time": 24.464, + "Actual Total Time": 1433.426, + "Actual Rows": 109, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mc.movie_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.190, + "Actual Total Time": 1433.833, + "Actual Rows": 83, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.116, + "Actual Total Time": 1436.978, + "Actual Rows": 98, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.456, + "Actual Total Time": 1432.651, + "Actual Rows": 114, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.024, + "Actual Total Time": 1432.795, + "Actual Rows": 84, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.756, + "Actual Total Time": 1440.376, + "Actual Rows": 101, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 66.344, + "Actual Total Time": 1436.054, + "Actual Rows": 98, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.556, + "Actual Total Time": 1419.532, + "Actual Rows": 183, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.56, + "Total Cost": 64144.56, + "Plan Rows": 7, + "Plan Width": 58, + "Actual Startup Time": 24.403, + "Actual Total Time": 1432.959, + "Actual Rows": 109, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.133, + "Actual Total Time": 1433.422, + "Actual Rows": 83, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.068, + "Actual Total Time": 1436.573, + "Actual Rows": 98, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.364, + "Actual Total Time": 1432.100, + "Actual Rows": 114, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.966, + "Actual Total Time": 1432.394, + "Actual Rows": 84, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.665, + "Actual Total Time": 1439.903, + "Actual Rows": 101, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 66.284, + "Actual Total Time": 1435.633, + "Actual Rows": 98, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.501, + "Actual Total Time": 1418.914, + "Actual Rows": 183, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 64135.73, + "Plan Rows": 20, + "Plan Width": 62, + "Actual Startup Time": 19.513, + "Actual Total Time": 1428.561, + "Actual Rows": 262, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.072, + "Actual Total Time": 1429.574, + "Actual Rows": 227, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.019, + "Actual Total Time": 1432.775, + "Actual Rows": 217, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.227, + "Actual Total Time": 1427.087, + "Actual Rows": 298, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.919, + "Actual Total Time": 1428.366, + "Actual Rows": 238, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.122, + "Actual Total Time": 1435.828, + "Actual Rows": 241, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 66.180, + "Actual Total Time": 1432.003, + "Actual Rows": 215, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.449, + "Actual Total Time": 1412.806, + "Actual Rows": 398, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 64132.95, + "Plan Rows": 5, + "Plan Width": 50, + "Actual Startup Time": 19.422, + "Actual Total Time": 1426.135, + "Actual Rows": 73, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.984, + "Actual Total Time": 1427.596, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.940, + "Actual Total Time": 1430.307, + "Actual Rows": 73, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.103, + "Actual Total Time": 1424.367, + "Actual Rows": 81, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.828, + "Actual Total Time": 1426.108, + "Actual Rows": 66, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.019, + "Actual Total Time": 1433.405, + "Actual Rows": 73, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 66.111, + "Actual Total Time": 1429.812, + "Actual Rows": 69, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.340, + "Actual Total Time": 1409.798, + "Actual Rows": 92, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 64129.70, + "Plan Rows": 514, + "Plan Width": 54, + "Actual Startup Time": 19.304, + "Actual Total Time": 1425.557, + "Actual Rows": 83, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.894, + "Actual Total Time": 1427.057, + "Actual Rows": 73, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.875, + "Actual Total Time": 1429.825, + "Actual Rows": 80, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.001, + "Actual Total Time": 1423.897, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.750, + "Actual Total Time": 1425.677, + "Actual Rows": 77, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.917, + "Actual Total Time": 1432.959, + "Actual Rows": 81, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 66.018, + "Actual Total Time": 1429.388, + "Actual Rows": 79, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.258, + "Actual Total Time": 1409.303, + "Actual Rows": 101, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 32884.74, + "Plan Rows": 31253, + "Plan Width": 46, + "Actual Startup Time": 0.164, + "Actual Total Time": 613.270, + "Actual Rows": 17622, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.142, + "Actual Total Time": 619.146, + "Actual Rows": 17935, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.136, + "Actual Total Time": 621.785, + "Actual Rows": 17703, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.210, + "Actual Total Time": 611.840, + "Actual Rows": 17976, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.105, + "Actual Total Time": 608.352, + "Actual Rows": 17206, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.111, + "Actual Total Time": 614.191, + "Actual Rows": 17605, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.394, + "Actual Total Time": 614.229, + "Actual Rows": 17712, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.138, + "Actual Total Time": 598.241, + "Actual Rows": 17148, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "aka_title", + "Schema": "public", + "Alias": "at", + "Startup Cost": 0.00, + "Total Cost": 6643.84, + "Plan Rows": 45184, + "Plan Width": 25, + "Actual Startup Time": 0.039, + "Actual Total Time": 28.331, + "Actual Rows": 45184, + "Actual Loops": 8, + "Output": ["at.id", "at.movie_id", "at.title", "at.imdb_index", "at.kind_id", "at.production_year", "at.phonetic_code", "at.episode_of_id", "at.season_nr", "at.episode_nr", "at.note", "at.md5sum"],+ "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.039, + "Actual Total Time": 28.503, + "Actual Rows": 46043, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 27.974, + "Actual Rows": 45848, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.064, + "Actual Total Time": 27.222, + "Actual Rows": 45689, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 25.868, + "Actual Rows": 44520, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 28.399, + "Actual Rows": 45117, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.040, + "Actual Total Time": 32.878, + "Actual Rows": 45024, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.046, + "Actual Total Time": 27.432, + "Actual Rows": 43592, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.58, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 361472, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"], + "Index Cond": "(t.id = at.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 46043 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 45848 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 45689 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 44520 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 45117 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 45024 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 43592 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.99, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 140974, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.note ~~ '%internet%'::text)", + "Rows Removed by Filter": 38, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 17935 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 17703 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 17976 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 17206 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 17605 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 17712 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 17148 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.054, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.029, + "Actual Rows": 4, + "Actual Loops": 584, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.029, + "Actual Rows": 4, + "Actual Loops": 59 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.029, + "Actual Rows": 3, + "Actual Loops": 73 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.029, + "Actual Rows": 4, + "Actual Loops": 81 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.029, + "Actual Rows": 4, + "Actual Loops": 66 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.029, + "Actual Rows": 3, + "Actual Loops": 73 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.028, + "Actual Rows": 3, + "Actual Loops": 69 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.028, + "Actual Rows": 4, + "Actual Loops": 92 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 2099, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 227 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 217 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 298 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 238 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 241 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 215 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 398 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 875, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 112, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 83, + "Cache Hits": 81, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 98, + "Cache Hits": 96, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 114, + "Cache Hits": 112, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 84, + "Cache Hits": 82, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 101, + "Cache Hits": 99, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 98, + "Cache Hits": 96, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 183, + "Cache Hits": 181, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.072, + "Actual Rows": 13, + "Actual Loops": 875, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.070, + "Actual Rows": 17, + "Actual Loops": 83 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.113, + "Actual Total Time": 0.118, + "Actual Rows": 7, + "Actual Loops": 98 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.090, + "Actual Total Time": 0.098, + "Actual Rows": 10, + "Actual Loops": 114 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.089, + "Actual Rows": 17, + "Actual Loops": 84 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.040, + "Actual Rows": 10, + "Actual Loops": 101 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.050, + "Actual Rows": 14, + "Actual Loops": 98 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.049, + "Actual Rows": 13, + "Actual Loops": 183 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 11347, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1439 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 697 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1125 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1407 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1021 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1371 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 2450 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -321921298358758659, + "Planning Time": 57.313, + "Triggers": [ + ], + "Execution Time": 1493.122, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -321921298358758659, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(an.name) AS cool_actor_pseudonym,
       MIN(t.title) AS series_named_after_char
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND t.episode_nr >= 50
  AND t.episode_nr < 100
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1355.36, + "Total Cost": 1355.37, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 461.784, + "Actual Total Time": 461.932, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1355.31, + "Total Cost": 1355.32, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 461.764, + "Actual Total Time": 461.923, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1354.31, + "Total Cost": 1354.32, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 63.667, + "Actual Total Time": 63.673, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.536, + "Actual Total Time": 4.542, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.708, + "Actual Total Time": 6.714, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.664, + "Actual Total Time": 7.671, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.678, + "Actual Total Time": 7.683, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.544, + "Actual Total Time": 6.550, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.656, + "Actual Total Time": 7.663, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.636, + "Actual Total Time": 7.640, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.01, + "Total Cost": 1354.27, + "Plan Rows": 9, + "Plan Width": 33, + "Actual Startup Time": 8.418, + "Actual Total Time": 63.638, + "Actual Rows": 48, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.532, + "Actual Total Time": 4.538, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.704, + "Actual Total Time": 6.710, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.659, + "Actual Total Time": 7.665, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.673, + "Actual Total Time": 7.678, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.539, + "Actual Total Time": 6.545, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.651, + "Actual Total Time": 7.657, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.630, + "Actual Total Time": 7.634, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 1352.33, + "Plan Rows": 4, + "Plan Width": 25, + "Actual Startup Time": 8.411, + "Actual Total Time": 62.168, + "Actual Rows": 40, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.532, + "Actual Total Time": 4.536, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.703, + "Actual Total Time": 6.708, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.658, + "Actual Total Time": 7.663, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.672, + "Actual Total Time": 7.676, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.538, + "Actual Total Time": 6.543, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.650, + "Actual Total Time": 7.656, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.629, + "Actual Total Time": 7.633, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 1350.54, + "Plan Rows": 4, + "Plan Width": 21, + "Actual Startup Time": 8.406, + "Actual Total Time": 61.723, + "Actual Rows": 40, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.531, + "Actual Total Time": 4.535, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.703, + "Actual Total Time": 6.707, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.657, + "Actual Total Time": 7.662, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.671, + "Actual Total Time": 7.675, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.537, + "Actual Total Time": 6.541, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.649, + "Actual Total Time": 7.654, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.628, + "Actual Total Time": 7.631, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 1348.98, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 8.400, + "Actual Total Time": 61.393, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.530, + "Actual Total Time": 4.534, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.702, + "Actual Total Time": 6.706, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.656, + "Actual Total Time": 7.660, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.670, + "Actual Total Time": 7.673, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.537, + "Actual Total Time": 6.540, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.648, + "Actual Total Time": 7.652, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.628, + "Actual Total Time": 7.630, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1348.54, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 8.366, + "Actual Total Time": 61.296, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.530, + "Actual Total Time": 4.532, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.701, + "Actual Total Time": 6.704, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.655, + "Actual Total Time": 7.658, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.670, + "Actual Total Time": 7.672, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.536, + "Actual Total Time": 6.539, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.647, + "Actual Total Time": 7.650, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.627, + "Actual Total Time": 7.629, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1347.98, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 7.810, + "Actual Total Time": 61.120, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.529, + "Actual Total Time": 4.531, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.701, + "Actual Total Time": 6.702, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.654, + "Actual Total Time": 7.656, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.669, + "Actual Total Time": 7.670, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.535, + "Actual Total Time": 6.538, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.647, + "Actual Total Time": 7.649, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.626, + "Actual Total Time": 7.628, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.67, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 6.262, + "Actual Total Time": 18.522, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.529, + "Actual Total Time": 4.530, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.700, + "Actual Total Time": 6.701, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.654, + "Actual Total Time": 7.655, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.668, + "Actual Total Time": 7.669, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.535, + "Actual Total Time": 6.536, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.646, + "Actual Total Time": 7.647, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.626, + "Actual Total Time": 7.627, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.250, + "Actual Total Time": 6.251, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.528, + "Actual Total Time": 4.529, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.699, + "Actual Total Time": 6.699, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.653, + "Actual Total Time": 7.653, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.668, + "Actual Total Time": 7.668, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.534, + "Actual Total Time": 6.534, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.645, + "Actual Total Time": 7.646, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.625, + "Actual Total Time": 7.625, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.081, + "Actual Total Time": 89.608, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 41840, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.episode_nr >= 50) AND (t.episode_nr < 100))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 146, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 54, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.099, + "Actual Rows": 13, + "Actual Loops": 25, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 323, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 323, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 816913887554954199, + "Planning Time": 27.931, + "Triggers": [ + ], + "Execution Time": 462.277, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 816913887554954199, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS cool_actor_pseudonym,
       MIN(t.title) AS series_named_after_char
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1519.33, + "Total Cost": 1519.34, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 49565.101, + "Actual Total Time": 49565.277, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1519.29, + "Total Cost": 1519.30, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 49565.082, + "Actual Total Time": 49565.267, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1518.29, + "Total Cost": 1518.30, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 6200.556, + "Actual Total Time": 6200.560, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.913, + "Actual Total Time": 4.918, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.474, + "Actual Total Time": 7.478, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.701, + "Actual Total Time": 7.706, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.709, + "Actual Total Time": 7.714, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.446, + "Actual Total Time": 2.450, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.464, + "Actual Total Time": 2.468, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.697, + "Actual Total Time": 7.702, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.01, + "Total Cost": 1516.65, + "Plan Rows": 327, + "Plan Width": 33, + "Actual Startup Time": 5.441, + "Actual Total Time": 6005.370, + "Actual Rows": 463824, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.907, + "Actual Total Time": 4.911, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.469, + "Actual Total Time": 7.473, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.697, + "Actual Total Time": 7.702, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.705, + "Actual Total Time": 7.709, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.442, + "Actual Total Time": 2.446, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.460, + "Actual Total Time": 2.465, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.693, + "Actual Total Time": 7.698, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 1441.67, + "Plan Rows": 155, + "Plan Width": 25, + "Actual Startup Time": 5.428, + "Actual Total Time": 3358.523, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.906, + "Actual Total Time": 4.910, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.469, + "Actual Total Time": 7.472, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.697, + "Actual Total Time": 7.701, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.704, + "Actual Total Time": 7.708, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.442, + "Actual Total Time": 2.445, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.459, + "Actual Total Time": 2.463, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.693, + "Actual Total Time": 7.697, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 1372.25, + "Plan Rows": 155, + "Plan Width": 21, + "Actual Startup Time": 5.421, + "Actual Total Time": 1033.580, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.905, + "Actual Total Time": 4.908, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.468, + "Actual Total Time": 7.471, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.696, + "Actual Total Time": 7.699, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.703, + "Actual Total Time": 7.707, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.441, + "Actual Total Time": 2.444, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.459, + "Actual Total Time": 2.462, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.692, + "Actual Total Time": 7.696, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 1359.99, + "Plan Rows": 8, + "Plan Width": 29, + "Actual Startup Time": 5.304, + "Actual Total Time": 283.065, + "Actual Rows": 8540, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.905, + "Actual Total Time": 4.908, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.467, + "Actual Total Time": 7.470, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.695, + "Actual Total Time": 7.698, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.703, + "Actual Total Time": 7.705, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.441, + "Actual Total Time": 2.443, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.458, + "Actual Total Time": 2.461, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.691, + "Actual Total Time": 7.695, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1350.71, + "Plan Rows": 21, + "Plan Width": 33, + "Actual Startup Time": 5.287, + "Actual Total Time": 127.383, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.904, + "Actual Total Time": 4.907, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.466, + "Actual Total Time": 7.468, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.694, + "Actual Total Time": 7.696, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.702, + "Actual Total Time": 7.704, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.440, + "Actual Total Time": 2.442, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.458, + "Actual Total Time": 2.459, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.691, + "Actual Total Time": 7.693, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1347.96, + "Plan Rows": 5, + "Plan Width": 25, + "Actual Startup Time": 5.271, + "Actual Total Time": 65.661, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.904, + "Actual Total Time": 4.905, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.466, + "Actual Total Time": 7.467, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.694, + "Actual Total Time": 7.695, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.701, + "Actual Total Time": 7.703, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.440, + "Actual Total Time": 2.441, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.457, + "Actual Total Time": 2.458, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.690, + "Actual Total Time": 7.692, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.67, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 5.265, + "Actual Total Time": 18.773, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.903, + "Actual Total Time": 4.904, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.465, + "Actual Total Time": 7.466, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.693, + "Actual Total Time": 7.694, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.701, + "Actual Total Time": 7.701, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.440, + "Actual Total Time": 2.440, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.457, + "Actual Total Time": 2.457, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.689, + "Actual Total Time": 7.690, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.251, + "Actual Total Time": 5.252, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.903, + "Actual Total Time": 4.903, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.464, + "Actual Total Time": 7.465, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.692, + "Actual Total Time": 7.692, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.700, + "Actual Total Time": 7.700, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.439, + "Actual Total Time": 2.439, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.456, + "Actual Total Time": 2.457, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.689, + "Actual Total Time": 7.689, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.099, + "Actual Total Time": 96.482, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 41840, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.010, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 148552, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.18, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.079, + "Actual Rows": 41, + "Actual Loops": 68316, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 2832555, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 2832555, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3350265702090035455, + "Planning Time": 28.154, + "Triggers": [ + ], + "Execution Time": 49565.693, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 3350265702090035455, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS cool_actor_pseudonym,
       MIN(t.title) AS series_named_after_char
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND t.episode_nr < 100
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1412.99, + "Total Cost": 1413.00, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 4317.493, + "Actual Total Time": 4317.661, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1412.95, + "Total Cost": 1412.96, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 4317.475, + "Actual Total Time": 4317.652, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1411.95, + "Total Cost": 1411.96, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 545.354, + "Actual Total Time": 545.360, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.719, + "Actual Total Time": 7.725, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.348, + "Actual Total Time": 7.353, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.991, + "Actual Total Time": 7.996, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.733, + "Actual Total Time": 3.737, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.158, + "Actual Total Time": 8.165, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.423, + "Actual Total Time": 7.429, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.805, + "Actual Total Time": 3.811, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.01, + "Total Cost": 1411.34, + "Plan Rows": 122, + "Plan Width": 33, + "Actual Startup Time": 6.118, + "Actual Total Time": 528.709, + "Actual Rows": 39992, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.714, + "Actual Total Time": 7.720, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.343, + "Actual Total Time": 7.348, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.986, + "Actual Total Time": 7.991, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.728, + "Actual Total Time": 3.732, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.153, + "Actual Total Time": 8.160, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.419, + "Actual Total Time": 7.425, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.799, + "Actual Total Time": 3.805, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 1383.28, + "Plan Rows": 58, + "Plan Width": 25, + "Actual Startup Time": 6.113, + "Actual Total Time": 321.000, + "Actual Rows": 27701, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.714, + "Actual Total Time": 7.718, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.342, + "Actual Total Time": 7.347, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.985, + "Actual Total Time": 7.989, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.728, + "Actual Total Time": 3.731, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.152, + "Actual Total Time": 8.158, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.418, + "Actual Total Time": 7.423, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.798, + "Actual Total Time": 3.803, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 1357.30, + "Plan Rows": 58, + "Plan Width": 21, + "Actual Startup Time": 6.106, + "Actual Total Time": 142.234, + "Actual Rows": 27701, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.713, + "Actual Total Time": 7.717, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.342, + "Actual Total Time": 7.345, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.985, + "Actual Total Time": 7.988, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.727, + "Actual Total Time": 3.730, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.152, + "Actual Total Time": 8.156, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.417, + "Actual Total Time": 7.421, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.797, + "Actual Total Time": 3.802, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 1352.61, + "Plan Rows": 3, + "Plan Width": 29, + "Actual Startup Time": 6.098, + "Actual Total Time": 76.984, + "Actual Rows": 1067, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.713, + "Actual Total Time": 7.716, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.341, + "Actual Total Time": 7.344, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.984, + "Actual Total Time": 7.987, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.726, + "Actual Total Time": 3.729, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.151, + "Actual Total Time": 8.155, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.417, + "Actual Total Time": 7.419, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.797, + "Actual Total Time": 3.800, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1349.08, + "Plan Rows": 8, + "Plan Width": 33, + "Actual Startup Time": 5.989, + "Actual Total Time": 66.594, + "Actual Rows": 1426, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.712, + "Actual Total Time": 7.715, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.340, + "Actual Total Time": 7.343, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.983, + "Actual Total Time": 7.986, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.726, + "Actual Total Time": 3.728, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.150, + "Actual Total Time": 8.153, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.416, + "Actual Total Time": 7.418, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.796, + "Actual Total Time": 3.799, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1347.97, + "Plan Rows": 2, + "Plan Width": 25, + "Actual Startup Time": 5.969, + "Actual Total Time": 58.490, + "Actual Rows": 866, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.712, + "Actual Total Time": 7.713, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.340, + "Actual Total Time": 7.341, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.983, + "Actual Total Time": 7.984, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.725, + "Actual Total Time": 3.727, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.149, + "Actual Total Time": 8.151, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.415, + "Actual Total Time": 7.417, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.795, + "Actual Total Time": 3.797, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.67, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 5.963, + "Actual Total Time": 16.366, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.711, + "Actual Total Time": 7.712, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.339, + "Actual Total Time": 7.340, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.982, + "Actual Total Time": 7.983, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.725, + "Actual Total Time": 3.725, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.149, + "Actual Total Time": 8.150, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.415, + "Actual Total Time": 7.415, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.795, + "Actual Total Time": 3.796, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.948, + "Actual Total Time": 5.950, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.710, + "Actual Total Time": 7.711, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.338, + "Actual Total Time": 7.339, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.981, + "Actual Total Time": 7.981, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.724, + "Actual Total Time": 3.724, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.148, + "Actual Total Time": 8.148, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.414, + "Actual Total Time": 7.414, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.793, + "Actual Total Time": 3.794, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.099, + "Actual Total Time": 74.705, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 41840, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.episode_nr < 100)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 2, + "Actual Loops": 6926, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 11406, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.053, + "Actual Rows": 26, + "Actual Loops": 8538, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 221609, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 221609, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 607840843579539521, + "Planning Time": 49.268, + "Triggers": [ + ], + "Execution Time": 4317.995, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 607840843579539521, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS cool_actor_pseudonym,
       MIN(t.title) AS series_named_after_char
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND t.episode_nr >= 5
  AND t.episode_nr < 100
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1394.93, + "Total Cost": 1394.94, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 3466.576, + "Actual Total Time": 3466.743, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1394.89, + "Total Cost": 1394.90, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 3466.557, + "Actual Total Time": 3466.733, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1393.89, + "Total Cost": 1393.90, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 439.724, + "Actual Total Time": 439.729, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.581, + "Actual Total Time": 5.588, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.657, + "Actual Total Time": 7.662, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.689, + "Actual Total Time": 7.695, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.300, + "Actual Total Time": 8.305, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.154, + "Actual Total Time": 6.161, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.383, + "Actual Total Time": 8.389, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.388, + "Actual Total Time": 8.395, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.01, + "Total Cost": 1393.44, + "Plan Rows": 89, + "Plan Width": 33, + "Actual Startup Time": 6.911, + "Actual Total Time": 425.993, + "Actual Rows": 31182, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.577, + "Actual Total Time": 5.582, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.652, + "Actual Total Time": 7.656, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.683, + "Actual Total Time": 7.689, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.295, + "Actual Total Time": 8.300, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.150, + "Actual Total Time": 6.156, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.379, + "Actual Total Time": 8.384, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.384, + "Actual Total Time": 8.390, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 1373.12, + "Plan Rows": 42, + "Plan Width": 25, + "Actual Startup Time": 6.906, + "Actual Total Time": 256.769, + "Actual Rows": 21159, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.576, + "Actual Total Time": 5.581, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.652, + "Actual Total Time": 7.655, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.682, + "Actual Total Time": 7.688, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.294, + "Actual Total Time": 8.298, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.149, + "Actual Total Time": 6.154, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.378, + "Actual Total Time": 8.383, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.383, + "Actual Total Time": 8.389, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 1354.31, + "Plan Rows": 42, + "Plan Width": 21, + "Actual Startup Time": 6.899, + "Actual Total Time": 111.818, + "Actual Rows": 21159, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.575, + "Actual Total Time": 5.579, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.651, + "Actual Total Time": 7.654, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.681, + "Actual Total Time": 7.686, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.294, + "Actual Total Time": 8.297, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.149, + "Actual Total Time": 6.153, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.377, + "Actual Total Time": 8.381, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.383, + "Actual Total Time": 8.387, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 1351.19, + "Plan Rows": 2, + "Plan Width": 29, + "Actual Startup Time": 6.891, + "Actual Total Time": 66.334, + "Actual Rows": 846, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.575, + "Actual Total Time": 5.578, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.650, + "Actual Total Time": 7.653, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.681, + "Actual Total Time": 7.684, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.293, + "Actual Total Time": 8.296, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.148, + "Actual Total Time": 6.151, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.376, + "Actual Total Time": 8.380, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.382, + "Actual Total Time": 8.386, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1348.54, + "Plan Rows": 6, + "Plan Width": 33, + "Actual Startup Time": 6.782, + "Actual Total Time": 58.116, + "Actual Rows": 1083, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.574, + "Actual Total Time": 5.577, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.650, + "Actual Total Time": 7.652, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.680, + "Actual Total Time": 7.683, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.293, + "Actual Total Time": 8.295, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.147, + "Actual Total Time": 6.150, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.376, + "Actual Total Time": 8.378, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.381, + "Actual Total Time": 8.384, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1347.98, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 6.761, + "Actual Total Time": 52.032, + "Actual Rows": 673, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.573, + "Actual Total Time": 5.575, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.649, + "Actual Total Time": 7.650, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.679, + "Actual Total Time": 7.681, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.291, + "Actual Total Time": 8.293, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.146, + "Actual Total Time": 6.148, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.375, + "Actual Total Time": 8.377, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.380, + "Actual Total Time": 8.382, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.67, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 6.754, + "Actual Total Time": 13.458, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.573, + "Actual Total Time": 5.574, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.648, + "Actual Total Time": 7.649, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.679, + "Actual Total Time": 7.680, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.291, + "Actual Total Time": 8.292, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.146, + "Actual Total Time": 6.147, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.374, + "Actual Total Time": 8.375, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.379, + "Actual Total Time": 8.380, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.739, + "Actual Total Time": 6.741, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.572, + "Actual Total Time": 5.573, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.647, + "Actual Total Time": 7.648, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.678, + "Actual Total Time": 7.678, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.290, + "Actual Total Time": 8.290, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.145, + "Actual Total Time": 6.145, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.373, + "Actual Total Time": 8.374, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.379, + "Actual Total Time": 8.379, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.104, + "Actual Total Time": 45.391, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 41840, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.episode_nr >= 5) AND (t.episode_nr < 100))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 2, + "Actual Loops": 5385, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 8661, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.046, + "Actual Rows": 25, + "Actual Loops": 6766, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 169273, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 169273, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 816913887554954199, + "Planning Time": 52.102, + "Triggers": [ + ], + "Execution Time": 3467.108, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 816913887554954199, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_american_movie,
       MIN(n.name) AS a1
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND n.name LIKE 'B%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1443.33, + "Total Cost": 1443.34, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 28441.739, + "Actual Total Time": 28441.888, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1443.31, + "Total Cost": 1443.32, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 28441.713, + "Actual Total Time": 28441.881, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1442.31, + "Total Cost": 1442.32, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 3560.096, + "Actual Total Time": 3560.101, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.911, + "Actual Total Time": 3.915, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.776, + "Actual Total Time": 5.781, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.523, + "Actual Total Time": 6.528, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.517, + "Actual Total Time": 6.522, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.531, + "Actual Total Time": 6.536, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.145, + "Actual Total Time": 6.148, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.507, + "Actual Total Time": 4.511, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 1442.28, + "Plan Rows": 12, + "Plan Width": 15, + "Actual Startup Time": 5.351, + "Actual Total Time": 3545.751, + "Actual Rows": 32286, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.908, + "Actual Total Time": 3.912, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.772, + "Actual Total Time": 5.776, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.518, + "Actual Total Time": 6.522, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.513, + "Actual Total Time": 6.517, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.528, + "Actual Total Time": 6.533, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.140, + "Actual Total Time": 6.144, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.502, + "Actual Total Time": 4.506, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 1372.21, + "Plan Rows": 155, + "Plan Width": 4, + "Actual Startup Time": 5.333, + "Actual Total Time": 939.019, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["ci.person_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.908, + "Actual Total Time": 3.911, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.771, + "Actual Total Time": 5.775, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.517, + "Actual Total Time": 6.521, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.513, + "Actual Total Time": 6.516, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.527, + "Actual Total Time": 6.531, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.140, + "Actual Total Time": 6.143, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.501, + "Actual Total Time": 4.505, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 1359.94, + "Plan Rows": 8, + "Plan Width": 12, + "Actual Startup Time": 5.217, + "Actual Total Time": 254.146, + "Actual Rows": 8540, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.907, + "Actual Total Time": 3.910, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.771, + "Actual Total Time": 5.773, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.516, + "Actual Total Time": 6.519, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.512, + "Actual Total Time": 6.515, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.527, + "Actual Total Time": 6.530, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.139, + "Actual Total Time": 6.142, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.501, + "Actual Total Time": 4.503, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1350.67, + "Plan Rows": 21, + "Plan Width": 16, + "Actual Startup Time": 5.202, + "Actual Total Time": 107.272, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.907, + "Actual Total Time": 3.909, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.770, + "Actual Total Time": 5.772, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.515, + "Actual Total Time": 6.517, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.511, + "Actual Total Time": 6.513, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.526, + "Actual Total Time": 6.528, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.138, + "Actual Total Time": 6.140, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.500, + "Actual Total Time": 4.502, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1347.91, + "Plan Rows": 5, + "Plan Width": 8, + "Actual Startup Time": 5.191, + "Actual Total Time": 49.998, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.906, + "Actual Total Time": 3.908, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.769, + "Actual Total Time": 5.771, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.514, + "Actual Total Time": 6.516, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.511, + "Actual Total Time": 6.512, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.525, + "Actual Total Time": 6.527, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.138, + "Actual Total Time": 6.139, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.500, + "Actual Total Time": 4.501, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.67, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 5.185, + "Actual Total Time": 16.072, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.905, + "Actual Total Time": 3.906, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.768, + "Actual Total Time": 5.769, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.514, + "Actual Total Time": 6.514, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.510, + "Actual Total Time": 6.511, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.525, + "Actual Total Time": 6.525, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.137, + "Actual Total Time": 6.138, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.500, + "Actual Total Time": 4.500, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.161, + "Actual Total Time": 5.162, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.905, + "Actual Total Time": 3.905, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.768, + "Actual Total Time": 5.768, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.513, + "Actual Total Time": 6.513, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.510, + "Actual Total Time": 6.510, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.524, + "Actual Total Time": 6.524, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.136, + "Actual Total Time": 6.136, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.499, + "Actual Total Time": 4.499, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.180, + "Actual Total Time": 77.099, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840, + "Output": ["t.id"], + "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.010, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 148552, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.18, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.072, + "Actual Rows": 41, + "Actual Loops": 68316, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 2832555, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"],+ "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ 'B%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -917204397272063480, + "Planning Time": 16.874, + "Triggers": [ + ], + "Execution Time": 28442.188, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -917204397272063480, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie,
       MIN(n.name) AS a1
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword ='character-name-in-title'
  AND n.name LIKE 'Z%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1433.23, + "Total Cost": 1433.24, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 13815.955, + "Actual Total Time": 13816.105, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1433.20, + "Total Cost": 1433.21, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 13815.929, + "Actual Total Time": 13816.097, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1432.20, + "Total Cost": 1432.21, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1733.066, + "Actual Total Time": 1733.072, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.293, + "Actual Total Time": 7.299, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.418, + "Actual Total Time": 6.423, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.149, + "Actual Total Time": 7.154, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.298, + "Actual Total Time": 7.304, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.214, + "Actual Total Time": 7.222, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.147, + "Actual Total Time": 7.152, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.931, + "Actual Total Time": 6.938, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 1432.19, + "Plan Rows": 3, + "Plan Width": 15, + "Actual Startup Time": 8.312, + "Actual Total Time": 1730.033, + "Actual Rows": 6538, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.289, + "Actual Total Time": 7.293, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.413, + "Actual Total Time": 6.419, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.144, + "Actual Total Time": 7.148, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.294, + "Actual Total Time": 7.299, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.209, + "Actual Total Time": 7.215, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.142, + "Actual Total Time": 7.147, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.926, + "Actual Total Time": 6.933, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.16, + "Total Cost": 1430.88, + "Plan Rows": 3, + "Plan Width": 19, + "Actual Startup Time": 8.307, + "Actual Total Time": 1688.927, + "Actual Rows": 6538, + "Actual Loops": 8, + "Output": ["mc.company_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.288, + "Actual Total Time": 7.292, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.413, + "Actual Total Time": 6.418, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.143, + "Actual Total Time": 7.147, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.293, + "Actual Total Time": 7.298, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.208, + "Actual Total Time": 7.213, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.142, + "Actual Total Time": 7.146, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.925, + "Actual Total Time": 6.931, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1430.34, + "Plan Rows": 1, + "Plan Width": 27, + "Actual Startup Time": 8.301, + "Actual Total Time": 1673.371, + "Actual Rows": 830, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.287, + "Actual Total Time": 7.290, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.412, + "Actual Total Time": 6.416, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.143, + "Actual Total Time": 7.146, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.293, + "Actual Total Time": 7.297, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.207, + "Actual Total Time": 7.212, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.141, + "Actual Total Time": 7.144, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.924, + "Actual Total Time": 6.929, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1429.89, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 8.295, + "Actual Total Time": 1665.972, + "Actual Rows": 830, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.286, + "Actual Total Time": 7.289, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.412, + "Actual Total Time": 6.415, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.142, + "Actual Total Time": 7.144, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.292, + "Actual Total Time": 7.295, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.206, + "Actual Total Time": 7.210, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.140, + "Actual Total Time": 7.143, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.924, + "Actual Total Time": 6.927, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 1353.05, + "Plan Rows": 170, + "Plan Width": 12, + "Actual Startup Time": 6.443, + "Actual Total Time": 472.519, + "Actual Rows": 129799, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.286, + "Actual Total Time": 7.287, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.411, + "Actual Total Time": 6.413, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.141, + "Actual Total Time": 7.143, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.291, + "Actual Total Time": 7.293, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.206, + "Actual Total Time": 7.208, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.140, + "Actual Total Time": 7.142, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.923, + "Actual Total Time": 6.925, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.67, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 6.434, + "Actual Total Time": 16.421, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.285, + "Actual Total Time": 7.286, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.411, + "Actual Total Time": 6.412, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.141, + "Actual Total Time": 7.142, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.290, + "Actual Total Time": 7.291, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.205, + "Actual Total Time": 7.206, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.139, + "Actual Total Time": 7.140, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.922, + "Actual Total Time": 6.923, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.417, + "Actual Total Time": 6.419, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.284, + "Actual Total Time": 7.285, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.410, + "Actual Total Time": 6.410, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.140, + "Actual Total Time": 7.140, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.290, + "Actual Total Time": 7.290, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.204, + "Actual Total Time": 7.204, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.138, + "Actual Total Time": 7.139, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.921, + "Actual Total Time": 6.922, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.115, + "Actual Total Time": 69.281, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.081, + "Actual Rows": 25, + "Actual Loops": 41840, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1038393, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"],+ "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ 'Z%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 6642, + "Output": ["t.id"], + "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.016, + "Actual Rows": 8, + "Actual Loops": 6642, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 52306, + "Output": ["cn.id"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5459870143170781696, + "Planning Time": 18.711, + "Triggers": [ + ], + "Execution Time": 13816.482, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -5459870143170781696, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie,
       MIN(n.name) AS a1
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword ='character-name-in-title'
  AND n.name LIKE 'X%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1432.32, + "Total Cost": 1432.33, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 13329.207, + "Actual Total Time": 13329.394, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(n.name)"], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 1432.32, + "Plan Rows": 1, + "Plan Width": 15, + "Actual Startup Time": 145.211, + "Actual Total Time": 13327.859, + "Actual Rows": 1918, + "Actual Loops": 1, + "Output": ["n.name"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.15, + "Total Cost": 1431.87, + "Plan Rows": 1, + "Plan Width": 27, + "Actual Startup Time": 145.177, + "Actual Total Time": 13315.470, + "Actual Rows": 1918, + "Actual Loops": 1, + "Output": ["ci.movie_id", "mc.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.73, + "Total Cost": 1431.43, + "Plan Rows": 1, + "Plan Width": 31, + "Actual Startup Time": 145.157, + "Actual Total Time": 13300.766, + "Actual Rows": 1918, + "Actual Loops": 1, + "Output": ["ci.movie_id", "mc.movie_id", "mc.company_id", "mk.movie_id", "n.name"], + "Inner Unique": false, + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.30, + "Total Cost": 1430.89, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 145.120, + "Actual Total Time": 13294.091, + "Actual Rows": 250, + "Actual Loops": 1, + "Output": ["ci.movie_id", "mk.movie_id", "n.name"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1429.89, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 23.892, + "Actual Total Time": 1667.467, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.802, + "Actual Total Time": 4.804, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.962, + "Actual Total Time": 7.965, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.507, + "Actual Total Time": 6.511, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.546, + "Actual Total Time": 7.549, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.517, + "Actual Total Time": 6.520, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.383, + "Actual Total Time": 8.386, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.605, + "Actual Total Time": 5.608, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 1353.05, + "Plan Rows": 170, + "Plan Width": 12, + "Actual Startup Time": 6.302, + "Actual Total Time": 473.124, + "Actual Rows": 129799, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.801, + "Actual Total Time": 4.803, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.962, + "Actual Total Time": 7.964, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.506, + "Actual Total Time": 6.509, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.545, + "Actual Total Time": 7.547, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.516, + "Actual Total Time": 6.518, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.382, + "Actual Total Time": 8.383, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.604, + "Actual Total Time": 5.606, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.67, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 6.294, + "Actual Total Time": 16.418, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.800, + "Actual Total Time": 4.801, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.961, + "Actual Total Time": 7.962, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.505, + "Actual Total Time": 6.507, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.544, + "Actual Total Time": 7.545, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.515, + "Actual Total Time": 6.517, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.381, + "Actual Total Time": 8.382, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.604, + "Actual Total Time": 5.605, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.280, + "Actual Total Time": 6.281, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.800, + "Actual Total Time": 4.800, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.960, + "Actual Total Time": 7.960, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.504, + "Actual Total Time": 6.505, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.544, + "Actual Total Time": 7.544, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.508, + "Actual Total Time": 6.508, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.380, + "Actual Total Time": 8.380, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.603, + "Actual Total Time": 5.604, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.092, + "Actual Total Time": 70.236, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.081, + "Actual Rows": 25, + "Actual Loops": 41840, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1038393, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"],+ "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ 'X%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.023, + "Actual Rows": 8, + "Actual Loops": 250, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0 + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 1918, + "Output": ["cn.id"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0 + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 1918, + "Output": ["t.id"], + "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0 + } + ] + } + ] + }, + "Query Identifier": -5459870143170781696, + "Planning Time": 40.226, + "Triggers": [ + ], + "Execution Time": 13329.861, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -5459870143170781696, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword ='character-name-in-title'
  AND n.name LIKE '%Bert%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1432.33, + "Total Cost": 1432.34, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 13376.627, + "Actual Total Time": 13376.815, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3.58, + "Total Cost": 1432.32, + "Plan Rows": 6, + "Plan Width": 15, + "Actual Startup Time": 108.332, + "Actual Total Time": 13368.554, + "Actual Rows": 11538, + "Actual Loops": 1, + "Output": ["n.name"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 1431.32, + "Plan Rows": 1, + "Plan Width": 15, + "Actual Startup Time": 20.006, + "Actual Total Time": 1677.217, + "Actual Rows": 1442, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.106, + "Actual Total Time": 8.110, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.478, + "Actual Total Time": 8.483, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.325, + "Actual Total Time": 8.330, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.972, + "Actual Total Time": 8.976, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.697, + "Actual Total Time": 7.701, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.933, + "Actual Total Time": 10.937, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 1430.87, + "Plan Rows": 1, + "Plan Width": 27, + "Actual Startup Time": 20.001, + "Actual Total Time": 1668.091, + "Actual Rows": 1442, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.105, + "Actual Total Time": 8.109, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.478, + "Actual Total Time": 8.482, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.324, + "Actual Total Time": 8.328, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.972, + "Actual Total Time": 8.974, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.696, + "Actual Total Time": 7.700, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.932, + "Actual Total Time": 10.935, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1430.43, + "Plan Rows": 1, + "Plan Width": 31, + "Actual Startup Time": 19.997, + "Actual Total Time": 1657.610, + "Actual Rows": 1442, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mc.company_id", "mk.movie_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.104, + "Actual Total Time": 8.107, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.477, + "Actual Total Time": 8.480, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.324, + "Actual Total Time": 8.327, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.971, + "Actual Total Time": 8.973, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.696, + "Actual Total Time": 7.698, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.932, + "Actual Total Time": 10.934, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1429.89, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 19.992, + "Actual Total Time": 1652.330, + "Actual Rows": 246, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.104, + "Actual Total Time": 8.106, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.476, + "Actual Total Time": 8.479, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.324, + "Actual Total Time": 8.326, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.971, + "Actual Total Time": 8.972, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.695, + "Actual Total Time": 7.697, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.931, + "Actual Total Time": 10.934, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 1353.05, + "Plan Rows": 170, + "Plan Width": 12, + "Actual Startup Time": 6.778, + "Actual Total Time": 467.779, + "Actual Rows": 129799, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.103, + "Actual Total Time": 8.105, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.475, + "Actual Total Time": 8.477, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.323, + "Actual Total Time": 8.325, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.970, + "Actual Total Time": 8.972, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.695, + "Actual Total Time": 7.696, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.931, + "Actual Total Time": 10.933, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.67, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 6.771, + "Actual Total Time": 16.589, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.103, + "Actual Total Time": 8.104, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.475, + "Actual Total Time": 8.476, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.322, + "Actual Total Time": 8.324, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.969, + "Actual Total Time": 8.970, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.694, + "Actual Total Time": 7.695, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.930, + "Actual Total Time": 10.931, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.759, + "Actual Total Time": 6.761, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.102, + "Actual Total Time": 8.102, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.474, + "Actual Total Time": 8.474, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.322, + "Actual Total Time": 8.322, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.969, + "Actual Total Time": 8.969, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.694, + "Actual Total Time": 7.694, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.929, + "Actual Total Time": 10.930, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.083, + "Actual Total Time": 68.271, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.080, + "Actual Rows": 25, + "Actual Loops": 41840, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1038393, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"],+ "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Bert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.019, + "Actual Rows": 6, + "Actual Loops": 1972, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 11538, + "Output": ["cn.id"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 11538, + "Output": ["t.id"], + "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3199076743843001296, + "Planning Time": 17.172, + "Triggers": [ + ], + "Execution Time": 13377.141, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 3199076743843001296, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1443.30, + "Total Cost": 1443.31, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 29112.974, + "Actual Total Time": 29113.114, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1443.28, + "Total Cost": 1443.29, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 29112.948, + "Actual Total Time": 29113.106, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1442.28, + "Total Cost": 1442.29, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 3645.211, + "Actual Total Time": 3645.216, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.846, + "Actual Total Time": 6.851, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.928, + "Actual Total Time": 6.934, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.331, + "Actual Total Time": 5.337, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.307, + "Actual Total Time": 7.313, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.287, + "Actual Total Time": 7.293, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.880, + "Actual Total Time": 7.885, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.885, + "Actual Total Time": 7.892, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 1441.89, + "Plan Rows": 155, + "Plan Width": 15, + "Actual Startup Time": 6.523, + "Actual Total Time": 3536.385, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.843, + "Actual Total Time": 6.848, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.923, + "Actual Total Time": 6.928, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.326, + "Actual Total Time": 5.331, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.303, + "Actual Total Time": 7.308, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.282, + "Actual Total Time": 7.288, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.874, + "Actual Total Time": 7.879, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.880, + "Actual Total Time": 7.886, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 1372.21, + "Plan Rows": 155, + "Plan Width": 4, + "Actual Startup Time": 6.513, + "Actual Total Time": 978.357, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["ci.person_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.842, + "Actual Total Time": 6.846, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.922, + "Actual Total Time": 6.927, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.326, + "Actual Total Time": 5.330, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.302, + "Actual Total Time": 7.306, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.281, + "Actual Total Time": 7.286, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.873, + "Actual Total Time": 7.877, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.879, + "Actual Total Time": 7.884, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 1359.94, + "Plan Rows": 8, + "Plan Width": 12, + "Actual Startup Time": 6.392, + "Actual Total Time": 257.205, + "Actual Rows": 8540, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.842, + "Actual Total Time": 6.845, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.921, + "Actual Total Time": 6.925, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.325, + "Actual Total Time": 5.329, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.301, + "Actual Total Time": 7.305, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.280, + "Actual Total Time": 7.284, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.873, + "Actual Total Time": 7.876, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.878, + "Actual Total Time": 7.882, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1350.67, + "Plan Rows": 21, + "Plan Width": 16, + "Actual Startup Time": 6.374, + "Actual Total Time": 109.177, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.841, + "Actual Total Time": 6.843, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.920, + "Actual Total Time": 6.923, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.325, + "Actual Total Time": 5.328, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.301, + "Actual Total Time": 7.304, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.279, + "Actual Total Time": 7.283, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.872, + "Actual Total Time": 7.874, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.877, + "Actual Total Time": 7.880, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1347.91, + "Plan Rows": 5, + "Plan Width": 8, + "Actual Startup Time": 6.361, + "Actual Total Time": 51.743, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.840, + "Actual Total Time": 6.842, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.919, + "Actual Total Time": 6.922, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.324, + "Actual Total Time": 5.326, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.300, + "Actual Total Time": 7.302, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.279, + "Actual Total Time": 7.281, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.871, + "Actual Total Time": 7.873, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.877, + "Actual Total Time": 7.879, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.67, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 6.355, + "Actual Total Time": 17.476, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.840, + "Actual Total Time": 6.841, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.918, + "Actual Total Time": 6.920, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.324, + "Actual Total Time": 5.325, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.300, + "Actual Total Time": 7.300, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.278, + "Actual Total Time": 7.279, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.870, + "Actual Total Time": 7.871, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.876, + "Actual Total Time": 7.877, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.341, + "Actual Total Time": 6.343, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.839, + "Actual Total Time": 6.840, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.917, + "Actual Total Time": 6.918, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.323, + "Actual Total Time": 5.323, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.299, + "Actual Total Time": 7.299, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.277, + "Actual Total Time": 7.278, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.869, + "Actual Total Time": 7.869, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.875, + "Actual Total Time": 7.876, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.094, + "Actual Total Time": 79.528, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840, + "Output": ["t.id"], + "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.010, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 148552, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.18, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.076, + "Actual Rows": 41, + "Actual Loops": 68316, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 2832555, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"],+ "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1944885556475480423, + "Planning Time": 33.985, + "Triggers": [ + ], + "Execution Time": 29113.413, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -1944885556475480423, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword ='character-name-in-title'
  AND n.name LIKE '%B%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1468.15, + "Total Cost": 1468.16, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 21925.180, + "Actual Total Time": 21925.329, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1468.12, + "Total Cost": 1468.13, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 21925.152, + "Actual Total Time": 21925.319, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1467.12, + "Total Cost": 1467.13, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 2746.699, + "Actual Total Time": 2746.704, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.426, + "Actual Total Time": 9.432, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.985, + "Actual Total Time": 5.990, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.057, + "Actual Total Time": 8.062, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.837, + "Actual Total Time": 7.843, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.993, + "Actual Total Time": 8.998, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.001, + "Actual Total Time": 9.007, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 1466.99, + "Plan Rows": 53, + "Plan Width": 15, + "Actual Startup Time": 6.895, + "Actual Total Time": 2704.039, + "Actual Rows": 139140, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.420, + "Actual Total Time": 9.425, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.979, + "Actual Total Time": 5.983, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.051, + "Actual Total Time": 8.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.833, + "Actual Total Time": 7.838, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.988, + "Actual Total Time": 8.992, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.997, + "Actual Total Time": 9.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.16, + "Total Cost": 1443.78, + "Plan Rows": 53, + "Plan Width": 19, + "Actual Startup Time": 6.886, + "Actual Total Time": 1973.170, + "Actual Rows": 139140, + "Actual Loops": 8, + "Output": ["mc.company_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.419, + "Actual Total Time": 9.424, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.978, + "Actual Total Time": 5.982, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.050, + "Actual Total Time": 8.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.832, + "Actual Total Time": 7.837, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.987, + "Actual Total Time": 8.991, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.996, + "Actual Total Time": 9.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1432.43, + "Plan Rows": 21, + "Plan Width": 27, + "Actual Startup Time": 6.411, + "Actual Total Time": 1738.150, + "Actual Rows": 18687, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.419, + "Actual Total Time": 9.422, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.978, + "Actual Total Time": 5.981, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.049, + "Actual Total Time": 8.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.831, + "Actual Total Time": 7.835, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.987, + "Actual Total Time": 8.990, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.996, + "Actual Total Time": 8.999, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1355.58, + "Plan Rows": 170, + "Plan Width": 16, + "Actual Startup Time": 6.402, + "Actual Total Time": 519.949, + "Actual Rows": 129799, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "mk.movie_id", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.418, + "Actual Total Time": 9.421, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.977, + "Actual Total Time": 5.979, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.048, + "Actual Total Time": 8.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.831, + "Actual Total Time": 7.834, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.986, + "Actual Total Time": 8.989, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.995, + "Actual Total Time": 8.997, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1347.91, + "Plan Rows": 5, + "Plan Width": 8, + "Actual Startup Time": 6.393, + "Actual Total Time": 50.605, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.418, + "Actual Total Time": 9.420, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.976, + "Actual Total Time": 5.978, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.047, + "Actual Total Time": 8.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.830, + "Actual Total Time": 7.832, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.986, + "Actual Total Time": 8.987, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.994, + "Actual Total Time": 8.996, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.67, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 6.386, + "Actual Total Time": 16.735, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.417, + "Actual Total Time": 9.418, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.975, + "Actual Total Time": 5.977, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.047, + "Actual Total Time": 8.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.829, + "Actual Total Time": 7.830, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.985, + "Actual Total Time": 8.986, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.994, + "Actual Total Time": 8.995, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.367, + "Actual Total Time": 6.368, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.416, + "Actual Total Time": 9.416, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.974, + "Actual Total Time": 5.975, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.046, + "Actual Total Time": 8.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.829, + "Actual Total Time": 7.829, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.984, + "Actual Total Time": 8.985, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.993, + "Actual Total Time": 8.993, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.130, + "Actual Total Time": 71.912, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840, + "Output": ["t.id"], + "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.18, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.083, + "Actual Rows": 25, + "Actual Loops": 41840, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1038393, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"],+ "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%B%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.011, + "Actual Rows": 7, + "Actual Loops": 149494, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 1113120, + "Output": ["cn.id"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3199076743843001296, + "Planning Time": 18.410, + "Triggers": [ + ], + "Execution Time": 21925.783, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 3199076743843001296, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(t.title) AS movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     name AS n,
     title AS t
WHERE ci.note IN ('(producer)',
                  '(executive producer)')
  AND it1.info = 'budget'
  AND it2.info = 'votes'
  AND n.gender = 'm'
  AND n.name LIKE '%Tim%'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 12710.67, + "Total Cost": 12710.68, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 3613.245, + "Actual Total Time": 3643.270, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.42, + "Total Cost": 12710.67, + "Plan Rows": 1, + "Plan Width": 65, + "Actual Startup Time": 173.597, + "Actual Total Time": 3642.619, + "Actual Rows": 410, + "Actual Loops": 1, + "Output": ["mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5.99, + "Total Cost": 12710.22, + "Plan Rows": 1, + "Plan Width": 60, + "Actual Startup Time": 173.537, + "Actual Total Time": 3634.449, + "Actual Rows": 410, + "Actual Loops": 1, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.99, + "Total Cost": 12709.22, + "Plan Rows": 1, + "Plan Width": 60, + "Actual Startup Time": 380.044, + "Actual Total Time": 3597.929, + "Actual Rows": 51, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 44.013, + "Actual Total Time": 3597.393, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 822.727, + "Actual Total Time": 3598.199, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 180.859, + "Actual Total Time": 3597.177, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 363.458, + "Actual Total Time": 3594.525, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 488.705, + "Actual Total Time": 3597.136, + "Actual Rows": 60, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 297.245, + "Actual Total Time": 3598.153, + "Actual Rows": 67, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 670.986, + "Actual Total Time": 3597.913, + "Actual Rows": 59, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.56, + "Total Cost": 12378.83, + "Plan Rows": 684, + "Plan Width": 64, + "Actual Startup Time": 5.853, + "Actual Total Time": 3334.487, + "Actual Rows": 13417, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.802, + "Actual Total Time": 3347.420, + "Actual Rows": 13071, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.839, + "Actual Total Time": 3326.536, + "Actual Rows": 13022, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.444, + "Actual Total Time": 3331.185, + "Actual Rows": 13079, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.918, + "Actual Total Time": 3327.466, + "Actual Rows": 13900, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.459, + "Actual Total Time": 3334.183, + "Actual Rows": 13285, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.963, + "Actual Total Time": 3341.670, + "Actual Rows": 13378, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.002, + "Actual Total Time": 3333.788, + "Actual Rows": 13662, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.12, + "Total Cost": 12033.59, + "Plan Rows": 292, + "Plan Width": 56, + "Actual Startup Time": 3.017, + "Actual Total Time": 2106.893, + "Actual Rows": 5679, + "Actual Loops": 8, + "Output": ["mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.269, + "Actual Total Time": 2136.347, + "Actual Rows": 5599, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.939, + "Actual Total Time": 2108.342, + "Actual Rows": 5504, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.909, + "Actual Total Time": 2096.208, + "Actual Rows": 5556, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.759, + "Actual Total Time": 2091.362, + "Actual Rows": 5742, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.291, + "Actual Total Time": 2106.776, + "Actual Rows": 5675, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.784, + "Actual Total Time": 2105.731, + "Actual Rows": 5760, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.880, + "Actual Total Time": 2100.853, + "Actual Rows": 5719, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.28, + "Total Cost": 11941.81, + "Plan Rows": 33024, + "Plan Width": 60, + "Actual Startup Time": 0.329, + "Actual Total Time": 1837.142, + "Actual Rows": 866292, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.142, + "Actual Total Time": 1866.359, + "Actual Rows": 874188, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.138, + "Actual Total Time": 1838.063, + "Actual Rows": 855349, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.160, + "Actual Total Time": 1823.196, + "Actual Rows": 835992, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.154, + "Actual Total Time": 1829.825, + "Actual Rows": 854393, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.586, + "Actual Total Time": 1834.909, + "Actual Rows": 906122, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.215, + "Actual Total Time": 1839.876, + "Actual Rows": 870703, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.141, + "Actual Total Time": 1839.934, + "Actual Rows": 855298, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1527, + "Plan Width": 9, + "Actual Startup Time": 0.061, + "Actual Total Time": 152.227, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.052, + "Actual Total Time": 153.474, + "Actual Rows": 58501, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.050, + "Actual Total Time": 147.520, + "Actual Rows": 56000, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.056, + "Actual Total Time": 157.602, + "Actual Rows": 56010, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.060, + "Actual Total Time": 155.669, + "Actual Rows": 57455, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.056, + "Actual Total Time": 150.017, + "Actual Rows": 59010, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.122, + "Actual Total Time": 148.509, + "Actual Rows": 56594, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.048, + "Actual Total Time": 153.572, + "Actual Rows": 59426, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 13, + "Actual Startup Time": 0.032, + "Actual Total Time": 46.794, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 47.786, + "Actual Rows": 175488, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 45.650, + "Actual Rows": 167992, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.036, + "Actual Total Time": 46.918, + "Actual Rows": 168017, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 46.397, + "Actual Rows": 172372, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 46.660, + "Actual Rows": 177039, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 46.151, + "Actual Rows": 169930, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 47.702, + "Actual Rows": 178302, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 22, + "Plan Width": 51, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.023, + "Actual Rows": 15, + "Actual Loops": 459925, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.023, + "Actual Rows": 15, + "Actual Loops": 58501 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.024, + "Actual Rows": 15, + "Actual Loops": 56000 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.023, + "Actual Rows": 15, + "Actual Loops": 56010 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.023, + "Actual Rows": 15, + "Actual Loops": 57455 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.022, + "Actual Rows": 15, + "Actual Loops": 59010 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.023, + "Actual Rows": 15, + "Actual Loops": 56594 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.022, + "Actual Rows": 14, + "Actual Loops": 59426 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.856, + "Actual Total Time": 0.857, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.173, + "Actual Total Time": 0.174, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 3.228, + "Actual Total Time": 3.231, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'budget'::text)", + "Rows Removed by Filter": 56, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.16, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.129, + "Actual Total Time": 0.214, + "Actual Rows": 2, + "Actual Loops": 45431, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(producer),\"(executive producer)\"}'::text[]))", + "Rows Removed by Filter": 38, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.128, + "Actual Total Time": 0.214, + "Actual Rows": 2, + "Actual Loops": 5599 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.132, + "Actual Total Time": 0.219, + "Actual Rows": 2, + "Actual Loops": 5504 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.135, + "Actual Total Time": 0.220, + "Actual Rows": 2, + "Actual Loops": 5556 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.130, + "Actual Total Time": 0.213, + "Actual Rows": 2, + "Actual Loops": 5742 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.133, + "Actual Total Time": 0.214, + "Actual Rows": 2, + "Actual Loops": 5675 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.127, + "Actual Total Time": 0.212, + "Actual Rows": 2, + "Actual Loops": 5760 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.126, + "Actual Total Time": 0.213, + "Actual Rows": 2, + "Actual Loops": 5719 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 107339, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%Tim%'::text) AND ((n.gender)::text = 'm'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 13071 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 13022 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 13079 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 13900 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 13285 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 13378 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 13662 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 410, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi.movie_id)", + "Rows Removed by Index Recheck": 0 + } + ] + } + ] + }, + "Query Identifier": -3485514449383768787, + "Planning Time": 30.581, + "Triggers": [ + ], + "Execution Time": 3643.647, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -3485514449383768787, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(t.title) AS movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'rating'
  AND mi.info IN ('Horror',
                  'Thriller')
  AND mi.note IS NULL
  AND mi_idx.info > '8.0'
  AND n.gender IS NOT NULL
  AND n.gender = 'f'
  AND t.production_year BETWEEN 2008 AND 2014
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10207.96, + "Total Cost": 10207.97, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 166.415, + "Actual Total Time": 173.181, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10207.89, + "Total Cost": 10207.90, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 166.094, + "Actual Total Time": 173.153, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10206.89, + "Total Cost": 10206.90, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 157.969, + "Actual Total Time": 157.975, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 156.220, + "Actual Total Time": 156.226, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 157.523, + "Actual Total Time": 157.528, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 158.119, + "Actual Total Time": 158.127, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 153.642, + "Actual Total Time": 153.646, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 156.836, + "Actual Total Time": 156.842, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 158.150, + "Actual Total Time": 158.155, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 158.111, + "Actual Total Time": 158.115, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.72, + "Total Cost": 10206.88, + "Plan Rows": 1, + "Plan Width": 65, + "Actual Startup Time": 123.184, + "Actual Total Time": 157.961, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 156.215, + "Actual Total Time": 156.220, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 75.040, + "Actual Total Time": 157.510, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 84.663, + "Actual Total Time": 158.105, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 71.088, + "Actual Total Time": 153.626, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 121.966, + "Actual Total Time": 156.828, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 158.145, + "Actual Total Time": 158.148, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 153.215, + "Actual Total Time": 158.101, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.29, + "Total Cost": 10206.37, + "Plan Rows": 1, + "Plan Width": 69, + "Actual Startup Time": 54.355, + "Actual Total Time": 156.827, + "Actual Rows": 34, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi_idx.info", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 70.266, + "Actual Total Time": 155.244, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 35.980, + "Actual Total Time": 155.835, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 56.280, + "Actual Total Time": 157.009, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 70.945, + "Actual Total Time": 152.509, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.989, + "Actual Total Time": 155.474, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.847, + "Actual Total Time": 157.008, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 76.196, + "Actual Total Time": 157.258, + "Actual Rows": 25, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.85, + "Total Cost": 10204.67, + "Plan Rows": 1, + "Plan Width": 77, + "Actual Startup Time": 23.136, + "Actual Total Time": 143.504, + "Actual Rows": 45, + "Actual Loops": 8, + "Output": ["mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.650, + "Actual Total Time": 144.354, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 35.412, + "Actual Total Time": 136.941, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 55.848, + "Actual Total Time": 134.819, + "Actual Rows": 40, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.666, + "Actual Total Time": 142.896, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.856, + "Actual Total Time": 143.459, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.254, + "Actual Total Time": 148.998, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.649, + "Actual Total Time": 146.106, + "Actual Rows": 40, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 10204.32, + "Plan Rows": 2, + "Plan Width": 81, + "Actual Startup Time": 23.094, + "Actual Total Time": 143.049, + "Actual Rows": 45, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.613, + "Actual Total Time": 143.937, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 35.365, + "Actual Total Time": 136.381, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 55.799, + "Actual Total Time": 134.399, + "Actual Rows": 40, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.612, + "Actual Total Time": 142.445, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.820, + "Actual Total Time": 142.983, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.208, + "Actual Total Time": 148.537, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.608, + "Actual Total Time": 145.703, + "Actual Rows": 40, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10183.78, + "Plan Rows": 18, + "Plan Width": 30, + "Actual Startup Time": 1.935, + "Actual Total Time": 113.354, + "Actual Rows": 769, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.126, + "Actual Total Time": 112.674, + "Actual Rows": 845, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.832, + "Actual Total Time": 99.327, + "Actual Rows": 741, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.382, + "Actual Total Time": 102.517, + "Actual Rows": 853, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.267, + "Actual Total Time": 113.089, + "Actual Rows": 798, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.938, + "Actual Total Time": 114.426, + "Actual Rows": 725, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.325, + "Actual Total Time": 122.472, + "Actual Rows": 720, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.253, + "Actual Total Time": 119.935, + "Actual Rows": 776, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10111.19, + "Plan Rows": 59, + "Plan Width": 9, + "Actual Startup Time": 0.432, + "Actual Total Time": 83.711, + "Actual Rows": 1981, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.611, + "Actual Total Time": 80.977, + "Actual Rows": 2037, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.408, + "Actual Total Time": 72.166, + "Actual Rows": 1865, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.278, + "Actual Total Time": 73.343, + "Actual Rows": 2078, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.644, + "Actual Total Time": 82.049, + "Actual Rows": 2150, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.366, + "Actual Total Time": 87.610, + "Actual Rows": 1762, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.264, + "Actual Total Time": 93.008, + "Actual Rows": 1798, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.267, + "Actual Total Time": 89.643, + "Actual Rows": 2040, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 10091.30, + "Plan Rows": 6623, + "Plan Width": 13, + "Actual Startup Time": 0.064, + "Actual Total Time": 79.954, + "Actual Rows": 6706, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Filter": "(mi_idx.info > '8.0'::text)", + "Rows Removed by Filter": 165798, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.063, + "Actual Total Time": 77.252, + "Actual Rows": 6589, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.181, + "Actual Total Time": 68.814, + "Actual Rows": 5997, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.046, + "Actual Total Time": 69.803, + "Actual Rows": 6279, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.053, + "Actual Total Time": 78.179, + "Actual Rows": 6961, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 83.898, + "Actual Rows": 6720, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 89.265, + "Actual Rows": 6866, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 85.793, + "Actual Rows": 7138, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.071, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.23, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 15849, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2008) AND (t.production_year <= 2014))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2037 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1865 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 2078 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 2150 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1762 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1798 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2040 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 6152, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.note IS NULL) AND (mi.info = ANY ('{Horror,Thriller}'::text[])))", + "Rows Removed by Filter": 18, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 845 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 741 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 853 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 798 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 725 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 720 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 776 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 358, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 41 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 57 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 40 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 41 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 48 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 46 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 40 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.69, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.230, + "Actual Total Time": 0.295, + "Actual Rows": 1, + "Actual Loops": 358, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 34, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.229, + "Actual Total Time": 0.263, + "Actual Rows": 1, + "Actual Loops": 41 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.244, + "Actual Total Time": 0.329, + "Actual Rows": 1, + "Actual Loops": 57 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.359, + "Actual Total Time": 0.552, + "Actual Rows": 1, + "Actual Loops": 40 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.202, + "Actual Total Time": 0.232, + "Actual Rows": 1, + "Actual Loops": 41 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.203, + "Actual Total Time": 0.248, + "Actual Rows": 1, + "Actual Loops": 48 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.136, + "Actual Total Time": 0.172, + "Actual Rows": 1, + "Actual Loops": 46 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.247, + "Actual Total Time": 0.276, + "Actual Rows": 1, + "Actual Loops": 40 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 268, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender IS NOT NULL) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 25 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 59 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 33 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 30 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 39 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 32 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 25 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2924466581088026648, + "Planning Time": 16.951, + "Triggers": [ + ], + "Execution Time": 173.520, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -2924466581088026648, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(t.title) AS movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND mi.info IN ('Horror',
                  'Action',
                  'Sci-Fi',
                  'Thriller',
                  'Crime',
                  'War')
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11886.27, + "Total Cost": 11886.28, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 4176.157, + "Actual Total Time": 4208.870, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11886.20, + "Total Cost": 11886.21, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 4172.249, + "Actual Total Time": 4208.834, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11885.20, + "Total Cost": 11885.21, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 4166.559, + "Actual Total Time": 4166.566, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4165.329, + "Actual Total Time": 4165.335, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4165.095, + "Actual Total Time": 4165.100, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4168.123, + "Actual Total Time": 4168.128, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4165.286, + "Actual Total Time": 4165.291, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4164.631, + "Actual Total Time": 4164.637, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4167.629, + "Actual Total Time": 4167.634, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4165.068, + "Actual Total Time": 4165.074, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.42, + "Total Cost": 11885.19, + "Plan Rows": 2, + "Plan Width": 65, + "Actual Startup Time": 27.866, + "Actual Total Time": 4158.117, + "Actual Rows": 3509, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 46.266, + "Actual Total Time": 4156.628, + "Actual Rows": 3599, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.355, + "Actual Total Time": 4156.890, + "Actual Rows": 3345, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.316, + "Actual Total Time": 4159.831, + "Actual Rows": 3536, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 51.015, + "Actual Total Time": 4156.867, + "Actual Rows": 3556, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.720, + "Actual Total Time": 4155.841, + "Actual Rows": 3595, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.179, + "Actual Total Time": 4159.233, + "Actual Rows": 3463, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.317, + "Actual Total Time": 4156.460, + "Actual Rows": 3669, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.99, + "Total Cost": 11884.20, + "Plan Rows": 2, + "Plan Width": 60, + "Actual Startup Time": 27.761, + "Actual Total Time": 4102.609, + "Actual Rows": 3509, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 46.155, + "Actual Total Time": 4100.340, + "Actual Rows": 3599, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.260, + "Actual Total Time": 4103.166, + "Actual Rows": 3345, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.210, + "Actual Total Time": 4104.559, + "Actual Rows": 3536, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 50.895, + "Actual Total Time": 4099.940, + "Actual Rows": 3556, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.601, + "Actual Total Time": 4099.534, + "Actual Rows": 3595, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.066, + "Actual Total Time": 4103.978, + "Actual Rows": 3463, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.189, + "Actual Total Time": 4099.337, + "Actual Rows": 3669, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.56, + "Total Cost": 11882.16, + "Plan Rows": 4, + "Plan Width": 64, + "Actual Startup Time": 12.162, + "Actual Total Time": 3967.987, + "Actual Rows": 6769, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.385, + "Actual Total Time": 3957.614, + "Actual Rows": 6991, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.180, + "Actual Total Time": 3973.042, + "Actual Rows": 6536, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.079, + "Actual Total Time": 3974.169, + "Actual Rows": 6738, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.105, + "Actual Total Time": 3963.410, + "Actual Rows": 6794, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.345, + "Actual Total Time": 3960.005, + "Actual Rows": 7005, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.612, + "Actual Total Time": 3972.494, + "Actual Rows": 6671, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.446, + "Actual Total Time": 3966.689, + "Actual Rows": 6953, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.12, + "Total Cost": 11876.06, + "Plan Rows": 4, + "Plan Width": 56, + "Actual Startup Time": 1.446, + "Actual Total Time": 1970.041, + "Actual Rows": 12814, + "Actual Loops": 8, + "Output": ["mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.455, + "Actual Total Time": 1979.134, + "Actual Rows": 12869, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.586, + "Actual Total Time": 2006.282, + "Actual Rows": 12645, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.620, + "Actual Total Time": 1953.911, + "Actual Rows": 13088, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.244, + "Actual Total Time": 2017.764, + "Actual Rows": 12744, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.481, + "Actual Total Time": 1933.124, + "Actual Rows": 12864, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.416, + "Actual Total Time": 1987.413, + "Actual Rows": 12916, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.330, + "Actual Total Time": 1896.497, + "Actual Rows": 13002, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.28, + "Total Cost": 11873.09, + "Plan Rows": 413, + "Plan Width": 60, + "Actual Startup Time": 1.170, + "Actual Total Time": 1952.814, + "Actual Rows": 13112, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.220, + "Actual Total Time": 1961.454, + "Actual Rows": 13187, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.358, + "Actual Total Time": 1989.362, + "Actual Rows": 12905, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.387, + "Actual Total Time": 1936.542, + "Actual Rows": 13452, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.012, + "Actual Total Time": 2000.197, + "Actual Rows": 13117, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.199, + "Actual Total Time": 1915.384, + "Actual Rows": 13123, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.134, + "Actual Total Time": 1970.599, + "Actual Rows": 13200, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.049, + "Actual Total Time": 1879.073, + "Actual Rows": 13298, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1527, + "Plan Width": 9, + "Actual Startup Time": 0.031, + "Actual Total Time": 157.167, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 164.135, + "Actual Rows": 57566, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 159.640, + "Actual Rows": 59308, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 156.933, + "Actual Rows": 58206, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 163.941, + "Actual Rows": 58793, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 150.587, + "Actual Rows": 55946, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.031, + "Actual Total Time": 154.876, + "Actual Rows": 57919, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 149.199, + "Actual Rows": 55189, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 13, + "Actual Startup Time": 0.010, + "Actual Total Time": 48.002, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 54.604, + "Actual Rows": 172711, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 47.857, + "Actual Rows": 177922, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 46.932, + "Actual Rows": 174627, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 51.491, + "Actual Rows": 176360, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 45.130, + "Actual Rows": 167945, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 47.123, + "Actual Rows": 173758, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 44.700, + "Actual Rows": 165571, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 459925, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Action,Sci-Fi,Thriller,Crime,War}'::text[]))", + "Rows Removed by Filter": 15, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 57566 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 59308 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 58206 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 58793 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 55946 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 57919 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 55189 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.51, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.132, + "Actual Total Time": 0.154, + "Actual Rows": 1, + "Actual Loops": 102516, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 39, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.129, + "Actual Total Time": 0.152, + "Actual Rows": 1, + "Actual Loops": 12869 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.133, + "Actual Total Time": 0.154, + "Actual Rows": 1, + "Actual Loops": 12645 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.130, + "Actual Total Time": 0.153, + "Actual Rows": 1, + "Actual Loops": 13088 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.129, + "Actual Total Time": 0.151, + "Actual Rows": 1, + "Actual Loops": 12744 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.134, + "Actual Total Time": 0.156, + "Actual Rows": 1, + "Actual Loops": 12864 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.131, + "Actual Total Time": 0.152, + "Actual Rows": 1, + "Actual Loops": 12916 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.135, + "Actual Total Time": 0.158, + "Actual Rows": 1, + "Actual Loops": 13002 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 54155, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 6991 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 6536 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 6738 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 6794 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 7005 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 6671 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 6953 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 28073, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3599 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3345 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3536 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3556 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3595 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3463 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3669 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1168076528610430802, + "Planning Time": 16.952, + "Triggers": [ + ], + "Execution Time": 4209.227, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 1168076528610430802, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS voicing_actress,
       MIN(t.title) AS voiced_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND mc.note IS NOT NULL
  AND (mc.note LIKE '%(USA)%'
       OR mc.note LIKE '%(worldwide)%')
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%200%'
       OR mi.info LIKE 'USA:%200%')
  AND n.gender ='f'
  AND n.name LIKE '%Ang%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2005 AND 2009
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mi.movie_id = ci.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 36261.84, + "Total Cost": 36261.85, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 4644.880, + "Actual Total Time": 4673.962, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 36261.79, + "Total Cost": 36261.80, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 4224.489, + "Actual Total Time": 4673.928, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 36260.79, + "Total Cost": 36260.80, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 4283.799, + "Actual Total Time": 4283.807, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4634.679, + "Actual Total Time": 4634.685, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4345.286, + "Actual Total Time": 4345.292, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4212.629, + "Actual Total Time": 4212.637, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4214.057, + "Actual Total Time": 4214.066, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4214.981, + "Actual Total Time": 4214.989, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4209.911, + "Actual Total Time": 4209.919, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4215.278, + "Actual Total Time": 4215.287, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.96, + "Total Cost": 36260.79, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1601.010, + "Actual Total Time": 4283.748, + "Actual Rows": 23, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 545.520, + "Actual Total Time": 4634.600, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4345.281, + "Actual Total Time": 4345.286, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 978.746, + "Actual Total Time": 4212.583, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1939.823, + "Actual Total Time": 4214.019, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2559.630, + "Actual Total Time": 4214.962, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.910, + "Actual Total Time": 4209.787, + "Actual Rows": 51, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 326.272, + "Actual Total Time": 4215.188, + "Actual Rows": 53, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.53, + "Total Cost": 36260.33, + "Plan Rows": 1, + "Plan Width": 36, + "Actual Startup Time": 1415.871, + "Actual Total Time": 4283.421, + "Actual Rows": 24, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 545.457, + "Actual Total Time": 4634.166, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4345.280, + "Actual Total Time": 4345.285, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 978.678, + "Actual Total Time": 4212.320, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1939.763, + "Actual Total Time": 4213.716, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2559.581, + "Actual Total Time": 4214.820, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.822, + "Actual Total Time": 4209.044, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 326.200, + "Actual Total Time": 4214.572, + "Actual Rows": 54, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.11, + "Total Cost": 36259.84, + "Plan Rows": 1, + "Plan Width": 44, + "Actual Startup Time": 955.455, + "Actual Total Time": 4282.887, + "Actual Rows": 21, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.person_role_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 545.345, + "Actual Total Time": 4633.544, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1252.641, + "Actual Total Time": 4345.126, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 978.573, + "Actual Total Time": 4210.984, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1939.661, + "Actual Total Time": 4213.393, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1969.503, + "Actual Total Time": 4214.487, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.678, + "Actual Total Time": 4208.283, + "Actual Rows": 35, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 326.089, + "Actual Total Time": 4214.128, + "Actual Rows": 17, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.68, + "Total Cost": 36259.30, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 14.153, + "Actual Total Time": 4209.868, + "Actual Rows": 5034, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.person_role_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.871, + "Actual Total Time": 4533.230, + "Actual Rows": 6870, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.386, + "Actual Total Time": 4315.897, + "Actual Rows": 1801, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 22.972, + "Actual Total Time": 4152.635, + "Actual Rows": 3609, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.661, + "Actual Total Time": 4161.269, + "Actual Rows": 3457, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.238, + "Actual Total Time": 4142.691, + "Actual Rows": 5270, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.494, + "Actual Total Time": 4128.885, + "Actual Rows": 5130, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.416, + "Actual Total Time": 4168.851, + "Actual Rows": 2888, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 36258.14, + "Plan Rows": 17, + "Plan Width": 29, + "Actual Startup Time": 9.196, + "Actual Total Time": 4200.161, + "Actual Rows": 16260, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.role_id", "ci.person_role_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.370, + "Actual Total Time": 4520.530, + "Actual Rows": 21844, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.802, + "Actual Total Time": 4311.275, + "Actual Rows": 6351, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.428, + "Actual Total Time": 4144.827, + "Actual Rows": 12186, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.194, + "Actual Total Time": 4154.005, + "Actual Rows": 12320, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.407, + "Actual Total Time": 4132.565, + "Actual Rows": 17236, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.692, + "Actual Total Time": 4119.125, + "Actual Rows": 15043, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.021, + "Actual Total Time": 4162.315, + "Actual Rows": 9864, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 36221.73, + "Plan Rows": 20, + "Plan Width": 29, + "Actual Startup Time": 0.498, + "Actual Total Time": 1917.028, + "Actual Rows": 14535, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.483, + "Actual Total Time": 1796.165, + "Actual Rows": 15031, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.507, + "Actual Total Time": 1990.590, + "Actual Rows": 15494, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.297, + "Actual Total Time": 1933.516, + "Actual Rows": 14705, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.382, + "Actual Total Time": 2123.920, + "Actual Rows": 15227, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.622, + "Actual Total Time": 1921.154, + "Actual Rows": 14681, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.576, + "Actual Total Time": 1943.025, + "Actual Rows": 11910, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.879, + "Actual Total Time": 1770.684, + "Actual Rows": 12068, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 36213.63, + "Plan Rows": 2297, + "Plan Width": 33, + "Actual Startup Time": 0.472, + "Actual Total Time": 1895.303, + "Actual Rows": 14536, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.462, + "Actual Total Time": 1774.091, + "Actual Rows": 15032, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.486, + "Actual Total Time": 1967.276, + "Actual Rows": 15494, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.281, + "Actual Total Time": 1911.097, + "Actual Rows": 14707, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.359, + "Actual Total Time": 2100.834, + "Actual Rows": 15228, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.598, + "Actual Total Time": 1899.350, + "Actual Rows": 14682, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.554, + "Actual Total Time": 1925.353, + "Actual Rows": 11912, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.857, + "Actual Total Time": 1751.868, + "Actual Rows": 12068, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 32301.64, + "Plan Rows": 3025, + "Plan Width": 25, + "Actual Startup Time": 0.371, + "Actual Total Time": 1399.354, + "Actual Rows": 10872, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.358, + "Actual Total Time": 1263.561, + "Actual Rows": 10254, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.376, + "Actual Total Time": 1493.234, + "Actual Rows": 11916, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.199, + "Actual Total Time": 1419.692, + "Actual Rows": 10827, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.251, + "Actual Total Time": 1645.978, + "Actual Rows": 13135, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.481, + "Actual Total Time": 1397.982, + "Actual Rows": 10627, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.426, + "Actual Total Time": 1415.938, + "Actual Rows": 8359, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.751, + "Actual Total Time": 1253.053, + "Actual Rows": 8650, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 24073.21, + "Plan Rows": 13464, + "Plan Width": 4, + "Actual Startup Time": 0.132, + "Actual Total Time": 502.937, + "Actual Rows": 67762, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.130, + "Actual Total Time": 358.954, + "Actual Rows": 80326, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.132, + "Actual Total Time": 371.617, + "Actual Rows": 88549, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.108, + "Actual Total Time": 531.263, + "Actual Rows": 60091, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.153, + "Actual Total Time": 573.862, + "Actual Rows": 86726, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.164, + "Actual Total Time": 606.886, + "Actual Rows": 55946, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.143, + "Actual Total Time": 548.266, + "Actual Rows": 60380, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.151, + "Actual Total Time": 535.154, + "Actual Rows": 52806, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10620, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 19.115, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 5.752, + "Actual Rows": 2613, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.036, + "Actual Total Time": 6.905, + "Actual Rows": 3043, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 23.396, + "Actual Rows": 12736, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 20.849, + "Actual Rows": 13195, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 32.329, + "Actual Rows": 15255, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.046, + "Actual Total Time": 21.867, + "Actual Rows": 13573, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.040, + "Actual Total Time": 22.515, + "Actual Rows": 13752, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.89, + "Plan Rows": 6, + "Plan Width": 8, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.043, + "Actual Rows": 6, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note IS NOT NULL) AND ((mc.note ~~ '%(USA)%'::text) OR (mc.note ~~ '%(worldwide)%'::text)))", + "Rows Removed by Filter": 7, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.126, + "Actual Rows": 31, + "Actual Loops": 2613 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.110, + "Actual Rows": 29, + "Actual Loops": 3043 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.038, + "Actual Rows": 5, + "Actual Loops": 12736 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.039, + "Actual Rows": 7, + "Actual Loops": 13195 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.036, + "Actual Rows": 4, + "Actual Loops": 15255 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.036, + "Actual Rows": 4, + "Actual Loops": 13573 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.035, + "Actual Rows": 4, + "Actual Loops": 13752 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.61, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 542096, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2009))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 80326 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 88549 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 60091 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 86726 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 55946 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 60380 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 52806 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.28, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 86979, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%200%'::text) OR (mi.info ~~ 'USA:%200%'::text)))", + "Rows Removed by Filter": 20, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 10254 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 11916 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 10827 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 13135 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 10627 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 8359 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 8650 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.81, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.129, + "Actual Total Time": 0.156, + "Actual Rows": 1, + "Actual Loops": 116277, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 46, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.142, + "Actual Total Time": 0.180, + "Actual Rows": 1, + "Actual Loops": 15031 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.128, + "Actual Total Time": 0.149, + "Actual Rows": 0, + "Actual Loops": 15494 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.129, + "Actual Total Time": 0.149, + "Actual Rows": 1, + "Actual Loops": 14705 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.117, + "Actual Total Time": 0.132, + "Actual Rows": 1, + "Actual Loops": 15227 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.122, + "Actual Total Time": 0.149, + "Actual Rows": 1, + "Actual Loops": 14681 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.148, + "Actual Total Time": 0.181, + "Actual Rows": 1, + "Actual Loops": 11910 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.152, + "Actual Total Time": 0.197, + "Actual Rows": 1, + "Actual Loops": 12068 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 40272, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%Ang%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 6870 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1801 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 3609 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 3457 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 5270 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 5130 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 2888 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 170, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 41 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 22 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 17 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 16 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 35 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.022, + "Actual Rows": 3, + "Actual Loops": 17 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 189, + "Output": ["chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 33 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 15 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 18 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 9 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 52 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 54 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2080431693778951356, + "Planning Time": 75.938, + "Triggers": [ + ], + "Execution Time": 4674.522, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -2080431693778951356, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(n.name) AS voicing_actress,
       MIN(t.title) AS kung_fu_panda
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note = '(voice)'
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND mc.note LIKE '%(200%)%'
  AND (mc.note LIKE '%(USA)%'
       OR mc.note LIKE '%(worldwide)%')
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%2007%'
       OR mi.info LIKE 'USA:%2008%')
  AND n.gender ='f'
  AND n.name LIKE '%Angel%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2007 AND 2008
  AND t.title LIKE '%Kung%Fu%Panda%'
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mi.movie_id = ci.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 29190.38, + "Total Cost": 29190.39, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 709.645, + "Actual Total Time": 732.491, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 29190.33, + "Total Cost": 29190.34, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 709.126, + "Actual Total Time": 732.471, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 29189.33, + "Total Cost": 29189.34, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 698.837, + "Actual Total Time": 698.844, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 699.693, + "Actual Total Time": 699.699, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 699.405, + "Actual Total Time": 699.410, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 695.680, + "Actual Total Time": 695.685, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 695.540, + "Actual Total Time": 695.547, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 700.114, + "Actual Total Time": 700.120, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 696.459, + "Actual Total Time": 696.465, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 695.625, + "Actual Total Time": 695.632, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.30, + "Total Cost": 29189.33, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 625.688, + "Actual Total Time": 698.835, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 486.586, + "Actual Total Time": 699.681, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 699.399, + "Actual Total Time": 699.405, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 695.675, + "Actual Total Time": 695.680, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 695.536, + "Actual Total Time": 695.543, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 700.109, + "Actual Total Time": 700.115, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 696.454, + "Actual Total Time": 696.460, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 323.565, + "Actual Total Time": 695.602, + "Actual Rows": 10, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.16, + "Total Cost": 29189.15, + "Plan Rows": 1, + "Plan Width": 36, + "Actual Startup Time": 625.673, + "Actual Total Time": 698.809, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["ci.role_id", "n.name", "t.title"], + "Inner Unique": true, + "Join Filter": "(ci.person_id = n.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 486.546, + "Actual Total Time": 699.620, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 699.399, + "Actual Total Time": 699.404, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 695.674, + "Actual Total Time": 695.679, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 695.535, + "Actual Total Time": 695.541, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 700.109, + "Actual Total Time": 700.114, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 696.454, + "Actual Total Time": 696.458, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 323.490, + "Actual Total Time": 695.464, + "Actual Rows": 10, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.73, + "Total Cost": 29188.61, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 617.546, + "Actual Total Time": 698.374, + "Actual Rows": 34, + "Actual Loops": 8, + "Output": ["an.person_id", "ci.person_id", "ci.role_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 446.943, + "Actual Total Time": 698.041, + "Actual Rows": 133, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 699.398, + "Actual Total Time": 699.403, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 695.674, + "Actual Total Time": 695.678, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 695.535, + "Actual Total Time": 695.540, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 700.108, + "Actual Total Time": 700.113, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 696.453, + "Actual Total Time": 696.457, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 298.077, + "Actual Total Time": 693.574, + "Actual Rows": 142, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.59, + "Total Cost": 29188.42, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 617.536, + "Actual Total Time": 698.159, + "Actual Rows": 34, + "Actual Loops": 8, + "Output": ["an.person_id", "ci.person_id", "ci.role_id", "mi.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 446.911, + "Actual Total Time": 697.242, + "Actual Rows": 133, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 699.397, + "Actual Total Time": 699.401, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 695.673, + "Actual Total Time": 695.676, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 695.534, + "Actual Total Time": 695.539, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 700.108, + "Actual Total Time": 700.112, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 696.452, + "Actual Total Time": 696.456, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 298.035, + "Actual Total Time": 692.659, + "Actual Rows": 142, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.16, + "Total Cost": 29187.20, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 617.513, + "Actual Total Time": 687.885, + "Actual Rows": 34, + "Actual Loops": 8, + "Output": ["an.person_id", "ci.movie_id", "ci.person_id", "ci.role_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 446.841, + "Actual Total Time": 667.819, + "Actual Rows": 133, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 699.397, + "Actual Total Time": 699.400, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 695.672, + "Actual Total Time": 695.675, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 695.533, + "Actual Total Time": 695.537, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 700.107, + "Actual Total Time": 700.111, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 696.451, + "Actual Total Time": 696.454, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 297.921, + "Actual Total Time": 639.895, + "Actual Rows": 142, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 29186.74, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 617.499, + "Actual Total Time": 687.501, + "Actual Rows": 34, + "Actual Loops": 8, + "Output": ["an.person_id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 446.796, + "Actual Total Time": 666.393, + "Actual Rows": 133, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 699.396, + "Actual Total Time": 699.399, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 695.671, + "Actual Total Time": 695.674, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 695.532, + "Actual Total Time": 695.536, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 700.106, + "Actual Total Time": 700.109, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 696.450, + "Actual Total Time": 696.453, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 297.866, + "Actual Total Time": 638.262, + "Actual Rows": 142, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 29186.25, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 617.484, + "Actual Total Time": 687.268, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 446.736, + "Actual Total Time": 665.559, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 699.395, + "Actual Total Time": 699.398, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 695.670, + "Actual Total Time": 695.673, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 695.531, + "Actual Total Time": 695.534, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 700.106, + "Actual Total Time": 700.108, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 696.450, + "Actual Total Time": 696.452, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 297.804, + "Actual Total Time": 637.240, + "Actual Rows": 52, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 29181.72, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 617.462, + "Actual Total Time": 686.935, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 446.672, + "Actual Total Time": 664.482, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 699.395, + "Actual Total Time": 699.396, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 695.670, + "Actual Total Time": 695.672, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 695.531, + "Actual Total Time": 695.533, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 700.105, + "Actual Total Time": 700.106, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 696.449, + "Actual Total Time": 696.450, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 297.699, + "Actual Total Time": 635.661, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 25029.01, + "Plan Rows": 4432, + "Plan Width": 4, + "Actual Startup Time": 0.211, + "Actual Total Time": 410.632, + "Actual Rows": 22133, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.170, + "Actual Total Time": 410.508, + "Actual Rows": 20493, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.185, + "Actual Total Time": 436.047, + "Actual Rows": 21217, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.176, + "Actual Total Time": 415.542, + "Actual Rows": 21273, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.240, + "Actual Total Time": 394.200, + "Actual Rows": 24396, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.417, + "Actual Total Time": 444.692, + "Actual Rows": 19453, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.240, + "Actual Total Time": 393.278, + "Actual Rows": 26534, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.193, + "Actual Total Time": 364.487, + "Actual Rows": 21126, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10620, + "Plan Width": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 16.155, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 17.088, + "Actual Rows": 10946, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 17.481, + "Actual Rows": 11618, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.071, + "Actual Total Time": 16.766, + "Actual Rows": 10879, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.070, + "Actual Total Time": 16.521, + "Actual Rows": 10968, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 18.991, + "Actual Rows": 12168, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.085, + "Actual Total Time": 9.813, + "Actual Rows": 6487, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.075, + "Actual Total Time": 15.581, + "Actual Rows": 10131, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 2.02, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.036, + "Actual Rows": 2, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(200%)%'::text) AND ((mc.note ~~ '%(USA)%'::text) OR (mc.note ~~ '%(worldwide)%'::text)))", + "Rows Removed by Filter": 12, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.035, + "Actual Rows": 2, + "Actual Loops": 10946 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.035, + "Actual Rows": 2, + "Actual Loops": 11618 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.035, + "Actual Rows": 2, + "Actual Loops": 10879 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.033, + "Actual Rows": 2, + "Actual Loops": 10968 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.034, + "Actual Rows": 2, + "Actual Loops": 12168 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.057, + "Actual Rows": 4, + "Actual Loops": 6487 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.033, + "Actual Rows": 2, + "Actual Loops": 10131 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.94, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 177065, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2007) AND (t.production_year <= 2008) AND (t.title ~~ '%Kung%Fu%Panda%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 20493 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 21217 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 21273 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 24396 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 19453 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 26534 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 21126 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 4.52, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.641, + "Actual Rows": 25, + "Actual Loops": 4, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = '(voice)'::text)", + "Rows Removed by Filter": 127, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.517, + "Actual Rows": 24, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.764, + "Actual Rows": 26, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 100, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 48 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 52 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 275, + "Output": ["chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 133 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 142 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.21, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.298, + "Actual Rows": 1, + "Actual Loops": 275, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%2007%'::text) OR (mi.info ~~ 'USA:%2008%'::text)))", + "Rows Removed by Filter": 295, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.220, + "Actual Rows": 1, + "Actual Loops": 133 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.370, + "Actual Rows": 1, + "Actual Loops": 142 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 275, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 133 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 142 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 275, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%Angel%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 133 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 142 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 15, + "Output": ["rt.id", "rt.role"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 10 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2216088972165640435, + "Planning Time": 77.336, + "Triggers": [ + ], + "Execution Time": 732.881, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -2216088972165640435, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(n.name) AS voicing_actress,
       MIN(t.title) AS jap_engl_voiced_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%200%'
       OR mi.info LIKE 'USA:%200%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.production_year > 2000
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mi.movie_id = ci.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 68533.40, + "Total Cost": 68533.41, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 532.037, + "Actual Total Time": 539.779, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 68533.35, + "Total Cost": 68533.36, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 531.541, + "Actual Total Time": 539.750, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 68532.35, + "Total Cost": 68532.36, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 521.348, + "Actual Total Time": 521.360, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 516.985, + "Actual Total Time": 516.996, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 523.414, + "Actual Total Time": 523.426, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 522.462, + "Actual Total Time": 522.472, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 518.177, + "Actual Total Time": 518.190, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 518.312, + "Actual Total Time": 518.323, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 522.560, + "Actual Total Time": 522.570, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 518.244, + "Actual Total Time": 518.256, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.95, + "Total Cost": 68532.35, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 137.695, + "Actual Total Time": 520.817, + "Actual Rows": 447, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 121.749, + "Actual Total Time": 516.331, + "Actual Rows": 512, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 147.417, + "Actual Total Time": 522.747, + "Actual Rows": 551, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 144.167, + "Actual Total Time": 522.104, + "Actual Rows": 295, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 154.478, + "Actual Total Time": 517.797, + "Actual Rows": 301, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 133.568, + "Actual Total Time": 517.938, + "Actual Rows": 296, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 122.758, + "Actual Total Time": 522.432, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 131.982, + "Actual Total Time": 517.297, + "Actual Rows": 821, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.53, + "Total Cost": 68531.90, + "Plan Rows": 1, + "Plan Width": 36, + "Actual Startup Time": 137.553, + "Actual Total Time": 502.022, + "Actual Rows": 1462, + "Actual Loops": 8, + "Output": ["mc.company_id", "n.name", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 121.608, + "Actual Total Time": 496.025, + "Actual Rows": 1585, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 147.022, + "Actual Total Time": 490.948, + "Actual Rows": 2424, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 144.062, + "Actual Total Time": 503.795, + "Actual Rows": 1505, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 154.401, + "Actual Total Time": 508.889, + "Actual Rows": 627, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 133.497, + "Actual Total Time": 503.400, + "Actual Rows": 1124, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 122.606, + "Actual Total Time": 519.506, + "Actual Rows": 178, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 131.898, + "Actual Total Time": 496.107, + "Actual Rows": 1653, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.10, + "Total Cost": 68531.34, + "Plan Rows": 1, + "Plan Width": 44, + "Actual Startup Time": 135.451, + "Actual Total Time": 493.952, + "Actual Rows": 454, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 120.135, + "Actual Total Time": 487.693, + "Actual Rows": 498, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 146.912, + "Actual Total Time": 472.461, + "Actual Rows": 1172, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 129.288, + "Actual Total Time": 499.825, + "Actual Rows": 117, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 154.295, + "Actual Total Time": 502.184, + "Actual Rows": 480, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 133.397, + "Actual Total Time": 499.339, + "Actual Rows": 147, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 122.525, + "Actual Total Time": 517.492, + "Actual Rows": 91, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 131.794, + "Actual Total Time": 482.636, + "Actual Rows": 891, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 68529.46, + "Plan Rows": 16, + "Plan Width": 48, + "Actual Startup Time": 135.025, + "Actual Total Time": 492.890, + "Actual Rows": 454, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.movie_id", "mi.info_type_id", "n.name", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 119.576, + "Actual Total Time": 486.462, + "Actual Rows": 498, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 146.638, + "Actual Total Time": 470.661, + "Actual Rows": 1172, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 129.061, + "Actual Total Time": 499.389, + "Actual Rows": 117, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 153.765, + "Actual Total Time": 500.998, + "Actual Rows": 480, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 132.807, + "Actual Total Time": 498.508, + "Actual Rows": 147, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 122.275, + "Actual Total Time": 517.089, + "Actual Rows": 91, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 131.205, + "Actual Total Time": 480.803, + "Actual Rows": 891, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 68493.64, + "Plan Rows": 33, + "Plan Width": 40, + "Actual Startup Time": 128.317, + "Actual Total Time": 469.570, + "Actual Rows": 588, + "Actual Loops": 8, + "Output": ["ci.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 119.474, + "Actual Total Time": 462.165, + "Actual Rows": 634, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 127.711, + "Actual Total Time": 437.634, + "Actual Rows": 1197, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 127.118, + "Actual Total Time": 485.172, + "Actual Rows": 200, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 153.641, + "Actual Total Time": 469.587, + "Actual Rows": 1065, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 118.639, + "Actual Total Time": 488.855, + "Actual Rows": 196, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 122.162, + "Actual Total Time": 512.166, + "Actual Rows": 150, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 129.237, + "Actual Total Time": 435.192, + "Actual Rows": 903, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 68463.38, + "Plan Rows": 60, + "Plan Width": 19, + "Actual Startup Time": 126.696, + "Actual Total Time": 455.394, + "Actual Rows": 966, + "Actual Loops": 8, + "Output": ["ci.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 119.153, + "Actual Total Time": 444.682, + "Actual Rows": 1303, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 124.148, + "Actual Total Time": 416.376, + "Actual Rows": 1347, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 127.048, + "Actual Total Time": 478.894, + "Actual Rows": 331, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 153.536, + "Actual Total Time": 451.260, + "Actual Rows": 1429, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 118.538, + "Actual Total Time": 477.752, + "Actual Rows": 710, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 122.084, + "Actual Total Time": 506.478, + "Actual Rows": 308, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 120.563, + "Actual Total Time": 410.712, + "Actual Rows": 1781, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.97, + "Total Cost": 68406.54, + "Plan Rows": 124, + "Plan Width": 23, + "Actual Startup Time": 126.608, + "Actual Total Time": 443.322, + "Actual Rows": 1026, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_role_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 119.053, + "Actual Total Time": 429.999, + "Actual Rows": 1386, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 124.078, + "Actual Total Time": 397.900, + "Actual Rows": 1448, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 126.955, + "Actual Total Time": 473.951, + "Actual Rows": 396, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 153.423, + "Actual Total Time": 434.739, + "Actual Rows": 1463, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 118.438, + "Actual Total Time": 468.496, + "Actual Rows": 764, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 121.990, + "Actual Total Time": 501.883, + "Actual Rows": 329, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 120.476, + "Actual Total Time": 389.503, + "Actual Rows": 1856, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 68400.16, + "Plan Rows": 1488, + "Plan Width": 27, + "Actual Startup Time": 126.581, + "Actual Total Time": 442.020, + "Actual Rows": 1026, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.role_id", "ci.person_role_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(n.id = ci.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 119.015, + "Actual Total Time": 428.462, + "Actual Rows": 1386, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 124.061, + "Actual Total Time": 396.196, + "Actual Rows": 1448, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 126.936, + "Actual Total Time": 473.326, + "Actual Rows": 396, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 153.396, + "Actual Total Time": 432.933, + "Actual Rows": 1463, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 118.413, + "Actual Total Time": 467.419, + "Actual Rows": 764, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 121.970, + "Actual Total Time": 501.368, + "Actual Rows": 329, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 120.455, + "Actual Total Time": 387.257, + "Actual Rows": 1856, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.42, + "Total Cost": 65488.45, + "Plan Rows": 732, + "Plan Width": 23, + "Actual Startup Time": 119.221, + "Actual Total Time": 351.921, + "Actual Rows": 1316, + "Actual Loops": 8, + "Output": ["an.person_id", "n.name", "n.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 114.203, + "Actual Total Time": 329.303, + "Actual Rows": 1344, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 121.073, + "Actual Total Time": 311.439, + "Actual Rows": 1308, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 119.504, + "Actual Total Time": 360.717, + "Actual Rows": 1543, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 115.465, + "Actual Total Time": 345.634, + "Actual Rows": 972, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 116.295, + "Actual Total Time": 364.802, + "Actual Rows": 1621, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 120.414, + "Actual Total Time": 403.803, + "Actual Rows": 1557, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 118.642, + "Actual Total Time": 326.545, + "Actual Rows": 975, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 63478.05, + "Plan Rows": 3382, + "Plan Width": 19, + "Actual Startup Time": 118.956, + "Actual Total Time": 288.563, + "Actual Rows": 6251, + "Actual Loops": 8, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 514685, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 113.908, + "Actual Total Time": 271.678, + "Actual Rows": 6136, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 120.732, + "Actual Total Time": 247.839, + "Actual Rows": 6336, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 119.216, + "Actual Total Time": 289.001, + "Actual Rows": 7030, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 115.301, + "Actual Total Time": 298.763, + "Actual Rows": 4693, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 115.794, + "Actual Total Time": 285.905, + "Actual Rows": 7236, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 120.178, + "Actual Total Time": 327.778, + "Actual Rows": 7853, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 118.494, + "Actual Total Time": 280.955, + "Actual Rows": 4623, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.57, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 50011, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6136 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6336 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 7030 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 4693 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 7236 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 7853 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 4623 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 3.94, + "Plan Rows": 3, + "Plan Width": 16, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.067, + "Actual Rows": 1, + "Actual Loops": 10525, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.person_id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.072, + "Actual Rows": 1, + "Actual Loops": 1344 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.063, + "Actual Rows": 1, + "Actual Loops": 1308 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.072, + "Actual Rows": 0, + "Actual Loops": 1543 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.088, + "Actual Rows": 2, + "Actual Loops": 972 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 1621 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 1557 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.060, + "Actual Rows": 2, + "Actual Loops": 975 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 8204, + "Output": ["chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1386 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1448 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 396 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1463 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 764 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 329 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1856 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 7726, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1303 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 1347 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 331 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1429 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 710 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 308 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1781 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.08, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 4703, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%200%'::text) OR (mi.info ~~ 'USA:%200%'::text)))", + "Rows Removed by Filter": 14, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 634 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 1197 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.070, + "Actual Rows": 1, + "Actual Loops": 200 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1065 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 196 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 150 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 903 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.064, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 3628, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 498 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 1172 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.027, + "Actual Rows": 13, + "Actual Loops": 117 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 480 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.023, + "Actual Rows": 8, + "Actual Loops": 147 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.020, + "Actual Rows": 2, + "Actual Loops": 91 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 2, + "Actual Loops": 891 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 11692, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1585 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 2424 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 1505 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 627 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1124 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 178 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1653 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5068614643165729469, + "Planning Time": 78.763, + "Triggers": [ + ], + "Execution Time": 540.200, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 5068614643165729469, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(n.name) AS voicing_actress,
       MIN(t.title) AS jap_engl_voiced_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND n.gender ='f'
  AND rt.role ='actress'
  AND t.production_year > 2000
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mi.movie_id = ci.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 129966.66, + "Total Cost": 129966.67, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 20258.690, + "Actual Total Time": 20283.233, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 129966.61, + "Total Cost": 129966.62, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 18776.575, + "Actual Total Time": 20283.178, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 129965.61, + "Total Cost": 129965.62, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 19165.981, + "Actual Total Time": 19165.990, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20236.734, + "Actual Total Time": 20236.742, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18720.891, + "Actual Total Time": 18720.898, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18858.906, + "Actual Total Time": 18858.911, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18787.707, + "Actual Total Time": 18787.715, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18803.176, + "Actual Total Time": 18803.188, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20032.616, + "Actual Total Time": 20032.622, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 19112.294, + "Actual Total Time": 19112.300, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 106609.41, + "Total Cost": 129964.58, + "Plan Rows": 205, + "Plan Width": 32, + "Actual Startup Time": 6816.324, + "Actual Total Time": 19007.350, + "Actual Rows": 220081, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6819.180, + "Actual Total Time": 20037.928, + "Actual Rows": 298761, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6817.264, + "Actual Total Time": 18584.639, + "Actual Rows": 184483, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6813.364, + "Actual Total Time": 18669.165, + "Actual Rows": 262245, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6812.115, + "Actual Total Time": 18658.852, + "Actual Rows": 176199, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6817.706, + "Actual Total Time": 18650.585, + "Actual Rows": 203225, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6812.211, + "Actual Total Time": 19863.548, + "Actual Rows": 236880, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6811.823, + "Actual Total Time": 18982.351, + "Actual Rows": 177002, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 106608.99, + "Total Cost": 129714.62, + "Plan Rows": 566, + "Plan Width": 36, + "Actual Startup Time": 6815.946, + "Actual Total Time": 11681.728, + "Actual Rows": 752961, + "Actual Loops": 8, + "Output": ["mc.company_id", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6818.750, + "Actual Total Time": 11733.625, + "Actual Rows": 897151, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6817.187, + "Actual Total Time": 11426.974, + "Actual Rows": 730483, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6811.076, + "Actual Total Time": 11622.944, + "Actual Rows": 716949, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6812.056, + "Actual Total Time": 11513.908, + "Actual Rows": 721652, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6817.635, + "Actual Total Time": 11284.650, + "Actual Rows": 723922, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6812.178, + "Actual Total Time": 12650.837, + "Actual Rows": 777600, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6811.789, + "Actual Total Time": 11727.369, + "Actual Rows": 727424, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 106608.56, + "Total Cost": 129632.94, + "Plan Rows": 148, + "Plan Width": 44, + "Actual Startup Time": 6815.813, + "Actual Total Time": 9870.240, + "Actual Rows": 87874, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6818.327, + "Actual Total Time": 9731.830, + "Actual Rows": 96224, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6816.962, + "Actual Total Time": 9740.130, + "Actual Rows": 76889, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6811.027, + "Actual Total Time": 9797.985, + "Actual Rows": 89534, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6812.023, + "Actual Total Time": 9853.981, + "Actual Rows": 75242, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6817.583, + "Actual Total Time": 9524.192, + "Actual Rows": 77436, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6811.994, + "Actual Total Time": 10676.165, + "Actual Rows": 111051, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6811.736, + "Actual Total Time": 9955.439, + "Actual Rows": 87072, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 106606.72, + "Total Cost": 129585.58, + "Plan Rows": 16712, + "Plan Width": 48, + "Actual Startup Time": 6815.242, + "Actual Total Time": 9674.802, + "Actual Rows": 433925, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.movie_id", "mi.info_type_id", "n.name", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6817.682, + "Actual Total Time": 9510.446, + "Actual Rows": 543146, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6816.651, + "Actual Total Time": 9571.964, + "Actual Rows": 358124, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6810.330, + "Actual Total Time": 9585.873, + "Actual Rows": 463219, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6811.375, + "Actual Total Time": 9687.032, + "Actual Rows": 357288, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6817.256, + "Actual Total Time": 9353.287, + "Actual Rows": 363385, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6811.187, + "Actual Total Time": 10438.593, + "Actual Rows": 551339, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6811.024, + "Actual Total Time": 9776.590, + "Actual Rows": 377763, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 106606.28, + "Total Cost": 128205.76, + "Plan Rows": 1164, + "Plan Width": 40, + "Actual Startup Time": 6815.186, + "Actual Total Time": 8813.235, + "Actual Rows": 36287, + "Actual Loops": 8, + "Output": ["ci.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6817.620, + "Actual Total Time": 8649.789, + "Actual Rows": 30853, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6816.590, + "Actual Total Time": 8790.998, + "Actual Rows": 34721, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6810.275, + "Actual Total Time": 8757.788, + "Actual Rows": 30591, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6811.305, + "Actual Total Time": 8842.344, + "Actual Rows": 35094, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6817.196, + "Actual Total Time": 8618.068, + "Actual Rows": 27530, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6811.135, + "Actual Total Time": 9325.541, + "Actual Rows": 53385, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6810.962, + "Actual Total Time": 8913.534, + "Actual Rows": 43141, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 106605.85, + "Total Cost": 127130.60, + "Plan Rows": 2132, + "Plan Width": 19, + "Actual Startup Time": 6815.127, + "Actual Total Time": 8174.816, + "Actual Rows": 60355, + "Actual Loops": 8, + "Output": ["ci.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6817.593, + "Actual Total Time": 8068.524, + "Actual Rows": 58637, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6816.556, + "Actual Total Time": 8162.310, + "Actual Rows": 58023, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6810.231, + "Actual Total Time": 8138.819, + "Actual Rows": 58119, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6811.277, + "Actual Total Time": 8196.236, + "Actual Rows": 59278, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6817.152, + "Actual Total Time": 8045.682, + "Actual Rows": 51318, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6810.994, + "Actual Total Time": 8511.233, + "Actual Rows": 78664, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6810.841, + "Actual Total Time": 8236.959, + "Actual Rows": 65162, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 106605.42, + "Total Cost": 125107.29, + "Plan Rows": 4414, + "Plan Width": 23, + "Actual Startup Time": 6815.083, + "Actual Total Time": 7619.532, + "Actual Rows": 62878, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_role_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6817.542, + "Actual Total Time": 7548.163, + "Actual Rows": 61238, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6816.515, + "Actual Total Time": 7613.911, + "Actual Rows": 61000, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6810.200, + "Actual Total Time": 7591.530, + "Actual Rows": 59917, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6811.208, + "Actual Total Time": 7635.721, + "Actual Rows": 62515, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6817.108, + "Actual Total Time": 7562.361, + "Actual Rows": 53591, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6810.947, + "Actual Total Time": 7797.131, + "Actual Rows": 81458, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6810.801, + "Actual Total Time": 7663.946, + "Actual Rows": 68124, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Merge Join", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 106604.99, + "Total Cost": 114892.94, + "Plan Rows": 19100, + "Plan Width": 16, + "Actual Startup Time": 6808.395, + "Actual Total Time": 6964.976, + "Actual Rows": 62938, + "Actual Loops": 8, + "Output": ["an.person_id", "ci.movie_id", "ci.person_id", "ci.person_role_id"], + "Inner Unique": false, + "Merge Cond": "(an.person_id = ci.person_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6797.468, + "Actual Total Time": 6937.424, + "Actual Rows": 61691, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6816.421, + "Actual Total Time": 6971.911, + "Actual Rows": 61000, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6810.128, + "Actual Total Time": 6956.561, + "Actual Rows": 59917, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6811.133, + "Actual Total Time": 6970.172, + "Actual Rows": 62515, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6788.868, + "Actual Total Time": 6970.479, + "Actual Rows": 53600, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6810.869, + "Actual Total Time": 6974.919, + "Actual Rows": 81458, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6810.728, + "Actual Total Time": 6971.377, + "Actual Rows": 68124, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 8730.32, + "Plan Rows": 112668, + "Plan Width": 4, + "Actual Startup Time": 0.129, + "Actual Total Time": 27.106, + "Actual Rows": 72354, + "Actual Loops": 8, + "Output": ["an.person_id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.103, + "Actual Total Time": 17.745, + "Actual Rows": 49955, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.074, + "Actual Total Time": 39.363, + "Actual Rows": 108969, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.156, + "Actual Total Time": 21.365, + "Actual Rows": 58538, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.152, + "Actual Total Time": 26.860, + "Actual Rows": 66626, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.172, + "Actual Total Time": 33.484, + "Actual Rows": 87618, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.164, + "Actual Total Time": 26.597, + "Actual Rows": 71979, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.181, + "Actual Total Time": 30.964, + "Actual Rows": 79822, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Sort", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 106604.17, + "Total Cost": 106785.52, + "Plan Rows": 72541, + "Plan Width": 12, + "Actual Startup Time": 6792.230, + "Actual Total Time": 6835.538, + "Actual Rows": 319310, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id"], + "Sort Key": ["ci.person_id"], + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6794.689, + "Actual Total Time": 6832.774, + "Actual Rows": 324325, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 1, + "Actual Startup Time": 6782.146, + "Actual Total Time": 6825.361, + "Actual Rows": 311846, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 2, + "Actual Startup Time": 6790.082, + "Actual Total Time": 6833.650, + "Actual Rows": 322345, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 3, + "Actual Startup Time": 6795.421, + "Actual Total Time": 6840.386, + "Actual Rows": 313398, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 4, + "Actual Startup Time": 6788.583, + "Actual Total Time": 6832.728, + "Actual Rows": 310287, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 5, + "Actual Startup Time": 6789.110, + "Actual Total Time": 6836.021, + "Actual Rows": 336088, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 6, + "Actual Startup Time": 6789.882, + "Actual Total Time": 6833.600, + "Actual Rows": 320272, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.44, + "Total Cost": 100747.75, + "Plan Rows": 72541, + "Plan Width": 12, + "Actual Startup Time": 1.067, + "Actual Total Time": 6603.950, + "Actual Rows": 276166, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.657, + "Actual Total Time": 6607.545, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.634, + "Actual Total Time": 6598.383, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.532, + "Actual Total Time": 6602.584, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.520, + "Actual Total Time": 6600.811, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.622, + "Actual Total Time": 6602.151, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.537, + "Actual Total Time": 6601.693, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.550, + "Actual Total Time": 6601.217, + "Actual Rows": 276166, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["rt.id", "rt.role"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.061, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.062, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.052, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.071, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 99955.25, + "Plan Rows": 79135, + "Plan Width": 16, + "Actual Startup Time": 1.021, + "Actual Total Time": 6528.316, + "Actual Rows": 276166, + "Actual Loops": 8, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.role_id = rt.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 7175807, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.619, + "Actual Total Time": 6531.183, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.607, + "Actual Total Time": 6523.373, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.468, + "Actual Total Time": 6525.991, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.457, + "Actual Total Time": 6524.930, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.590, + "Actual Total Time": 6528.904, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.481, + "Actual Total Time": 6526.383, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.477, + "Actual Total Time": 6524.028, + "Actual Rows": 276166, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 503508, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'f'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 61691 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 61000 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 59917 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 62515 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 53600 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 81458 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 68124 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 503022, + "Output": ["chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 61238 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 61000 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 59917 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 62515 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 53591 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 81458 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 68124 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 482841, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 58637 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 58023 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 58119 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 59278 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 51318 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 78664 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 65162 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 22, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.019, + "Actual Rows": 12, + "Actual Loops": 290297, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.021, + "Actual Rows": 18, + "Actual Loops": 30853 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.018, + "Actual Rows": 10, + "Actual Loops": 34721 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.021, + "Actual Rows": 15, + "Actual Loops": 30591 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.020, + "Actual Rows": 10, + "Actual Loops": 35094 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.021, + "Actual Rows": 13, + "Actual Loops": 27530 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.017, + "Actual Rows": 10, + "Actual Loops": 53385 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.016, + "Actual Rows": 9, + "Actual Loops": 43141 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.075, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.016, + "Actual Rows": 9, + "Actual Loops": 702993, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.016, + "Actual Rows": 9, + "Actual Loops": 96224 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.017, + "Actual Rows": 10, + "Actual Loops": 76889 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.016, + "Actual Rows": 8, + "Actual Loops": 89534 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.017, + "Actual Rows": 10, + "Actual Loops": 75242 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.017, + "Actual Rows": 9, + "Actual Loops": 77436 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.014, + "Actual Rows": 7, + "Actual Loops": 111051 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.015, + "Actual Rows": 8, + "Actual Loops": 87072 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6023690, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 897151 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 730483 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 716949 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 721652 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 723922 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 777600 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 727424 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7915967579038312663, + "Planning Time": 91.747, + "Triggers": [ + ], + "Execution Time": 20305.898, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 7915967579038312663, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_title,
       MIN(t.production_year) AS movie_year
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info_idx AS mi_idx,
     title AS t
WHERE ct.kind = 'production companies'
  AND it.info = 'top 250 rank'
  AND mc.note NOT LIKE '%(as Metro-Goldwyn-Mayer Pictures)%'
  AND (mc.note LIKE '%(co-production)%'
       OR mc.note LIKE '%(presents)%')
  AND ct.id = mc.company_type_id
  AND t.id = mc.movie_id
  AND t.id = mi_idx.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10994.03, + "Total Cost": 10994.04, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 122.870, + "Actual Total Time": 126.722, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mc.note)", "min(t.title)", "min(t.production_year)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10993.96, + "Total Cost": 10993.97, + "Plan Rows": 8, + "Plan Width": 68, + "Actual Startup Time": 114.711, + "Actual Total Time": 126.703, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mc.note))", "(PARTIAL min(t.title))", "(PARTIAL min(t.production_year))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10992.96, + "Total Cost": 10992.97, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 98.147, + "Actual Total Time": 98.153, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mc.note)", "PARTIAL min(t.title)", "PARTIAL min(t.production_year)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.561, + "Actual Total Time": 97.566, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 98.344, + "Actual Total Time": 98.351, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 107.736, + "Actual Total Time": 107.740, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 98.013, + "Actual Total Time": 98.020, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 93.298, + "Actual Total Time": 93.304, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 78.994, + "Actual Total Time": 78.999, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.397, + "Actual Total Time": 98.404, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.75, + "Total Cost": 10992.90, + "Plan Rows": 9, + "Plan Width": 45, + "Actual Startup Time": 95.314, + "Actual Total Time": 98.123, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["mc.note", "t.title", "t.production_year"], + "Inner Unique": true, + "Join Filter": "(mc.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.556, + "Actual Total Time": 97.560, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 98.339, + "Actual Total Time": 98.344, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 92.508, + "Actual Total Time": 107.622, + "Actual Rows": 95, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 98.006, + "Actual Total Time": 98.012, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 93.291, + "Actual Total Time": 93.296, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 78.986, + "Actual Total Time": 78.991, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.390, + "Actual Total Time": 98.396, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.32, + "Total Cost": 10988.45, + "Plan Rows": 9, + "Plan Width": 32, + "Actual Startup Time": 95.292, + "Actual Total Time": 97.744, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["mc.note", "mc.movie_id", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.555, + "Actual Total Time": 97.559, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 98.338, + "Actual Total Time": 98.342, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 92.423, + "Actual Total Time": 105.653, + "Actual Rows": 95, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 98.005, + "Actual Total Time": 98.011, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 93.290, + "Actual Total Time": 93.294, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 78.985, + "Actual Total Time": 78.988, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.389, + "Actual Total Time": 98.395, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10987.21, + "Plan Rows": 36, + "Plan Width": 36, + "Actual Startup Time": 94.858, + "Actual Total Time": 97.290, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "mc.note", "mc.company_type_id", "mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.324, + "Actual Total Time": 97.326, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 98.083, + "Actual Total Time": 98.086, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 91.889, + "Actual Total Time": 105.015, + "Actual Rows": 95, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.776, + "Actual Total Time": 97.779, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 92.754, + "Actual Total Time": 92.757, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 78.409, + "Actual Total Time": 78.411, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.132, + "Actual Total Time": 98.136, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1527, + "Plan Width": 4, + "Actual Startup Time": 94.797, + "Actual Total Time": 94.845, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.323, + "Actual Total Time": 97.325, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 98.082, + "Actual Total Time": 98.085, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 91.569, + "Actual Total Time": 91.813, + "Actual Rows": 162, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.774, + "Actual Total Time": 97.777, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 92.752, + "Actual Total Time": 92.755, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 78.407, + "Actual Total Time": 78.409, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.131, + "Actual Total Time": 98.134, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.048, + "Actual Total Time": 39.974, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 40.779, + "Actual Rows": 184193, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 41.183, + "Actual Rows": 190119, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.059, + "Actual Total Time": 37.367, + "Actual Rows": 167140, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 40.405, + "Actual Rows": 183475, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.073, + "Actual Total Time": 41.751, + "Actual Rows": 136360, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.075, + "Actual Total Time": 34.564, + "Actual Rows": 129045, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 42.325, + "Actual Rows": 187320, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.088, + "Actual Total Time": 0.091, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'top 250 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.55, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.077, + "Actual Rows": 1, + "Actual Loops": 250, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(as Metro-Goldwyn-Mayer Pictures)%'::text) AND ((mc.note ~~ '%(co-production)%'::text) OR (mc.note ~~ '%(presents)%'::text)))", + "Rows Removed by Filter": 33, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.080, + "Actual Rows": 1, + "Actual Loops": 162 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.064, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 142, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 95 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1116224040252844741, + "Planning Time": 18.303, + "Triggers": [ + ], + "Execution Time": 127.220, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -1116224040252844741, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_title,
       MIN(t.production_year) AS movie_year
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info_idx AS mi_idx,
     title AS t
WHERE ct.kind = 'production companies'
  AND it.info = 'bottom 10 rank'
  AND mc.note NOT LIKE '%(as Metro-Goldwyn-Mayer Pictures)%'
  AND t.production_year BETWEEN 2005 AND 2010
  AND ct.id = mc.company_type_id
  AND t.id = mc.movie_id
  AND t.id = mi_idx.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11122.33, + "Total Cost": 11122.34, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 96.605, + "Actual Total Time": 101.170, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mc.note)", "min(t.title)", "min(t.production_year)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11122.26, + "Total Cost": 11122.27, + "Plan Rows": 8, + "Plan Width": 68, + "Actual Startup Time": 96.587, + "Actual Total Time": 101.159, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mc.note))", "(PARTIAL min(t.title))", "(PARTIAL min(t.production_year))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11121.26, + "Total Cost": 11121.27, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 88.587, + "Actual Total Time": 88.592, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mc.note)", "PARTIAL min(t.title)", "PARTIAL min(t.production_year)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 88.458, + "Actual Total Time": 88.462, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 88.577, + "Actual Total Time": 88.582, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 89.035, + "Actual Total Time": 89.040, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 88.897, + "Actual Total Time": 88.902, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 80.463, + "Actual Total Time": 80.468, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 88.561, + "Actual Total Time": 88.566, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 88.998, + "Actual Total Time": 89.003, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.75, + "Total Cost": 11119.45, + "Plan Rows": 242, + "Plan Width": 45, + "Actual Startup Time": 88.576, + "Actual Total Time": 88.585, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.note", "t.title", "t.production_year"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 88.453, + "Actual Total Time": 88.457, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 88.574, + "Actual Total Time": 88.578, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 89.030, + "Actual Total Time": 89.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 88.890, + "Actual Total Time": 88.894, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 80.458, + "Actual Total Time": 80.462, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 88.557, + "Actual Total Time": 88.562, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 88.992, + "Actual Total Time": 88.997, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 11113.17, + "Plan Rows": 969, + "Plan Width": 49, + "Actual Startup Time": 88.262, + "Actual Total Time": 88.324, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_type_id", "t.title", "t.production_year"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 88.221, + "Actual Total Time": 88.224, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 88.348, + "Actual Total Time": 88.351, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 88.801, + "Actual Total Time": 88.804, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 88.668, + "Actual Total Time": 88.672, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 80.197, + "Actual Total Time": 80.199, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 88.325, + "Actual Total Time": 88.329, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 88.772, + "Actual Total Time": 88.775, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10874.96, + "Plan Rows": 429, + "Plan Width": 29, + "Actual Startup Time": 88.252, + "Actual Total Time": 88.276, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "t.title", "t.production_year", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 88.221, + "Actual Total Time": 88.223, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 88.347, + "Actual Total Time": 88.349, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 88.800, + "Actual Total Time": 88.802, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 88.668, + "Actual Total Time": 88.670, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 80.196, + "Actual Total Time": 80.198, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 88.325, + "Actual Total Time": 88.327, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 88.771, + "Actual Total Time": 88.774, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1527, + "Plan Width": 4, + "Actual Startup Time": 88.207, + "Actual Total Time": 88.213, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 88.220, + "Actual Total Time": 88.222, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 88.346, + "Actual Total Time": 88.348, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 88.800, + "Actual Total Time": 88.801, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 88.667, + "Actual Total Time": 88.669, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 80.195, + "Actual Total Time": 80.197, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 88.324, + "Actual Total Time": 88.326, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 88.771, + "Actual Total Time": 88.773, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.015, + "Actual Total Time": 34.067, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 33.123, + "Actual Rows": 158279, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 31.313, + "Actual Rows": 171134, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 42.178, + "Actual Rows": 150808, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 34.428, + "Actual Rows": 186608, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 29.311, + "Actual Rows": 153233, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 34.624, + "Actual Rows": 185239, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 34.045, + "Actual Rows": 188024, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'bottom 10 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 10, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 2, + "Plan Width": 32, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.082, + "Actual Rows": 16, + "Actual Loops": 4, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note !~~ '%(as Metro-Goldwyn-Mayer Pictures)%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4074774145614403639, + "Planning Time": 7.023, + "Triggers": [ + ], + "Execution Time": 101.489, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -4074774145614403639, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_title,
       MIN(t.production_year) AS movie_year
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info_idx AS mi_idx,
     title AS t
WHERE ct.kind = 'production companies'
  AND it.info = 'top 250 rank'
  AND mc.note NOT LIKE '%(as Metro-Goldwyn-Mayer Pictures)%'
  AND (mc.note LIKE '%(co-production)%')
  AND t.production_year >2010
  AND ct.id = mc.company_type_id
  AND t.id = mc.movie_id
  AND t.id = mi_idx.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10976.98, + "Total Cost": 10976.99, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 105.279, + "Actual Total Time": 111.447, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mc.note)", "min(t.title)", "min(t.production_year)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10976.91, + "Total Cost": 10976.92, + "Plan Rows": 8, + "Plan Width": 68, + "Actual Startup Time": 92.384, + "Actual Total Time": 111.426, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mc.note))", "(PARTIAL min(t.title))", "(PARTIAL min(t.production_year))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10975.91, + "Total Cost": 10975.92, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 88.503, + "Actual Total Time": 88.508, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mc.note)", "PARTIAL min(t.title)", "PARTIAL min(t.production_year)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 85.012, + "Actual Total Time": 85.017, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.085, + "Actual Total Time": 85.090, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 85.292, + "Actual Total Time": 85.297, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 85.315, + "Actual Total Time": 85.319, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 85.319, + "Actual Total Time": 85.324, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 97.640, + "Actual Total Time": 97.644, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 92.877, + "Actual Total Time": 92.881, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 10975.90, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 87.749, + "Actual Total Time": 88.501, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.note", "t.title", "t.production_year"], + "Inner Unique": true, + "Join Filter": "(mc.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 85.006, + "Actual Total Time": 85.011, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.082, + "Actual Total Time": 85.085, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 85.286, + "Actual Total Time": 85.291, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 85.311, + "Actual Total Time": 85.315, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 85.312, + "Actual Total Time": 85.316, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 91.650, + "Actual Total Time": 97.626, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 92.872, + "Actual Total Time": 92.876, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.41, + "Total Cost": 10972.92, + "Plan Rows": 6, + "Plan Width": 32, + "Actual Startup Time": 86.802, + "Actual Total Time": 88.441, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["mc.note", "mc.movie_id", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 85.006, + "Actual Total Time": 85.009, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.081, + "Actual Total Time": 85.084, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 85.285, + "Actual Total Time": 85.289, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 85.310, + "Actual Total Time": 85.313, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 85.311, + "Actual Total Time": 85.315, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 85.624, + "Actual Total Time": 97.207, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.322, + "Actual Total Time": 92.826, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10971.94, + "Plan Rows": 22, + "Plan Width": 36, + "Actual Startup Time": 86.787, + "Actual Total Time": 88.419, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "mc.note", "mc.company_type_id", "mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 85.005, + "Actual Total Time": 85.008, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.081, + "Actual Total Time": 85.083, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 85.284, + "Actual Total Time": 85.288, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 85.309, + "Actual Total Time": 85.311, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 85.310, + "Actual Total Time": 85.313, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 85.559, + "Actual Total Time": 97.092, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.270, + "Actual Total Time": 92.772, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1527, + "Plan Width": 4, + "Actual Startup Time": 85.958, + "Actual Total Time": 86.010, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 85.004, + "Actual Total Time": 85.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.080, + "Actual Total Time": 85.081, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 85.284, + "Actual Total Time": 85.286, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 85.308, + "Actual Total Time": 85.310, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 85.310, + "Actual Total Time": 85.312, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 84.918, + "Actual Total Time": 85.163, + "Actual Rows": 162, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 85.283, + "Actual Total Time": 85.439, + "Actual Rows": 88, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.016, + "Actual Total Time": 33.423, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 32.838, + "Actual Rows": 181218, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 32.429, + "Actual Rows": 176527, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 32.945, + "Actual Rows": 164026, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 31.395, + "Actual Rows": 170604, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 32.465, + "Actual Rows": 173594, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 34.517, + "Actual Rows": 172891, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 35.794, + "Actual Rows": 148978, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.060, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'top 250 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.076, + "Actual Rows": 0, + "Actual Loops": 250, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(as Metro-Goldwyn-Mayer Pictures)%'::text) AND (mc.note ~~ '%(co-production)%'::text))", + "Rows Removed by Filter": 33, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.073, + "Actual Rows": 0, + "Actual Loops": 162 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.082, + "Actual Rows": 0, + "Actual Loops": 88 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 23, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 22, + "Cache Hits": 21, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 23, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 22 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 946838174961328458, + "Planning Time": 7.706, + "Triggers": [ + ], + "Execution Time": 111.784, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 946838174961328458, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_title,
       MIN(t.production_year) AS movie_year
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info_idx AS mi_idx,
     title AS t
WHERE ct.kind = 'production companies'
  AND it.info = 'bottom 10 rank'
  AND mc.note NOT LIKE '%(as Metro-Goldwyn-Mayer Pictures)%'
  AND t.production_year >2000
  AND ct.id = mc.company_type_id
  AND t.id = mc.movie_id
  AND t.id = mi_idx.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11345.32, + "Total Cost": 11345.33, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 93.767, + "Actual Total Time": 98.614, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mc.note)", "min(t.title)", "min(t.production_year)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11345.25, + "Total Cost": 11345.26, + "Plan Rows": 8, + "Plan Width": 68, + "Actual Startup Time": 92.494, + "Actual Total Time": 98.595, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mc.note))", "(PARTIAL min(t.title))", "(PARTIAL min(t.production_year))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11344.25, + "Total Cost": 11344.26, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 85.994, + "Actual Total Time": 85.999, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mc.note)", "PARTIAL min(t.title)", "PARTIAL min(t.production_year)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 85.491, + "Actual Total Time": 85.495, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 86.549, + "Actual Total Time": 86.555, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 85.564, + "Actual Total Time": 85.568, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 82.444, + "Actual Total Time": 82.450, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 85.431, + "Actual Total Time": 85.436, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 85.525, + "Actual Total Time": 85.530, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 85.407, + "Actual Total Time": 85.412, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.75, + "Total Cost": 11340.72, + "Plan Rows": 470, + "Plan Width": 45, + "Actual Startup Time": 85.963, + "Actual Total Time": 85.992, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.note", "t.title", "t.production_year"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 85.487, + "Actual Total Time": 85.491, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 86.338, + "Actual Total Time": 86.532, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 85.558, + "Actual Total Time": 85.562, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 82.439, + "Actual Total Time": 82.444, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 85.425, + "Actual Total Time": 85.429, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 85.520, + "Actual Total Time": 85.524, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 85.402, + "Actual Total Time": 85.407, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 11329.51, + "Plan Rows": 1881, + "Plan Width": 49, + "Actual Startup Time": 85.612, + "Actual Total Time": 85.706, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_type_id", "t.title", "t.production_year"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 85.264, + "Actual Total Time": 85.267, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.481, + "Actual Total Time": 86.203, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 85.295, + "Actual Total Time": 85.298, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 82.176, + "Actual Total Time": 82.179, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 85.180, + "Actual Total Time": 85.184, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 85.258, + "Actual Total Time": 85.261, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 85.168, + "Actual Total Time": 85.172, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10871.15, + "Plan Rows": 833, + "Plan Width": 29, + "Actual Startup Time": 85.596, + "Actual Total Time": 85.644, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "t.title", "t.production_year", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 85.263, + "Actual Total Time": 85.265, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.363, + "Actual Total Time": 85.722, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 85.294, + "Actual Total Time": 85.297, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 82.175, + "Actual Total Time": 82.178, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 85.179, + "Actual Total Time": 85.182, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 85.257, + "Actual Total Time": 85.260, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 85.167, + "Actual Total Time": 85.170, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1527, + "Plan Width": 4, + "Actual Startup Time": 85.576, + "Actual Total Time": 85.585, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 85.262, + "Actual Total Time": 85.264, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.207, + "Actual Total Time": 85.259, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 85.294, + "Actual Total Time": 85.295, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 82.174, + "Actual Total Time": 82.177, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 85.179, + "Actual Total Time": 85.181, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 85.257, + "Actual Total Time": 85.259, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 85.166, + "Actual Total Time": 85.168, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.016, + "Actual Total Time": 33.779, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 35.237, + "Actual Rows": 155831, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 33.332, + "Actual Rows": 156980, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 32.969, + "Actual Rows": 181044, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 31.623, + "Actual Rows": 170976, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 35.609, + "Actual Rows": 165225, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 33.115, + "Actual Rows": 178796, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 32.920, + "Actual Rows": 179527, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'bottom 10 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 10 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 2, + "Plan Width": 32, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.074, + "Actual Rows": 13, + "Actual Loops": 6, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note !~~ '%(as Metro-Goldwyn-Mayer Pictures)%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.074, + "Actual Rows": 13, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6885312641126422993, + "Planning Time": 7.241, + "Triggers": [ + ], + "Execution Time": 98.970, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -6885312641126422993, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS complete_downey_ironman_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     keyword AS k,
     kind_type AS kt,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name NOT LIKE '%Sherlock%'
  AND (chn.name LIKE '%Tony%Stark%'
       OR chn.name LIKE '%Iron%Man%')
  AND k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND kt.kind = 'movie'
  AND t.production_year > 1950
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND ci.movie_id = cc.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1510.14, + "Total Cost": 1510.15, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 2435.942, + "Actual Total Time": 2465.918, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4.90, + "Total Cost": 1510.14, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 145.837, + "Actual Total Time": 2465.837, + "Actual Rows": 33, + "Actual Loops": 1, + "Output": ["t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.90, + "Total Cost": 1509.14, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 313.413, + "Actual Total Time": 761.283, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 89.174, + "Actual Total Time": 89.183, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 616.073, + "Actual Total Time": 1302.033, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 991.529, + "Actual Total Time": 2426.408, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 88.933, + "Actual Total Time": 88.943, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 121.501, + "Actual Total Time": 267.827, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 411.235, + "Actual Total Time": 1492.872, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 43.953, + "Actual Total Time": 104.770, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.47, + "Total Cost": 1508.69, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 313.342, + "Actual Total Time": 761.158, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 89.173, + "Actual Total Time": 89.182, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 615.969, + "Actual Total Time": 1301.895, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 991.439, + "Actual Total Time": 2426.214, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 88.932, + "Actual Total Time": 88.942, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 121.408, + "Actual Total Time": 267.646, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 411.139, + "Actual Total Time": 1492.775, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 43.827, + "Actual Total Time": 104.523, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.04, + "Total Cost": 1508.23, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 32.377, + "Actual Total Time": 365.862, + "Actual Rows": 66601, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 89.172, + "Actual Total Time": 89.180, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.231, + "Actual Total Time": 640.636, + "Actual Rows": 99182, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.435, + "Actual Total Time": 1037.101, + "Actual Rows": 256740, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 88.931, + "Actual Total Time": 88.940, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.246, + "Actual Total Time": 139.216, + "Actual Rows": 19934, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.957, + "Actual Total Time": 704.993, + "Actual Rows": 133462, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.249, + "Actual Total Time": 58.248, + "Actual Rows": 5570, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.60, + "Total Cost": 1506.69, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 32.209, + "Actual Total Time": 98.935, + "Actual Rows": 752, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 89.172, + "Actual Total Time": 89.179, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.329, + "Actual Total Time": 180.032, + "Actual Rows": 1290, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.317, + "Actual Total Time": 201.422, + "Actual Rows": 2989, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 88.931, + "Actual Total Time": 88.939, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.168, + "Actual Total Time": 33.406, + "Actual Rows": 148, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.876, + "Actual Total Time": 140.657, + "Actual Rows": 1396, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.149, + "Actual Total Time": 9.254, + "Actual Rows": 27, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.46, + "Total Cost": 1506.36, + "Plan Rows": 2, + "Plan Width": 33, + "Actual Startup Time": 12.793, + "Actual Total Time": 94.030, + "Actual Rows": 920, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 89.171, + "Actual Total Time": 89.178, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.736, + "Actual Total Time": 170.217, + "Actual Rows": 1784, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.126, + "Actual Total Time": 185.860, + "Actual Rows": 3358, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.287, + "Actual Total Time": 87.973, + "Actual Rows": 136, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.170, + "Actual Total Time": 31.843, + "Actual Rows": 229, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.491, + "Actual Total Time": 131.643, + "Actual Rows": 1604, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.995, + "Actual Total Time": 8.888, + "Actual Rows": 38, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.03, + "Total Cost": 1505.44, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 12.726, + "Actual Total Time": 77.512, + "Actual Rows": 1096, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 89.171, + "Actual Total Time": 89.176, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.649, + "Actual Total Time": 136.259, + "Actual Rows": 2225, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.072, + "Actual Total Time": 138.231, + "Actual Rows": 3737, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.211, + "Actual Total Time": 84.200, + "Actual Rows": 136, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.057, + "Actual Total Time": 26.493, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.422, + "Actual Total Time": 97.787, + "Actual Rows": 2119, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.918, + "Actual Total Time": 7.636, + "Actual Rows": 39, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.89, + "Total Cost": 1504.80, + "Plan Rows": 9, + "Plan Width": 12, + "Actual Startup Time": 12.683, + "Actual Total Time": 75.168, + "Actual Rows": 1096, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 89.170, + "Actual Total Time": 89.175, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.606, + "Actual Total Time": 131.516, + "Actual Rows": 2225, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.028, + "Actual Total Time": 131.431, + "Actual Rows": 3737, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.166, + "Actual Total Time": 83.770, + "Actual Rows": 136, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.996, + "Actual Total Time": 25.643, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.370, + "Actual Total Time": 93.159, + "Actual Rows": 2119, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.868, + "Actual Total Time": 7.411, + "Actual Rows": 39, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 1503.58, + "Plan Rows": 34, + "Plan Width": 16, + "Actual Startup Time": 12.463, + "Actual Total Time": 72.956, + "Actual Rows": 1601, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 88.976, + "Actual Total Time": 88.978, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.365, + "Actual Total Time": 127.262, + "Actual Rows": 3266, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.864, + "Actual Total Time": 125.409, + "Actual Rows": 5294, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.968, + "Actual Total Time": 83.208, + "Actual Rows": 276, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.800, + "Actual Total Time": 24.818, + "Actual Rows": 331, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.197, + "Actual Total Time": 88.907, + "Actual Rows": 3248, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.670, + "Actual Total Time": 7.073, + "Actual Rows": 47, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1486.12, + "Plan Rows": 39, + "Plan Width": 4, + "Actual Startup Time": 12.076, + "Actual Total Time": 36.230, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 88.975, + "Actual Total Time": 88.976, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.233, + "Actual Total Time": 46.461, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.110, + "Actual Total Time": 45.317, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.668, + "Actual Total Time": 43.430, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.590, + "Actual Total Time": 10.309, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.271, + "Actual Total Time": 35.255, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.427, + "Actual Total Time": 4.146, + "Actual Rows": 248, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1332.34, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 11.969, + "Actual Total Time": 14.499, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 88.975, + "Actual Total Time": 88.975, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.106, + "Actual Total Time": 2.126, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.990, + "Actual Total Time": 1.040, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.552, + "Actual Total Time": 20.569, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.439, + "Actual Total Time": 0.463, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.155, + "Actual Total Time": 0.230, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.304, + "Actual Total Time": 2.326, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.40, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.107, + "Actual Total Time": 20.218, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.122, + "Actual Total Time": 41.010, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.081, + "Actual Total Time": 20.531, + "Actual Rows": 5412, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.107, + "Actual Total Time": 21.165, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.142, + "Actual Total Time": 9.283, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.107, + "Actual Total Time": 32.806, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.117, + "Actual Total Time": 1.705, + "Actual Rows": 248, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 35548, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 10544 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 10824 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 4196 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 6011 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 248 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 8765, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 259, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 2225, + "Cache Hits": 2223, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 3737, + "Cache Hits": 3735, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 136, + "Cache Hits": 135, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 248, + "Cache Hits": 246, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 2119, + "Cache Hits": 2117, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 39, + "Cache Hits": 37, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 13, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 8765, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1950)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 2225 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 3737 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 136 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 248 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 2119 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 39 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 7363, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1784 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 3358 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 136 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 229 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1604 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 38 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.20, + "Plan Rows": 35, + "Plan Width": 12, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.329, + "Actual Rows": 89, + "Actual Loops": 6016, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.333, + "Actual Rows": 77, + "Actual Loops": 1290 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.256, + "Actual Rows": 86, + "Actual Loops": 2989 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.675, + "Actual Rows": 135, + "Actual Loops": 148 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.376, + "Actual Rows": 96, + "Actual Loops": 1396 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.045, + "Actual Total Time": 1.735, + "Actual Rows": 206, + "Actual Loops": 27 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 532809, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name !~~ '%Sherlock%'::text) AND ((chn.name ~~ '%Tony%Stark%'::text) OR (chn.name ~~ '%Iron%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 99182 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 256740 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 19934 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 133462 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 5570 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 33, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.092, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 7 + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2202723705874175045, + "Planning Time": 51.603, + "Triggers": [ + ], + "Execution Time": 2466.464, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -2202723705874175045, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(t.title) AS complete_downey_ironman_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     keyword AS k,
     kind_type AS kt,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name NOT LIKE '%Sherlock%'
  AND (chn.name LIKE '%Tony%Stark%'
       OR chn.name LIKE '%Iron%Man%')
  AND k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND kt.kind = 'movie'
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND ci.movie_id = cc.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1510.04, + "Total Cost": 1510.05, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1020.431, + "Actual Total Time": 1052.059, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1510.01, + "Total Cost": 1510.02, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 186.191, + "Actual Total Time": 1052.018, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1509.01, + "Total Cost": 1509.02, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 362.416, + "Actual Total Time": 362.424, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 90.384, + "Actual Total Time": 90.393, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 486.009, + "Actual Total Time": 486.016, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 186.025, + "Actual Total Time": 186.031, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1009.818, + "Actual Total Time": 1009.824, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 91.071, + "Actual Total Time": 91.081, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 760.798, + "Actual Total Time": 760.803, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 90.151, + "Actual Total Time": 90.160, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.91, + "Total Cost": 1509.01, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 228.054, + "Actual Total Time": 362.409, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 90.380, + "Actual Total Time": 90.389, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 254.488, + "Actual Total Time": 486.003, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 81.192, + "Actual Total Time": 186.007, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 426.357, + "Actual Total Time": 1009.800, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.173, + "Actual Total Time": 91.050, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 760.793, + "Actual Total Time": 760.798, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 90.147, + "Actual Total Time": 90.155, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.48, + "Total Cost": 1508.55, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 166.682, + "Actual Total Time": 362.284, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 90.380, + "Actual Total Time": 90.388, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 254.432, + "Actual Total Time": 485.891, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 81.125, + "Actual Total Time": 185.791, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 426.303, + "Actual Total Time": 1009.664, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.057, + "Actual Total Time": 90.778, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 270.170, + "Actual Total Time": 760.700, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 90.146, + "Actual Total Time": 90.154, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.05, + "Total Cost": 1508.10, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 33.289, + "Actual Total Time": 209.841, + "Actual Rows": 27815, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "ci.person_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 90.379, + "Actual Total Time": 90.386, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.077, + "Actual Total Time": 305.637, + "Actual Rows": 31168, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.878, + "Actual Total Time": 102.882, + "Actual Rows": 11233, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.946, + "Actual Total Time": 526.051, + "Actual Rows": 97010, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.368, + "Actual Total Time": 54.827, + "Actual Rows": 4647, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.852, + "Actual Total Time": 398.750, + "Actual Rows": 68955, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 90.146, + "Actual Total Time": 90.153, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.61, + "Total Cost": 1506.54, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 33.219, + "Actual Total Time": 96.955, + "Actual Rows": 184, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 90.378, + "Actual Total Time": 90.384, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.994, + "Actual Total Time": 168.114, + "Actual Rows": 194, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.777, + "Actual Total Time": 37.336, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.844, + "Actual Total Time": 188.924, + "Actual Rows": 675, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.280, + "Actual Total Time": 23.619, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.729, + "Actual Total Time": 127.583, + "Actual Rows": 472, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 90.145, + "Actual Total Time": 90.151, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.46, + "Total Cost": 1506.36, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 14.717, + "Actual Total Time": 96.357, + "Actual Rows": 234, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.586, + "Actual Total Time": 90.087, + "Actual Rows": 87, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.093, + "Actual Total Time": 167.323, + "Actual Rows": 264, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.731, + "Actual Total Time": 36.944, + "Actual Rows": 74, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.137, + "Actual Total Time": 187.383, + "Actual Rows": 777, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.219, + "Actual Total Time": 23.437, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.988, + "Actual Total Time": 126.323, + "Actual Rows": 591, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 90.145, + "Actual Total Time": 90.150, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.03, + "Total Cost": 1505.44, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 12.872, + "Actual Total Time": 79.761, + "Actual Rows": 1096, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.501, + "Actual Total Time": 86.157, + "Actual Rows": 136, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.908, + "Actual Total Time": 133.515, + "Actual Rows": 2225, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.890, + "Actual Total Time": 30.990, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.933, + "Actual Total Time": 138.187, + "Actual Rows": 3737, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.095, + "Actual Total Time": 22.332, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.903, + "Actual Total Time": 93.982, + "Actual Rows": 2119, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 90.144, + "Actual Total Time": 90.148, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.89, + "Total Cost": 1504.80, + "Plan Rows": 9, + "Plan Width": 12, + "Actual Startup Time": 12.836, + "Actual Total Time": 77.778, + "Actual Rows": 1096, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.460, + "Actual Total Time": 85.697, + "Actual Rows": 136, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.872, + "Actual Total Time": 129.594, + "Actual Rows": 2225, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.842, + "Actual Total Time": 30.228, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.892, + "Actual Total Time": 132.146, + "Actual Rows": 3737, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.056, + "Actual Total Time": 22.137, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.855, + "Actual Total Time": 90.299, + "Actual Rows": 2119, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 90.143, + "Actual Total Time": 90.146, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 1503.58, + "Plan Rows": 34, + "Plan Width": 16, + "Actual Startup Time": 12.694, + "Actual Total Time": 76.088, + "Actual Rows": 1601, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.385, + "Actual Total Time": 85.232, + "Actual Rows": 276, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.760, + "Actual Total Time": 126.448, + "Actual Rows": 3266, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.729, + "Actual Total Time": 29.513, + "Actual Rows": 331, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.795, + "Actual Total Time": 127.386, + "Actual Rows": 5294, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.946, + "Actual Total Time": 21.910, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.738, + "Actual Total Time": 87.228, + "Actual Rows": 3248, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 90.075, + "Actual Total Time": 90.076, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1486.12, + "Plan Rows": 39, + "Plan Width": 4, + "Actual Startup Time": 12.253, + "Actual Total Time": 37.989, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.033, + "Actual Total Time": 43.752, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.623, + "Actual Total Time": 43.172, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.559, + "Actual Total Time": 11.539, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.893, + "Actual Total Time": 44.903, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.687, + "Actual Total Time": 18.860, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.740, + "Actual Total Time": 34.538, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 90.074, + "Actual Total Time": 90.075, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1332.34, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 12.140, + "Actual Total Time": 16.206, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.906, + "Actual Total Time": 18.665, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.499, + "Actual Total Time": 1.520, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.412, + "Actual Total Time": 0.441, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.763, + "Actual Total Time": 0.824, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.581, + "Actual Total Time": 17.127, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.597, + "Actual Total Time": 0.672, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 90.073, + "Actual Total Time": 90.074, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.40, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.116, + "Actual Total Time": 20.231, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.122, + "Actual Total Time": 23.299, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.120, + "Actual Total Time": 38.311, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.143, + "Actual Total Time": 10.399, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.091, + "Actual Total Time": 20.454, + "Actual Rows": 5412, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.102, + "Actual Total Time": 1.622, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.137, + "Actual Total Time": 31.552, + "Actual Rows": 6011, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 35548, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 4196 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 10544 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 10824 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 248 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 6011 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 8765, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 259, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 136, + "Cache Hits": 135, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 2225, + "Cache Hits": 2223, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 248, + "Cache Hits": 246, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 3737, + "Cache Hits": 3735, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 39, + "Cache Hits": 37, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 2119, + "Cache Hits": 2117, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 13, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 8765, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 136 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2225 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 248 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 3737 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 39 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2119 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1872, + "Output": ["kt.id"], + "Cache Key": "t.kind_id", + "Cache Mode": "logical", + "Cache Hits": 53, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 87, + "Cache Hits": 83, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 264, + "Cache Hits": 258, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 74, + "Cache Hits": 68, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 777, + "Cache Hits": 771, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 22, + "Cache Hits": 19, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 591, + "Cache Hits": 587, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 33, + "Output": ["kt.id"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 4 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 12, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.543, + "Actual Rows": 151, + "Actual Loops": 1472, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.631, + "Actual Rows": 161, + "Actual Loops": 194 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.991, + "Actual Rows": 190, + "Actual Loops": 59 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.437, + "Actual Rows": 144, + "Actual Loops": 675 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 1.413, + "Actual Rows": 232, + "Actual Loops": 20 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.509, + "Actual Rows": 146, + "Actual Loops": 472 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 222518, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name !~~ '%Sherlock%'::text) AND ((chn.name ~~ '%Tony%Stark%'::text) OR (chn.name ~~ '%Iron%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 31168 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 11233 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 97010 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 4647 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 68955 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 33, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.095, + "Actual Total Time": 0.095, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -310926232940389306, + "Planning Time": 57.800, + "Triggers": [ + ], + "Execution Time": 1052.750, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -310926232940389306, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(n.name) AS cast_member,
       MIN(t.title) AS complete_dynamic_hero_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     keyword AS k,
     kind_type AS kt,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name IS NOT NULL
  AND (chn.name LIKE '%man%'
       OR chn.name LIKE '%Man%')
  AND k.keyword IN ('superhero',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence',
                    'magnet',
                    'web',
                    'claw',
                    'laser')
  AND kt.kind = 'movie'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND ci.movie_id = cc.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1418.07, + "Total Cost": 1418.08, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 756.599, + "Actual Total Time": 782.688, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1418.03, + "Total Cost": 1418.04, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 172.534, + "Actual Total Time": 782.646, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1417.03, + "Total Cost": 1417.04, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 266.185, + "Actual Total Time": 266.194, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 90.885, + "Actual Total Time": 90.895, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 90.873, + "Actual Total Time": 90.884, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 106.727, + "Actual Total Time": 106.736, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 635.866, + "Actual Total Time": 635.871, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 745.157, + "Actual Total Time": 745.162, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 91.551, + "Actual Total Time": 91.561, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 196.901, + "Actual Total Time": 196.908, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.93, + "Total Cost": 1417.02, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 20.935, + "Actual Total Time": 265.472, + "Actual Rows": 676, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.866, + "Actual Total Time": 90.634, + "Actual Rows": 143, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 90.869, + "Actual Total Time": 90.878, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.306, + "Actual Total Time": 106.149, + "Actual Rows": 96, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.030, + "Actual Total Time": 634.165, + "Actual Rows": 1885, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.318, + "Actual Total Time": 743.134, + "Actual Rows": 2557, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.036, + "Actual Total Time": 91.408, + "Actual Rows": 68, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.203, + "Actual Total Time": 196.318, + "Actual Rows": 365, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.50, + "Total Cost": 1416.58, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 20.861, + "Actual Total Time": 253.027, + "Actual Rows": 676, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.799, + "Actual Total Time": 86.133, + "Actual Rows": 143, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 90.868, + "Actual Total Time": 90.877, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.192, + "Actual Total Time": 102.917, + "Actual Rows": 96, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.954, + "Actual Total Time": 601.098, + "Actual Rows": 1885, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.208, + "Actual Total Time": 703.400, + "Actual Rows": 2557, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.954, + "Actual Total Time": 88.979, + "Actual Rows": 68, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.132, + "Actual Total Time": 187.426, + "Actual Rows": 365, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.07, + "Total Cost": 1416.12, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 19.847, + "Actual Total Time": 137.197, + "Actual Rows": 23730, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "ci.person_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.314, + "Actual Total Time": 49.784, + "Actual Rows": 4647, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 90.867, + "Actual Total Time": 90.876, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.940, + "Actual Total Time": 58.797, + "Actual Rows": 6145, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.510, + "Actual Total Time": 293.147, + "Actual Rows": 68955, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.121, + "Actual Total Time": 346.932, + "Actual Rows": 86109, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.822, + "Actual Total Time": 63.007, + "Actual Rows": 3250, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.644, + "Actual Total Time": 99.637, + "Actual Rows": 11233, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.63, + "Total Cost": 1414.56, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 19.768, + "Actual Total Time": 57.984, + "Actual Rows": 158, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.220, + "Actual Total Time": 19.872, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 90.867, + "Actual Total Time": 90.875, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.859, + "Actual Total Time": 14.975, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.410, + "Actual Total Time": 96.791, + "Actual Rows": 472, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.031, + "Actual Total Time": 123.539, + "Actual Rows": 612, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.716, + "Actual Total Time": 38.670, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.547, + "Actual Total Time": 35.973, + "Actual Rows": 59, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.49, + "Total Cost": 1414.39, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 2.000, + "Actual Total Time": 57.543, + "Actual Rows": 199, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.168, + "Actual Total Time": 19.702, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.042, + "Actual Total Time": 90.600, + "Actual Rows": 87, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.496, + "Actual Total Time": 14.747, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.215, + "Actual Total Time": 95.788, + "Actual Rows": 591, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.907, + "Actual Total Time": 122.485, + "Actual Rows": 699, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.208, + "Actual Total Time": 38.527, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.886, + "Actual Total Time": 35.600, + "Actual Rows": 74, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.06, + "Total Cost": 1413.00, + "Plan Rows": 3, + "Plan Width": 8, + "Actual Startup Time": 1.319, + "Actual Total Time": 48.021, + "Actual Rows": 800, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.114, + "Actual Total Time": 18.704, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.983, + "Actual Total Time": 87.554, + "Actual Rows": 136, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.403, + "Actual Total Time": 11.528, + "Actual Rows": 118, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.151, + "Actual Total Time": 72.451, + "Actual Rows": 2119, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.746, + "Actual Total Time": 89.938, + "Actual Rows": 3371, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.995, + "Actual Total Time": 35.770, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.138, + "Actual Total Time": 30.354, + "Actual Rows": 248, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.92, + "Total Cost": 1412.31, + "Plan Rows": 11, + "Plan Width": 12, + "Actual Startup Time": 1.276, + "Actual Total Time": 46.753, + "Actual Rows": 800, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.068, + "Actual Total Time": 18.506, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.943, + "Actual Total Time": 87.151, + "Actual Rows": 136, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.357, + "Actual Total Time": 11.115, + "Actual Rows": 118, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.100, + "Actual Total Time": 69.400, + "Actual Rows": 2119, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.702, + "Actual Total Time": 85.679, + "Actual Rows": 3371, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.955, + "Actual Total Time": 35.449, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.088, + "Actual Total Time": 29.563, + "Actual Rows": 248, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.88, + "Total Cost": 1411.03, + "Plan Rows": 43, + "Plan Width": 16, + "Actual Startup Time": 1.153, + "Actual Total Time": 45.661, + "Actual Rows": 1174, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.988, + "Actual Total Time": 18.302, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.865, + "Actual Total Time": 86.743, + "Actual Rows": 276, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.278, + "Actual Total Time": 10.753, + "Actual Rows": 167, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.011, + "Actual Total Time": 66.895, + "Actual Rows": 3248, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.615, + "Actual Total Time": 82.327, + "Actual Rows": 4785, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.869, + "Actual Total Time": 35.119, + "Actual Rows": 190, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.995, + "Actual Total Time": 28.926, + "Actual Rows": 331, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.46, + "Total Cost": 1389.54, + "Plan Rows": 48, + "Plan Width": 4, + "Actual Startup Time": 0.792, + "Actual Total Time": 19.730, + "Actual Rows": 3011, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.733, + "Actual Total Time": 15.171, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.618, + "Actual Total Time": 46.087, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.164, + "Actual Total Time": 4.222, + "Actual Rows": 409, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.087, + "Actual Total Time": 19.593, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.878, + "Actual Total Time": 22.387, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.771, + "Actual Total Time": 30.200, + "Actual Rows": 276, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.839, + "Actual Total Time": 9.536, + "Actual Rows": 1573, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.03, + "Total Cost": 1236.53, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.687, + "Actual Total Time": 9.242, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,marvel-comics,based-on-comic,tv-special,fight,violence,magnet,web,claw,laser}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.658, + "Actual Total Time": 13.832, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.517, + "Actual Total Time": 29.877, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.123, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.966, + "Actual Total Time": 1.007, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.777, + "Actual Total Time": 0.807, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.651, + "Actual Total Time": 27.360, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.728, + "Actual Total Time": 0.750, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.63, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.090, + "Actual Total Time": 7.605, + "Actual Rows": 2409, + "Actual Loops": 10, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.069, + "Actual Total Time": 1.215, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.097, + "Actual Total Time": 14.450, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.086, + "Actual Total Time": 1.949, + "Actual Rows": 204, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.116, + "Actual Total Time": 16.798, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.096, + "Actual Total Time": 19.376, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.083, + "Actual Total Time": 1.355, + "Actual Rows": 138, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.106, + "Actual Total Time": 8.070, + "Actual Rows": 1573, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 24091, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 248 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 4196 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 409 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 6011 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 9226 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 276 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 1573 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 6396, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 259, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 39, + "Cache Hits": 37, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 136, + "Cache Hits": 135, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 118, + "Cache Hits": 116, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 2119, + "Cache Hits": 2117, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 3371, + "Cache Hits": 3369, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 104, + "Cache Hits": 102, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 248, + "Cache Hits": 246, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 15, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 6396, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 39 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 136 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 118 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 2119 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 3371 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 104 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 248 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1595, + "Output": ["kt.id"], + "Cache Key": "t.kind_id", + "Cache Mode": "logical", + "Cache Hits": 53, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 22, + "Cache Hits": 19, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 87, + "Cache Hits": 83, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 41, + "Cache Hits": 38, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 591, + "Cache Hits": 587, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 699, + "Cache Hits": 693, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 24, + "Cache Hits": 22, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 74, + "Cache Hits": 68, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 32, + "Output": ["kt.id"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 6 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 12, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.439, + "Actual Rows": 150, + "Actual Loops": 1267, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 1.344, + "Actual Rows": 232, + "Actual Loops": 20 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 1.196, + "Actual Rows": 186, + "Actual Loops": 33 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.361, + "Actual Rows": 146, + "Actual Loops": 472 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.316, + "Actual Rows": 141, + "Actual Loops": 612 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.039, + "Actual Total Time": 1.171, + "Actual Rows": 171, + "Actual Loops": 19 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.955, + "Actual Rows": 190, + "Actual Loops": 59 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 189844, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name IS NOT NULL) AND ((chn.name ~~ '%man%'::text) OR (chn.name ~~ '%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 4647 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 6145 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 68955 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 86109 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 3250 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 11233 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 5406, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 143 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 96 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 1885 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 2557 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 68 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 365 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6387362809141986757, + "Planning Time": 60.504, + "Triggers": [ + ], + "Execution Time": 783.310, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -6387362809141986757, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(cn.name) AS company_name,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS western_follow_up
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German')
  AND t.production_year BETWEEN 1950 AND 2000
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1351.76, + "Total Cost": 1351.77, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 128.791, + "Actual Total Time": 128.969, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1351.70, + "Total Cost": 1351.71, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 128.765, + "Actual Total Time": 128.958, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1350.70, + "Total Cost": 1350.71, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 22.637, + "Actual Total Time": 22.644, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.730, + "Actual Total Time": 8.737, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.591, + "Actual Total Time": 9.596, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.561, + "Actual Total Time": 9.567, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.662, + "Actual Total Time": 2.670, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.365, + "Actual Total Time": 9.371, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.122, + "Actual Total Time": 10.128, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.308, + "Actual Total Time": 3.317, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 1350.69, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 7.110, + "Actual Total Time": 22.477, + "Actual Rows": 176, + "Actual Loops": 8, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.726, + "Actual Total Time": 8.733, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.586, + "Actual Total Time": 9.591, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.557, + "Actual Total Time": 9.562, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.657, + "Actual Total Time": 2.664, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.360, + "Actual Total Time": 9.365, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.117, + "Actual Total Time": 10.122, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.298, + "Actual Total Time": 3.306, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.28, + "Total Cost": 1350.22, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 7.102, + "Actual Total Time": 20.391, + "Actual Rows": 227, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mi.movie_id", "mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.726, + "Actual Total Time": 8.732, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.585, + "Actual Total Time": 9.589, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.557, + "Actual Total Time": 9.561, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.656, + "Actual Total Time": 2.662, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.359, + "Actual Total Time": 9.364, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.116, + "Actual Total Time": 10.121, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.297, + "Actual Total Time": 3.304, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.85, + "Total Cost": 1349.12, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 7.094, + "Actual Total Time": 18.638, + "Actual Rows": 50, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.725, + "Actual Total Time": 8.731, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.584, + "Actual Total Time": 9.588, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.556, + "Actual Total Time": 9.560, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.655, + "Actual Total Time": 2.661, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.359, + "Actual Total Time": 9.363, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.115, + "Actual Total Time": 10.119, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.296, + "Actual Total Time": 3.303, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 1348.95, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 7.089, + "Actual Total Time": 18.384, + "Actual Rows": 53, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.724, + "Actual Total Time": 8.729, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.584, + "Actual Total Time": 9.587, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.555, + "Actual Total Time": 9.559, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.654, + "Actual Total Time": 2.659, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.358, + "Actual Total Time": 9.362, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.114, + "Actual Total Time": 10.118, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.295, + "Actual Total Time": 3.300, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1348.50, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 6.908, + "Actual Total Time": 17.064, + "Actual Rows": 128, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "ml.movie_id", "lt.link"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.724, + "Actual Total Time": 8.727, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.583, + "Actual Total Time": 9.586, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.555, + "Actual Total Time": 9.557, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.654, + "Actual Total Time": 2.658, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.358, + "Actual Total Time": 9.361, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.114, + "Actual Total Time": 10.117, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.294, + "Actual Total Time": 3.299, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 1347.97, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 6.896, + "Actual Total Time": 16.549, + "Actual Rows": 25, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.723, + "Actual Total Time": 8.726, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.583, + "Actual Total Time": 9.585, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.554, + "Actual Total Time": 9.556, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.653, + "Actual Total Time": 2.656, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.357, + "Actual Total Time": 9.360, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.113, + "Actual Total Time": 10.116, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.293, + "Actual Total Time": 3.297, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 1347.79, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 6.890, + "Actual Total Time": 16.470, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.723, + "Actual Total Time": 8.724, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.582, + "Actual Total Time": 9.583, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.553, + "Actual Total Time": 9.554, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.652, + "Actual Total Time": 2.654, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.357, + "Actual Total Time": 9.358, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.113, + "Actual Total Time": 10.114, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.292, + "Actual Total Time": 3.295, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.67, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 6.886, + "Actual Total Time": 11.313, + "Actual Rows": 1318, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.722, + "Actual Total Time": 8.723, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.581, + "Actual Total Time": 9.582, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.552, + "Actual Total Time": 9.553, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.651, + "Actual Total Time": 2.652, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.356, + "Actual Total Time": 9.357, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.112, + "Actual Total Time": 10.113, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.291, + "Actual Total Time": 3.293, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.874, + "Actual Total Time": 6.876, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.721, + "Actual Total Time": 8.722, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.581, + "Actual Total Time": 9.581, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.552, + "Actual Total Time": 9.552, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.650, + "Actual Total Time": 2.651, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.356, + "Actual Total Time": 9.356, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.111, + "Actual Total Time": 10.111, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.290, + "Actual Total Time": 3.291, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.080, + "Actual Total Time": 32.815, + "Actual Rows": 10544, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 0.38, + "Plan Rows": 5, + "Plan Width": 8, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 10544, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 251, + "Output": ["lt.link", "lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 240, + "Cache Misses": 11, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 11, + "Output": ["lt.link", "lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 2, + "Plan Width": 12, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.018, + "Actual Rows": 5, + "Actual Loops": 199, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1021, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 422, + "Output": ["ct.id", "ct.kind"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.08, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.033, + "Actual Rows": 5, + "Actual Loops": 402, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German}'::text[]))", + "Rows Removed by Filter": 16, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1816, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2000))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1038524182031953798, + "Planning Time": 70.168, + "Triggers": [ + ], + "Execution Time": 129.406, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 1038524182031953798, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS company_name,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS german_follow_up
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Germany',
                  'German')
  AND t.production_year BETWEEN 2000 AND 2010
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1351.60, + "Total Cost": 1351.61, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 92.066, + "Actual Total Time": 92.256, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1351.53, + "Total Cost": 1351.54, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 92.044, + "Actual Total Time": 92.245, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1350.53, + "Total Cost": 1350.54, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 17.635, + "Actual Total Time": 17.642, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.441, + "Actual Total Time": 7.448, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.373, + "Actual Total Time": 7.380, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.090, + "Actual Total Time": 7.098, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.731, + "Actual Total Time": 6.737, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.672, + "Actual Total Time": 7.678, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.762, + "Actual Total Time": 6.768, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.975, + "Actual Total Time": 6.983, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.72, + "Total Cost": 1350.53, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 6.915, + "Actual Total Time": 17.623, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.437, + "Actual Total Time": 7.444, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.368, + "Actual Total Time": 7.374, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.086, + "Actual Total Time": 7.093, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.725, + "Actual Total Time": 6.731, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.665, + "Actual Total Time": 7.671, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.757, + "Actual Total Time": 6.764, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.967, + "Actual Total Time": 6.975, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.29, + "Total Cost": 1349.59, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 6.903, + "Actual Total Time": 17.058, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mk.movie_id", "ml.movie_id", "lt.link", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.436, + "Actual Total Time": 7.443, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.368, + "Actual Total Time": 7.373, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.085, + "Actual Total Time": 7.092, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.725, + "Actual Total Time": 6.730, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.665, + "Actual Total Time": 7.670, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.757, + "Actual Total Time": 6.762, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.966, + "Actual Total Time": 6.973, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.87, + "Total Cost": 1349.15, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 6.507, + "Actual Total Time": 16.494, + "Actual Rows": 37, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_id", "mk.movie_id", "ml.movie_id", "lt.link", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.436, + "Actual Total Time": 7.442, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.367, + "Actual Total Time": 7.372, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.084, + "Actual Total Time": 7.091, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.724, + "Actual Total Time": 6.728, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.664, + "Actual Total Time": 7.668, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.756, + "Actual Total Time": 6.761, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.965, + "Actual Total Time": 6.971, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 1348.97, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 6.503, + "Actual Total Time": 16.425, + "Actual Rows": 39, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_id", "mk.movie_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.435, + "Actual Total Time": 7.440, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.366, + "Actual Total Time": 7.370, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.084, + "Actual Total Time": 7.089, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.724, + "Actual Total Time": 6.727, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.663, + "Actual Total Time": 7.667, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.755, + "Actual Total Time": 6.759, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.964, + "Actual Total Time": 6.969, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.58, + "Total Cost": 1348.80, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 6.497, + "Actual Total Time": 16.333, + "Actual Rows": 41, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.435, + "Actual Total Time": 7.438, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.365, + "Actual Total Time": 7.368, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.083, + "Actual Total Time": 7.087, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.723, + "Actual Total Time": 6.725, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.663, + "Actual Total Time": 7.665, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.755, + "Actual Total Time": 6.757, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.964, + "Actual Total Time": 6.967, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.15, + "Total Cost": 1348.27, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 6.488, + "Actual Total Time": 16.136, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.434, + "Actual Total Time": 7.436, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.364, + "Actual Total Time": 7.366, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.082, + "Actual Total Time": 7.086, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.722, + "Actual Total Time": 6.724, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.662, + "Actual Total Time": 7.664, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.754, + "Actual Total Time": 6.756, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.963, + "Actual Total Time": 6.966, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 1347.79, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 6.479, + "Actual Total Time": 15.662, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.433, + "Actual Total Time": 7.435, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.364, + "Actual Total Time": 7.365, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.081, + "Actual Total Time": 7.084, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.722, + "Actual Total Time": 6.723, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.661, + "Actual Total Time": 7.663, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.753, + "Actual Total Time": 6.754, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.962, + "Actual Total Time": 6.964, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.67, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 6.475, + "Actual Total Time": 10.543, + "Actual Rows": 1318, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.432, + "Actual Total Time": 7.433, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.363, + "Actual Total Time": 7.363, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.081, + "Actual Total Time": 7.082, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.721, + "Actual Total Time": 6.722, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.661, + "Actual Total Time": 7.662, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.752, + "Actual Total Time": 6.753, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.962, + "Actual Total Time": 6.963, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.463, + "Actual Total Time": 6.465, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.432, + "Actual Total Time": 7.432, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.362, + "Actual Total Time": 7.362, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.079, + "Actual Total Time": 7.080, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.720, + "Actual Total Time": 6.721, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.660, + "Actual Total Time": 7.660, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.752, + "Actual Total Time": 6.752, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.961, + "Actual Total Time": 6.962, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.085, + "Actual Total Time": 29.966, + "Actual Rows": 10544, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 0.38, + "Plan Rows": 5, + "Plan Width": 8, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 10544, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 251, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 2, + "Plan Width": 12, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.024, + "Actual Rows": 6, + "Actual Loops": 53, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 4, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 329, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 327, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 311, + "Output": ["lt.link", "lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 307, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 4, + "Output": ["lt.link", "lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 299, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 92, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Germany,German}'::text[]))", + "Rows Removed by Filter": 32, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4184495773567888797, + "Planning Time": 65.701, + "Triggers": [ + ], + "Execution Time": 92.697, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 4184495773567888797, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS company_name,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS western_follow_up
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'English')
  AND t.production_year BETWEEN 1950 AND 2010
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1351.67, + "Total Cost": 1351.68, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 126.547, + "Actual Total Time": 126.739, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1351.61, + "Total Cost": 1351.62, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 126.521, + "Actual Total Time": 126.728, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1350.61, + "Total Cost": 1350.62, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 21.941, + "Actual Total Time": 21.948, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.896, + "Actual Total Time": 6.903, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.373, + "Actual Total Time": 7.379, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.285, + "Actual Total Time": 7.292, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.227, + "Actual Total Time": 7.233, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.383, + "Actual Total Time": 7.390, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.354, + "Actual Total Time": 7.360, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.583, + "Actual Total Time": 6.589, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.73, + "Total Cost": 1350.60, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 6.724, + "Actual Total Time": 21.717, + "Actual Rows": 234, + "Actual Loops": 8, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.891, + "Actual Total Time": 6.898, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.368, + "Actual Total Time": 7.374, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.280, + "Actual Total Time": 7.286, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.222, + "Actual Total Time": 7.227, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.378, + "Actual Total Time": 7.384, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.348, + "Actual Total Time": 7.353, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.579, + "Actual Total Time": 6.584, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.30, + "Total Cost": 1350.13, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 6.718, + "Actual Total Time": 19.429, + "Actual Rows": 234, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mi.movie_id", "mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.891, + "Actual Total Time": 6.896, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.367, + "Actual Total Time": 7.372, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.280, + "Actual Total Time": 7.285, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.221, + "Actual Total Time": 7.226, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.377, + "Actual Total Time": 7.383, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.347, + "Actual Total Time": 7.352, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.578, + "Actual Total Time": 6.583, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.85, + "Total Cost": 1349.12, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 6.712, + "Actual Total Time": 17.752, + "Actual Rows": 50, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.890, + "Actual Total Time": 6.895, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.367, + "Actual Total Time": 7.371, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.279, + "Actual Total Time": 7.284, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.220, + "Actual Total Time": 7.224, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.376, + "Actual Total Time": 7.381, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.347, + "Actual Total Time": 7.351, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.578, + "Actual Total Time": 6.582, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 1348.95, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 6.707, + "Actual Total Time": 17.489, + "Actual Rows": 53, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.889, + "Actual Total Time": 6.893, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.366, + "Actual Total Time": 7.370, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.279, + "Actual Total Time": 7.283, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.220, + "Actual Total Time": 7.223, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.375, + "Actual Total Time": 7.379, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.346, + "Actual Total Time": 7.350, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.577, + "Actual Total Time": 6.580, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1348.50, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 6.561, + "Actual Total Time": 16.198, + "Actual Rows": 128, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "ml.movie_id", "lt.link"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.888, + "Actual Total Time": 6.892, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.365, + "Actual Total Time": 7.369, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.278, + "Actual Total Time": 7.282, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.219, + "Actual Total Time": 7.222, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.375, + "Actual Total Time": 7.378, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.346, + "Actual Total Time": 7.349, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.577, + "Actual Total Time": 6.579, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 1347.97, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 6.553, + "Actual Total Time": 15.707, + "Actual Rows": 25, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.888, + "Actual Total Time": 6.891, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.365, + "Actual Total Time": 7.367, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.277, + "Actual Total Time": 7.280, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.219, + "Actual Total Time": 7.221, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.374, + "Actual Total Time": 7.376, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.345, + "Actual Total Time": 7.348, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.576, + "Actual Total Time": 6.579, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 1347.79, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 6.548, + "Actual Total Time": 15.628, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.887, + "Actual Total Time": 6.889, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.364, + "Actual Total Time": 7.365, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.276, + "Actual Total Time": 7.278, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.218, + "Actual Total Time": 7.219, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.373, + "Actual Total Time": 7.375, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.344, + "Actual Total Time": 7.346, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.575, + "Actual Total Time": 6.577, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.67, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 6.543, + "Actual Total Time": 10.567, + "Actual Rows": 1318, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.886, + "Actual Total Time": 6.887, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.363, + "Actual Total Time": 7.364, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.276, + "Actual Total Time": 7.277, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.217, + "Actual Total Time": 7.218, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.372, + "Actual Total Time": 7.373, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.344, + "Actual Total Time": 7.345, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.575, + "Actual Total Time": 6.576, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.531, + "Actual Total Time": 6.532, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.886, + "Actual Total Time": 6.886, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.363, + "Actual Total Time": 7.363, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.275, + "Actual Total Time": 7.276, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.217, + "Actual Total Time": 7.217, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.371, + "Actual Total Time": 7.372, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.343, + "Actual Total Time": 7.343, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.574, + "Actual Total Time": 6.575, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.090, + "Actual Total Time": 29.701, + "Actual Rows": 10544, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 0.38, + "Plan Rows": 5, + "Plan Width": 8, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 10544, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 251, + "Output": ["lt.link", "lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 240, + "Cache Misses": 11, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 11, + "Output": ["lt.link", "lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 2, + "Plan Width": 12, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.017, + "Actual Rows": 5, + "Actual Loops": 199, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1021, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 422, + "Output": ["ct.id", "ct.kind"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.46, + "Total Cost": 1.00, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.031, + "Actual Rows": 5, + "Actual Loops": 402, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,English}'::text[]))", + "Rows Removed by Filter": 16, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1874, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7971004576533452411, + "Planning Time": 69.153, + "Triggers": [ + ], + "Execution Time": 127.198, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -7971004576533452411, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_violent_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Germany',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '7.0'
  AND t.production_year > 2008
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1405.56, + "Total Cost": 1405.57, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 718.690, + "Actual Total Time": 741.991, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1405.50, + "Total Cost": 1405.51, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 478.761, + "Actual Total Time": 741.949, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1404.50, + "Total Cost": 1404.51, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 240.422, + "Actual Total Time": 240.430, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.399, + "Actual Total Time": 29.407, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 592.762, + "Actual Total Time": 592.767, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.334, + "Actual Total Time": 30.342, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 700.746, + "Actual Total Time": 700.751, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.385, + "Actual Total Time": 30.392, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.994, + "Actual Total Time": 31.001, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.076, + "Actual Total Time": 31.084, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.13, + "Total Cost": 1404.49, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 33.678, + "Actual Total Time": 240.072, + "Actual Rows": 356, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.394, + "Actual Total Time": 29.401, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.473, + "Actual Total Time": 591.559, + "Actual Rows": 1173, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.328, + "Actual Total Time": 30.336, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 87.552, + "Actual Total Time": 699.765, + "Actual Rows": 1040, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.379, + "Actual Total Time": 30.385, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.987, + "Actual Total Time": 30.993, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.069, + "Actual Total Time": 31.076, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.99, + "Total Cost": 1404.31, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 25.695, + "Actual Total Time": 233.955, + "Actual Rows": 1322, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.393, + "Actual Total Time": 29.400, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.439, + "Actual Total Time": 571.689, + "Actual Rows": 4144, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.327, + "Actual Total Time": 30.334, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.145, + "Actual Total Time": 682.668, + "Actual Rows": 3807, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.378, + "Actual Total Time": 30.383, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.986, + "Actual Total Time": 30.992, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.068, + "Actual Total Time": 31.075, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.56, + "Total Cost": 1403.78, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 25.669, + "Actual Total Time": 227.222, + "Actual Rows": 499, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.392, + "Actual Total Time": 29.399, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.353, + "Actual Total Time": 550.365, + "Actual Rows": 1541, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.326, + "Actual Total Time": 30.332, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.083, + "Actual Total Time": 663.607, + "Actual Rows": 1469, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.376, + "Actual Total Time": 30.382, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.985, + "Actual Total Time": 30.990, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.067, + "Actual Total Time": 31.073, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.43, + "Total Cost": 1403.62, + "Plan Rows": 1, + "Plan Width": 56, + "Actual Startup Time": 25.652, + "Actual Total Time": 225.339, + "Actual Rows": 499, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.391, + "Actual Total Time": 29.397, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.297, + "Actual Total Time": 544.336, + "Actual Rows": 1541, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.325, + "Actual Total Time": 30.331, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.040, + "Actual Total Time": 658.246, + "Actual Rows": 1469, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.376, + "Actual Total Time": 30.381, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.984, + "Actual Total Time": 30.989, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.066, + "Actual Total Time": 31.072, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.01, + "Total Cost": 1403.15, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 25.625, + "Actual Total Time": 218.329, + "Actual Rows": 553, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.391, + "Actual Total Time": 29.396, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.191, + "Actual Total Time": 522.560, + "Actual Rows": 1684, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.324, + "Actual Total Time": 30.329, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.964, + "Actual Total Time": 638.586, + "Actual Rows": 1649, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.375, + "Actual Total Time": 30.379, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.983, + "Actual Total Time": 30.988, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.066, + "Actual Total Time": 31.070, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.86, + "Total Cost": 1402.97, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 25.604, + "Actual Total Time": 217.226, + "Actual Rows": 602, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.390, + "Actual Total Time": 29.394, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.136, + "Actual Total Time": 519.156, + "Actual Rows": 1826, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.323, + "Actual Total Time": 30.326, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.898, + "Actual Total Time": 635.353, + "Actual Rows": 1782, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.374, + "Actual Total Time": 30.378, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.983, + "Actual Total Time": 30.986, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.064, + "Actual Total Time": 31.068, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.43, + "Total Cost": 1401.98, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 23.341, + "Actual Total Time": 119.746, + "Actual Rows": 601, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.389, + "Actual Total Time": 29.393, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.090, + "Actual Total Time": 212.623, + "Actual Rows": 1827, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.322, + "Actual Total Time": 30.325, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.445, + "Actual Total Time": 381.288, + "Actual Rows": 1802, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.374, + "Actual Total Time": 30.376, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.982, + "Actual Total Time": 30.985, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.063, + "Actual Total Time": 31.066, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.00, + "Total Cost": 1401.45, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 19.723, + "Actual Total Time": 100.863, + "Actual Rows": 604, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.388, + "Actual Total Time": 29.391, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.497, + "Actual Total Time": 163.999, + "Actual Rows": 1434, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.321, + "Actual Total Time": 30.323, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.096, + "Actual Total Time": 318.913, + "Actual Rows": 2254, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.373, + "Actual Total Time": 30.375, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.981, + "Actual Total Time": 30.984, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.063, + "Actual Total Time": 31.065, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1400.68, + "Plan Rows": 5, + "Plan Width": 29, + "Actual Startup Time": 19.699, + "Actual Total Time": 97.265, + "Actual Rows": 701, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.388, + "Actual Total Time": 29.389, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.446, + "Actual Total Time": 155.296, + "Actual Rows": 1659, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.320, + "Actual Total Time": 30.322, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.993, + "Actual Total Time": 305.903, + "Actual Rows": 2577, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.372, + "Actual Total Time": 30.374, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.981, + "Actual Total Time": 30.982, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.062, + "Actual Total Time": 31.063, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1391.93, + "Plan Rows": 19, + "Plan Width": 4, + "Actual Startup Time": 19.533, + "Actual Total Time": 38.992, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.387, + "Actual Total Time": 29.388, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.254, + "Actual Total Time": 43.868, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.319, + "Actual Total Time": 30.320, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.008, + "Actual Total Time": 76.820, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.371, + "Actual Total Time": 30.372, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.980, + "Actual Total Time": 30.981, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.060, + "Actual Total Time": 31.062, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 19.460, + "Actual Total Time": 19.467, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.386, + "Actual Total Time": 29.386, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.107, + "Actual Total Time": 0.120, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.318, + "Actual Total Time": 30.318, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.677, + "Actual Total Time": 0.683, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.370, + "Actual Total Time": 30.370, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.979, + "Actual Total Time": 30.979, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.059, + "Actual Total Time": 31.060, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.05, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.185, + "Actual Total Time": 48.424, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.143, + "Actual Total Time": 41.200, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.323, + "Actual Total Time": 70.537, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2008)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 5606, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1659 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 2577 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 4832, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 8, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 1434 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 2254 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.161, + "Actual Rows": 1, + "Actual Loops": 4808, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Germany,German,USA,American}'::text[]))", + "Rows Removed by Filter": 175, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.083, + "Actual Total Time": 0.166, + "Actual Rows": 1, + "Actual Loops": 1827 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.140, + "Actual Rows": 1, + "Actual Loops": 1802 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 4816, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 1205, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1826, + "Cache Hits": 1823, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1782, + "Cache Hits": 1779, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 9, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 4424, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1684 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1649 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 3994, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 1541 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 1469 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 3994, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '7.0'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 1541 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 3, + "Actual Loops": 1469 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 10580, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 4144 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 3807 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7110568913434103698, + "Planning Time": 131.467, + "Triggers": [ + ], + "Execution Time": 742.756, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -7110568913434103698, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_violent_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Germany',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '7.0'
  AND t.production_year > 2009
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1405.41, + "Total Cost": 1405.42, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 357.033, + "Actual Total Time": 378.626, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1405.34, + "Total Cost": 1405.35, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 219.391, + "Actual Total Time": 378.594, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1404.34, + "Total Cost": 1404.35, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 117.107, + "Actual Total Time": 117.114, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 339.282, + "Actual Total Time": 339.287, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 211.519, + "Actual Total Time": 211.525, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.915, + "Actual Total Time": 32.922, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.129, + "Actual Total Time": 33.137, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.403, + "Actual Total Time": 34.410, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.625, + "Actual Total Time": 33.633, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.652, + "Actual Total Time": 33.659, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.13, + "Total Cost": 1404.34, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 40.608, + "Actual Total Time": 117.097, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 82.645, + "Actual Total Time": 339.250, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.522, + "Actual Total Time": 211.499, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.908, + "Actual Total Time": 32.915, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.123, + "Actual Total Time": 33.130, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.396, + "Actual Total Time": 34.403, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.620, + "Actual Total Time": 33.628, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.648, + "Actual Total Time": 33.654, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.99, + "Total Cost": 1404.15, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 40.597, + "Actual Total Time": 117.040, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 82.627, + "Actual Total Time": 339.091, + "Actual Rows": 35, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.494, + "Actual Total Time": 211.382, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.908, + "Actual Total Time": 32.914, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.122, + "Actual Total Time": 33.129, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.396, + "Actual Total Time": 34.402, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.620, + "Actual Total Time": 33.626, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.647, + "Actual Total Time": 33.653, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.56, + "Total Cost": 1403.63, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 40.577, + "Actual Total Time": 116.959, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 82.578, + "Actual Total Time": 338.867, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.430, + "Actual Total Time": 211.206, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.907, + "Actual Total Time": 32.912, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.122, + "Actual Total Time": 33.128, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.395, + "Actual Total Time": 34.400, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.619, + "Actual Total Time": 33.625, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.646, + "Actual Total Time": 33.651, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.43, + "Total Cost": 1403.47, + "Plan Rows": 1, + "Plan Width": 56, + "Actual Startup Time": 40.558, + "Actual Total Time": 116.921, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 82.525, + "Actual Total Time": 338.759, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.361, + "Actual Total Time": 211.101, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.906, + "Actual Total Time": 32.911, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.121, + "Actual Total Time": 33.126, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.394, + "Actual Total Time": 34.399, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.618, + "Actual Total Time": 33.623, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.645, + "Actual Total Time": 33.650, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.01, + "Total Cost": 1403.00, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 40.536, + "Actual Total Time": 116.817, + "Actual Rows": 6, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 82.473, + "Actual Total Time": 338.449, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.283, + "Actual Total Time": 210.879, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.906, + "Actual Total Time": 32.910, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.120, + "Actual Total Time": 33.125, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.394, + "Actual Total Time": 34.398, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.617, + "Actual Total Time": 33.622, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.644, + "Actual Total Time": 33.648, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.58, + "Total Cost": 1402.46, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 21.635, + "Actual Total Time": 110.168, + "Actual Rows": 258, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.519, + "Actual Total Time": 315.627, + "Actual Rows": 986, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.604, + "Actual Total Time": 193.824, + "Actual Rows": 607, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.905, + "Actual Total Time": 32.909, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.120, + "Actual Total Time": 33.124, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.393, + "Actual Total Time": 34.397, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.616, + "Actual Total Time": 33.620, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.643, + "Actual Total Time": 33.647, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.43, + "Total Cost": 1402.28, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 21.611, + "Actual Total Time": 109.610, + "Actual Rows": 282, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.423, + "Actual Total Time": 313.629, + "Actual Rows": 1067, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.551, + "Actual Total Time": 192.491, + "Actual Rows": 663, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.904, + "Actual Total Time": 32.907, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.119, + "Actual Total Time": 33.122, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.392, + "Actual Total Time": 34.395, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.616, + "Actual Total Time": 33.618, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.642, + "Actual Total Time": 33.645, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.00, + "Total Cost": 1401.29, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 21.565, + "Actual Total Time": 85.099, + "Actual Rows": 440, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.248, + "Actual Total Time": 236.466, + "Actual Rows": 1644, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.451, + "Actual Total Time": 129.210, + "Actual Rows": 1017, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.903, + "Actual Total Time": 32.905, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.118, + "Actual Total Time": 33.121, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.391, + "Actual Total Time": 34.393, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.615, + "Actual Total Time": 33.617, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.641, + "Actual Total Time": 33.643, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1400.68, + "Plan Rows": 4, + "Plan Width": 29, + "Actual Startup Time": 21.544, + "Actual Total Time": 82.834, + "Actual Rows": 505, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.161, + "Actual Total Time": 228.589, + "Actual Rows": 1858, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.402, + "Actual Total Time": 123.855, + "Actual Rows": 1167, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.902, + "Actual Total Time": 32.904, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.118, + "Actual Total Time": 33.120, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.391, + "Actual Total Time": 34.392, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.614, + "Actual Total Time": 33.615, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.640, + "Actual Total Time": 33.642, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1391.93, + "Plan Rows": 19, + "Plan Width": 4, + "Actual Startup Time": 21.416, + "Actual Total Time": 35.920, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.428, + "Actual Total Time": 51.257, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.210, + "Actual Total Time": 31.472, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.901, + "Actual Total Time": 32.902, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.117, + "Actual Total Time": 33.118, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.390, + "Actual Total Time": 34.391, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.613, + "Actual Total Time": 33.614, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.639, + "Actual Total Time": 33.641, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 21.359, + "Actual Total Time": 21.365, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.214, + "Actual Total Time": 0.219, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.102, + "Actual Total Time": 0.111, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.900, + "Actual Total Time": 32.900, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.116, + "Actual Total Time": 33.116, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.389, + "Actual Total Time": 34.389, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.612, + "Actual Total Time": 33.612, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.638, + "Actual Total Time": 33.639, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.05, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.142, + "Actual Total Time": 35.735, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.207, + "Actual Total Time": 46.504, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.104, + "Actual Total Time": 29.202, + "Actual Rows": 8337, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2009)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 19528 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 8337 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 4040, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 1858 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1167 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 3517, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Germany,German,USA,American}'::text[]))", + "Rows Removed by Filter": 45, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 1644 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.061, + "Actual Rows": 1, + "Actual Loops": 1017 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 2256, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 523, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1067, + "Cache Hits": 1064, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 663, + "Cache Hits": 660, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 9, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2061, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 11, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 986 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 607 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 47, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 19 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 12 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 34, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 13 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 9 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 34, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '7.0'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 13 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 9 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 92, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 35 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 24 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7110568913434103698, + "Planning Time": 146.096, + "Triggers": [ + ], + "Execution Time": 379.330, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -7110568913434103698, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_violent_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1406.60, + "Total Cost": 1406.61, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 2004.947, + "Actual Total Time": 2027.850, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1406.53, + "Total Cost": 1406.54, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 1530.081, + "Actual Total Time": 2027.815, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1405.53, + "Total Cost": 1405.54, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 688.068, + "Actual Total Time": 688.077, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.051, + "Actual Total Time": 26.059, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1852.430, + "Actual Total Time": 1852.435, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.610, + "Actual Total Time": 26.618, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.292, + "Actual Total Time": 27.304, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.726, + "Actual Total Time": 26.735, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.384, + "Actual Total Time": 26.391, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1989.917, + "Actual Total Time": 1989.922, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.06, + "Total Cost": 1405.53, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 19.335, + "Actual Total Time": 686.316, + "Actual Rows": 2686, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.045, + "Actual Total Time": 26.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.784, + "Actual Total Time": 1847.359, + "Actual Rows": 7787, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.605, + "Actual Total Time": 26.612, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.285, + "Actual Total Time": 27.296, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.720, + "Actual Total Time": 26.729, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.380, + "Actual Total Time": 26.387, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.070, + "Actual Total Time": 1984.837, + "Actual Rows": 7733, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.92, + "Total Cost": 1405.34, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 19.205, + "Actual Total Time": 656.961, + "Actual Rows": 8078, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.044, + "Actual Total Time": 26.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.760, + "Actual Total Time": 1762.009, + "Actual Rows": 23391, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.604, + "Actual Total Time": 26.611, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.284, + "Actual Total Time": 27.294, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.719, + "Actual Total Time": 26.727, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.379, + "Actual Total Time": 26.386, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.003, + "Actual Total Time": 1900.817, + "Actual Rows": 23180, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.49, + "Total Cost": 1404.82, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 19.170, + "Actual Total Time": 628.668, + "Actual Rows": 2728, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.044, + "Actual Total Time": 26.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.680, + "Actual Total Time": 1680.245, + "Actual Rows": 7896, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.603, + "Actual Total Time": 26.609, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.283, + "Actual Total Time": 27.292, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.719, + "Actual Total Time": 26.726, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.379, + "Actual Total Time": 26.385, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.856, + "Actual Total Time": 1819.915, + "Actual Rows": 7883, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.34, + "Total Cost": 1404.63, + "Plan Rows": 1, + "Plan Width": 56, + "Actual Startup Time": 19.149, + "Actual Total Time": 624.770, + "Actual Rows": 3128, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mi.movie_id", "mi.info_type_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.043, + "Actual Total Time": 26.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.636, + "Actual Total Time": 1668.997, + "Actual Rows": 8962, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.602, + "Actual Total Time": 26.607, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.282, + "Actual Total Time": 27.290, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.718, + "Actual Total Time": 26.724, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.378, + "Actual Total Time": 26.383, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.771, + "Actual Total Time": 1808.524, + "Actual Rows": 9145, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.91, + "Total Cost": 1403.48, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 18.868, + "Actual Total Time": 135.658, + "Actual Rows": 2988, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.042, + "Actual Total Time": 26.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.655, + "Actual Total Time": 283.642, + "Actual Rows": 8661, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.601, + "Actual Total Time": 26.606, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.281, + "Actual Total Time": 27.288, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.717, + "Actual Total Time": 26.722, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.377, + "Actual Total Time": 26.382, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.629, + "Actual Total Time": 415.609, + "Actual Rows": 8859, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.78, + "Total Cost": 1403.33, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 18.844, + "Actual Total Time": 127.572, + "Actual Rows": 2988, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.041, + "Actual Total Time": 26.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.607, + "Actual Total Time": 260.201, + "Actual Rows": 8661, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.601, + "Actual Total Time": 26.605, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.280, + "Actual Total Time": 27.286, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.716, + "Actual Total Time": 26.721, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.376, + "Actual Total Time": 26.380, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.517, + "Actual Total Time": 391.736, + "Actual Rows": 8859, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.36, + "Total Cost": 1402.86, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 18.813, + "Actual Total Time": 98.935, + "Actual Rows": 3232, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.041, + "Actual Total Time": 26.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.535, + "Actual Total Time": 177.082, + "Actual Rows": 9384, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.600, + "Actual Total Time": 26.603, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.279, + "Actual Total Time": 27.284, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.715, + "Actual Total Time": 26.719, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.376, + "Actual Total Time": 26.379, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.391, + "Actual Total Time": 307.605, + "Actual Rows": 9616, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 1401.78, + "Plan Rows": 2, + "Plan Width": 25, + "Actual Startup Time": 17.277, + "Actual Total Time": 74.365, + "Actual Rows": 1009, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.040, + "Actual Total Time": 26.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.430, + "Actual Total Time": 111.682, + "Actual Rows": 2502, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.599, + "Actual Total Time": 26.602, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.278, + "Actual Total Time": 27.282, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.714, + "Actual Total Time": 26.718, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.375, + "Actual Total Time": 26.378, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.808, + "Actual Total Time": 227.544, + "Actual Rows": 3653, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1400.68, + "Plan Rows": 8, + "Plan Width": 29, + "Actual Startup Time": 17.040, + "Actual Total Time": 73.164, + "Actual Rows": 1217, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.908, + "Actual Total Time": 25.910, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.249, + "Actual Total Time": 108.964, + "Actual Rows": 3009, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.472, + "Actual Total Time": 26.473, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.170, + "Actual Total Time": 27.172, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.584, + "Actual Total Time": 26.586, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.243, + "Actual Total Time": 26.244, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.103, + "Actual Total Time": 223.684, + "Actual Rows": 4326, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1391.93, + "Plan Rows": 19, + "Plan Width": 4, + "Actual Startup Time": 17.012, + "Actual Total Time": 30.099, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.908, + "Actual Total Time": 25.909, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.187, + "Actual Total Time": 27.523, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.471, + "Actual Total Time": 26.472, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.169, + "Actual Total Time": 27.170, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.582, + "Actual Total Time": 26.584, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.241, + "Actual Total Time": 26.242, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.987, + "Actual Total Time": 49.874, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 16.962, + "Actual Total Time": 16.968, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.907, + "Actual Total Time": 25.907, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.094, + "Actual Total Time": 0.104, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.470, + "Actual Total Time": 26.470, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.168, + "Actual Total Time": 27.168, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.582, + "Actual Total Time": 26.582, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.241, + "Actual Total Time": 26.241, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.777, + "Actual Total Time": 0.782, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.05, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.124, + "Actual Total Time": 32.177, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.091, + "Actual Total Time": 25.478, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.195, + "Actual Total Time": 44.658, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.029, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.023, + "Actual Rows": 3, + "Actual Loops": 8073, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 7, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.024, + "Actual Rows": 4, + "Actual Loops": 2502 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.020, + "Actual Rows": 3, + "Actual Loops": 3653 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 25853, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 9384 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 9616 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 23902, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 8661 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 8859 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.163, + "Actual Rows": 1, + "Actual Loops": 23902, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 184, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.159, + "Actual Rows": 1, + "Actual Loops": 8661 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.156, + "Actual Rows": 1, + "Actual Loops": 8859 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 25020, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 6910, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 8962, + "Cache Hits": 8959, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 9145, + "Cache Hits": 9142, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 9, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 3, + "Actual Loops": 21827, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 3, + "Actual Loops": 7896 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 3, + "Actual Loops": 7883 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 64628, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 23391 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 23180 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5949668645089970217, + "Planning Time": 124.809, + "Triggers": [ + ], + "Execution Time": 2028.496, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -5949668645089970217, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_violent_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1407.36, + "Total Cost": 1407.37, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 1132.699, + "Actual Total Time": 1156.389, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1407.30, + "Total Cost": 1407.31, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 738.235, + "Actual Total Time": 1156.359, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1406.30, + "Total Cost": 1406.31, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 361.970, + "Actual Total Time": 361.977, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.902, + "Actual Total Time": 25.909, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 905.141, + "Actual Total Time": 905.147, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.192, + "Actual Total Time": 27.199, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.444, + "Actual Total Time": 27.452, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.895, + "Actual Total Time": 25.903, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1118.676, + "Actual Total Time": 1118.681, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.208, + "Actual Total Time": 28.215, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.05, + "Total Cost": 1406.29, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 18.647, + "Actual Total Time": 358.486, + "Actual Rows": 5785, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.898, + "Actual Total Time": 25.905, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.715, + "Actual Total Time": 895.407, + "Actual Rows": 16022, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.187, + "Actual Total Time": 27.194, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.439, + "Actual Total Time": 27.446, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.890, + "Actual Total Time": 25.897, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.687, + "Actual Total Time": 1107.932, + "Actual Rows": 18079, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.203, + "Actual Total Time": 28.209, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.91, + "Total Cost": 1406.11, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 18.497, + "Actual Total Time": 297.836, + "Actual Rows": 17435, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.897, + "Actual Total Time": 25.904, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.688, + "Actual Total Time": 726.859, + "Actual Rows": 48221, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.186, + "Actual Total Time": 27.193, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.438, + "Actual Total Time": 27.445, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.889, + "Actual Total Time": 25.895, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.620, + "Actual Total Time": 921.075, + "Actual Rows": 54089, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.202, + "Actual Total Time": 28.208, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.48, + "Total Cost": 1405.58, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 18.464, + "Actual Total Time": 240.347, + "Actual Rows": 5934, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.897, + "Actual Total Time": 25.903, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.611, + "Actual Total Time": 567.712, + "Actual Rows": 16346, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.186, + "Actual Total Time": 27.191, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.438, + "Actual Total Time": 27.444, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.888, + "Actual Total Time": 25.894, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.473, + "Actual Total Time": 743.326, + "Actual Rows": 18525, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.201, + "Actual Total Time": 28.207, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.35, + "Total Cost": 1405.43, + "Plan Rows": 1, + "Plan Width": 56, + "Actual Startup Time": 18.438, + "Actual Total Time": 224.529, + "Actual Rows": 5934, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.896, + "Actual Total Time": 25.901, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.549, + "Actual Total Time": 523.823, + "Actual Rows": 16346, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.185, + "Actual Total Time": 27.190, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.437, + "Actual Total Time": 27.442, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.888, + "Actual Total Time": 25.893, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.353, + "Actual Total Time": 694.107, + "Actual Rows": 18525, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.200, + "Actual Total Time": 28.205, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.93, + "Total Cost": 1404.98, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 17.634, + "Actual Total Time": 155.964, + "Actual Rows": 8506, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.895, + "Actual Total Time": 25.900, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.823, + "Actual Total Time": 333.662, + "Actual Rows": 23470, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.184, + "Actual Total Time": 27.189, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.436, + "Actual Total Time": 27.441, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.887, + "Actual Total Time": 25.892, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.538, + "Actual Total Time": 479.879, + "Actual Rows": 27084, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.199, + "Actual Total Time": 28.204, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.50, + "Total Cost": 1404.43, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 17.615, + "Actual Total Time": 139.864, + "Actual Rows": 664, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.895, + "Actual Total Time": 25.899, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.779, + "Actual Total Time": 290.034, + "Actual Rows": 1687, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.184, + "Actual Total Time": 27.188, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.435, + "Actual Total Time": 27.439, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.887, + "Actual Total Time": 25.891, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.458, + "Actual Total Time": 427.778, + "Actual Rows": 2378, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.199, + "Actual Total Time": 28.203, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.36, + "Total Cost": 1404.08, + "Plan Rows": 2, + "Plan Width": 33, + "Actual Startup Time": 17.598, + "Actual Total Time": 136.720, + "Actual Rows": 752, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.894, + "Actual Total Time": 25.898, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.742, + "Actual Total Time": 281.956, + "Actual Rows": 1908, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.183, + "Actual Total Time": 27.186, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.434, + "Actual Total Time": 27.438, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.886, + "Actual Total Time": 25.890, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.391, + "Actual Total Time": 416.843, + "Actual Rows": 2658, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.198, + "Actual Total Time": 28.201, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 1401.78, + "Plan Rows": 2, + "Plan Width": 25, + "Actual Startup Time": 17.555, + "Actual Total Time": 71.839, + "Actual Rows": 1009, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.893, + "Actual Total Time": 25.896, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.642, + "Actual Total Time": 108.078, + "Actual Rows": 2502, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.182, + "Actual Total Time": 27.185, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.433, + "Actual Total Time": 27.436, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.885, + "Actual Total Time": 25.889, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.212, + "Actual Total Time": 212.542, + "Actual Rows": 3653, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.197, + "Actual Total Time": 28.200, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1400.68, + "Plan Rows": 8, + "Plan Width": 29, + "Actual Startup Time": 16.955, + "Actual Total Time": 70.272, + "Actual Rows": 1217, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.273, + "Actual Total Time": 25.275, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.256, + "Actual Total Time": 105.107, + "Actual Rows": 3009, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.632, + "Actual Total Time": 26.633, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.881, + "Actual Total Time": 26.882, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.264, + "Actual Total Time": 25.265, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.110, + "Actual Total Time": 208.346, + "Actual Rows": 4326, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.630, + "Actual Total Time": 27.632, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1391.93, + "Plan Rows": 19, + "Plan Width": 4, + "Actual Startup Time": 16.926, + "Actual Total Time": 29.235, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.272, + "Actual Total Time": 25.273, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.187, + "Actual Total Time": 26.226, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.631, + "Actual Total Time": 26.632, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.879, + "Actual Total Time": 26.880, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.263, + "Actual Total Time": 25.264, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.993, + "Actual Total Time": 46.229, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.629, + "Actual Total Time": 27.630, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 16.873, + "Actual Total Time": 16.879, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.271, + "Actual Total Time": 25.271, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.091, + "Actual Total Time": 0.101, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.630, + "Actual Total Time": 26.630, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.879, + "Actual Total Time": 26.879, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.262, + "Actual Total Time": 25.262, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.782, + "Actual Total Time": 0.787, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.628, + "Actual Total Time": 27.628, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.05, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.135, + "Actual Total Time": 30.146, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.094, + "Actual Total Time": 24.213, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.204, + "Actual Total Time": 41.252, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.064, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.037, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.063, + "Actual Rows": 1, + "Actual Loops": 8073, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 57, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.069, + "Actual Rows": 1, + "Actual Loops": 2502 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 3653 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 6017, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 1908 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 2658 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.019, + "Actual Rows": 13, + "Actual Loops": 5316, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.020, + "Actual Rows": 14, + "Actual Loops": 1687 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.017, + "Actual Rows": 11, + "Actual Loops": 2378 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 68049, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 23470 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 27084 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 47475, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 16346 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 18525 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 3, + "Actual Loops": 47475, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 3, + "Actual Loops": 16346 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 3, + "Actual Loops": 18525 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 139482, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 48221 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 54089 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1524343667767028728, + "Planning Time": 119.016, + "Triggers": [ + ], + "Execution Time": 1157.012, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 1524343667767028728, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(kt.kind) AS movie_kind,
       MIN(t.title) AS complete_us_internet_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'complete+verified'
  AND cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND kt.kind IN ('movie')
  AND mi.note LIKE '%internet%'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'USA:% 199%'
       OR mi.info LIKE 'USA:% 200%')
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND cct1.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5333.87, + "Total Cost": 5333.88, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 119.282, + "Actual Total Time": 126.655, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((kt.kind)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5333.82, + "Total Cost": 5333.83, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 108.058, + "Actual Total Time": 126.624, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((kt.kind)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5332.82, + "Total Cost": 5332.83, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 98.715, + "Actual Total Time": 98.725, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((kt.kind)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 98.629, + "Actual Total Time": 98.639, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 99.092, + "Actual Total Time": 99.100, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 93.552, + "Actual Total Time": 93.562, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 93.451, + "Actual Total Time": 93.460, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 99.230, + "Actual Total Time": 99.240, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 105.627, + "Actual Total Time": 105.636, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 92.985, + "Actual Total Time": 92.994, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.96, + "Total Cost": 5332.82, + "Plan Rows": 1, + "Plan Width": 27, + "Actual Startup Time": 85.777, + "Actual Total Time": 98.634, + "Actual Rows": 77, + "Actual Loops": 8, + "Output": ["kt.kind", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 98.624, + "Actual Total Time": 98.634, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 99.086, + "Actual Total Time": 99.094, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 50.389, + "Actual Total Time": 93.542, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 93.446, + "Actual Total Time": 93.454, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 99.225, + "Actual Total Time": 99.234, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 88.438, + "Actual Total Time": 105.244, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 92.979, + "Actual Total Time": 92.988, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.54, + "Total Cost": 5332.38, + "Plan Rows": 1, + "Plan Width": 31, + "Actual Startup Time": 85.754, + "Actual Total Time": 97.488, + "Actual Rows": 77, + "Actual Loops": 8, + "Output": ["mk.keyword_id", "t.title", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 98.624, + "Actual Total Time": 98.632, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 99.086, + "Actual Total Time": 99.093, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 50.310, + "Actual Total Time": 93.398, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 93.445, + "Actual Total Time": 93.453, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 99.224, + "Actual Total Time": 99.233, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 88.366, + "Actual Total Time": 99.868, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 92.978, + "Actual Total Time": 92.987, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.41, + "Total Cost": 5332.23, + "Plan Rows": 1, + "Plan Width": 35, + "Actual Startup Time": 85.734, + "Actual Total Time": 97.142, + "Actual Rows": 77, + "Actual Loops": 8, + "Output": ["mc.company_type_id", "mk.keyword_id", "t.title", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 98.623, + "Actual Total Time": 98.631, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 99.085, + "Actual Total Time": 99.091, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 50.258, + "Actual Total Time": 93.323, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 93.444, + "Actual Total Time": 93.452, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 99.223, + "Actual Total Time": 99.232, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 88.284, + "Actual Total Time": 98.294, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 92.978, + "Actual Total Time": 92.986, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.99, + "Total Cost": 5331.78, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 85.712, + "Actual Total Time": 96.189, + "Actual Rows": 77, + "Actual Loops": 8, + "Output": ["mc.company_id", "mc.company_type_id", "mk.keyword_id", "t.title", "kt.kind"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 98.623, + "Actual Total Time": 98.629, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 99.084, + "Actual Total Time": 99.090, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 50.184, + "Actual Total Time": 93.164, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 93.443, + "Actual Total Time": 93.451, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 99.223, + "Actual Total Time": 99.231, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 88.231, + "Actual Total Time": 93.901, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 92.977, + "Actual Total Time": 92.984, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.56, + "Total Cost": 5331.23, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 85.690, + "Actual Total Time": 95.187, + "Actual Rows": 77, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mi.movie_id", "mk.movie_id", "mk.keyword_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 98.622, + "Actual Total Time": 98.628, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 99.084, + "Actual Total Time": 99.090, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 50.098, + "Actual Total Time": 93.029, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 93.443, + "Actual Total Time": 93.449, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 99.222, + "Actual Total Time": 99.229, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 88.176, + "Actual Total Time": 89.264, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 92.976, + "Actual Total Time": 92.983, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.12, + "Total Cost": 5329.94, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 85.661, + "Actual Total Time": 95.028, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mi.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 98.621, + "Actual Total Time": 98.626, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 99.083, + "Actual Total Time": 99.088, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 49.977, + "Actual Total Time": 92.901, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 93.442, + "Actual Total Time": 93.447, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 99.221, + "Actual Total Time": 99.228, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 88.108, + "Actual Total Time": 88.589, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 92.975, + "Actual Total Time": 92.981, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.97, + "Total Cost": 5329.75, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 85.642, + "Actual Total Time": 95.005, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 98.620, + "Actual Total Time": 98.624, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 99.083, + "Actual Total Time": 99.086, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 49.911, + "Actual Total Time": 92.834, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 93.441, + "Actual Total Time": 93.445, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 99.221, + "Actual Total Time": 99.226, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 88.053, + "Actual Total Time": 88.521, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 92.974, + "Actual Total Time": 92.979, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.54, + "Total Cost": 4900.96, + "Plan Rows": 376, + "Plan Width": 35, + "Actual Startup Time": 1.129, + "Actual Total Time": 63.248, + "Actual Rows": 129, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.702, + "Actual Total Time": 67.446, + "Actual Rows": 138, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.682, + "Actual Total Time": 66.695, + "Actual Rows": 148, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.435, + "Actual Total Time": 60.818, + "Actual Rows": 133, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.139, + "Actual Total Time": 60.923, + "Actual Rows": 118, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.404, + "Actual Total Time": 64.918, + "Actual Rows": 139, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.202, + "Actual Total Time": 58.639, + "Actual Rows": 124, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.930, + "Actual Total Time": 60.504, + "Actual Rows": 88, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 4888.80, + "Plan Rows": 2633, + "Plan Width": 29, + "Actual Startup Time": 0.896, + "Actual Total Time": 62.884, + "Actual Rows": 260, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.742, + "Actual Total Time": 67.141, + "Actual Rows": 276, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.608, + "Actual Total Time": 66.395, + "Actual Rows": 219, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.359, + "Actual Total Time": 60.502, + "Actual Rows": 277, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.021, + "Actual Total Time": 60.538, + "Actual Rows": 272, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.342, + "Actual Total Time": 64.618, + "Actual Rows": 231, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.120, + "Actual Total Time": 58.312, + "Actual Rows": 287, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.806, + "Actual Total Time": 60.150, + "Actual Rows": 196, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 1029.35, + "Plan Rows": 4825, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 13.916, + "Actual Rows": 3074, + "Actual Loops": 8, + "Output": ["cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 22.833, + "Actual Rows": 2891, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 13.250, + "Actual Rows": 3467, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.033, + "Actual Total Time": 12.376, + "Actual Rows": 3087, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.065, + "Actual Total Time": 13.976, + "Actual Rows": 2761, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 12.762, + "Actual Rows": 3313, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 10.896, + "Actual Rows": 2874, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.057, + "Actual Total Time": 12.064, + "Actual Rows": 2495, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 8, + "Actual Startup Time": 0.021, + "Actual Total Time": 4.297, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 3.636, + "Actual Rows": 15540, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 4.496, + "Actual Rows": 18685, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 4.201, + "Actual Rows": 17390, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 5.594, + "Actual Rows": 16650, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 4.313, + "Actual Rows": 17760, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 3.639, + "Actual Rows": 14985, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.033, + "Actual Total Time": 4.040, + "Actual Rows": 13356, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.80, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 24592, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2891 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 3467 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 3087 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 2761 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 3313 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 2874 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2495 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.kind", "kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.kind", "kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.245, + "Actual Total Time": 0.245, + "Actual Rows": 0, + "Actual Loops": 1033, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND (mi.note ~~ '%internet%'::text) AND ((mi.info ~~ 'USA:% 199%'::text) OR (mi.info ~~ 'USA:% 200%'::text)))", + "Rows Removed by Filter": 211, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.225, + "Actual Total Time": 0.225, + "Actual Rows": 0, + "Actual Loops": 138 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.218, + "Actual Total Time": 0.218, + "Actual Rows": 0, + "Actual Loops": 148 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.240, + "Actual Total Time": 0.240, + "Actual Rows": 0, + "Actual Loops": 133 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.274, + "Actual Total Time": 0.274, + "Actual Rows": 0, + "Actual Loops": 118 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.246, + "Actual Total Time": 0.246, + "Actual Rows": 0, + "Actual Loops": 139 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.239, + "Actual Total Time": 0.240, + "Actual Rows": 0, + "Actual Loops": 124 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.367, + "Actual Total Time": 0.367, + "Actual Rows": 0, + "Actual Loops": 88 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.063, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.182, + "Actual Rows": 123, + "Actual Loops": 5, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.117, + "Actual Total Time": 0.120, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.235, + "Actual Rows": 153, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 615, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.040, + "Actual Rows": 2, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 306 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 618, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 306 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 618, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 306 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 618, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 306 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4445581228366823766, + "Planning Time": 136.810, + "Triggers": [ + ], + "Execution Time": 127.153, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 4445581228366823766, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(kt.kind) AS movie_kind,
       MIN(t.title) AS complete_nerdy_internet_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'complete+verified'
  AND cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND k.keyword IN ('nerd',
                    'loner',
                    'alienation',
                    'dignity')
  AND kt.kind IN ('movie')
  AND mi.note LIKE '%internet%'
  AND mi.info LIKE 'USA:% 200%'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND cct1.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1406.26, + "Total Cost": 1406.27, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 51.855, + "Actual Total Time": 56.446, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((kt.kind)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1406.21, + "Total Cost": 1406.22, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 46.227, + "Actual Total Time": 56.434, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((kt.kind)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1405.21, + "Total Cost": 1405.22, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 27.398, + "Actual Total Time": 27.406, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((kt.kind)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.905, + "Actual Total Time": 15.917, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.324, + "Actual Total Time": 21.332, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 22.792, + "Actual Total Time": 22.800, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.031, + "Actual Total Time": 23.038, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.095, + "Actual Total Time": 31.101, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.821, + "Actual Total Time": 17.833, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 41.886, + "Actual Total Time": 41.891, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.04, + "Total Cost": 1405.21, + "Plan Rows": 1, + "Plan Width": 27, + "Actual Startup Time": 24.779, + "Actual Total Time": 27.395, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["kt.kind", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.898, + "Actual Total Time": 15.909, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.319, + "Actual Total Time": 21.327, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.043, + "Actual Total Time": 22.785, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.026, + "Actual Total Time": 23.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.867, + "Actual Total Time": 31.083, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.814, + "Actual Total Time": 17.825, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.697, + "Actual Total Time": 41.877, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.90, + "Total Cost": 1405.00, + "Plan Rows": 1, + "Plan Width": 31, + "Actual Startup Time": 24.757, + "Actual Total Time": 27.364, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mi.info_type_id", "t.title", "kt.kind"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.897, + "Actual Total Time": 15.907, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.319, + "Actual Total Time": 21.325, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.998, + "Actual Total Time": 22.722, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.025, + "Actual Total Time": 23.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.816, + "Actual Total Time": 31.004, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.813, + "Actual Total Time": 17.824, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.642, + "Actual Total Time": 41.806, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.47, + "Total Cost": 1404.02, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 13.018, + "Actual Total Time": 19.850, + "Actual Rows": 39, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mk.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.896, + "Actual Total Time": 15.906, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.318, + "Actual Total Time": 21.325, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.266, + "Actual Total Time": 16.098, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.024, + "Actual Total Time": 23.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.295, + "Actual Total Time": 14.829, + "Actual Rows": 77, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.813, + "Actual Total Time": 17.822, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.606, + "Actual Total Time": 23.451, + "Actual Rows": 93, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.34, + "Total Cost": 1403.86, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 12.997, + "Actual Total Time": 19.678, + "Actual Rows": 39, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mc.company_type_id", "mk.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.896, + "Actual Total Time": 15.904, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.318, + "Actual Total Time": 21.324, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.219, + "Actual Total Time": 15.896, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.024, + "Actual Total Time": 23.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.252, + "Actual Total Time": 14.483, + "Actual Rows": 77, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.812, + "Actual Total Time": 17.821, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.551, + "Actual Total Time": 23.073, + "Actual Rows": 93, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.92, + "Total Cost": 1403.42, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 12.903, + "Actual Total Time": 17.405, + "Actual Rows": 152, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mk.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.895, + "Actual Total Time": 15.903, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.317, + "Actual Total Time": 21.322, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.928, + "Actual Total Time": 12.848, + "Actual Rows": 164, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.023, + "Actual Total Time": 23.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.186, + "Actual Total Time": 10.133, + "Actual Rows": 284, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.811, + "Actual Total Time": 17.819, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.333, + "Actual Total Time": 17.545, + "Actual Rows": 443, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.49, + "Total Cost": 1402.87, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 12.862, + "Actual Total Time": 16.938, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.894, + "Actual Total Time": 15.901, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.316, + "Actual Total Time": 21.321, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.868, + "Actual Total Time": 12.252, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.023, + "Actual Total Time": 23.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.092, + "Actual Total Time": 9.256, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.810, + "Actual Total Time": 17.817, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.216, + "Actual Total Time": 16.448, + "Actual Rows": 18, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.35, + "Total Cost": 1402.70, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 12.460, + "Actual Total Time": 16.846, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id", "mk.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.893, + "Actual Total Time": 15.899, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.316, + "Actual Total Time": 21.319, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.244, + "Actual Total Time": 12.165, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.022, + "Actual Total Time": 23.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.847, + "Actual Total Time": 8.926, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.809, + "Actual Total Time": 17.815, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.930, + "Actual Total Time": 16.323, + "Actual Rows": 36, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 1401.80, + "Plan Rows": 2, + "Plan Width": 35, + "Actual Startup Time": 12.374, + "Actual Total Time": 16.086, + "Actual Rows": 50, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.893, + "Actual Total Time": 15.897, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.315, + "Actual Total Time": 21.318, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.119, + "Actual Total Time": 11.484, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.021, + "Actual Total Time": 23.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.706, + "Actual Total Time": 7.461, + "Actual Rows": 86, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.808, + "Actual Total Time": 17.813, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.883, + "Actual Total Time": 14.764, + "Actual Rows": 115, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1400.68, + "Plan Rows": 11, + "Plan Width": 29, + "Actual Startup Time": 11.546, + "Actual Total Time": 15.880, + "Actual Rows": 70, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.755, + "Actual Total Time": 15.758, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.204, + "Actual Total Time": 21.205, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.900, + "Actual Total Time": 11.370, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.968, + "Actual Total Time": 22.969, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.020, + "Actual Total Time": 7.249, + "Actual Rows": 98, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.666, + "Actual Total Time": 17.668, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.187, + "Actual Total Time": 14.527, + "Actual Rows": 126, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1391.93, + "Plan Rows": 19, + "Plan Width": 4, + "Actual Startup Time": 11.501, + "Actual Total Time": 12.957, + "Actual Rows": 142, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.754, + "Actual Total Time": 15.756, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.203, + "Actual Total Time": 21.204, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.727, + "Actual Total Time": 8.863, + "Actual Rows": 109, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.967, + "Actual Total Time": 22.968, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.944, + "Actual Total Time": 2.737, + "Actual Rows": 195, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.664, + "Actual Total Time": 17.666, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.126, + "Actual Total Time": 8.709, + "Actual Rows": 302, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 11.445, + "Actual Total Time": 11.729, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{nerd,loner,alienation,dignity}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.753, + "Actual Total Time": 15.754, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.202, + "Actual Total Time": 21.203, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.649, + "Actual Total Time": 7.850, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.967, + "Actual Total Time": 22.967, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.837, + "Actual Total Time": 0.858, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.663, + "Actual Total Time": 17.664, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.987, + "Actual Total Time": 6.007, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.05, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.104, + "Actual Total Time": 2.349, + "Actual Rows": 283, + "Actual Loops": 4, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.968, + "Actual Rows": 109, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.104, + "Actual Total Time": 1.798, + "Actual Rows": 195, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.131, + "Actual Total Time": 2.599, + "Actual Rows": 302, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1133, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 109 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 195 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 302 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.kind", "kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.068, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.kind", "kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 401, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 33 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 86 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 115 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 141, + "Output": ["cct1.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 54, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 19, + "Cache Hits": 17, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 30, + "Cache Hits": 28, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 36, + "Cache Hits": 34, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Index Cond": "(cct1.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.049, + "Actual Rows": 20, + "Actual Loops": 60, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.059, + "Actual Rows": 20, + "Actual Loops": 8 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.048, + "Actual Rows": 20, + "Actual Loops": 14 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.047, + "Actual Rows": 25, + "Actual Loops": 18 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1218, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 164 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 284 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 443 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 315, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 36 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 77 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 93 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.190, + "Actual Total Time": 0.190, + "Actual Rows": 0, + "Actual Loops": 315, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.note ~~ '%internet%'::text) AND (mi.info ~~ 'USA:% 200%'::text))", + "Rows Removed by Filter": 268, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.182, + "Actual Total Time": 0.183, + "Actual Rows": 0, + "Actual Loops": 36 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.209, + "Actual Total Time": 0.209, + "Actual Rows": 0, + "Actual Loops": 77 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.196, + "Actual Total Time": 0.197, + "Actual Rows": 0, + "Actual Loops": 93 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7994933085961275538, + "Planning Time": 114.433, + "Triggers": [ + ], + "Execution Time": 56.930, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -7994933085961275538, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(kt.kind) AS movie_kind,
       MIN(t.title) AS complete_us_internet_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'complete+verified'
  AND cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND kt.kind IN ('movie',
                  'tv movie',
                  'video movie',
                  'video game')
  AND mi.note LIKE '%internet%'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'USA:% 199%'
       OR mi.info LIKE 'USA:% 200%')
  AND t.production_year > 1990
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND cct1.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7024.34, + "Total Cost": 7024.35, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 164.343, + "Actual Total Time": 175.957, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((kt.kind)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7024.30, + "Total Cost": 7024.31, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 162.752, + "Actual Total Time": 175.922, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((kt.kind)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7023.30, + "Total Cost": 7023.31, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 150.993, + "Actual Total Time": 151.003, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((kt.kind)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 144.422, + "Actual Total Time": 144.431, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 145.456, + "Actual Total Time": 145.466, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 152.352, + "Actual Total Time": 152.361, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 153.178, + "Actual Total Time": 153.185, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 153.969, + "Actual Total Time": 153.977, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 148.918, + "Actual Total Time": 148.926, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 147.899, + "Actual Total Time": 147.906, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.98, + "Total Cost": 7023.29, + "Plan Rows": 1, + "Plan Width": 27, + "Actual Startup Time": 118.799, + "Actual Total Time": 150.927, + "Actual Rows": 78, + "Actual Loops": 8, + "Output": ["kt.kind", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 144.417, + "Actual Total Time": 144.425, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 24.700, + "Actual Total Time": 145.444, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 143.411, + "Actual Total Time": 152.052, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 153.173, + "Actual Total Time": 153.180, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 89.521, + "Actual Total Time": 153.961, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 148.913, + "Actual Total Time": 148.920, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 147.894, + "Actual Total Time": 147.900, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.56, + "Total Cost": 7022.85, + "Plan Rows": 1, + "Plan Width": 31, + "Actual Startup Time": 118.771, + "Actual Total Time": 149.956, + "Actual Rows": 78, + "Actual Loops": 8, + "Output": ["mk.keyword_id", "t.title", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 144.416, + "Actual Total Time": 144.424, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 24.631, + "Actual Total Time": 145.226, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 143.344, + "Actual Total Time": 147.784, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 153.172, + "Actual Total Time": 153.179, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 89.461, + "Actual Total Time": 153.852, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 148.912, + "Actual Total Time": 148.918, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 147.893, + "Actual Total Time": 147.899, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.13, + "Total Cost": 7021.57, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 118.741, + "Actual Total Time": 149.821, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mi.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 144.416, + "Actual Total Time": 144.423, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 24.552, + "Actual Total Time": 145.134, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 143.286, + "Actual Total Time": 147.282, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 153.172, + "Actual Total Time": 153.178, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 89.410, + "Actual Total Time": 153.784, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 148.911, + "Actual Total Time": 148.917, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 147.892, + "Actual Total Time": 147.898, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.00, + "Total Cost": 7021.42, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 118.713, + "Actual Total Time": 149.790, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 144.415, + "Actual Total Time": 144.421, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 24.501, + "Actual Total Time": 145.081, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 143.206, + "Actual Total Time": 147.193, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 153.171, + "Actual Total Time": 153.177, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 89.344, + "Actual Total Time": 153.712, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 148.910, + "Actual Total Time": 148.915, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 147.892, + "Actual Total Time": 147.897, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 7020.98, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 118.684, + "Actual Total Time": 149.753, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mi.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 144.414, + "Actual Total Time": 144.420, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 24.432, + "Actual Total Time": 145.011, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 143.139, + "Actual Total Time": 147.104, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 153.171, + "Actual Total Time": 153.176, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 89.285, + "Actual Total Time": 153.629, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 148.909, + "Actual Total Time": 148.914, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 147.891, + "Actual Total Time": 147.896, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.15, + "Total Cost": 7020.42, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 118.657, + "Actual Total Time": 149.718, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mi.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 144.413, + "Actual Total Time": 144.418, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 24.348, + "Actual Total Time": 144.926, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 143.090, + "Actual Total Time": 147.029, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 153.170, + "Actual Total Time": 153.174, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 89.233, + "Actual Total Time": 153.571, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 148.908, + "Actual Total Time": 148.913, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 147.890, + "Actual Total Time": 147.895, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.99, + "Total Cost": 7020.23, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 118.629, + "Actual Total Time": 149.687, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 144.413, + "Actual Total Time": 144.417, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 24.284, + "Actual Total Time": 144.859, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 143.034, + "Actual Total Time": 146.962, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 153.169, + "Actual Total Time": 153.173, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 89.170, + "Actual Total Time": 153.508, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 148.908, + "Actual Total Time": 148.911, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 147.890, + "Actual Total Time": 147.893, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.56, + "Total Cost": 4903.95, + "Plan Rows": 1907, + "Plan Width": 35, + "Actual Startup Time": 0.437, + "Actual Total Time": 59.493, + "Actual Rows": 632, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.403, + "Actual Total Time": 56.979, + "Actual Rows": 609, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.651, + "Actual Total Time": 53.732, + "Actual Rows": 515, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.169, + "Actual Total Time": 53.019, + "Actual Rows": 664, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.220, + "Actual Total Time": 63.307, + "Actual Rows": 644, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.534, + "Actual Total Time": 61.841, + "Actual Rows": 707, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.455, + "Actual Total Time": 64.613, + "Actual Rows": 582, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.542, + "Actual Total Time": 58.607, + "Actual Rows": 587, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 4888.80, + "Plan Rows": 3337, + "Plan Width": 29, + "Actual Startup Time": 0.283, + "Actual Total Time": 58.557, + "Actual Rows": 803, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.264, + "Actual Total Time": 56.046, + "Actual Rows": 813, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.502, + "Actual Total Time": 52.869, + "Actual Rows": 686, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.105, + "Actual Total Time": 52.177, + "Actual Rows": 832, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.149, + "Actual Total Time": 62.483, + "Actual Rows": 810, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.416, + "Actual Total Time": 60.936, + "Actual Rows": 842, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.301, + "Actual Total Time": 63.645, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.385, + "Actual Total Time": 57.697, + "Actual Rows": 717, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 1029.35, + "Plan Rows": 4825, + "Plan Width": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 12.325, + "Actual Rows": 3074, + "Actual Loops": 8, + "Output": ["cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.068, + "Actual Total Time": 11.552, + "Actual Rows": 2926, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.070, + "Actual Total Time": 10.257, + "Actual Rows": 2571, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 10.558, + "Actual Rows": 2821, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 14.409, + "Actual Rows": 3155, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 12.166, + "Actual Rows": 3506, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.080, + "Actual Total Time": 14.223, + "Actual Rows": 3117, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.084, + "Actual Total Time": 12.574, + "Actual Rows": 2885, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 8, + "Actual Startup Time": 0.026, + "Actual Total Time": 4.136, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 3.823, + "Actual Rows": 15355, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 3.307, + "Actual Rows": 12765, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 3.516, + "Actual Rows": 15021, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 5.109, + "Actual Rows": 18500, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 4.019, + "Actual Rows": 18500, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.031, + "Actual Total Time": 4.767, + "Actual Rows": 18315, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 4.248, + "Actual Rows": 16835, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.80, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 24592, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2926 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 2571 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2821 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 3155 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 3506 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 3117 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 2885 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.06, + "Total Cost": 1.06, + "Plan Rows": 2, + "Plan Width": 14, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.kind", "kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.073, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.06, + "Plan Rows": 2, + "Plan Width": 14, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.031, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["kt.kind", "kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,\"tv movie\",\"video movie\",\"video game\"}'::text[]))", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.10, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.142, + "Actual Total Time": 0.142, + "Actual Rows": 0, + "Actual Loops": 5053, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND (mi.note ~~ '%internet%'::text) AND ((mi.info ~~ 'USA:% 199%'::text) OR (mi.info ~~ 'USA:% 200%'::text)))", + "Rows Removed by Filter": 123, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.143, + "Actual Total Time": 0.143, + "Actual Rows": 0, + "Actual Loops": 609 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.176, + "Actual Total Time": 0.176, + "Actual Rows": 0, + "Actual Loops": 515 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.141, + "Actual Total Time": 0.141, + "Actual Rows": 0, + "Actual Loops": 664 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.139, + "Actual Total Time": 0.139, + "Actual Rows": 0, + "Actual Loops": 644 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.129, + "Actual Total Time": 0.129, + "Actual Rows": 0, + "Actual Loops": 707 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.144, + "Actual Total Time": 0.144, + "Actual Rows": 0, + "Actual Loops": 582 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.151, + "Actual Total Time": 0.151, + "Actual Rows": 0, + "Actual Loops": 587 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.062, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 4, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.079, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.051, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.064, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.116, + "Actual Rows": 90, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.083, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.182, + "Actual Rows": 153, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.031, + "Actual Rows": 3, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 628, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 306 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 6 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1076878163750528468, + "Planning Time": 115.158, + "Triggers": [ + ], + "Execution Time": 176.457, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 1076878163750528468, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char_name,
       MIN(n.name) AS voicing_actress_name,
       MIN(t.title) AS voiced_action_movie_jap_eng
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND k.keyword IN ('hero',
                    'martial-arts',
                    'hand-to-hand-combat')
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%201%'
       OR mi.info LIKE 'USA:%201%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.production_year > 2010
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND ci.movie_id = mk.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1382.21, + "Total Cost": 1382.22, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 235.108, + "Actual Total Time": 255.023, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1382.15, + "Total Cost": 1382.16, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 161.355, + "Actual Total Time": 254.989, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1381.15, + "Total Cost": 1381.16, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 85.544, + "Actual Total Time": 85.553, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.608, + "Actual Total Time": 23.618, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 225.140, + "Actual Total Time": 225.147, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.542, + "Actual Total Time": 24.553, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.736, + "Actual Total Time": 24.744, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.224, + "Actual Total Time": 24.234, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 176.997, + "Actual Total Time": 177.004, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.763, + "Actual Total Time": 24.771, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.15, + "Total Cost": 1381.14, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 36.246, + "Actual Total Time": 85.513, + "Actual Rows": 34, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.599, + "Actual Total Time": 23.608, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 36.749, + "Actual Total Time": 225.025, + "Actual Rows": 138, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.534, + "Actual Total Time": 24.544, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.732, + "Actual Total Time": 24.739, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.217, + "Actual Total Time": 24.226, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 34.567, + "Actual Total Time": 176.876, + "Actual Rows": 128, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.756, + "Actual Total Time": 24.763, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.73, + "Total Cost": 1380.70, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 36.213, + "Actual Total Time": 84.669, + "Actual Rows": 112, + "Actual Loops": 8, + "Output": ["n.name", "t.title", "chn.name", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.599, + "Actual Total Time": 23.607, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 36.643, + "Actual Total Time": 221.671, + "Actual Rows": 453, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.533, + "Actual Total Time": 24.542, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.732, + "Actual Total Time": 24.738, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.215, + "Actual Total Time": 24.224, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 34.432, + "Actual Total Time": 173.637, + "Actual Rows": 426, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.755, + "Actual Total Time": 24.761, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.30, + "Total Cost": 1380.15, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 36.195, + "Actual Total Time": 84.465, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["n.name", "t.title", "t.id", "mk.movie_id", "mi.movie_id", "ci.movie_id", "chn.name"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.598, + "Actual Total Time": 23.605, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 36.591, + "Actual Total Time": 220.864, + "Actual Rows": 34, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.532, + "Actual Total Time": 24.540, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.731, + "Actual Total Time": 24.736, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.214, + "Actual Total Time": 24.222, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 34.370, + "Actual Total Time": 172.891, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.754, + "Actual Total Time": 24.760, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.88, + "Total Cost": 1379.66, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 28.516, + "Actual Total Time": 84.367, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["n.name", "n.id", "t.title", "t.id", "mk.movie_id", "mi.movie_id", "ci.movie_id", "ci.person_id", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.597, + "Actual Total Time": 23.604, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.451, + "Actual Total Time": 220.529, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.531, + "Actual Total Time": 24.538, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.730, + "Actual Total Time": 24.735, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.213, + "Actual Total Time": 24.221, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.297, + "Actual Total Time": 172.573, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.753, + "Actual Total Time": 24.758, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.45, + "Total Cost": 1379.15, + "Plan Rows": 1, + "Plan Width": 60, + "Actual Startup Time": 28.490, + "Actual Total Time": 84.262, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["n.name", "n.id", "t.title", "t.id", "mk.movie_id", "mi.movie_id", "ci.movie_id", "ci.person_id", "ci.person_role_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.596, + "Actual Total Time": 23.603, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.362, + "Actual Total Time": 220.176, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.530, + "Actual Total Time": 24.537, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.730, + "Actual Total Time": 24.734, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.213, + "Actual Total Time": 24.219, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.221, + "Actual Total Time": 172.216, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.753, + "Actual Total Time": 24.757, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.31, + "Total Cost": 1378.98, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 28.469, + "Actual Total Time": 84.210, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["n.name", "n.id", "t.title", "t.id", "mk.movie_id", "mi.movie_id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.595, + "Actual Total Time": 23.601, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.283, + "Actual Total Time": 219.991, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.529, + "Actual Total Time": 24.535, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.729, + "Actual Total Time": 24.733, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.212, + "Actual Total Time": 24.217, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.163, + "Actual Total Time": 172.062, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.752, + "Actual Total Time": 24.756, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.88, + "Total Cost": 1378.44, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 17.274, + "Actual Total Time": 77.034, + "Actual Rows": 555, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mi.movie_id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.594, + "Actual Total Time": 23.599, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.892, + "Actual Total Time": 198.578, + "Actual Rows": 1710, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.528, + "Actual Total Time": 24.533, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.728, + "Actual Total Time": 24.731, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.211, + "Actual Total Time": 24.216, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.146, + "Actual Total Time": 155.827, + "Actual Rows": 1382, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.751, + "Actual Total Time": 24.754, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.44, + "Total Cost": 1377.13, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 15.432, + "Actual Total Time": 41.066, + "Actual Rows": 92, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.593, + "Actual Total Time": 23.598, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.378, + "Actual Total Time": 83.916, + "Actual Rows": 333, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.527, + "Actual Total Time": 24.531, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.728, + "Actual Total Time": 24.730, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.210, + "Actual Total Time": 24.214, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.860, + "Actual Total Time": 58.684, + "Actual Rows": 215, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.750, + "Actual Total Time": 24.753, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1376.95, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 15.414, + "Actual Total Time": 40.499, + "Actual Rows": 92, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.593, + "Actual Total Time": 23.596, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.341, + "Actual Total Time": 82.092, + "Actual Rows": 333, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.526, + "Actual Total Time": 24.529, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.726, + "Actual Total Time": 24.728, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.209, + "Actual Total Time": 24.212, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.789, + "Actual Total Time": 57.301, + "Actual Rows": 215, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.750, + "Actual Total Time": 24.752, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1374.97, + "Plan Rows": 2, + "Plan Width": 25, + "Actual Startup Time": 15.379, + "Actual Total Time": 35.628, + "Actual Rows": 62, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.591, + "Actual Total Time": 23.593, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.242, + "Actual Total Time": 64.734, + "Actual Rows": 244, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.525, + "Actual Total Time": 24.527, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.726, + "Actual Total Time": 24.727, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.208, + "Actual Total Time": 24.211, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.645, + "Actual Total Time": 44.724, + "Actual Rows": 113, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.749, + "Actual Total Time": 24.751, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1368.53, + "Plan Rows": 14, + "Plan Width": 4, + "Actual Startup Time": 15.327, + "Actual Total Time": 20.357, + "Actual Rows": 1212, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.590, + "Actual Total Time": 23.591, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.168, + "Actual Total Time": 15.506, + "Actual Rows": 4400, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.523, + "Actual Total Time": 24.524, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.725, + "Actual Total Time": 24.726, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.207, + "Actual Total Time": 24.209, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.527, + "Actual Total Time": 10.912, + "Actual Rows": 2373, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.748, + "Actual Total Time": 24.749, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1212.55, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 15.263, + "Actual Total Time": 15.276, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{hero,martial-arts,hand-to-hand-combat}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.589, + "Actual Total Time": 23.589, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.072, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.522, + "Actual Total Time": 24.523, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.724, + "Actual Total Time": 24.724, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.206, + "Actual Total Time": 24.207, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.246, + "Actual Total Time": 0.281, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.747, + "Actual Total Time": 24.748, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.164, + "Actual Total Time": 12.669, + "Actual Rows": 3232, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.127, + "Actual Total Time": 14.334, + "Actual Rows": 4400, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.273, + "Actual Total Time": 9.948, + "Actual Rows": 2373, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 9696, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 4400 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 2373 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.077, + "Actual Rows": 1, + "Actual Loops": 495, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%201%'::text) OR (mi.info ~~ 'USA:%201%'::text)))", + "Rows Removed by Filter": 70, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.070, + "Actual Rows": 1, + "Actual Loops": 244 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.109, + "Actual Rows": 2, + "Actual Loops": 113 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 738, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 333 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 215 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.30, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.254, + "Actual Total Time": 0.386, + "Actual Rows": 6, + "Actual Loops": 738, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 128, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.223, + "Actual Total Time": 0.341, + "Actual Rows": 5, + "Actual Loops": 333 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.295, + "Actual Total Time": 0.448, + "Actual Rows": 6, + "Actual Loops": 215 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 4439, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1710 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 1382 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 37, + "Output": ["rt.id", "rt.role"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 16 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 15 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 37, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 16 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 15 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 2, + "Actual Loops": 36, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 2, + "Actual Loops": 16 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 2, + "Actual Loops": 15 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.019, + "Actual Rows": 14, + "Actual Loops": 65, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.018, + "Actual Rows": 13, + "Actual Loops": 34 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.021, + "Actual Rows": 16, + "Actual Loops": 27 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 892, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 453 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 426 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6624959997497422723, + "Planning Time": 233.817, + "Triggers": [ + ], + "Execution Time": 255.646, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 6624959997497422723, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char_name,
       MIN(n.name) AS voicing_actress_name,
       MIN(t.title) AS kung_fu_panda
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND cn.name = 'DreamWorks Animation'
  AND it.info = 'release dates'
  AND k.keyword IN ('hero',
                    'martial-arts',
                    'hand-to-hand-combat',
                    'computer-animated-movie')
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%201%'
       OR mi.info LIKE 'USA:%201%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.production_year > 2010
  AND t.title LIKE 'Kung Fu Panda%'
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND ci.movie_id = mk.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1407.01, + "Total Cost": 1407.02, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 191.355, + "Actual Total Time": 203.277, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1406.95, + "Total Cost": 1406.96, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 66.709, + "Actual Total Time": 203.250, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1405.95, + "Total Cost": 1405.96, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 70.106, + "Actual Total Time": 70.115, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.633, + "Actual Total Time": 30.640, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 180.130, + "Actual Total Time": 180.138, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 157.814, + "Actual Total Time": 157.822, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.379, + "Actual Total Time": 31.389, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.542, + "Actual Total Time": 31.549, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.787, + "Actual Total Time": 31.797, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.974, + "Actual Total Time": 31.984, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.15, + "Total Cost": 1405.94, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 63.178, + "Actual Total Time": 70.101, + "Actual Rows": 6, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.627, + "Actual Total Time": 30.634, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 146.298, + "Actual Total Time": 180.102, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 136.263, + "Actual Total Time": 157.790, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.373, + "Actual Total Time": 31.383, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.538, + "Actual Total Time": 31.544, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.779, + "Actual Total Time": 31.788, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.965, + "Actual Total Time": 31.974, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.73, + "Total Cost": 1405.47, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 38.953, + "Actual Total Time": 69.417, + "Actual Rows": 97, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "mc.company_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.626, + "Actual Total Time": 30.633, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 48.708, + "Actual Total Time": 177.336, + "Actual Rows": 395, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 40.052, + "Actual Total Time": 155.099, + "Actual Rows": 380, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.372, + "Actual Total Time": 31.381, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.537, + "Actual Total Time": 31.543, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.778, + "Actual Total Time": 31.786, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.964, + "Actual Total Time": 31.972, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.30, + "Total Cost": 1404.93, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 38.942, + "Actual Total Time": 67.595, + "Actual Rows": 254, + "Actual Loops": 8, + "Output": ["chn.name", "an.person_id", "t.title", "mc.company_id", "ci.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.626, + "Actual Total Time": 30.631, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 48.666, + "Actual Total Time": 169.792, + "Actual Rows": 1045, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 40.014, + "Actual Total Time": 148.074, + "Actual Rows": 988, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.371, + "Actual Total Time": 31.379, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.536, + "Actual Total Time": 31.542, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.777, + "Actual Total Time": 31.785, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.963, + "Actual Total Time": 31.971, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.16, + "Total Cost": 1404.75, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 38.934, + "Actual Total Time": 66.616, + "Actual Rows": 254, + "Actual Loops": 8, + "Output": ["chn.name", "an.person_id", "t.title", "mc.company_id", "ci.person_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.625, + "Actual Total Time": 30.630, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 48.634, + "Actual Total Time": 165.749, + "Actual Rows": 1045, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 39.985, + "Actual Total Time": 144.294, + "Actual Rows": 988, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.371, + "Actual Total Time": 31.378, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.535, + "Actual Total Time": 31.540, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.776, + "Actual Total Time": 31.783, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.962, + "Actual Total Time": 31.969, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.72, + "Total Cost": 1403.77, + "Plan Rows": 1, + "Plan Width": 61, + "Actual Startup Time": 38.919, + "Actual Total Time": 53.670, + "Actual Rows": 92, + "Actual Loops": 8, + "Output": ["chn.name", "an.person_id", "mk.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_id", "ci.movie_id", "ci.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.624, + "Actual Total Time": 30.629, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 48.571, + "Actual Total Time": 113.138, + "Actual Rows": 395, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 39.931, + "Actual Total Time": 93.342, + "Actual Rows": 338, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.370, + "Actual Total Time": 31.376, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.534, + "Actual Total Time": 31.539, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.776, + "Actual Total Time": 31.782, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.962, + "Actual Total Time": 31.968, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.59, + "Total Cost": 1403.59, + "Plan Rows": 1, + "Plan Width": 65, + "Actual Startup Time": 38.453, + "Actual Total Time": 51.624, + "Actual Rows": 619, + "Actual Loops": 8, + "Output": ["chn.name", "an.person_id", "mk.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_id", "ci.movie_id", "ci.person_id", "ci.role_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.624, + "Actual Total Time": 30.627, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 46.482, + "Actual Total Time": 104.559, + "Actual Rows": 2547, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 38.295, + "Actual Total Time": 85.559, + "Actual Rows": 2403, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.369, + "Actual Total Time": 31.374, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.533, + "Actual Total Time": 31.537, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.775, + "Actual Total Time": 31.780, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.961, + "Actual Total Time": 31.966, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.16, + "Total Cost": 1403.09, + "Plan Rows": 1, + "Plan Width": 53, + "Actual Startup Time": 38.440, + "Actual Total Time": 47.352, + "Actual Rows": 621, + "Actual Loops": 8, + "Output": ["an.person_id", "mk.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.623, + "Actual Total Time": 30.626, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 46.427, + "Actual Total Time": 86.797, + "Actual Rows": 2568, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 38.251, + "Actual Total Time": 69.153, + "Actual Rows": 2403, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.368, + "Actual Total Time": 31.372, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.532, + "Actual Total Time": 31.535, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.774, + "Actual Total Time": 31.779, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.960, + "Actual Total Time": 31.964, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1402.60, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 38.415, + "Actual Total Time": 45.614, + "Actual Rows": 222, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.622, + "Actual Total Time": 30.625, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 46.337, + "Actual Total Time": 79.633, + "Actual Rows": 912, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 38.145, + "Actual Total Time": 62.423, + "Actual Rows": 867, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.367, + "Actual Total Time": 31.371, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.532, + "Actual Total Time": 31.534, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.774, + "Actual Total Time": 31.777, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.959, + "Actual Total Time": 31.963, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1401.29, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 33.183, + "Actual Total Time": 43.836, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.622, + "Actual Total Time": 30.623, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.544, + "Actual Total Time": 72.256, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 38.090, + "Actual Total Time": 55.589, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.366, + "Actual Total Time": 31.369, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.531, + "Actual Total Time": 31.533, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.773, + "Actual Total Time": 31.776, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.959, + "Actual Total Time": 31.961, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1400.73, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 33.158, + "Actual Total Time": 43.786, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.621, + "Actual Total Time": 30.622, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.407, + "Actual Total Time": 71.988, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 38.032, + "Actual Total Time": 55.466, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.365, + "Actual Total Time": 31.368, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.530, + "Actual Total Time": 31.531, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.772, + "Actual Total Time": 31.774, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.958, + "Actual Total Time": 31.960, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1391.93, + "Plan Rows": 19, + "Plan Width": 4, + "Actual Startup Time": 19.723, + "Actual Total Time": 25.770, + "Actual Rows": 1212, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.620, + "Actual Total Time": 30.621, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.158, + "Actual Total Time": 17.679, + "Actual Rows": 4400, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.279, + "Actual Total Time": 13.868, + "Actual Rows": 2373, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.364, + "Actual Total Time": 31.366, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.529, + "Actual Total Time": 31.530, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.771, + "Actual Total Time": 31.772, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.957, + "Actual Total Time": 31.958, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 19.674, + "Actual Total Time": 19.691, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{hero,martial-arts,hand-to-hand-combat,computer-animated-movie}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.619, + "Actual Total Time": 30.620, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.090, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.110, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.363, + "Actual Total Time": 31.364, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.528, + "Actual Total Time": 31.529, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.770, + "Actual Total Time": 31.771, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.955, + "Actual Total Time": 31.956, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.05, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.124, + "Actual Total Time": 15.077, + "Actual Rows": 3232, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.105, + "Actual Total Time": 16.293, + "Actual Rows": 4400, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.201, + "Actual Total Time": 12.777, + "Actual Rows": 2373, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 9696, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2010) AND (t.title ~~ 'Kung Fu Panda%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 4400 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 2373 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.047, + "Actual Rows": 9, + "Actual Loops": 7, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.047, + "Actual Rows": 7, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.049, + "Actual Rows": 13, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.30, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.218, + "Actual Rows": 29, + "Actual Loops": 62, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 104, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.194, + "Actual Rows": 25, + "Actual Loops": 36 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.250, + "Actual Rows": 33, + "Actual Loops": 26 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 3, + "Actual Loops": 1779, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 3, + "Actual Loops": 912 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 3, + "Actual Loops": 867 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 4971, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 2568 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 2403 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 4950, + "Output": ["rt.id", "rt.role"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 2547 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 2403 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.140, + "Actual Rows": 3, + "Actual Loops": 733, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%201%'::text) OR (mi.info ~~ 'USA:%201%'::text)))", + "Rows Removed by Filter": 211, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.132, + "Actual Rows": 3, + "Actual Loops": 395 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.149, + "Actual Rows": 3, + "Actual Loops": 338 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 2033, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 1045 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 988 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 2033, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 1045 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 988 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 775, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text = '[us]'::text) AND (cn.name = 'DreamWorks Animation'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 395 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 380 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1322643491423167220, + "Planning Time": 247.337, + "Triggers": [ + ], + "Execution Time": 203.723, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 1322643491423167220, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS male_writer,
       MIN(t.title) AS violent_movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity')
  AND mi.info = 'Horror'
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1434.47, + "Total Cost": 1434.48, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 3747.852, + "Actual Total Time": 3778.242, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1434.39, + "Total Cost": 1434.40, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 2211.405, + "Actual Total Time": 3778.198, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1433.39, + "Total Cost": 1433.40, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1521.469, + "Actual Total Time": 1521.476, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.483, + "Actual Total Time": 26.488, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3737.652, + "Actual Total Time": 3737.657, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 909.417, + "Actual Total Time": 909.423, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.383, + "Actual Total Time": 27.391, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.885, + "Actual Total Time": 27.893, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3039.442, + "Actual Total Time": 3039.448, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2193.061, + "Actual Total Time": 2193.068, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.58, + "Total Cost": 1433.38, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 103.914, + "Actual Total Time": 1519.747, + "Actual Rows": 551, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.478, + "Actual Total Time": 26.483, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 480.524, + "Actual Total Time": 3734.199, + "Actual Rows": 1133, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.817, + "Actual Total Time": 907.040, + "Actual Rows": 831, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.378, + "Actual Total Time": 27.386, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.878, + "Actual Total Time": 27.885, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 63.361, + "Actual Total Time": 3036.970, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 121.294, + "Actual Total Time": 2189.663, + "Actual Rows": 1091, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.15, + "Total Cost": 1432.90, + "Plan Rows": 1, + "Plan Width": 79, + "Actual Startup Time": 103.872, + "Actual Total Time": 1511.023, + "Actual Rows": 551, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.477, + "Actual Total Time": 26.482, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 480.459, + "Actual Total Time": 3716.015, + "Actual Rows": 1133, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.732, + "Actual Total Time": 894.508, + "Actual Rows": 831, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.377, + "Actual Total Time": 27.384, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.877, + "Actual Total Time": 27.883, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 63.287, + "Actual Total Time": 3023.850, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 121.239, + "Actual Total Time": 2172.265, + "Actual Rows": 1091, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.72, + "Total Cost": 1432.39, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 31.414, + "Actual Total Time": 1494.547, + "Actual Rows": 889, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.476, + "Actual Total Time": 26.480, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 80.823, + "Actual Total Time": 3679.570, + "Actual Rows": 1974, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.869, + "Actual Total Time": 870.956, + "Actual Rows": 1231, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.377, + "Actual Total Time": 27.383, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.876, + "Actual Total Time": 27.882, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.805, + "Actual Total Time": 3000.513, + "Actual Rows": 1192, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.197, + "Actual Total Time": 2139.779, + "Actual Rows": 1740, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 1432.21, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 31.381, + "Actual Total Time": 1488.410, + "Actual Rows": 968, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi_idx.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.476, + "Actual Total Time": 26.479, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 80.766, + "Actual Total Time": 3666.344, + "Actual Rows": 2126, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.807, + "Actual Total Time": 863.088, + "Actual Rows": 1366, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.376, + "Actual Total Time": 27.382, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.876, + "Actual Total Time": 27.881, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.747, + "Actual Total Time": 2991.533, + "Actual Rows": 1256, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.132, + "Actual Total Time": 2127.969, + "Actual Rows": 1893, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 1431.28, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 11.766, + "Actual Total Time": 1267.502, + "Actual Rows": 3784, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi_idx.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.475, + "Actual Total Time": 26.478, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.796, + "Actual Total Time": 3113.593, + "Actual Rows": 10431, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.491, + "Actual Total Time": 725.227, + "Actual Rows": 1938, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.375, + "Actual Total Time": 27.381, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.875, + "Actual Total Time": 27.880, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.149, + "Actual Total Time": 2621.683, + "Actual Rows": 7406, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.125, + "Actual Total Time": 1767.431, + "Actual Rows": 5314, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 1429.92, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 10.905, + "Actual Total Time": 147.914, + "Actual Rows": 6345, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.474, + "Actual Total Time": 26.476, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.818, + "Actual Total Time": 332.437, + "Actual Rows": 16466, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.076, + "Actual Total Time": 74.273, + "Actual Rows": 2914, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.374, + "Actual Total Time": 27.379, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.874, + "Actual Total Time": 27.878, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.700, + "Actual Total Time": 338.901, + "Actual Rows": 14995, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.642, + "Actual Total Time": 168.500, + "Actual Rows": 7601, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1427.88, + "Plan Rows": 73, + "Plan Width": 17, + "Actual Startup Time": 10.575, + "Actual Total Time": 136.681, + "Actual Rows": 19090, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.161, + "Actual Total Time": 26.163, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.549, + "Actual Total Time": 304.772, + "Actual Rows": 49537, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.765, + "Actual Total Time": 68.672, + "Actual Rows": 8782, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.142, + "Actual Total Time": 27.144, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.364, + "Actual Total Time": 27.366, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.385, + "Actual Total Time": 312.429, + "Actual Rows": 45033, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.392, + "Actual Total Time": 154.619, + "Actual Rows": 22907, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1415.56, + "Plan Rows": 24, + "Plan Width": 4, + "Actual Startup Time": 10.536, + "Actual Total Time": 41.399, + "Actual Rows": 7762, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.161, + "Actual Total Time": 26.161, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.480, + "Actual Total Time": 74.960, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.707, + "Actual Total Time": 16.847, + "Actual Rows": 3402, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.142, + "Actual Total Time": 27.142, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.363, + "Actual Total Time": 27.365, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.296, + "Actual Total Time": 74.370, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.345, + "Actual Total Time": 39.080, + "Actual Rows": 8337, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1260.47, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 10.467, + "Actual Total Time": 10.479, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,blood,gore,death,female-nudity}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.160, + "Actual Total Time": 26.160, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.379, + "Actual Total Time": 0.384, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.584, + "Actual Total Time": 0.621, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.141, + "Actual Total Time": 27.141, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.362, + "Actual Total Time": 27.363, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.164, + "Actual Total Time": 0.188, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.259, + "Actual Total Time": 0.271, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 153.72, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.105, + "Actual Total Time": 45.591, + "Actual Rows": 12419, + "Actual Loops": 5, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.097, + "Actual Total Time": 68.569, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.117, + "Actual Total Time": 15.111, + "Actual Rows": 3402, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.127, + "Actual Total Time": 67.775, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.080, + "Actual Total Time": 36.124, + "Actual Rows": 8337, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 62096, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 3, + "Actual Loops": 19528 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 3402 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 2, + "Actual Loops": 20522 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 8337 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.054, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.145, + "Actual Total Time": 0.175, + "Actual Rows": 1, + "Actual Loops": 50760, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 52, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.139, + "Actual Total Time": 0.168, + "Actual Rows": 1, + "Actual Loops": 16466 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.180, + "Actual Total Time": 0.222, + "Actual Rows": 1, + "Actual Loops": 2914 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.129, + "Actual Total Time": 0.151, + "Actual Rows": 0, + "Actual Loops": 14995 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.167, + "Actual Total Time": 0.209, + "Actual Rows": 1, + "Actual Loops": 7601 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 30276, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = 'Horror'::text)", + "Rows Removed by Filter": 71, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 10431 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.070, + "Actual Rows": 1, + "Actual Loops": 1938 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 7406 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 5314 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 7740, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 2126 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1366 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 1256 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1893 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 7112, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 1974 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 1231 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 1192 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 1740 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 4407, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 1133 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 831 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 753 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1091 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5845388691995996195, + "Planning Time": 45.630, + "Triggers": [ + ], + "Execution Time": 3778.705, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -5845388691995996195, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS male_writer,
       MIN(t.title) AS violent_movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity')
  AND mi.info = 'Horror'
  AND n.gender = 'm'
  AND t.production_year > 2010
  AND t.title LIKE 'Vampire%'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1431.45, + "Total Cost": 1431.46, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 344.604, + "Actual Total Time": 364.908, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1431.37, + "Total Cost": 1431.38, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 249.038, + "Actual Total Time": 364.876, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1430.37, + "Total Cost": 1430.38, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 169.797, + "Actual Total Time": 169.803, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 125.826, + "Actual Total Time": 125.833, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 318.288, + "Actual Total Time": 318.293, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 42.197, + "Actual Total Time": 42.203, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.315, + "Actual Total Time": 31.321, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 222.655, + "Actual Total Time": 222.662, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 335.448, + "Actual Total Time": 335.453, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.718, + "Actual Total Time": 34.725, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.88, + "Total Cost": 1430.36, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 166.845, + "Actual Total Time": 169.789, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 120.527, + "Actual Total Time": 125.801, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 318.282, + "Actual Total Time": 318.287, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 42.190, + "Actual Total Time": 42.196, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.307, + "Actual Total Time": 31.313, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 212.890, + "Actual Total Time": 222.633, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 335.442, + "Actual Total Time": 335.446, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.711, + "Actual Total Time": 34.718, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.45, + "Total Cost": 1429.85, + "Plan Rows": 1, + "Plan Width": 69, + "Actual Startup Time": 166.823, + "Actual Total Time": 169.762, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 120.451, + "Actual Total Time": 125.712, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 318.281, + "Actual Total Time": 318.286, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 42.190, + "Actual Total Time": 42.194, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.307, + "Actual Total Time": 31.312, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 212.829, + "Actual Total Time": 222.541, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 335.441, + "Actual Total Time": 335.445, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.711, + "Actual Total Time": 34.717, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.31, + "Total Cost": 1429.67, + "Plan Rows": 1, + "Plan Width": 73, + "Actual Startup Time": 166.815, + "Actual Total Time": 169.744, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 120.425, + "Actual Total Time": 125.658, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 318.281, + "Actual Total Time": 318.285, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 42.189, + "Actual Total Time": 42.193, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.306, + "Actual Total Time": 31.310, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 212.810, + "Actual Total Time": 222.485, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 335.441, + "Actual Total Time": 335.444, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.710, + "Actual Total Time": 34.715, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.88, + "Total Cost": 1429.15, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 166.799, + "Actual Total Time": 169.721, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 120.367, + "Actual Total Time": 125.579, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 318.280, + "Actual Total Time": 318.284, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 42.188, + "Actual Total Time": 42.192, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.305, + "Actual Total Time": 31.309, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 212.764, + "Actual Total Time": 222.404, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 335.440, + "Actual Total Time": 335.443, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.710, + "Actual Total Time": 34.714, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.74, + "Total Cost": 1428.97, + "Plan Rows": 1, + "Plan Width": 84, + "Actual Startup Time": 166.785, + "Actual Total Time": 169.703, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 120.312, + "Actual Total Time": 125.516, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 318.280, + "Actual Total Time": 318.282, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 42.187, + "Actual Total Time": 42.191, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.304, + "Actual Total Time": 31.308, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 212.722, + "Actual Total Time": 222.350, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 335.440, + "Actual Total Time": 335.442, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.709, + "Actual Total Time": 34.713, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1428.03, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 166.760, + "Actual Total Time": 169.663, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 120.224, + "Actual Total Time": 125.389, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 318.279, + "Actual Total Time": 318.281, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 42.186, + "Actual Total Time": 42.189, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.304, + "Actual Total Time": 31.306, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 212.653, + "Actual Total Time": 222.217, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 335.439, + "Actual Total Time": 335.441, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.708, + "Actual Total Time": 34.711, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1426.68, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 165.269, + "Actual Total Time": 169.498, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 120.006, + "Actual Total Time": 125.090, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 306.950, + "Actual Total Time": 318.111, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 42.186, + "Actual Total Time": 42.187, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.303, + "Actual Total Time": 31.305, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 212.415, + "Actual Total Time": 221.542, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 335.438, + "Actual Total Time": 335.440, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.707, + "Actual Total Time": 34.710, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1415.56, + "Plan Rows": 24, + "Plan Width": 4, + "Actual Startup Time": 14.311, + "Actual Total Time": 58.616, + "Actual Rows": 7762, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.216, + "Actual Total Time": 33.508, + "Actual Rows": 3402, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.757, + "Actual Total Time": 85.971, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 42.185, + "Actual Total Time": 42.186, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.302, + "Actual Total Time": 31.303, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.008, + "Actual Total Time": 71.080, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.630, + "Actual Total Time": 85.761, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.706, + "Actual Total Time": 34.708, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1260.47, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 14.228, + "Actual Total Time": 14.243, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,blood,gore,death,female-nudity}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.098, + "Actual Total Time": 0.140, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.608, + "Actual Total Time": 1.615, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 42.184, + "Actual Total Time": 42.185, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.301, + "Actual Total Time": 31.302, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.896, + "Actual Total Time": 0.911, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.477, + "Actual Total Time": 0.505, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.705, + "Actual Total Time": 34.706, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 153.72, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.126, + "Actual Total Time": 66.960, + "Actual Rows": 12419, + "Actual Loops": 5, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.113, + "Actual Total Time": 31.971, + "Actual Rows": 3402, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.143, + "Actual Total Time": 78.417, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.108, + "Actual Total Time": 67.236, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.146, + "Actual Total Time": 78.941, + "Actual Rows": 20522, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 62096, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2010) AND (t.title ~~ 'Vampire%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 3402 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 19528 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 20522 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.124, + "Actual Total Time": 0.143, + "Actual Rows": 1, + "Actual Loops": 9, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 21, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.119, + "Actual Total Time": 0.145, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.166, + "Actual Total Time": 0.166, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.116, + "Actual Total Time": 0.133, + "Actual Rows": 1, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = 'Horror'::text)", + "Rows Removed by Filter": 20, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.026, + "Actual Rows": 3, + "Actual Loops": 6, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.034, + "Actual Rows": 3, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.023, + "Actual Rows": 3, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 18, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 9 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4983731566966487840, + "Planning Time": 56.402, + "Triggers": [ + ], + "Execution Time": 365.532, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -4983731566966487840, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS male_writer,
       MIN(t.title) AS violent_movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Action',
                  'Sci-Fi',
                  'Thriller',
                  'Crime',
                  'War')
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1486.77, + "Total Cost": 1486.78, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 4585.766, + "Actual Total Time": 4616.185, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5.58, + "Total Cost": 1486.76, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 5.056, + "Actual Total Time": 4583.709, + "Actual Rows": 26153, + "Actual Loops": 1, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.58, + "Total Cost": 1485.76, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 24.429, + "Actual Total Time": 2357.251, + "Actual Rows": 3269, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 55.077, + "Actual Total Time": 55.085, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 58.677, + "Actual Total Time": 1610.616, + "Actual Rows": 1326, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.114, + "Actual Total Time": 3607.709, + "Actual Rows": 6963, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.344, + "Actual Total Time": 4568.093, + "Actual Rows": 6686, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.809, + "Actual Total Time": 2498.383, + "Actual Rows": 4673, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.547, + "Actual Total Time": 56.555, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.802, + "Actual Total Time": 3620.661, + "Actual Rows": 3244, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.15, + "Total Cost": 1485.29, + "Plan Rows": 1, + "Plan Width": 79, + "Actual Startup Time": 24.383, + "Actual Total Time": 2315.756, + "Actual Rows": 3269, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 55.076, + "Actual Total Time": 55.083, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 58.563, + "Actual Total Time": 1592.898, + "Actual Rows": 1326, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.050, + "Actual Total Time": 3524.868, + "Actual Rows": 6963, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.297, + "Actual Total Time": 4481.321, + "Actual Rows": 6686, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.758, + "Actual Total Time": 2444.946, + "Actual Rows": 4673, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.546, + "Actual Total Time": 56.553, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.750, + "Actual Total Time": 3573.102, + "Actual Rows": 3244, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.72, + "Total Cost": 1484.78, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 24.286, + "Actual Total Time": 2239.074, + "Actual Rows": 5362, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 55.076, + "Actual Total Time": 55.082, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 58.405, + "Actual Total Time": 1560.881, + "Actual Rows": 2186, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.984, + "Actual Total Time": 3377.236, + "Actual Rows": 10987, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.196, + "Actual Total Time": 4305.842, + "Actual Rows": 11835, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.702, + "Actual Total Time": 2348.940, + "Actual Rows": 7383, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.546, + "Actual Total Time": 56.552, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.415, + "Actual Total Time": 3487.556, + "Actual Rows": 5274, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 1484.59, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 24.249, + "Actual Total Time": 2204.879, + "Actual Rows": 5837, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi_idx.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 55.075, + "Actual Total Time": 55.081, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 58.334, + "Actual Total Time": 1547.109, + "Actual Rows": 2375, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.933, + "Actual Total Time": 3309.074, + "Actual Rows": 12057, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.147, + "Actual Total Time": 4231.449, + "Actual Rows": 12675, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.657, + "Actual Total Time": 2307.945, + "Actual Rows": 8144, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.545, + "Actual Total Time": 56.550, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.360, + "Actual Total Time": 3449.389, + "Actual Rows": 5652, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 1483.55, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 15.900, + "Actual Total Time": 1759.837, + "Actual Rows": 4874, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi_idx.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 55.074, + "Actual Total Time": 55.079, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.364, + "Actual Total Time": 1276.354, + "Actual Rows": 3355, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.817, + "Actual Total Time": 2506.808, + "Actual Rows": 7298, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.644, + "Actual Total Time": 3402.705, + "Actual Rows": 10431, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.540, + "Actual Total Time": 1810.419, + "Actual Rows": 5314, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.544, + "Actual Total Time": 56.549, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.377, + "Actual Total Time": 2885.907, + "Actual Rows": 7406, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 1482.20, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 15.115, + "Actual Total Time": 208.434, + "Actual Rows": 7963, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 55.073, + "Actual Total Time": 55.078, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.027, + "Actual Total Time": 128.855, + "Actual Rows": 4743, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.170, + "Actual Total Time": 269.858, + "Actual Rows": 11112, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.674, + "Actual Total Time": 379.179, + "Actual Rows": 16466, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.495, + "Actual Total Time": 174.293, + "Actual Rows": 7601, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.544, + "Actual Total Time": 56.547, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.900, + "Actual Total Time": 381.418, + "Actual Rows": 14995, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1480.08, + "Plan Rows": 101, + "Plan Width": 17, + "Actual Startup Time": 14.615, + "Actual Total Time": 191.951, + "Actual Rows": 23961, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 54.563, + "Actual Total Time": 54.565, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.617, + "Actual Total Time": 118.904, + "Actual Rows": 14269, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.649, + "Actual Total Time": 247.105, + "Actual Rows": 33482, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.005, + "Actual Total Time": 346.248, + "Actual Rows": 49537, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.043, + "Actual Total Time": 159.355, + "Actual Rows": 22907, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.127, + "Actual Total Time": 56.129, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.321, + "Actual Total Time": 350.435, + "Actual Rows": 45033, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1462.63, + "Plan Rows": 34, + "Plan Width": 4, + "Actual Startup Time": 14.552, + "Actual Total Time": 57.556, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 54.562, + "Actual Total Time": 54.564, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.499, + "Actual Total Time": 31.172, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.589, + "Actual Total Time": 62.008, + "Actual Rows": 12628, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.918, + "Actual Total Time": 84.078, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.989, + "Actual Total Time": 41.347, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.126, + "Actual Total Time": 56.127, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.209, + "Actual Total Time": 80.205, + "Actual Rows": 20522, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1308.38, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 14.468, + "Actual Total Time": 14.485, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 54.562, + "Actual Total Time": 54.562, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.356, + "Actual Total Time": 0.377, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.456, + "Actual Total Time": 0.503, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.810, + "Actual Total Time": 0.816, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.891, + "Actual Total Time": 0.904, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.125, + "Actual Total Time": 56.125, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.104, + "Actual Total Time": 0.128, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.87, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.099, + "Actual Total Time": 45.127, + "Actual Rows": 10959, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.137, + "Actual Total Time": 28.826, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.092, + "Actual Total Time": 28.382, + "Actual Rows": 6314, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.102, + "Actual Total Time": 76.002, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.092, + "Actual Total Time": 37.627, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.100, + "Actual Total Time": 72.411, + "Actual Rows": 20522, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 76714, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 5392 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 12628 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 19528 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 8337 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 20522 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.159, + "Actual Total Time": 0.194, + "Actual Rows": 1, + "Actual Loops": 63701, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 54, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.193, + "Actual Total Time": 0.241, + "Actual Rows": 1, + "Actual Loops": 4743 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.162, + "Actual Total Time": 0.200, + "Actual Rows": 1, + "Actual Loops": 11112 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.152, + "Actual Total Time": 0.182, + "Actual Rows": 1, + "Actual Loops": 16466 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.171, + "Actual Total Time": 0.214, + "Actual Rows": 1, + "Actual Loops": 7601 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.141, + "Actual Total Time": 0.166, + "Actual Rows": 0, + "Actual Loops": 14995 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.089, + "Actual Rows": 1, + "Actual Loops": 38991, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Action,Sci-Fi,Thriller,Crime,War}'::text[]))", + "Rows Removed by Filter": 73, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.079, + "Actual Rows": 1, + "Actual Loops": 3355 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.108, + "Actual Rows": 2, + "Actual Loops": 7298 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.078, + "Actual Rows": 1, + "Actual Loops": 10431 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.092, + "Actual Rows": 2, + "Actual Loops": 5314 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.074, + "Actual Rows": 1, + "Actual Loops": 7406 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 46694, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 2375 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 12057 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 12675 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 8144 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 5652 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 42900, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 2186 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 10987 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 11835 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 7383 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 5274 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 26153, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1326 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 6963 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 6686 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 4673 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 3244 + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 9105500078934324812, + "Planning Time": 55.224, + "Triggers": [ + ], + "Execution Time": 4616.563, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 9105500078934324812, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(chn.name) AS character_name,
       MIN(mi_idx.info) AS rating,
       MIN(n.name) AS playing_actor,
       MIN(t.title) AS complete_hero_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name IS NOT NULL
  AND (chn.name LIKE '%man%'
       OR chn.name LIKE '%Man%')
  AND it2.info = 'rating'
  AND k.keyword IN ('superhero',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence',
                    'magnet',
                    'web',
                    'claw',
                    'laser')
  AND kt.kind = 'movie'
  AND mi_idx.info > '7.0'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND ci.movie_id = cc.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND cc.movie_id = mi_idx.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1419.25, + "Total Cost": 1419.26, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 924.118, + "Actual Total Time": 952.624, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1419.17, + "Total Cost": 1419.18, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 189.398, + "Actual Total Time": 952.580, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1418.17, + "Total Cost": 1418.18, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 316.877, + "Actual Total Time": 316.888, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 906.777, + "Actual Total Time": 906.782, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 185.386, + "Actual Total Time": 185.392, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 112.634, + "Actual Total Time": 112.648, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 789.647, + "Actual Total Time": 789.653, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 126.785, + "Actual Total Time": 126.794, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 112.660, + "Actual Total Time": 112.675, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 112.715, + "Actual Total Time": 112.730, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.50, + "Total Cost": 1418.16, + "Plan Rows": 1, + "Plan Width": 53, + "Actual Startup Time": 57.297, + "Actual Total Time": 316.581, + "Actual Rows": 216, + "Actual Loops": 8, + "Output": ["chn.name", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 54.568, + "Actual Total Time": 905.817, + "Actual Rows": 847, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.673, + "Actual Total Time": 185.170, + "Actual Rows": 124, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 112.612, + "Actual Total Time": 112.626, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 60.376, + "Actual Total Time": 788.950, + "Actual Rows": 509, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.793, + "Actual Total Time": 126.708, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 49.146, + "Actual Total Time": 112.538, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 86.257, + "Actual Total Time": 112.695, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.36, + "Total Cost": 1417.98, + "Plan Rows": 1, + "Plan Width": 57, + "Actual Startup Time": 52.184, + "Actual Total Time": 315.024, + "Actual Rows": 304, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "n.name", "mi_idx.info", "mi_idx.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 43.145, + "Actual Total Time": 900.439, + "Actual Rows": 1196, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.617, + "Actual Total Time": 184.064, + "Actual Rows": 169, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 112.611, + "Actual Total Time": 112.624, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 55.957, + "Actual Total Time": 785.235, + "Actual Rows": 769, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.740, + "Actual Total Time": 126.405, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 24.279, + "Actual Total Time": 112.043, + "Actual Rows": 58, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 86.202, + "Actual Total Time": 112.619, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.93, + "Total Cost": 1417.48, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 29.195, + "Actual Total Time": 306.793, + "Actual Rows": 676, + "Actual Loops": 8, + "Output": ["chn.name", "mk.movie_id", "cc.movie_id", "t.title", "t.id", "ci.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.365, + "Actual Total Time": 873.539, + "Actual Rows": 2557, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.223, + "Actual Total Time": 178.455, + "Actual Rows": 365, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 112.610, + "Actual Total Time": 112.623, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 49.522, + "Actual Total Time": 763.985, + "Actual Rows": 1885, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.073, + "Actual Total Time": 123.986, + "Actual Rows": 96, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.224, + "Actual Total Time": 109.155, + "Actual Rows": 143, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.537, + "Actual Total Time": 110.738, + "Actual Rows": 68, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.50, + "Total Cost": 1417.03, + "Plan Rows": 1, + "Plan Width": 53, + "Actual Startup Time": 29.106, + "Actual Total Time": 294.581, + "Actual Rows": 676, + "Actual Loops": 8, + "Output": ["chn.name", "mk.movie_id", "cc.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.213, + "Actual Total Time": 835.708, + "Actual Rows": 2557, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.166, + "Actual Total Time": 170.438, + "Actual Rows": 365, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 112.610, + "Actual Total Time": 112.622, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 49.452, + "Actual Total Time": 732.629, + "Actual Rows": 1885, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.925, + "Actual Total Time": 120.462, + "Actual Rows": 96, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.127, + "Actual Total Time": 104.704, + "Actual Rows": 143, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.397, + "Actual Total Time": 105.422, + "Actual Rows": 68, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.07, + "Total Cost": 1416.12, + "Plan Rows": 2, + "Plan Width": 41, + "Actual Startup Time": 27.887, + "Actual Total Time": 168.901, + "Actual Rows": 23730, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_role_id", "ci.person_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.046, + "Actual Total Time": 444.675, + "Actual Rows": 86109, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.763, + "Actual Total Time": 94.725, + "Actual Rows": 11233, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 112.609, + "Actual Total Time": 112.620, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 44.872, + "Actual Total Time": 393.922, + "Actual Rows": 68955, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.448, + "Actual Total Time": 69.709, + "Actual Rows": 6145, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.437, + "Actual Total Time": 62.334, + "Actual Rows": 4647, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.152, + "Actual Total Time": 70.447, + "Actual Rows": 3250, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.63, + "Total Cost": 1414.56, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 27.775, + "Actual Total Time": 71.997, + "Actual Rows": 158, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.865, + "Actual Total Time": 165.963, + "Actual Rows": 612, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.685, + "Actual Total Time": 33.625, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 112.608, + "Actual Total Time": 112.618, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 44.740, + "Actual Total Time": 135.760, + "Actual Rows": 472, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.303, + "Actual Total Time": 18.068, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.311, + "Actual Total Time": 25.120, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.975, + "Actual Total Time": 40.748, + "Actual Rows": 19, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.49, + "Total Cost": 1414.39, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 3.241, + "Actual Total Time": 71.450, + "Actual Rows": 199, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.857, + "Actual Total Time": 164.649, + "Actual Rows": 699, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.107, + "Actual Total Time": 33.262, + "Actual Rows": 74, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.250, + "Actual Total Time": 112.232, + "Actual Rows": 87, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.709, + "Actual Total Time": 134.515, + "Actual Rows": 591, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.961, + "Actual Total Time": 17.744, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.212, + "Actual Total Time": 24.907, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.259, + "Actual Total Time": 40.535, + "Actual Rows": 24, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.06, + "Total Cost": 1413.00, + "Plan Rows": 3, + "Plan Width": 8, + "Actual Startup Time": 2.329, + "Actual Total Time": 58.881, + "Actual Rows": 800, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.528, + "Actual Total Time": 122.204, + "Actual Rows": 3371, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.381, + "Actual Total Time": 28.029, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.104, + "Actual Total Time": 107.513, + "Actual Rows": 136, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.565, + "Actual Total Time": 101.329, + "Actual Rows": 2119, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.786, + "Actual Total Time": 13.746, + "Actual Rows": 118, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.384, + "Actual Total Time": 23.556, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.862, + "Actual Total Time": 36.791, + "Actual Rows": 104, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.92, + "Total Cost": 1412.31, + "Plan Rows": 11, + "Plan Width": 12, + "Actual Startup Time": 2.280, + "Actual Total Time": 56.941, + "Actual Rows": 1174, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.473, + "Actual Total Time": 115.054, + "Actual Rows": 4785, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.350, + "Actual Total Time": 27.261, + "Actual Rows": 331, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.048, + "Actual Total Time": 106.698, + "Actual Rows": 276, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.507, + "Actual Total Time": 96.878, + "Actual Rows": 3248, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.728, + "Actual Total Time": 13.163, + "Actual Rows": 167, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.326, + "Actual Total Time": 23.291, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.805, + "Actual Total Time": 36.159, + "Actual Rows": 190, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.88, + "Total Cost": 1411.03, + "Plan Rows": 43, + "Plan Width": 16, + "Actual Startup Time": 2.098, + "Actual Total Time": 55.475, + "Actual Rows": 1174, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.307, + "Actual Total Time": 110.593, + "Actual Rows": 4785, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.255, + "Actual Total Time": 26.606, + "Actual Rows": 331, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.877, + "Actual Total Time": 105.973, + "Actual Rows": 276, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.348, + "Actual Total Time": 93.421, + "Actual Rows": 3248, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.541, + "Actual Total Time": 12.594, + "Actual Rows": 167, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.154, + "Actual Total Time": 22.971, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.652, + "Actual Total Time": 35.589, + "Actual Rows": 190, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.46, + "Total Cost": 1389.54, + "Plan Rows": 48, + "Plan Width": 4, + "Actual Startup Time": 1.400, + "Actual Total Time": 27.389, + "Actual Rows": 3011, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.701, + "Actual Total Time": 43.225, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.102, + "Actual Total Time": 11.194, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.340, + "Actual Total Time": 58.296, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.365, + "Actual Total Time": 37.899, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.304, + "Actual Total Time": 5.064, + "Actual Rows": 409, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.675, + "Actual Total Time": 19.158, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.480, + "Actual Total Time": 28.804, + "Actual Rows": 276, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.03, + "Total Cost": 1236.53, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 1.215, + "Actual Total Time": 9.464, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,marvel-comics,based-on-comic,tv-special,fight,violence,magnet,web,claw,laser}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.489, + "Actual Total Time": 0.519, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.975, + "Actual Total Time": 0.992, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.101, + "Actual Total Time": 31.498, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.096, + "Actual Total Time": 0.138, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.124, + "Actual Total Time": 0.192, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.495, + "Actual Total Time": 17.127, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.296, + "Actual Total Time": 25.086, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.63, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.151, + "Actual Total Time": 13.470, + "Actual Rows": 2409, + "Actual Loops": 10, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.208, + "Actual Total Time": 40.117, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.122, + "Actual Total Time": 9.598, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.231, + "Actual Total Time": 24.826, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.262, + "Actual Total Time": 35.644, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.104, + "Actual Total Time": 2.315, + "Actual Rows": 204, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.174, + "Actual Total Time": 1.894, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.112, + "Actual Total Time": 1.774, + "Actual Rows": 138, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 24091, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 9226 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 4196 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 6011 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 409 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 248 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 276 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.040, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 9392, + "Output": ["cct1.id"], + "Cache Key": "cc.subject_id", + "Cache Mode": "logical", + "Cache Hits": 346, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 4785, + "Cache Hits": 4783, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 331, + "Cache Hits": 329, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 276, + "Cache Hits": 274, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 3248, + "Cache Hits": 3246, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 167, + "Cache Hits": 165, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 47, + "Cache Hits": 45, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 190, + "Cache Hits": 188, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 16, + "Output": ["cct1.id"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 6396, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 3371 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 248 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 136 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 2119 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 118 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 39 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 104 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 1595, + "Output": ["kt.id"], + "Cache Key": "t.kind_id", + "Cache Mode": "logical", + "Cache Hits": 53, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 699, + "Cache Hits": 693, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 74, + "Cache Hits": 68, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 87, + "Cache Hits": 83, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 591, + "Cache Hits": 587, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 41, + "Cache Hits": 38, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 22, + "Cache Hits": 19, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 24, + "Cache Hits": 22, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 32, + "Output": ["kt.id"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 12, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.547, + "Actual Rows": 150, + "Actual Loops": 1267, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.402, + "Actual Rows": 141, + "Actual Loops": 612 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.929, + "Actual Rows": 190, + "Actual Loops": 59 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.490, + "Actual Rows": 146, + "Actual Loops": 472 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 1.427, + "Actual Rows": 186, + "Actual Loops": 33 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.049, + "Actual Total Time": 1.692, + "Actual Rows": 232, + "Actual Loops": 20 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.051, + "Actual Total Time": 1.435, + "Actual Rows": 171, + "Actual Loops": 19 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 189844, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name IS NOT NULL) AND ((chn.name ~~ '%man%'::text) OR (chn.name ~~ '%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 86109 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 11233 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 68955 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 6145 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 4647 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 3250 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 5406, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 2557 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 365 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 1885 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 96 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 143 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.075, + "Actual Rows": 1, + "Actual Loops": 68 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 5406, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '7.0'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 2557 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 365 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 1885 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 96 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 143 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 68 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 2429, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1196 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 169 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 769 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 30 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 58 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1025902338300761143, + "Planning Time": 239.673, + "Triggers": [ + ], + "Execution Time": 953.288, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 1025902338300761143, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(chn.name) AS character_name,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_hero_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name IS NOT NULL
  AND (chn.name LIKE '%man%'
       OR chn.name LIKE '%Man%')
  AND it2.info = 'rating'
  AND k.keyword IN ('superhero',
                    'marvel-comics',
                    'based-on-comic',
                    'fight')
  AND kt.kind = 'movie'
  AND mi_idx.info > '8.0'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND ci.movie_id = cc.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND cc.movie_id = mi_idx.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1407.17, + "Total Cost": 1407.18, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 261.592, + "Actual Total Time": 277.504, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.58, + "Total Cost": 1407.16, + "Plan Rows": 1, + "Plan Width": 38, + "Actual Startup Time": 60.512, + "Actual Total Time": 277.304, + "Actual Rows": 93, + "Actual Loops": 1, + "Output": ["chn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4.15, + "Total Cost": 1406.71, + "Plan Rows": 1, + "Plan Width": 26, + "Actual Startup Time": 60.292, + "Actual Total Time": 257.983, + "Actual Rows": 2300, + "Actual Loops": 1, + "Output": ["t.title", "mi_idx.info", "ci.person_role_id"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.15, + "Total Cost": 1405.71, + "Plan Rows": 1, + "Plan Width": 26, + "Actual Startup Time": 49.636, + "Actual Total Time": 70.325, + "Actual Rows": 288, + "Actual Loops": 8, + "Output": ["t.title", "mi_idx.info", "ci.person_role_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.545, + "Actual Total Time": 34.555, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 49.744, + "Actual Total Time": 66.441, + "Actual Rows": 483, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 109.132, + "Actual Total Time": 240.041, + "Actual Rows": 1334, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 36.047, + "Actual Total Time": 36.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 36.093, + "Actual Total Time": 36.102, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 36.385, + "Actual Total Time": 36.393, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 36.023, + "Actual Total Time": 36.029, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.00, + "Total Cost": 1405.36, + "Plan Rows": 2, + "Plan Width": 30, + "Actual Startup Time": 33.192, + "Actual Total Time": 65.853, + "Actual Rows": 880, + "Actual Loops": 8, + "Output": ["t.title", "mi_idx.info", "mi_idx.info_type_id", "ci.person_role_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.544, + "Actual Total Time": 34.553, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.182, + "Actual Total Time": 60.101, + "Actual Rows": 966, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 46.705, + "Actual Total Time": 218.033, + "Actual Rows": 5005, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 36.046, + "Actual Total Time": 36.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 36.092, + "Actual Total Time": 36.100, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 36.384, + "Actual Total Time": 36.391, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 36.021, + "Actual Total Time": 36.027, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.57, + "Total Cost": 1404.46, + "Plan Rows": 2, + "Plan Width": 34, + "Actual Startup Time": 33.164, + "Actual Total Time": 54.091, + "Actual Rows": 880, + "Actual Loops": 8, + "Output": ["t.title", "mi_idx.info", "mi_idx.info_type_id", "ci.person_role_id", "ci.person_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.543, + "Actual Total Time": 34.552, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.074, + "Actual Total Time": 43.851, + "Actual Rows": 966, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 46.646, + "Actual Total Time": 158.041, + "Actual Rows": 5005, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 36.045, + "Actual Total Time": 36.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 36.091, + "Actual Total Time": 36.098, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 36.383, + "Actual Total Time": 36.390, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 36.020, + "Actual Total Time": 36.026, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.13, + "Total Cost": 1402.90, + "Plan Rows": 1, + "Plan Width": 42, + "Actual Startup Time": 33.134, + "Actual Total Time": 49.517, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.542, + "Actual Total Time": 34.550, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.976, + "Actual Total Time": 37.805, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 46.573, + "Actual Total Time": 133.862, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 36.044, + "Actual Total Time": 36.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 36.090, + "Actual Total Time": 36.097, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 36.383, + "Actual Total Time": 36.388, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 36.020, + "Actual Total Time": 36.025, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 1402.40, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 26.825, + "Actual Total Time": 48.717, + "Actual Rows": 34, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.432, + "Actual Total Time": 33.795, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.007, + "Actual Total Time": 36.900, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 46.249, + "Actual Total Time": 129.925, + "Actual Rows": 205, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 36.043, + "Actual Total Time": 36.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 36.089, + "Actual Total Time": 36.095, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 36.382, + "Actual Total Time": 36.387, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 36.019, + "Actual Total Time": 36.024, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.56, + "Total Cost": 1402.23, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 21.192, + "Actual Total Time": 48.576, + "Actual Rows": 46, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.347, + "Actual Total Time": 33.609, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.295, + "Actual Total Time": 36.739, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.012, + "Actual Total Time": 129.282, + "Actual Rows": 291, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 36.042, + "Actual Total Time": 36.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 36.088, + "Actual Total Time": 36.093, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 36.381, + "Actual Total Time": 36.386, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 36.019, + "Actual Total Time": 36.022, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.13, + "Total Cost": 1401.77, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 18.990, + "Actual Total Time": 43.145, + "Actual Rows": 333, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.131, + "Actual Total Time": 31.637, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.723, + "Actual Total Time": 30.576, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.842, + "Actual Total Time": 99.632, + "Actual Rows": 2119, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 36.041, + "Actual Total Time": 36.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 36.087, + "Actual Total Time": 36.092, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 36.381, + "Actual Total Time": 36.384, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 36.018, + "Actual Total Time": 36.021, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.99, + "Total Cost": 1401.30, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 18.977, + "Actual Total Time": 42.592, + "Actual Rows": 497, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.094, + "Actual Total Time": 31.434, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.706, + "Actual Total Time": 30.090, + "Actual Rows": 331, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.805, + "Actual Total Time": 96.425, + "Actual Rows": 3248, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 36.040, + "Actual Total Time": 36.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 36.087, + "Actual Total Time": 36.090, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 36.380, + "Actual Total Time": 36.382, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 36.017, + "Actual Total Time": 36.019, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 1400.44, + "Plan Rows": 17, + "Plan Width": 16, + "Actual Startup Time": 18.947, + "Actual Total Time": 41.786, + "Actual Rows": 497, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.017, + "Actual Total Time": 31.102, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.660, + "Actual Total Time": 29.362, + "Actual Rows": 331, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.718, + "Actual Total Time": 91.833, + "Actual Rows": 3248, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 36.039, + "Actual Total Time": 36.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 36.086, + "Actual Total Time": 36.087, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 36.379, + "Actual Total Time": 36.380, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 36.016, + "Actual Total Time": 36.017, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1391.93, + "Plan Rows": 19, + "Plan Width": 4, + "Actual Startup Time": 18.512, + "Actual Total Time": 28.521, + "Actual Rows": 1248, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.434, + "Actual Total Time": 24.356, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.496, + "Actual Total Time": 12.172, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.361, + "Actual Total Time": 32.554, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 36.038, + "Actual Total Time": 36.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 36.085, + "Actual Total Time": 36.085, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 36.378, + "Actual Total Time": 36.379, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 36.015, + "Actual Total Time": 36.016, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 18.421, + "Actual Total Time": 20.925, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,marvel-comics,based-on-comic,fight}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.221, + "Actual Total Time": 21.148, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.361, + "Actual Total Time": 1.393, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.125, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 36.038, + "Actual Total Time": 36.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 36.084, + "Actual Total Time": 36.084, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 36.377, + "Actual Total Time": 36.377, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 36.014, + "Actual Total Time": 36.015, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.05, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.174, + "Actual Total Time": 14.203, + "Actual Rows": 2496, + "Actual Loops": 4, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.204, + "Actual Total Time": 2.967, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.130, + "Actual Total Time": 10.149, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.282, + "Actual Total Time": 30.262, + "Actual Rows": 6011, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 9984, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 248 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 6011 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 3974, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 346, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 47, + "Cache Hits": 45, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 331, + "Cache Hits": 329, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 3248, + "Cache Hits": 3246, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 3974, + "Output": ["cct1.id"], + "Cache Key": "cc.subject_id", + "Cache Mode": "logical", + "Cache Hits": 346, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 47, + "Cache Hits": 45, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 331, + "Cache Hits": 329, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 1, + "Actual Loops": 3248, + "Cache Hits": 3246, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 2667, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 39 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 248 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 2119 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 367, + "Output": ["kt.id"], + "Cache Key": "t.kind_id", + "Cache Mode": "logical", + "Cache Hits": 26, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 12, + "Cache Hits": 9, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 36, + "Cache Hits": 31, + "Cache Misses": 5, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 291, + "Cache Hits": 287, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 14, + "Output": ["kt.id"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 4 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 269, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '8.0'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.073, + "Actual Rows": 0, + "Actual Loops": 10 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 29 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 205 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 12, + "Actual Startup Time": 0.031, + "Actual Total Time": 1.040, + "Actual Rows": 227, + "Actual Loops": 31, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.064, + "Actual Total Time": 2.350, + "Actual Rows": 483, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.844, + "Actual Rows": 192, + "Actual Loops": 26 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 7041, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 966 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 5005 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 7041, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 966 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 5005 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 2300, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name IS NOT NULL) AND ((chn.name ~~ '%man%'::text) OR (chn.name ~~ '%Man%'::text)))", + "Rows Removed by Filter": 0 + } + ] + } + ] + }, + "Query Identifier": -3475685009172437784, + "Planning Time": 255.064, + "Triggers": [ + ], + "Execution Time": 278.332, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -3475685009172437784, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(chn.name) AS character_name,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_hero_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name IS NOT NULL
  AND (chn.name LIKE '%man%'
       OR chn.name LIKE '%Man%')
  AND it2.info = 'rating'
  AND k.keyword IN ('superhero',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence',
                    'magnet',
                    'web',
                    'claw',
                    'laser')
  AND kt.kind = 'movie'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND ci.movie_id = cc.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND cc.movie_id = mi_idx.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1419.64, + "Total Cost": 1419.65, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 1047.546, + "Actual Total Time": 1075.154, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1419.58, + "Total Cost": 1419.59, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 216.924, + "Actual Total Time": 1075.106, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1418.58, + "Total Cost": 1418.59, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 345.969, + "Actual Total Time": 345.978, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 113.405, + "Actual Total Time": 113.414, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 210.641, + "Actual Total Time": 210.647, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 113.174, + "Actual Total Time": 113.183, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 845.456, + "Actual Total Time": 845.461, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 123.541, + "Actual Total Time": 123.551, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 113.495, + "Actual Total Time": 113.508, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1032.051, + "Actual Total Time": 1032.057, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.50, + "Total Cost": 1418.57, + "Plan Rows": 1, + "Plan Width": 38, + "Actual Startup Time": 31.053, + "Actual Total Time": 345.144, + "Actual Rows": 675, + "Actual Loops": 8, + "Output": ["chn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 113.398, + "Actual Total Time": 113.406, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.678, + "Actual Total Time": 209.974, + "Actual Rows": 361, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.688, + "Actual Total Time": 112.873, + "Actual Rows": 143, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 52.400, + "Actual Total Time": 843.398, + "Actual Rows": 1884, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.348, + "Actual Total Time": 123.254, + "Actual Rows": 96, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.239, + "Actual Total Time": 113.322, + "Actual Rows": 68, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.088, + "Actual Total Time": 1029.448, + "Actual Rows": 2556, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.37, + "Total Cost": 1418.40, + "Plan Rows": 1, + "Plan Width": 42, + "Actual Startup Time": 31.031, + "Actual Total Time": 341.342, + "Actual Rows": 795, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "cc.subject_id", "mi_idx.info"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 113.398, + "Actual Total Time": 113.405, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.663, + "Actual Total Time": 207.345, + "Actual Rows": 391, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.649, + "Actual Total Time": 111.803, + "Actual Rows": 143, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 52.379, + "Actual Total Time": 833.300, + "Actual Rows": 2275, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.319, + "Actual Total Time": 122.354, + "Actual Rows": 100, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.206, + "Actual Total Time": 112.761, + "Actual Rows": 68, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.070, + "Actual Total Time": 1016.730, + "Actual Rows": 3017, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.94, + "Total Cost": 1417.96, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 30.945, + "Actual Total Time": 331.387, + "Actual Rows": 795, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "cc.subject_id", "mi_idx.info", "ci.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 113.397, + "Actual Total Time": 113.404, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.590, + "Actual Total Time": 200.546, + "Actual Rows": 391, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.538, + "Actual Total Time": 108.784, + "Actual Rows": 143, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 52.276, + "Actual Total Time": 807.016, + "Actual Rows": 2275, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.189, + "Actual Total Time": 119.817, + "Actual Rows": 100, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.080, + "Actual Total Time": 111.007, + "Actual Rows": 68, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.970, + "Actual Total Time": 983.877, + "Actual Rows": 3017, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.51, + "Total Cost": 1417.05, + "Plan Rows": 2, + "Plan Width": 34, + "Actual Startup Time": 29.816, + "Actual Total Time": 190.635, + "Actual Rows": 27584, + "Actual Loops": 8, + "Output": ["t.title", "cc.subject_id", "mi_idx.info", "ci.person_role_id", "ci.person_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 113.396, + "Actual Total Time": 113.403, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.256, + "Actual Total Time": 114.862, + "Actual Rows": 11875, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.929, + "Actual Total Time": 73.671, + "Actual Rows": 4647, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.683, + "Actual Total Time": 415.818, + "Actual Rows": 82788, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.839, + "Actual Total Time": 72.272, + "Actual Rows": 6285, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.893, + "Actual Total Time": 83.776, + "Actual Rows": 3376, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.376, + "Actual Total Time": 524.149, + "Actual Rows": 100591, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.07, + "Total Cost": 1415.49, + "Plan Rows": 1, + "Plan Width": 42, + "Actual Startup Time": 29.724, + "Actual Total Time": 86.891, + "Actual Rows": 184, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "cc.movie_id", "cc.subject_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 113.396, + "Actual Total Time": 113.401, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.187, + "Actual Total Time": 47.744, + "Actual Rows": 62, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.810, + "Actual Total Time": 40.922, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.549, + "Actual Total Time": 146.561, + "Actual Rows": 570, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.732, + "Actual Total Time": 22.351, + "Actual Rows": 35, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.721, + "Actual Total Time": 57.044, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.289, + "Actual Total Time": 204.580, + "Actual Rows": 706, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.93, + "Total Cost": 1415.30, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 29.659, + "Actual Total Time": 84.015, + "Actual Rows": 561, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "cc.movie_id", "cc.subject_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 113.395, + "Actual Total Time": 113.400, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.129, + "Actual Total Time": 46.209, + "Actual Rows": 189, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.709, + "Actual Total Time": 40.379, + "Actual Rows": 60, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.490, + "Actual Total Time": 138.518, + "Actual Rows": 1732, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.631, + "Actual Total Time": 21.296, + "Actual Rows": 107, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.615, + "Actual Total Time": 56.460, + "Actual Rows": 60, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.233, + "Actual Total Time": 194.862, + "Actual Rows": 2153, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.50, + "Total Cost": 1414.78, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 29.532, + "Actual Total Time": 80.731, + "Actual Rows": 186, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 113.394, + "Actual Total Time": 113.399, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.077, + "Actual Total Time": 44.362, + "Actual Rows": 64, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.618, + "Actual Total Time": 39.697, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.429, + "Actual Total Time": 129.597, + "Actual Rows": 574, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.513, + "Actual Total Time": 19.853, + "Actual Rows": 35, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.488, + "Actual Total Time": 55.574, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.708, + "Actual Total Time": 184.170, + "Actual Rows": 712, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.37, + "Total Cost": 1414.61, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 29.497, + "Actual Total Time": 79.657, + "Actual Rows": 186, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 113.393, + "Actual Total Time": 113.397, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.044, + "Actual Total Time": 43.746, + "Actual Rows": 64, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.566, + "Actual Total Time": 39.448, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.395, + "Actual Total Time": 126.687, + "Actual Rows": 574, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.460, + "Actual Total Time": 19.414, + "Actual Rows": 35, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.435, + "Actual Total Time": 55.318, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.674, + "Actual Total Time": 180.663, + "Actual Rows": 712, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.95, + "Total Cost": 1412.82, + "Plan Rows": 4, + "Plan Width": 25, + "Actual Startup Time": 17.634, + "Actual Total Time": 74.140, + "Actual Rows": 629, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.338, + "Actual Total Time": 113.191, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.905, + "Actual Total Time": 39.522, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.480, + "Actual Total Time": 38.575, + "Actual Rows": 49, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.055, + "Actual Total Time": 114.250, + "Actual Rows": 1529, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.362, + "Actual Total Time": 17.763, + "Actual Rows": 79, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.832, + "Actual Total Time": 54.317, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.278, + "Actual Total Time": 161.560, + "Actual Rows": 2637, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.89, + "Total Cost": 1411.64, + "Plan Rows": 26, + "Plan Width": 29, + "Actual Startup Time": 1.454, + "Actual Total Time": 72.421, + "Actual Rows": 1327, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.324, + "Actual Total Time": 111.282, + "Actual Rows": 2120, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.151, + "Actual Total Time": 38.403, + "Actual Rows": 745, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.279, + "Actual Total Time": 37.818, + "Actual Rows": 155, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.442, + "Actual Total Time": 110.977, + "Actual Rows": 2965, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.500, + "Actual Total Time": 16.905, + "Actual Rows": 162, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.824, + "Actual Total Time": 53.540, + "Actual Rows": 97, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.865, + "Actual Total Time": 157.670, + "Actual Rows": 3700, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.46, + "Total Cost": 1389.54, + "Plan Rows": 48, + "Plan Width": 4, + "Actual Startup Time": 1.264, + "Actual Total Time": 24.519, + "Actual Rows": 3011, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.183, + "Actual Total Time": 28.189, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.974, + "Actual Total Time": 8.665, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.150, + "Actual Total Time": 32.101, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.247, + "Actual Total Time": 21.543, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.271, + "Actual Total Time": 4.795, + "Actual Rows": 409, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.379, + "Actual Total Time": 44.928, + "Actual Rows": 276, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.709, + "Actual Total Time": 45.158, + "Actual Rows": 9226, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.03, + "Total Cost": 1236.53, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 1.098, + "Actual Total Time": 9.930, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,marvel-comics,based-on-comic,tv-special,fight,violence,magnet,web,claw,laser}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.954, + "Actual Total Time": 5.348, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.881, + "Actual Total Time": 0.900, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.024, + "Actual Total Time": 30.596, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.112, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.145, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.171, + "Actual Total Time": 41.671, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.479, + "Actual Total Time": 0.510, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.63, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.137, + "Actual Total Time": 10.779, + "Actual Rows": 2409, + "Actual Loops": 10, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.223, + "Actual Total Time": 20.856, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.090, + "Actual Total Time": 7.078, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.121, + "Actual Total Time": 1.364, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.168, + "Actual Total Time": 19.378, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.116, + "Actual Total Time": 2.206, + "Actual Rows": 204, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.125, + "Actual Total Time": 1.544, + "Actual Rows": 138, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.225, + "Actual Total Time": 41.916, + "Actual Rows": 9226, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 24091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 4196 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 248 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 6011 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 409 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 276 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 9226 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 5032, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 10 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 312 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 49 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 1529 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 79 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 47 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 2637 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1485, + "Output": ["cct2.id", "cct2.kind"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 64 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 20 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 574 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 35 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 20 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 712 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 1485, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.025, + "Actual Rows": 3, + "Actual Loops": 64 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.029, + "Actual Rows": 3, + "Actual Loops": 20 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 574 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.036, + "Actual Rows": 3, + "Actual Loops": 35 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.039, + "Actual Rows": 3, + "Actual Loops": 20 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 712 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 4486, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 189 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 60 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1732 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 107 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 60 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 2153 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 12, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.500, + "Actual Rows": 150, + "Actual Loops": 1473, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.962, + "Actual Rows": 192, + "Actual Loops": 62 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 1.487, + "Actual Rows": 232, + "Actual Loops": 20 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.416, + "Actual Rows": 145, + "Actual Loops": 570 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 1.294, + "Actual Rows": 180, + "Actual Loops": 35 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.047, + "Actual Total Time": 1.224, + "Actual Rows": 169, + "Actual Loops": 20 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.400, + "Actual Rows": 142, + "Actual Loops": 706 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 220668, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name IS NOT NULL) AND ((chn.name ~~ '%man%'::text) OR (chn.name ~~ '%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 11875 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 4647 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 82788 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 6285 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 3376 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 100591 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 6359, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 391 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 143 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 2275 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 100 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 68 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 3017 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 6359, + "Output": ["cct1.id", "cct1.kind"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 391 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 143 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 2275 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 100 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 68 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 3017 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6841805925482126349, + "Planning Time": 246.557, + "Triggers": [ + ], + "Execution Time": 1075.765, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 6841805925482126349, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS complete_western_sequel
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cct1.kind IN ('cast',
                    'crew')
  AND cct2.kind = 'complete'
  AND cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Germany',
                  'Swedish',
                  'German')
  AND t.production_year BETWEEN 1950 AND 2000
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND t.id = cc.movie_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id
  AND ml.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = cc.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 496.00, + "Total Cost": 496.01, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 119.323, + "Actual Total Time": 121.157, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 320.81, + "Total Cost": 495.99, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 10.685, + "Actual Total Time": 120.342, + "Actual Rows": 477, + "Actual Loops": 1, + "Output": ["cn.name", "lt.link", "t.title"], + "Workers Planned": 6, + "Workers Launched": 6, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 319.81, + "Total Cost": 494.99, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 19.795, + "Actual Total Time": 26.692, + "Actual Rows": 68, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.475, + "Actual Total Time": 8.487, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.100, + "Actual Total Time": 14.117, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.988, + "Actual Total Time": 14.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.238, + "Actual Total Time": 11.251, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 64.204, + "Actual Total Time": 101.817, + "Actual Rows": 475, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.981, + "Actual Total Time": 16.997, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 319.39, + "Total Cost": 490.56, + "Plan Rows": 10, + "Plan Width": 52, + "Actual Startup Time": 13.538, + "Actual Total Time": 19.081, + "Actual Rows": 926, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "t.title", "mk.keyword_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.475, + "Actual Total Time": 8.486, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.099, + "Actual Total Time": 14.114, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.986, + "Actual Total Time": 14.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.237, + "Actual Total Time": 11.248, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.498, + "Actual Total Time": 48.660, + "Actual Rows": 6479, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.980, + "Actual Total Time": 16.994, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 318.96, + "Total Cost": 489.20, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 13.509, + "Actual Total Time": 17.300, + "Actual Rows": 101, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "t.title", "t.id", "mc.movie_id", "mi.movie_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.474, + "Actual Total Time": 8.485, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.098, + "Actual Total Time": 14.113, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.986, + "Actual Total Time": 14.000, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.236, + "Actual Total Time": 11.246, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.348, + "Actual Total Time": 36.270, + "Actual Rows": 703, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.979, + "Actual Total Time": 16.993, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 318.52, + "Total Cost": 487.00, + "Plan Rows": 2, + "Plan Width": 64, + "Actual Startup Time": 12.188, + "Actual Total Time": 15.534, + "Actual Rows": 38, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "t.title", "t.id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.473, + "Actual Total Time": 8.483, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.097, + "Actual Total Time": 14.111, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.985, + "Actual Total Time": 13.999, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.235, + "Actual Total Time": 11.245, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.106, + "Actual Total Time": 24.286, + "Actual Rows": 263, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.978, + "Actual Total Time": 16.991, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 318.10, + "Total Cost": 482.52, + "Plan Rows": 10, + "Plan Width": 49, + "Actual Startup Time": 11.058, + "Actual Total Time": 14.322, + "Actual Rows": 99, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.819, + "Actual Total Time": 8.365, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.097, + "Actual Total Time": 14.109, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.984, + "Actual Total Time": 13.997, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.234, + "Actual Total Time": 11.243, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.921, + "Actual Total Time": 18.346, + "Actual Rows": 582, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.843, + "Actual Total Time": 16.554, + "Actual Rows": 5, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 317.06, + "Total Cost": 481.27, + "Plan Rows": 38, + "Plan Width": 53, + "Actual Startup Time": 10.280, + "Actual Total Time": 13.441, + "Actual Rows": 111, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.344, + "Actual Total Time": 7.899, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.166, + "Actual Total Time": 13.176, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.097, + "Actual Total Time": 13.107, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.408, + "Actual Total Time": 10.415, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.958, + "Actual Total Time": 16.842, + "Actual Rows": 634, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.834, + "Actual Total Time": 15.527, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 316.63, + "Total Cost": 471.26, + "Plan Rows": 18, + "Plan Width": 41, + "Actual Startup Time": 9.941, + "Actual Total Time": 12.652, + "Actual Rows": 26, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.265, + "Actual Total Time": 7.759, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.164, + "Actual Total Time": 13.174, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.096, + "Actual Total Time": 13.105, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.651, + "Actual Total Time": 10.249, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.750, + "Actual Total Time": 14.390, + "Actual Rows": 90, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.587, + "Actual Total Time": 14.924, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 316.20, + "Total Cost": 430.52, + "Plan Rows": 50, + "Plan Width": 20, + "Actual Startup Time": 9.851, + "Actual Total Time": 12.061, + "Actual Rows": 27, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.161, + "Actual Total Time": 7.613, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.163, + "Actual Total Time": 13.172, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.095, + "Actual Total Time": 13.103, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.465, + "Actual Total Time": 10.000, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.626, + "Actual Total Time": 12.946, + "Actual Rows": 94, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.436, + "Actual Total Time": 14.470, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 315.16, + "Total Cost": 428.40, + "Plan Rows": 200, + "Plan Width": 24, + "Actual Startup Time": 9.821, + "Actual Total Time": 12.011, + "Actual Rows": 37, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.120, + "Actual Total Time": 7.598, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.151, + "Actual Total Time": 13.157, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.084, + "Actual Total Time": 13.091, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.448, + "Actual Total Time": 9.978, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.585, + "Actual Total Time": 12.836, + "Actual Rows": 128, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.392, + "Actual Total Time": 14.432, + "Actual Rows": 9, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Merge Join", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 314.12, + "Total Cost": 425.19, + "Plan Rows": 401, + "Plan Width": 28, + "Actual Startup Time": 9.793, + "Actual Total Time": 11.936, + "Actual Rows": 37, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Merge Cond": "(cc.movie_id = ml.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.100, + "Actual Total Time": 7.570, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.136, + "Actual Total Time": 13.140, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.069, + "Actual Total Time": 13.073, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.416, + "Actual Total Time": 9.937, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.547, + "Actual Total Time": 12.659, + "Actual Rows": 128, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.353, + "Actual Total Time": 14.366, + "Actual Rows": 9, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 2187.57, + "Plan Rows": 22514, + "Plan Width": 12, + "Actual Startup Time": 0.084, + "Actual Total Time": 1.807, + "Actual Rows": 857, + "Actual Loops": 7, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.044, + "Actual Total Time": 1.636, + "Actual Rows": 970, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.112, + "Actual Total Time": 0.990, + "Actual Rows": 231, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.990, + "Actual Rows": 262, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.811, + "Actual Rows": 289, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.136, + "Actual Total Time": 0.711, + "Actual Rows": 353, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.100, + "Actual Total Time": 1.758, + "Actual Rows": 386, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Sort", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 313.68, + "Total Cost": 317.85, + "Plan Rows": 1666, + "Plan Width": 16, + "Actual Startup Time": 8.305, + "Actual Total Time": 8.810, + "Actual Rows": 2319, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id"], + "Sort Key": ["ml.movie_id"], + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.833, + "Actual Total Time": 5.111, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.023, + "Actual Total Time": 10.699, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.986, + "Actual Total Time": 10.626, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.695, + "Actual Total Time": 8.120, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.267, + "Actual Total Time": 10.789, + "Actual Rows": 2335, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.301, + "Actual Total Time": 10.976, + "Actual Rows": 2317, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 18.12, + "Total Cost": 224.53, + "Plan Rows": 1666, + "Plan Width": 16, + "Actual Startup Time": 0.509, + "Actual Total Time": 5.423, + "Actual Rows": 2315, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.289, + "Actual Total Time": 3.245, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.628, + "Actual Total Time": 6.425, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.616, + "Actual Total Time": 6.386, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.497, + "Actual Total Time": 5.049, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.641, + "Actual Total Time": 6.655, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.656, + "Actual Total Time": 6.690, + "Actual Rows": 2315, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.23, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.079, + "Actual Rows": 2, + "Actual Loops": 7, + "Output": ["lt.id", "lt.link"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.053, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.091, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.089, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.080, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.095, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.110, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Bitmap Heap Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 18.12, + "Total Cost": 204.56, + "Plan Rows": 1875, + "Plan Width": 8, + "Actual Startup Time": 0.421, + "Actual Total Time": 1.982, + "Actual Rows": 1158, + "Actual Loops": 14, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Recheck Cond": "(ml.link_type_id = lt.id)", + "Rows Removed by Index Recheck": 0, + "Exact Heap Blocks": 191, + "Lossy Heap Blocks": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.227, + "Actual Total Time": 1.210, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.522, + "Actual Total Time": 2.310, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.517, + "Actual Total Time": 2.291, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.402, + "Actual Total Time": 1.835, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.535, + "Actual Total Time": 2.422, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.528, + "Actual Total Time": 2.424, + "Actual Rows": 1158, + "Actual Loops": 2 + } + ], + "Plans": [ + { + "Node Type": "Bitmap Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Index Name": "link_type_id_movie_link", + "Startup Cost": 0.00, + "Total Cost": 17.65, + "Plan Rows": 1875, + "Plan Width": 0, + "Actual Startup Time": 0.342, + "Actual Total Time": 0.342, + "Actual Rows": 1158, + "Actual Loops": 14, + "Index Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.183, + "Actual Total Time": 0.183, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.429, + "Actual Total Time": 0.429, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.425, + "Actual Total Time": 0.426, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.325, + "Actual Total Time": 0.325, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.431, + "Actual Total Time": 0.431, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.427, + "Actual Total Time": 0.427, + "Actual Rows": 1158, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 7, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = ANY ('{cast,crew}'::text[]))", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 7, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text = 'complete'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.80, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 189, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2000))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.069, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.117, + "Actual Total Time": 0.117, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 94 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.069, + "Actual Rows": 1, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 2, + "Plan Width": 12, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.027, + "Actual Rows": 4, + "Actual Loops": 179, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.065, + "Actual Rows": 2, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.079, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.023, + "Actual Rows": 7, + "Actual Loops": 90 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.086, + "Actual Total Time": 0.095, + "Actual Rows": 1, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 7, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 691, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 582 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.084, + "Actual Total Time": 0.084, + "Actual Rows": 0, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.044, + "Actual Rows": 3, + "Actual Loops": 269, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Germany,Swedish,German}'::text[]))", + "Rows Removed by Filter": 23, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.044, + "Actual Rows": 3, + "Actual Loops": 263 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.99, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.013, + "Actual Rows": 9, + "Actual Loops": 705, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.013, + "Actual Rows": 9, + "Actual Loops": 703 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 6483, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 6479 + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5323664899700589841, + "Planning Time": 299.343, + "Triggers": [ + ], + "Execution Time": 122.031, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -5323664899700589841, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS complete_western_sequel
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cct1.kind IN ('cast',
                    'crew')
  AND cct2.kind = 'complete'
  AND cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Germany',
                  'Swedish',
                  'German')
  AND t.production_year = 1998
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND t.id = cc.movie_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id
  AND ml.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = cc.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 478.33, + "Total Cost": 478.34, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 45.164, + "Actual Total Time": 46.843, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 319.90, + "Total Cost": 478.32, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 39.924, + "Actual Total Time": 46.482, + "Actual Rows": 247, + "Actual Loops": 1, + "Output": ["cn.name", "lt.link", "t.title"], + "Workers Planned": 6, + "Workers Launched": 6, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 318.90, + "Total Cost": 477.32, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 11.740, + "Actual Total Time": 15.182, + "Actual Rows": 35, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.317, + "Actual Total Time": 13.332, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.721, + "Actual Total Time": 31.732, + "Actual Rows": 247, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.165, + "Actual Total Time": 13.182, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.394, + "Actual Total Time": 13.410, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.330, + "Actual Total Time": 13.344, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.704, + "Actual Total Time": 6.712, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 318.48, + "Total Cost": 475.10, + "Plan Rows": 5, + "Plan Width": 52, + "Actual Startup Time": 11.721, + "Actual Total Time": 13.086, + "Actual Rows": 274, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "t.title", "mk.keyword_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.316, + "Actual Total Time": 13.329, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.590, + "Actual Total Time": 17.070, + "Actual Rows": 1919, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.164, + "Actual Total Time": 13.179, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.392, + "Actual Total Time": 13.407, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.329, + "Actual Total Time": 13.342, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.703, + "Actual Total Time": 6.711, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 318.04, + "Total Cost": 473.74, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 11.711, + "Actual Total Time": 12.561, + "Actual Rows": 35, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "t.title", "t.id", "mc.movie_id", "mi.movie_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.315, + "Actual Total Time": 13.327, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.527, + "Actual Total Time": 13.407, + "Actual Rows": 247, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.163, + "Actual Total Time": 13.178, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.391, + "Actual Total Time": 13.406, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.328, + "Actual Total Time": 13.340, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.703, + "Actual Total Time": 6.710, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 317.61, + "Total Cost": 472.64, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 11.697, + "Actual Total Time": 12.277, + "Actual Rows": 14, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "t.title", "t.id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.314, + "Actual Total Time": 13.326, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.434, + "Actual Total Time": 11.426, + "Actual Rows": 95, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.162, + "Actual Total Time": 13.176, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.390, + "Actual Total Time": 13.404, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.327, + "Actual Total Time": 13.337, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.702, + "Actual Total Time": 6.709, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 317.19, + "Total Cost": 472.19, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 11.683, + "Actual Total Time": 12.036, + "Actual Rows": 27, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.313, + "Actual Total Time": 13.324, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.344, + "Actual Total Time": 9.750, + "Actual Rows": 190, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.161, + "Actual Total Time": 13.174, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.389, + "Actual Total Time": 13.402, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.326, + "Actual Total Time": 13.336, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.702, + "Actual Total Time": 6.708, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 317.06, + "Total Cost": 471.87, + "Plan Rows": 2, + "Plan Width": 53, + "Actual Startup Time": 11.675, + "Actual Total Time": 11.914, + "Actual Rows": 27, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.312, + "Actual Total Time": 13.322, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.287, + "Actual Total Time": 8.903, + "Actual Rows": 190, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.160, + "Actual Total Time": 13.172, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.389, + "Actual Total Time": 13.400, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.325, + "Actual Total Time": 13.334, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.701, + "Actual Total Time": 6.707, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 316.63, + "Total Cost": 471.14, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 11.661, + "Actual Total Time": 11.818, + "Actual Rows": 5, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.311, + "Actual Total Time": 13.320, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.199, + "Actual Total Time": 8.242, + "Actual Rows": 38, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.159, + "Actual Total Time": 13.170, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.387, + "Actual Total Time": 13.398, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.324, + "Actual Total Time": 13.332, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.700, + "Actual Total Time": 6.705, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 316.20, + "Total Cost": 430.52, + "Plan Rows": 50, + "Plan Width": 20, + "Actual Startup Time": 9.969, + "Actual Total Time": 11.422, + "Actual Rows": 27, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.310, + "Actual Total Time": 13.318, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.490, + "Actual Total Time": 6.842, + "Actual Rows": 94, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.158, + "Actual Total Time": 13.168, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.386, + "Actual Total Time": 13.396, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.323, + "Actual Total Time": 13.330, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.688, + "Actual Total Time": 6.615, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 315.16, + "Total Cost": 428.40, + "Plan Rows": 200, + "Plan Width": 24, + "Actual Startup Time": 9.182, + "Actual Total Time": 10.624, + "Actual Rows": 37, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.237, + "Actual Total Time": 12.243, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.986, + "Actual Total Time": 6.242, + "Actual Rows": 128, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.201, + "Actual Total Time": 12.209, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.436, + "Actual Total Time": 12.443, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.250, + "Actual Total Time": 12.255, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.163, + "Actual Total Time": 6.179, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Merge Join", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 314.12, + "Total Cost": 425.19, + "Plan Rows": 401, + "Plan Width": 28, + "Actual Startup Time": 9.160, + "Actual Total Time": 10.563, + "Actual Rows": 37, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Merge Cond": "(cc.movie_id = ml.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.222, + "Actual Total Time": 12.226, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.967, + "Actual Total Time": 6.072, + "Actual Rows": 128, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.186, + "Actual Total Time": 12.191, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.421, + "Actual Total Time": 12.425, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.237, + "Actual Total Time": 12.240, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.144, + "Actual Total Time": 6.154, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 2187.57, + "Plan Rows": 22514, + "Plan Width": 12, + "Actual Startup Time": 0.081, + "Actual Total Time": 1.152, + "Actual Rows": 857, + "Actual Loops": 7, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.101, + "Actual Total Time": 0.101, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.549, + "Actual Rows": 353, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.111, + "Actual Total Time": 0.112, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.090, + "Actual Total Time": 0.091, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.139, + "Actual Total Time": 0.140, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.615, + "Actual Rows": 358, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Sort", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 313.68, + "Total Cost": 317.85, + "Plan Rows": 1666, + "Plan Width": 16, + "Actual Startup Time": 7.735, + "Actual Total Time": 8.229, + "Actual Rows": 2319, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id"], + "Sort Key": ["ml.movie_id"], + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.199, + "Actual Total Time": 10.849, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.440, + "Actual Total Time": 4.759, + "Actual Rows": 2335, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.141, + "Actual Total Time": 10.800, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.378, + "Actual Total Time": 11.031, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.163, + "Actual Total Time": 10.814, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.636, + "Actual Total Time": 4.905, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 18.12, + "Total Cost": 224.53, + "Plan Rows": 1666, + "Plan Width": 16, + "Actual Startup Time": 0.495, + "Actual Total Time": 5.075, + "Actual Rows": 2315, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.652, + "Actual Total Time": 6.604, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.295, + "Actual Total Time": 2.949, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.651, + "Actual Total Time": 6.539, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.669, + "Actual Total Time": 6.807, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.644, + "Actual Total Time": 6.592, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.286, + "Actual Total Time": 3.121, + "Actual Rows": 2315, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.23, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.075, + "Actual Rows": 2, + "Actual Loops": 7, + "Output": ["lt.id", "lt.link"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.091, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.051, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.100, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.113, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.085, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.052, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Bitmap Heap Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 18.12, + "Total Cost": 204.56, + "Plan Rows": 1875, + "Plan Width": 8, + "Actual Startup Time": 0.404, + "Actual Total Time": 1.852, + "Actual Rows": 1158, + "Actual Loops": 14, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Recheck Cond": "(ml.link_type_id = lt.id)", + "Rows Removed by Index Recheck": 0, + "Exact Heap Blocks": 191, + "Lossy Heap Blocks": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.545, + "Actual Total Time": 2.383, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.228, + "Actual Total Time": 1.087, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.528, + "Actual Total Time": 2.347, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.536, + "Actual Total Time": 2.473, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.545, + "Actual Total Time": 2.396, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.230, + "Actual Total Time": 1.165, + "Actual Rows": 1158, + "Actual Loops": 2 + } + ], + "Plans": [ + { + "Node Type": "Bitmap Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Index Name": "link_type_id_movie_link", + "Startup Cost": 0.00, + "Total Cost": 17.65, + "Plan Rows": 1875, + "Plan Width": 0, + "Actual Startup Time": 0.328, + "Actual Total Time": 0.328, + "Actual Rows": 1158, + "Actual Loops": 14, + "Index Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.444, + "Actual Total Time": 0.444, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.186, + "Actual Total Time": 0.187, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.431, + "Actual Total Time": 0.431, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.432, + "Actual Total Time": 0.432, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.444, + "Actual Total Time": 0.444, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.185, + "Actual Total Time": 0.185, + "Actual Rows": 1158, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 7, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = ANY ('{cast,crew}'::text[]))", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 7, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.066, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.077, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text = 'complete'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.80, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 189, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year = 1998)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 94 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.087, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.71, + "Plan Rows": 2, + "Plan Width": 12, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.015, + "Actual Rows": 5, + "Actual Loops": 38, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.015, + "Actual Rows": 5, + "Actual Loops": 38 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 190, + "Output": ["ct.id", "ct.kind"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 190 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 190, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 190 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 95, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Germany,Swedish,German}'::text[]))", + "Rows Removed by Filter": 10, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 95 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.99, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.011, + "Actual Rows": 8, + "Actual Loops": 247, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.011, + "Actual Rows": 8, + "Actual Loops": 247 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 1919, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 1919 + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2103229838344518222, + "Planning Time": 279.400, + "Triggers": [ + ], + "Execution Time": 47.479, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 2103229838344518222, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS complete_western_sequel
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE 'complete%'
  AND cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'English')
  AND t.production_year BETWEEN 1950 AND 2010
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND t.id = cc.movie_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id
  AND ml.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = cc.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 514.74, + "Total Cost": 514.75, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 87.059, + "Actual Total Time": 87.404, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 319.93, + "Total Cost": 514.74, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 11.176, + "Actual Total Time": 86.777, + "Actual Rows": 743, + "Actual Loops": 1, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 319.47, + "Total Cost": 513.73, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 11.113, + "Actual Total Time": 81.629, + "Actual Rows": 172, + "Actual Loops": 1, + "Output": ["cn.name", "ml.movie_id", "lt.link", "cc.movie_id", "t.title", "t.id", "mc.movie_id", "mk.movie_id"], + "Workers Planned": 6, + "Workers Launched": 6, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 318.47, + "Total Cost": 512.73, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 17.883, + "Actual Total Time": 21.394, + "Actual Rows": 25, + "Actual Loops": 7, + "Output": ["cn.name", "ml.movie_id", "lt.link", "cc.movie_id", "t.title", "t.id", "mc.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.216, + "Actual Total Time": 9.226, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.318, + "Actual Total Time": 17.330, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 49.654, + "Actual Total Time": 65.638, + "Actual Rows": 171, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.550, + "Actual Total Time": 10.565, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.482, + "Actual Total Time": 14.489, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.881, + "Actual Total Time": 13.897, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 318.05, + "Total Cost": 481.88, + "Plan Rows": 70, + "Plan Width": 72, + "Actual Startup Time": 11.598, + "Actual Total Time": 16.180, + "Actual Rows": 471, + "Actual Loops": 7, + "Output": ["cn.name", "ml.movie_id", "lt.link", "cc.movie_id", "t.title", "t.id", "mc.movie_id", "mk.movie_id", "mk.keyword_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.633, + "Actual Total Time": 9.113, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.317, + "Actual Total Time": 17.328, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.799, + "Actual Total Time": 30.669, + "Actual Rows": 3188, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.549, + "Actual Total Time": 10.562, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.481, + "Actual Total Time": 14.487, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.879, + "Actual Total Time": 13.894, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 317.62, + "Total Cost": 479.18, + "Plan Rows": 2, + "Plan Width": 64, + "Actual Startup Time": 11.546, + "Actual Total Time": 15.072, + "Actual Rows": 40, + "Actual Loops": 7, + "Output": ["cn.name", "ml.movie_id", "lt.link", "cc.movie_id", "t.title", "t.id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.560, + "Actual Total Time": 9.022, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.316, + "Actual Total Time": 17.326, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.641, + "Actual Total Time": 23.484, + "Actual Rows": 266, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.548, + "Actual Total Time": 10.561, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.480, + "Actual Total Time": 14.486, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.879, + "Actual Total Time": 13.892, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 317.48, + "Total Cost": 478.54, + "Plan Rows": 9, + "Plan Width": 68, + "Actual Startup Time": 11.279, + "Actual Total Time": 14.956, + "Actual Rows": 43, + "Actual Loops": 7, + "Output": ["cn.name", "ml.movie_id", "lt.link", "cc.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_type_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.514, + "Actual Total Time": 8.969, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.315, + "Actual Total Time": 17.324, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.556, + "Actual Total Time": 22.924, + "Actual Rows": 285, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.547, + "Actual Total Time": 10.558, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.783, + "Actual Total Time": 14.388, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.878, + "Actual Total Time": 13.890, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 317.06, + "Total Cost": 460.61, + "Plan Rows": 40, + "Plan Width": 53, + "Actual Startup Time": 9.980, + "Actual Total Time": 13.384, + "Actual Rows": 123, + "Actual Loops": 7, + "Output": ["ml.movie_id", "lt.link", "cc.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.353, + "Actual Total Time": 8.379, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.552, + "Actual Total Time": 15.789, + "Actual Rows": 64, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.773, + "Actual Total Time": 16.709, + "Actual Rows": 658, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.802, + "Actual Total Time": 10.434, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.945, + "Actual Total Time": 13.619, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.877, + "Actual Total Time": 13.888, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 316.63, + "Total Cost": 450.35, + "Plan Rows": 19, + "Plan Width": 41, + "Actual Startup Time": 9.844, + "Actual Total Time": 12.432, + "Actual Rows": 33, + "Actual Loops": 7, + "Output": ["ml.movie_id", "lt.link", "cc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.253, + "Actual Total Time": 7.776, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.414, + "Actual Total Time": 14.537, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.543, + "Actual Total Time": 14.057, + "Actual Rows": 105, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.540, + "Actual Total Time": 10.248, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.785, + "Actual Total Time": 13.075, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.875, + "Actual Total Time": 13.886, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 316.20, + "Total Cost": 429.98, + "Plan Rows": 25, + "Plan Width": 20, + "Actual Startup Time": 9.721, + "Actual Total Time": 11.719, + "Actual Rows": 33, + "Actual Loops": 7, + "Output": ["ml.movie_id", "lt.link", "cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.133, + "Actual Total Time": 7.275, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.282, + "Actual Total Time": 13.406, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.415, + "Actual Total Time": 12.582, + "Actual Rows": 105, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.348, + "Actual Total Time": 9.919, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.540, + "Actual Total Time": 12.561, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.875, + "Actual Total Time": 13.884, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 315.16, + "Total Cost": 428.40, + "Plan Rows": 100, + "Plan Width": 24, + "Actual Startup Time": 9.358, + "Actual Total Time": 11.321, + "Actual Rows": 37, + "Actual Loops": 7, + "Output": ["ml.movie_id", "lt.link", "cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.934, + "Actual Total Time": 7.057, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.874, + "Actual Total Time": 12.944, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.987, + "Actual Total Time": 12.057, + "Actual Rows": 128, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.027, + "Actual Total Time": 9.592, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.110, + "Actual Total Time": 12.116, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.466, + "Actual Total Time": 13.473, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Merge Join", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 314.12, + "Total Cost": 425.19, + "Plan Rows": 401, + "Plan Width": 28, + "Actual Startup Time": 9.327, + "Actual Total Time": 11.236, + "Actual Rows": 37, + "Actual Loops": 7, + "Output": ["ml.movie_id", "lt.link", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Merge Cond": "(cc.movie_id = ml.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.914, + "Actual Total Time": 7.010, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.843, + "Actual Total Time": 12.833, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.954, + "Actual Total Time": 11.874, + "Actual Rows": 128, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.996, + "Actual Total Time": 9.549, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.072, + "Actual Total Time": 12.054, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.452, + "Actual Total Time": 13.456, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 2187.57, + "Plan Rows": 22514, + "Plan Width": 12, + "Actual Startup Time": 0.089, + "Actual Total Time": 1.664, + "Actual Rows": 857, + "Actual Loops": 7, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.042, + "Actual Total Time": 1.339, + "Actual Rows": 876, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.962, + "Actual Rows": 314, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.084, + "Actual Total Time": 0.579, + "Actual Rows": 353, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.103, + "Actual Total Time": 0.878, + "Actual Rows": 289, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.158, + "Actual Total Time": 0.770, + "Actual Rows": 386, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.104, + "Actual Total Time": 1.290, + "Actual Rows": 316, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Sort", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 313.68, + "Total Cost": 317.85, + "Plan Rows": 1666, + "Plan Width": 16, + "Actual Startup Time": 7.952, + "Actual Total Time": 8.423, + "Actual Rows": 2319, + "Actual Loops": 7, + "Output": ["ml.movie_id", "lt.link"], + "Sort Key": ["ml.movie_id"], + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.651, + "Actual Total Time": 4.929, + "Actual Rows": 2316, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.809, + "Actual Total Time": 10.470, + "Actual Rows": 2316, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.815, + "Actual Total Time": 10.291, + "Actual Rows": 2335, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.156, + "Actual Total Time": 7.636, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.028, + "Actual Total Time": 10.428, + "Actual Rows": 2317, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.087, + "Actual Total Time": 10.748, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 18.12, + "Total Cost": 224.53, + "Plan Rows": 1666, + "Plan Width": 16, + "Actual Startup Time": 0.544, + "Actual Total Time": 5.352, + "Actual Rows": 2315, + "Actual Loops": 7, + "Output": ["ml.movie_id", "lt.link"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.341, + "Actual Total Time": 3.214, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.697, + "Actual Total Time": 6.534, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.710, + "Actual Total Time": 6.503, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.514, + "Actual Total Time": 4.858, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.658, + "Actual Total Time": 6.747, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.673, + "Actual Total Time": 6.774, + "Actual Rows": 2315, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.23, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.089, + "Actual Rows": 2, + "Actual Loops": 7, + "Output": ["lt.id", "lt.link"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.060, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.103, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.100, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.090, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.118, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.088, + "Actual Total Time": 0.119, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Bitmap Heap Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 18.12, + "Total Cost": 204.56, + "Plan Rows": 1875, + "Plan Width": 8, + "Actual Startup Time": 0.438, + "Actual Total Time": 1.956, + "Actual Rows": 1158, + "Actual Loops": 14, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Recheck Cond": "(ml.link_type_id = lt.id)", + "Rows Removed by Index Recheck": 0, + "Exact Heap Blocks": 191, + "Lossy Heap Blocks": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.261, + "Actual Total Time": 1.210, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.554, + "Actual Total Time": 2.357, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.561, + "Actual Total Time": 2.345, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.402, + "Actual Total Time": 1.776, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.536, + "Actual Total Time": 2.457, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.540, + "Actual Total Time": 2.470, + "Actual Rows": 1158, + "Actual Loops": 2 + } + ], + "Plans": [ + { + "Node Type": "Bitmap Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Index Name": "link_type_id_movie_link", + "Startup Cost": 0.00, + "Total Cost": 17.65, + "Plan Rows": 1875, + "Plan Width": 0, + "Actual Startup Time": 0.359, + "Actual Total Time": 0.359, + "Actual Rows": 1158, + "Actual Loops": 14, + "Index Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.210, + "Actual Total Time": 0.210, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.461, + "Actual Total Time": 0.461, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.467, + "Actual Total Time": 0.468, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.328, + "Actual Total Time": 0.328, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.437, + "Actual Total Time": 0.437, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.442, + "Actual Total Time": 0.442, + "Actual Rows": 1158, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 7, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text ~~ 'complete%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 7, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.80, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 228, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 20 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 41 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 105 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.102, + "Actual Total Time": 0.102, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.068, + "Actual Rows": 1, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 2, + "Plan Width": 12, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.026, + "Actual Rows": 4, + "Actual Loops": 228, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 3, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 20 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.027, + "Actual Rows": 2, + "Actual Loops": 41 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.022, + "Actual Rows": 6, + "Actual Loops": 105 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.072, + "Actual Rows": 2, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 864, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 23 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 64 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 658 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.120, + "Actual Total Time": 0.120, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 15 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 298, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 8, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 285, + "Cache Hits": 283, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.093, + "Actual Total Time": 0.093, + "Actual Rows": 0, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.085, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.020, + "Actual Rows": 12, + "Actual Loops": 277, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 2, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.019, + "Actual Rows": 12, + "Actual Loops": 266 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 3296, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 3188 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.46, + "Total Cost": 1.00, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.027, + "Actual Rows": 4, + "Actual Loops": 172, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,English}'::text[]))", + "Rows Removed by Filter": 15 + } + ] + } + ] + }, + "Query Identifier": -1723239386245354632, + "Planning Time": 293.019, + "Triggers": [ + ], + "Execution Time": 88.165, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -1723239386245354632, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_euro_dark_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'crew'
  AND cct2.kind != 'complete+verified'
  AND cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1407.93, + "Total Cost": 1407.94, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 4364.457, + "Actual Total Time": 4388.826, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1407.87, + "Total Cost": 1407.88, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 3332.833, + "Actual Total Time": 4388.780, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1406.87, + "Total Cost": 1406.88, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 1476.750, + "Actual Total Time": 1476.760, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.501, + "Actual Total Time": 15.511, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4052.000, + "Actual Total Time": 4052.007, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4347.390, + "Actual Total Time": 4347.397, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.742, + "Actual Total Time": 15.752, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.561, + "Actual Total Time": 15.571, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.660, + "Actual Total Time": 18.669, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.583, + "Actual Total Time": 17.592, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.73, + "Total Cost": 1406.86, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 15.049, + "Actual Total Time": 1476.249, + "Actual Rows": 600, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.496, + "Actual Total Time": 15.505, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.861, + "Actual Total Time": 4050.568, + "Actual Rows": 1637, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.764, + "Actual Total Time": 4345.738, + "Actual Rows": 2037, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.737, + "Actual Total Time": 15.747, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.556, + "Actual Total Time": 15.566, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.654, + "Actual Total Time": 18.663, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.577, + "Actual Total Time": 17.587, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.60, + "Total Cost": 1406.70, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 15.043, + "Actual Total Time": 1473.902, + "Actual Rows": 770, + "Actual Loops": 8, + "Output": ["cn.name", "t.title", "mi_idx.info", "cc.status_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.495, + "Actual Total Time": 15.504, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.847, + "Actual Total Time": 4044.304, + "Actual Rows": 2045, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.748, + "Actual Total Time": 4337.853, + "Actual Rows": 2607, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.736, + "Actual Total Time": 15.745, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.555, + "Actual Total Time": 15.565, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.654, + "Actual Total Time": 18.662, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.576, + "Actual Total Time": 17.585, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.47, + "Total Cost": 1406.53, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 12.851, + "Actual Total Time": 1456.195, + "Actual Rows": 5129, + "Actual Loops": 8, + "Output": ["cn.name", "t.title", "mi_idx.info", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.495, + "Actual Total Time": 15.503, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.799, + "Actual Total Time": 3995.392, + "Actual Rows": 14148, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.295, + "Actual Total Time": 4285.061, + "Actual Rows": 15436, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.735, + "Actual Total Time": 15.744, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.555, + "Actual Total Time": 15.564, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.653, + "Actual Total Time": 18.660, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.575, + "Actual Total Time": 17.584, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.05, + "Total Cost": 1406.08, + "Plan Rows": 1, + "Plan Width": 61, + "Actual Startup Time": 11.976, + "Actual Total Time": 1418.851, + "Actual Rows": 5638, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "t.title", "t.id", "mc.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.494, + "Actual Total Time": 15.502, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.904, + "Actual Total Time": 3890.850, + "Actual Rows": 15783, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.234, + "Actual Total Time": 4173.962, + "Actual Rows": 16827, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.735, + "Actual Total Time": 15.742, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.554, + "Actual Total Time": 15.562, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.652, + "Actual Total Time": 18.659, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.574, + "Actual Total Time": 17.583, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.92, + "Total Cost": 1405.93, + "Plan Rows": 1, + "Plan Width": 65, + "Actual Startup Time": 11.957, + "Actual Total Time": 1403.705, + "Actual Rows": 5638, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_type_id", "mi_idx.info", "mi_idx.movie_id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.494, + "Actual Total Time": 15.501, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.845, + "Actual Total Time": 3848.345, + "Actual Rows": 15783, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.172, + "Actual Total Time": 4129.068, + "Actual Rows": 16827, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.734, + "Actual Total Time": 15.741, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.553, + "Actual Total Time": 15.561, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.651, + "Actual Total Time": 18.658, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.574, + "Actual Total Time": 17.581, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.78, + "Total Cost": 1405.75, + "Plan Rows": 1, + "Plan Width": 69, + "Actual Startup Time": 11.948, + "Actual Total Time": 1378.385, + "Actual Rows": 6504, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_type_id", "mi_idx.info", "mi_idx.movie_id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.493, + "Actual Total Time": 15.500, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.826, + "Actual Total Time": 3777.765, + "Actual Rows": 18126, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.151, + "Actual Total Time": 4053.594, + "Actual Rows": 19539, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.733, + "Actual Total Time": 15.739, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.553, + "Actual Total Time": 15.560, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.650, + "Actual Total Time": 18.657, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.573, + "Actual Total Time": 17.580, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.35, + "Total Cost": 1404.59, + "Plan Rows": 1, + "Plan Width": 61, + "Actual Startup Time": 11.647, + "Actual Total Time": 301.523, + "Actual Rows": 6071, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_type_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.493, + "Actual Total Time": 15.499, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.668, + "Actual Total Time": 768.848, + "Actual Rows": 17170, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.972, + "Actual Total Time": 932.178, + "Actual Rows": 18203, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.732, + "Actual Total Time": 15.738, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.552, + "Actual Total Time": 15.559, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.650, + "Actual Total Time": 18.656, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.572, + "Actual Total Time": 17.578, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.20, + "Total Cost": 1404.41, + "Plan Rows": 1, + "Plan Width": 65, + "Actual Startup Time": 11.536, + "Actual Total Time": 236.951, + "Actual Rows": 18177, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_type_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.492, + "Actual Total Time": 15.498, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.604, + "Actual Total Time": 584.749, + "Actual Rows": 51449, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.905, + "Actual Total Time": 740.844, + "Actual Rows": 54343, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.732, + "Actual Total Time": 15.737, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.552, + "Actual Total Time": 15.558, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.649, + "Actual Total Time": 18.654, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.572, + "Actual Total Time": 17.577, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.78, + "Total Cost": 1403.88, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 11.503, + "Actual Total Time": 175.587, + "Actual Rows": 6177, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_type_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.492, + "Actual Total Time": 15.497, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.499, + "Actual Total Time": 410.331, + "Actual Rows": 17456, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.799, + "Actual Total Time": 558.599, + "Actual Rows": 18546, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.731, + "Actual Total Time": 15.736, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.551, + "Actual Total Time": 15.557, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.648, + "Actual Total Time": 18.653, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.571, + "Actual Total Time": 17.576, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.36, + "Total Cost": 1403.41, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 11.475, + "Actual Total Time": 118.126, + "Actual Rows": 6557, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.490, + "Actual Total Time": 15.495, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.412, + "Actual Total Time": 247.043, + "Actual Rows": 18555, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.714, + "Actual Total Time": 388.641, + "Actual Rows": 19722, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.730, + "Actual Total Time": 15.734, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.551, + "Actual Total Time": 15.555, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.648, + "Actual Total Time": 18.652, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.570, + "Actual Total Time": 17.574, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 1401.80, + "Plan Rows": 3, + "Plan Width": 25, + "Actual Startup Time": 11.089, + "Actual Total Time": 76.597, + "Actual Rows": 1461, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.490, + "Actual Total Time": 15.494, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.814, + "Actual Total Time": 137.529, + "Actual Rows": 3582, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.280, + "Actual Total Time": 259.631, + "Actual Rows": 5303, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.729, + "Actual Total Time": 15.733, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.550, + "Actual Total Time": 15.553, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.647, + "Actual Total Time": 18.650, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.569, + "Actual Total Time": 17.573, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1400.68, + "Plan Rows": 11, + "Plan Width": 29, + "Actual Startup Time": 10.649, + "Actual Total Time": 74.509, + "Actual Rows": 1846, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.203, + "Actual Total Time": 15.205, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.335, + "Actual Total Time": 132.775, + "Actual Rows": 4536, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.631, + "Actual Total Time": 253.587, + "Actual Rows": 6535, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.372, + "Actual Total Time": 15.374, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.266, + "Actual Total Time": 15.268, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.317, + "Actual Total Time": 18.318, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.889, + "Actual Total Time": 16.891, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1391.93, + "Plan Rows": 19, + "Plan Width": 4, + "Actual Startup Time": 10.622, + "Actual Total Time": 28.040, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.202, + "Actual Total Time": 15.203, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.262, + "Actual Total Time": 40.598, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.537, + "Actual Total Time": 68.052, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.371, + "Actual Total Time": 15.373, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.266, + "Actual Total Time": 15.267, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.316, + "Actual Total Time": 18.317, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.887, + "Actual Total Time": 16.889, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 10.571, + "Actual Total Time": 10.577, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.201, + "Actual Total Time": 15.202, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.116, + "Actual Total Time": 0.125, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.391, + "Actual Total Time": 0.396, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.371, + "Actual Total Time": 15.371, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.265, + "Actual Total Time": 15.265, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.315, + "Actual Total Time": 18.315, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.886, + "Actual Total Time": 16.886, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.05, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.128, + "Actual Total Time": 43.471, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.143, + "Actual Total Time": 38.194, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.142, + "Actual Total Time": 63.045, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 8337 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.072, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.033, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.026, + "Actual Rows": 4, + "Actual Loops": 11686, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 6, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.028, + "Actual Rows": 5, + "Actual Loops": 3582 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.022, + "Actual Rows": 4, + "Actual Loops": 5303 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 52456, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 18555 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 19722 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 3, + "Actual Loops": 49419, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 3, + "Actual Loops": 17456 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 3, + "Actual Loops": 18546 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 145413, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 51449 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 54343 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.084, + "Actual Total Time": 0.176, + "Actual Rows": 1, + "Actual Loops": 48571, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 198, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.174, + "Actual Rows": 1, + "Actual Loops": 17170 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.171, + "Actual Rows": 1, + "Actual Loops": 18203 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 52033, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 18126 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 19539 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 45102, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 15783 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 16827 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 45102, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 15783 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 16827 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 41034, + "Output": ["cct1.id", "cct1.kind"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'crew'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 14148 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 15436 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 6156, + "Output": ["cct2.id", "cct2.kind"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text <> 'complete+verified'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 2045 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 2607 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1573023350148659030, + "Planning Time": 361.224, + "Triggers": [ + ], + "Execution Time": 4389.603, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -1573023350148659030, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_euro_dark_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'crew'
  AND cct2.kind != 'complete+verified'
  AND cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Sweden',
                  'Germany',
                  'Swedish',
                  'German')
  AND mi_idx.info > '6.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1407.54, + "Total Cost": 1407.55, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 805.667, + "Actual Total Time": 825.970, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1407.48, + "Total Cost": 1407.49, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 547.215, + "Actual Total Time": 825.937, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1406.48, + "Total Cost": 1406.49, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 256.017, + "Actual Total Time": 256.027, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.464, + "Actual Total Time": 28.475, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 565.670, + "Actual Total Time": 565.675, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 789.095, + "Actual Total Time": 789.100, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.144, + "Actual Total Time": 30.159, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.464, + "Actual Total Time": 28.475, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.190, + "Actual Total Time": 30.199, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.937, + "Actual Total Time": 29.950, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.83, + "Total Cost": 1406.47, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 80.228, + "Actual Total Time": 255.997, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.458, + "Actual Total Time": 28.468, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.721, + "Actual Total Time": 565.579, + "Actual Rows": 74, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 475.081, + "Actual Total Time": 789.034, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.138, + "Actual Total Time": 30.152, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.460, + "Actual Total Time": 28.471, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.183, + "Actual Total Time": 30.192, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.929, + "Actual Total Time": 29.941, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.70, + "Total Cost": 1406.31, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 56.233, + "Actual Total Time": 255.905, + "Actual Rows": 20, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title", "t.kind_id"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.457, + "Actual Total Time": 28.466, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.688, + "Actual Total Time": 565.230, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 283.181, + "Actual Total Time": 788.810, + "Actual Rows": 49, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.137, + "Actual Total Time": 30.150, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.459, + "Actual Total Time": 28.469, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.183, + "Actual Total Time": 30.191, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.928, + "Actual Total Time": 29.939, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.27, + "Total Cost": 1405.84, + "Plan Rows": 1, + "Plan Width": 44, + "Actual Startup Time": 26.813, + "Actual Total Time": 254.734, + "Actual Rows": 154, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "cc.movie_id", "mc.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.456, + "Actual Total Time": 28.464, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.633, + "Actual Total Time": 562.104, + "Actual Rows": 421, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 47.927, + "Actual Total Time": 785.257, + "Actual Rows": 474, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.136, + "Actual Total Time": 30.148, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.458, + "Actual Total Time": 28.468, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.182, + "Actual Total Time": 30.190, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.927, + "Actual Total Time": 29.938, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.13, + "Total Cost": 1405.65, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 26.804, + "Actual Total Time": 253.575, + "Actual Rows": 278, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "cc.movie_id", "mc.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.455, + "Actual Total Time": 28.463, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.615, + "Actual Total Time": 559.061, + "Actual Rows": 740, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 47.903, + "Actual Total Time": 781.868, + "Actual Rows": 820, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.135, + "Actual Total Time": 30.146, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.458, + "Actual Total Time": 28.466, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.181, + "Actual Total Time": 30.188, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.926, + "Actual Total Time": 29.936, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.69, + "Total Cost": 1404.67, + "Plan Rows": 1, + "Plan Width": 40, + "Actual Startup Time": 19.526, + "Actual Total Time": 106.328, + "Actual Rows": 797, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "cc.movie_id", "mc.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.455, + "Actual Total Time": 28.462, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.309, + "Actual Total Time": 177.054, + "Actual Rows": 2020, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.871, + "Actual Total Time": 339.331, + "Actual Rows": 2629, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.134, + "Actual Total Time": 30.145, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.457, + "Actual Total Time": 28.464, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.180, + "Actual Total Time": 30.187, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.926, + "Actual Total Time": 29.934, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.54, + "Total Cost": 1404.49, + "Plan Rows": 1, + "Plan Width": 44, + "Actual Startup Time": 19.501, + "Actual Total Time": 105.090, + "Actual Rows": 1012, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "cc.movie_id", "mc.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.454, + "Actual Total Time": 28.460, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.255, + "Actual Total Time": 173.997, + "Actual Rows": 2533, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.774, + "Actual Total Time": 335.172, + "Actual Rows": 3383, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.134, + "Actual Total Time": 30.143, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.457, + "Actual Total Time": 28.463, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.180, + "Actual Total Time": 30.185, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.925, + "Actual Total Time": 29.932, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.11, + "Total Cost": 1403.99, + "Plan Rows": 1, + "Plan Width": 31, + "Actual Startup Time": 19.475, + "Actual Total Time": 93.504, + "Actual Rows": 1161, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "cc.movie_id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.453, + "Actual Total Time": 28.459, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.201, + "Actual Total Time": 145.677, + "Actual Rows": 2895, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.663, + "Actual Total Time": 296.704, + "Actual Rows": 3882, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.133, + "Actual Total Time": 30.141, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.456, + "Actual Total Time": 28.462, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.179, + "Actual Total Time": 30.184, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.924, + "Actual Total Time": 29.931, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.69, + "Total Cost": 1403.52, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 19.449, + "Actual Total Time": 82.637, + "Actual Rows": 1238, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "mc.movie_id", "mc.company_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.453, + "Actual Total Time": 28.458, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.148, + "Actual Total Time": 119.417, + "Actual Rows": 2993, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.537, + "Actual Total Time": 260.001, + "Actual Rows": 4259, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.132, + "Actual Total Time": 30.140, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.455, + "Actual Total Time": 28.460, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.178, + "Actual Total Time": 30.183, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.923, + "Actual Total Time": 29.929, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.56, + "Total Cost": 1403.36, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 19.425, + "Actual Total Time": 78.951, + "Actual Rows": 1238, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.452, + "Actual Total Time": 28.456, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.101, + "Actual Total Time": 110.569, + "Actual Rows": 2993, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.419, + "Actual Total Time": 247.287, + "Actual Rows": 4259, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.131, + "Actual Total Time": 30.138, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.454, + "Actual Total Time": 28.459, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.177, + "Actual Total Time": 30.181, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.922, + "Actual Total Time": 29.928, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.13, + "Total Cost": 1401.75, + "Plan Rows": 3, + "Plan Width": 8, + "Actual Startup Time": 19.157, + "Actual Total Time": 65.876, + "Actual Rows": 479, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.451, + "Actual Total Time": 28.455, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.026, + "Actual Total Time": 88.584, + "Actual Rows": 666, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.405, + "Actual Total Time": 191.352, + "Actual Rows": 2320, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.130, + "Actual Total Time": 30.136, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.453, + "Actual Total Time": 28.457, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.177, + "Actual Total Time": 30.180, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.921, + "Actual Total Time": 29.926, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.99, + "Total Cost": 1401.30, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 19.147, + "Actual Total Time": 65.241, + "Actual Rows": 777, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.451, + "Actual Total Time": 28.453, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.008, + "Actual Total Time": 87.668, + "Actual Rows": 1062, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.375, + "Actual Total Time": 188.385, + "Actual Rows": 3740, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.129, + "Actual Total Time": 30.133, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.453, + "Actual Total Time": 28.455, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.176, + "Actual Total Time": 30.178, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.920, + "Actual Total Time": 29.924, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 1400.44, + "Plan Rows": 17, + "Plan Width": 16, + "Actual Startup Time": 18.968, + "Actual Total Time": 62.823, + "Actual Rows": 2503, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.450, + "Actual Total Time": 28.451, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.547, + "Actual Total Time": 83.710, + "Actual Rows": 4009, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.947, + "Actual Total Time": 177.651, + "Actual Rows": 11230, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.129, + "Actual Total Time": 30.131, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.452, + "Actual Total Time": 28.453, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.175, + "Actual Total Time": 30.177, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.920, + "Actual Total Time": 29.922, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1391.93, + "Plan Rows": 19, + "Plan Width": 4, + "Actual Startup Time": 18.789, + "Actual Total Time": 33.684, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.449, + "Actual Total Time": 28.450, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.199, + "Actual Total Time": 30.758, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.592, + "Actual Total Time": 56.391, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.127, + "Actual Total Time": 30.129, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.451, + "Actual Total Time": 28.452, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.174, + "Actual Total Time": 30.175, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.919, + "Actual Total Time": 29.920, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 18.737, + "Actual Total Time": 18.744, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.448, + "Actual Total Time": 28.448, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.099, + "Actual Total Time": 0.109, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.401, + "Actual Total Time": 0.406, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.127, + "Actual Total Time": 30.127, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.450, + "Actual Total Time": 28.450, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.174, + "Actual Total Time": 30.174, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.917, + "Actual Total Time": 29.918, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.05, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.128, + "Actual Total Time": 36.949, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.097, + "Actual Total Time": 28.706, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.185, + "Actual Total Time": 51.500, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 37091, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 20024, + "Output": ["cct1.id"], + "Cache Key": "cc.subject_id", + "Cache Mode": "logical", + "Cache Hits": 4783, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4009, + "Cache Hits": 4007, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 11230, + "Cache Hits": 11228, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["cct1.id"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'crew'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 1, + "Actual Loops": 6216, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 1412, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 1, + "Actual Loops": 1062, + "Cache Hits": 1060, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 1, + "Actual Loops": 3740, + "Cache Hits": 3738, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text <> 'complete+verified'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.026, + "Actual Rows": 3, + "Actual Loops": 3832, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 9, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.031, + "Actual Rows": 4, + "Actual Loops": 666 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.023, + "Actual Rows": 2, + "Actual Loops": 2320 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 9908, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 2993 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 4259 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 9908, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 2993 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 4259 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 9291, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '6.5'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 2895 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 3882 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 8097, + "Output": ["it2.id"], + "Cache Key": "mi_idx.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 2177, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 2533, + "Cache Hits": 2529, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 3383, + "Cache Hits": 3379, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 12, + "Output": ["it2.id"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 4 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.156, + "Actual Total Time": 0.184, + "Actual Rows": 0, + "Actual Loops": 6376, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Germany,Swedish,German}'::text[]))", + "Rows Removed by Filter": 254, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.164, + "Actual Total Time": 0.188, + "Actual Rows": 0, + "Actual Loops": 2020 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.139, + "Actual Total Time": 0.168, + "Actual Rows": 0, + "Actual Loops": 2629 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 2225, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 740 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 820 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 1233, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 421 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 474 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 161, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 78 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 49 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -3210595597316270705, + "Planning Time": 303.608, + "Triggers": [ + ], + "Execution Time": 826.707, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -3210595597316270705, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_euro_dark_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind = 'complete'
  AND cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1409.77, + "Total Cost": 1409.78, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 2260.169, + "Actual Total Time": 2283.573, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1409.70, + "Total Cost": 1409.71, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 1778.971, + "Actual Total Time": 2283.535, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1408.70, + "Total Cost": 1408.71, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 773.020, + "Actual Total Time": 773.030, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.803, + "Actual Total Time": 29.815, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2005.522, + "Actual Total Time": 2005.528, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.356, + "Actual Total Time": 31.364, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.770, + "Actual Total Time": 31.780, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2244.283, + "Actual Total Time": 2244.289, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.772, + "Actual Total Time": 31.780, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.771, + "Actual Total Time": 31.782, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.80, + "Total Cost": 1408.70, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 30.909, + "Actual Total Time": 772.214, + "Actual Rows": 1047, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.796, + "Actual Total Time": 29.806, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.465, + "Actual Total Time": 2003.192, + "Actual Rows": 2983, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.350, + "Actual Total Time": 31.358, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.761, + "Actual Total Time": 31.771, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 50.259, + "Actual Total Time": 2242.142, + "Actual Rows": 2848, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.766, + "Actual Total Time": 31.774, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.765, + "Actual Total Time": 31.775, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.66, + "Total Cost": 1408.51, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 30.144, + "Actual Total Time": 761.589, + "Actual Rows": 3106, + "Actual Loops": 8, + "Output": ["cn.name", "t.title", "mi_idx.info", "mi_idx.info_type_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.795, + "Actual Total Time": 29.804, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.137, + "Actual Total Time": 1972.686, + "Actual Rows": 8843, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.349, + "Actual Total Time": 31.357, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.760, + "Actual Total Time": 31.769, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.515, + "Actual Total Time": 2213.708, + "Actual Rows": 8431, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.765, + "Actual Total Time": 31.772, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.763, + "Actual Total Time": 31.773, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.53, + "Total Cost": 1408.34, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 30.138, + "Actual Total Time": 743.309, + "Actual Rows": 5702, + "Actual Loops": 8, + "Output": ["cn.name", "t.title", "cc.status_id", "mi_idx.info", "mi_idx.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.794, + "Actual Total Time": 29.803, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.122, + "Actual Total Time": 1920.474, + "Actual Rows": 16180, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.348, + "Actual Total Time": 31.356, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.760, + "Actual Total Time": 31.768, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.502, + "Actual Total Time": 2163.603, + "Actual Rows": 15881, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.764, + "Actual Total Time": 31.771, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.762, + "Actual Total Time": 31.771, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.10, + "Total Cost": 1407.81, + "Plan Rows": 1, + "Plan Width": 60, + "Actual Startup Time": 30.124, + "Actual Total Time": 724.235, + "Actual Rows": 1924, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "mc.movie_id", "t.title", "t.id", "cc.movie_id", "cc.status_id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.793, + "Actual Total Time": 29.801, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.073, + "Actual Total Time": 1866.012, + "Actual Rows": 5469, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.348, + "Actual Total Time": 31.354, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.759, + "Actual Total Time": 31.766, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.473, + "Actual Total Time": 2111.164, + "Actual Rows": 5389, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.764, + "Actual Total Time": 31.770, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.761, + "Actual Total Time": 31.769, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.96, + "Total Cost": 1407.63, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 30.109, + "Actual Total Time": 715.416, + "Actual Rows": 2168, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "mc.movie_id", "t.title", "t.id", "cc.movie_id", "cc.status_id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.793, + "Actual Total Time": 29.800, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.026, + "Actual Total Time": 1841.016, + "Actual Rows": 6071, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.347, + "Actual Total Time": 31.353, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.758, + "Actual Total Time": 31.764, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.440, + "Actual Total Time": 2086.579, + "Actual Rows": 6180, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.763, + "Actual Total Time": 31.768, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.760, + "Actual Total Time": 31.768, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.52, + "Total Cost": 1406.48, + "Plan Rows": 1, + "Plan Width": 56, + "Actual Startup Time": 27.202, + "Actual Total Time": 342.366, + "Actual Rows": 1744, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "mc.movie_id", "t.title", "t.id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.791, + "Actual Total Time": 29.798, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.868, + "Actual Total Time": 801.934, + "Actual Rows": 4987, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.347, + "Actual Total Time": 31.352, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.757, + "Actual Total Time": 31.763, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.392, + "Actual Total Time": 1052.815, + "Actual Rows": 4963, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.763, + "Actual Total Time": 31.767, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.760, + "Actual Total Time": 31.766, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 1406.31, + "Plan Rows": 1, + "Plan Width": 60, + "Actual Startup Time": 27.193, + "Actual Total Time": 335.382, + "Actual Rows": 1967, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "mc.movie_id", "t.title", "t.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.791, + "Actual Total Time": 29.796, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.842, + "Actual Total Time": 781.646, + "Actual Rows": 5630, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.346, + "Actual Total Time": 31.350, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.756, + "Actual Total Time": 31.762, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.366, + "Actual Total Time": 1033.149, + "Actual Rows": 5686, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.762, + "Actual Total Time": 31.766, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.759, + "Actual Total Time": 31.765, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.98, + "Total Cost": 1405.86, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 23.754, + "Actual Total Time": 316.399, + "Actual Rows": 2988, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.790, + "Actual Total Time": 29.795, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.576, + "Actual Total Time": 726.444, + "Actual Rows": 8661, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.345, + "Actual Total Time": 31.349, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.755, + "Actual Total Time": 31.760, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.304, + "Actual Total Time": 977.849, + "Actual Rows": 8859, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.761, + "Actual Total Time": 31.765, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.758, + "Actual Total Time": 31.763, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 1405.70, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 20.326, + "Actual Total Time": 304.107, + "Actual Rows": 3272, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "mc.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.789, + "Actual Total Time": 29.793, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.063, + "Actual Total Time": 690.962, + "Actual Rows": 9392, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.345, + "Actual Total Time": 31.348, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.755, + "Actual Total Time": 31.759, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.189, + "Actual Total Time": 941.801, + "Actual Rows": 9764, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.761, + "Actual Total Time": 31.763, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.757, + "Actual Total Time": 31.762, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.41, + "Total Cost": 1404.77, + "Plan Rows": 2, + "Plan Width": 27, + "Actual Startup Time": 20.066, + "Actual Total Time": 229.939, + "Actual Rows": 10003, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.788, + "Actual Total Time": 29.791, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.449, + "Actual Total Time": 496.209, + "Actual Rows": 26385, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.343, + "Actual Total Time": 31.346, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.754, + "Actual Total Time": 31.757, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.034, + "Actual Total Time": 712.879, + "Actual Rows": 31256, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.760, + "Actual Total Time": 31.762, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.756, + "Actual Total Time": 31.760, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.28, + "Total Cost": 1404.47, + "Plan Rows": 2, + "Plan Width": 31, + "Actual Startup Time": 20.047, + "Actual Total Time": 204.292, + "Actual Rows": 10003, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "mc.movie_id", "mc.company_type_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.787, + "Actual Total Time": 29.790, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.408, + "Actual Total Time": 428.590, + "Actual Rows": 26385, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.342, + "Actual Total Time": 31.344, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.753, + "Actual Total Time": 31.755, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.950, + "Actual Total Time": 633.316, + "Actual Rows": 31256, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.759, + "Actual Total Time": 31.760, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.755, + "Actual Total Time": 31.758, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1402.12, + "Plan Rows": 5, + "Plan Width": 16, + "Actual Startup Time": 20.020, + "Actual Total Time": 121.249, + "Actual Rows": 10753, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.786, + "Actual Total Time": 29.788, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.349, + "Actual Total Time": 211.007, + "Actual Rows": 28135, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.341, + "Actual Total Time": 31.343, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.752, + "Actual Total Time": 31.754, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.830, + "Actual Total Time": 374.948, + "Actual Rows": 33962, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.758, + "Actual Total Time": 31.760, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.755, + "Actual Total Time": 31.757, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1391.93, + "Plan Rows": 19, + "Plan Width": 4, + "Actual Startup Time": 19.958, + "Actual Total Time": 33.259, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.785, + "Actual Total Time": 29.787, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.186, + "Actual Total Time": 27.574, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.341, + "Actual Total Time": 31.342, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.751, + "Actual Total Time": 31.753, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.607, + "Actual Total Time": 49.604, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.757, + "Actual Total Time": 31.758, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.754, + "Actual Total Time": 31.755, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 19.910, + "Actual Total Time": 19.916, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.784, + "Actual Total Time": 29.785, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.096, + "Actual Total Time": 0.105, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.340, + "Actual Total Time": 31.340, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.750, + "Actual Total Time": 31.751, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.418, + "Actual Total Time": 0.423, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.757, + "Actual Total Time": 31.757, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.753, + "Actual Total Time": 31.754, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.05, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.120, + "Actual Total Time": 32.478, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.088, + "Actual Total Time": 25.291, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.182, + "Actual Total Time": 44.477, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.018, + "Actual Rows": 2, + "Actual Loops": 37091, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 7, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.021, + "Actual Rows": 3, + "Actual Loops": 8337 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.016, + "Actual Rows": 2, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 86022, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 28135 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 33962 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 80023, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 26385 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 31256 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 80023, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 26385 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 31256 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 26177, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 9392 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 9764 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 23902, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 8661 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 8859 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 15737, + "Output": ["cct1.id", "cct1.kind"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 5630 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 5686 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.213, + "Actual Rows": 1, + "Actual Loops": 13954, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 242, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.090, + "Actual Total Time": 0.207, + "Actual Rows": 1, + "Actual Loops": 4987 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.083, + "Actual Total Time": 0.207, + "Actual Rows": 1, + "Actual Loops": 4963 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 17344, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 6071 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 6180 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 3, + "Actual Loops": 15395, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 3, + "Actual Loops": 5469 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 3, + "Actual Loops": 5389 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 45619, + "Output": ["cct2.id", "cct2.kind"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 16180 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 15881 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 24852, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8843 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8431 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5372730239182956237, + "Planning Time": 269.000, + "Triggers": [ + ], + "Execution Time": 2284.260, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 5372730239182956237, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS voiced_animation
FROM aka_name AS an,
     complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     info_type AS it3,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     person_info AS pi,
     role_type AS rt,
     title AS t
WHERE cct1.kind ='cast'
  AND cct2.kind ='complete+verified'
  AND chn.name = 'Queen'
  AND ci.note IN ('(voice)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND it3.info = 'trivia'
  AND k.keyword = 'computer-animation'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%200%'
       OR mi.info LIKE 'USA:%200%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.title = 'Shrek 2'
  AND t.production_year BETWEEN 2000 AND 2010
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND n.id = pi.person_id
  AND ci.person_id = pi.person_id
  AND it3.id = pi.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1356.15, + "Total Cost": 1356.16, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 98.801, + "Actual Total Time": 98.990, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1356.08, + "Total Cost": 1356.09, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 98.782, + "Actual Total Time": 98.980, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1355.08, + "Total Cost": 1355.09, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 20.572, + "Actual Total Time": 20.585, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.231, + "Actual Total Time": 7.247, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.607, + "Actual Total Time": 16.617, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.247, + "Actual Total Time": 8.262, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.542, + "Actual Total Time": 8.558, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.707, + "Actual Total Time": 8.721, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.157, + "Actual Total Time": 9.167, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.814, + "Actual Total Time": 8.824, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.40, + "Total Cost": 1355.08, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 9.982, + "Actual Total Time": 20.414, + "Actual Rows": 202, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.225, + "Actual Total Time": 7.241, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.603, + "Actual Total Time": 16.612, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.238, + "Actual Total Time": 8.252, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.533, + "Actual Total Time": 8.548, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.700, + "Actual Total Time": 8.714, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.153, + "Actual Total Time": 9.163, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.809, + "Actual Total Time": 8.818, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.27, + "Total Cost": 1354.91, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 9.979, + "Actual Total Time": 19.695, + "Actual Rows": 202, + "Actual Loops": 8, + "Output": ["n.name", "t.title", "chn.name", "cc.subject_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.224, + "Actual Total Time": 7.239, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.602, + "Actual Total Time": 16.611, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.237, + "Actual Total Time": 8.251, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.532, + "Actual Total Time": 8.546, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.699, + "Actual Total Time": 8.712, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.152, + "Actual Total Time": 9.161, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.808, + "Actual Total Time": 8.818, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.14, + "Total Cost": 1354.74, + "Plan Rows": 1, + "Plan Width": 56, + "Actual Startup Time": 9.977, + "Actual Total Time": 18.933, + "Actual Rows": 202, + "Actual Loops": 8, + "Output": ["n.name", "t.title", "chn.name", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Join Filter": "(t.id = cc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.223, + "Actual Total Time": 7.237, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.601, + "Actual Total Time": 16.610, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.237, + "Actual Total Time": 8.249, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.531, + "Actual Total Time": 8.545, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.698, + "Actual Total Time": 8.710, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.151, + "Actual Total Time": 9.160, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.808, + "Actual Total Time": 8.816, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.72, + "Total Cost": 1354.29, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 9.970, + "Actual Total Time": 17.386, + "Actual Rows": 202, + "Actual Loops": 8, + "Output": ["n.name", "mk.movie_id", "t.title", "t.id", "ci.movie_id", "chn.name", "mi.movie_id", "mc.movie_id"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.222, + "Actual Total Time": 7.235, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.601, + "Actual Total Time": 16.609, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.236, + "Actual Total Time": 8.247, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.530, + "Actual Total Time": 8.543, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.697, + "Actual Total Time": 8.708, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.151, + "Actual Total Time": 9.159, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.807, + "Actual Total Time": 8.815, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.30, + "Total Cost": 1353.80, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 9.964, + "Actual Total Time": 16.794, + "Actual Rows": 68, + "Actual Loops": 8, + "Output": ["n.name", "n.id", "mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "chn.name", "mi.movie_id", "mc.movie_id", "pi.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.222, + "Actual Total Time": 7.233, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.600, + "Actual Total Time": 16.608, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.235, + "Actual Total Time": 8.246, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.530, + "Actual Total Time": 8.541, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.696, + "Actual Total Time": 8.707, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.150, + "Actual Total Time": 9.157, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.807, + "Actual Total Time": 8.814, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.88, + "Total Cost": 1353.36, + "Plan Rows": 1, + "Plan Width": 84, + "Actual Startup Time": 9.959, + "Actual Total Time": 14.680, + "Actual Rows": 297, + "Actual Loops": 8, + "Output": ["n.name", "n.id", "mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "chn.name", "mi.movie_id", "mc.movie_id", "mc.company_id", "pi.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.221, + "Actual Total Time": 7.232, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.600, + "Actual Total Time": 16.606, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.234, + "Actual Total Time": 8.244, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.529, + "Actual Total Time": 8.539, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.695, + "Actual Total Time": 8.705, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.149, + "Actual Total Time": 9.156, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.806, + "Actual Total Time": 8.813, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.74, + "Total Cost": 1353.18, + "Plan Rows": 1, + "Plan Width": 88, + "Actual Startup Time": 9.908, + "Actual Total Time": 11.323, + "Actual Rows": 896, + "Actual Loops": 8, + "Output": ["n.name", "n.id", "mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "chn.name", "mi.movie_id", "mc.movie_id", "mc.company_id", "pi.person_id", "pi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(n.id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.220, + "Actual Total Time": 7.229, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.599, + "Actual Total Time": 16.605, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.234, + "Actual Total Time": 8.243, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.528, + "Actual Total Time": 8.538, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.695, + "Actual Total Time": 8.703, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.148, + "Actual Total Time": 9.155, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.806, + "Actual Total Time": 8.812, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.31, + "Total Cost": 1352.31, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 9.899, + "Actual Total Time": 10.387, + "Actual Rows": 6, + "Actual Loops": 8, + "Output": ["n.name", "n.id", "mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "chn.name", "mi.movie_id", "mc.movie_id", "mc.company_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.219, + "Actual Total Time": 7.228, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.598, + "Actual Total Time": 16.604, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.233, + "Actual Total Time": 8.241, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.527, + "Actual Total Time": 8.536, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.694, + "Actual Total Time": 8.701, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.148, + "Actual Total Time": 9.154, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.806, + "Actual Total Time": 8.811, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.17, + "Total Cost": 1352.13, + "Plan Rows": 1, + "Plan Width": 84, + "Actual Startup Time": 9.895, + "Actual Total Time": 10.357, + "Actual Rows": 6, + "Actual Loops": 8, + "Output": ["n.name", "n.id", "mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "chn.name", "mi.movie_id", "mc.movie_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.218, + "Actual Total Time": 7.226, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.598, + "Actual Total Time": 16.603, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.232, + "Actual Total Time": 8.239, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.527, + "Actual Total Time": 8.534, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.693, + "Actual Total Time": 8.699, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.147, + "Actual Total Time": 9.152, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.805, + "Actual Total Time": 8.810, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.74, + "Total Cost": 1351.58, + "Plan Rows": 1, + "Plan Width": 76, + "Actual Startup Time": 9.888, + "Actual Total Time": 10.338, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["n.name", "n.id", "mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "chn.name", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.218, + "Actual Total Time": 7.224, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.597, + "Actual Total Time": 16.601, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.231, + "Actual Total Time": 8.237, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.526, + "Actual Total Time": 8.532, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.692, + "Actual Total Time": 8.698, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.146, + "Actual Total Time": 9.151, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.804, + "Actual Total Time": 8.809, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.60, + "Total Cost": 1351.40, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 9.884, + "Actual Total Time": 10.332, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["n.name", "n.id", "mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "chn.name", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.216, + "Actual Total Time": 7.223, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.596, + "Actual Total Time": 16.600, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.229, + "Actual Total Time": 8.235, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.525, + "Actual Total Time": 8.531, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.691, + "Actual Total Time": 8.696, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.146, + "Actual Total Time": 9.150, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.803, + "Actual Total Time": 8.807, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.16, + "Total Cost": 1350.41, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 9.862, + "Actual Total Time": 10.275, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["n.name", "n.id", "mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.216, + "Actual Total Time": 7.221, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.595, + "Actual Total Time": 16.599, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.229, + "Actual Total Time": 8.234, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.524, + "Actual Total Time": 8.529, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.690, + "Actual Total Time": 8.694, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.145, + "Actual Total Time": 9.149, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.802, + "Actual Total Time": 8.806, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1349.82, + "Plan Rows": 1, + "Plan Width": 60, + "Actual Startup Time": 9.855, + "Actual Total Time": 10.267, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["n.name", "n.id", "mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.215, + "Actual Total Time": 7.219, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.595, + "Actual Total Time": 16.598, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.227, + "Actual Total Time": 8.232, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.523, + "Actual Total Time": 8.527, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.689, + "Actual Total Time": 8.693, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.144, + "Actual Total Time": 9.147, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.802, + "Actual Total Time": 8.805, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1349.28, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 9.737, + "Actual Total Time": 10.143, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.214, + "Actual Total Time": 7.217, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.594, + "Actual Total Time": 16.596, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.227, + "Actual Total Time": 8.230, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.522, + "Actual Total Time": 8.525, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.688, + "Actual Total Time": 8.691, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.144, + "Actual Total Time": 9.146, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.801, + "Actual Total Time": 8.803, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1348.01, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 9.729, + "Actual Total Time": 9.974, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.213, + "Actual Total Time": 7.215, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.593, + "Actual Total Time": 16.595, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.226, + "Actual Total Time": 8.228, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.520, + "Actual Total Time": 8.523, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.687, + "Actual Total Time": 8.689, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.143, + "Actual Total Time": 9.145, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.801, + "Actual Total Time": 8.802, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.67, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 8.420, + "Actual Total Time": 8.833, + "Actual Rows": 52, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.212, + "Actual Total Time": 7.213, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.593, + "Actual Total Time": 16.594, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.225, + "Actual Total Time": 8.227, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.520, + "Actual Total Time": 8.521, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.686, + "Actual Total Time": 8.687, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.143, + "Actual Total Time": 9.144, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.800, + "Actual Total Time": 8.801, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 8.410, + "Actual Total Time": 8.413, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'computer-animation'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.211, + "Actual Total Time": 7.212, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.592, + "Actual Total Time": 16.592, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.224, + "Actual Total Time": 8.224, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.518, + "Actual Total Time": 8.519, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.685, + "Actual Total Time": 8.686, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.142, + "Actual Total Time": 9.142, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.799, + "Actual Total Time": 8.800, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.069, + "Actual Total Time": 3.164, + "Actual Rows": 414, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 414, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2010) AND (t.title = 'Shrek 2'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.26, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.044, + "Actual Total Time": 1.307, + "Actual Rows": 38, + "Actual Loops": 1, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 191, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 38, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(chn.name = 'Queen'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.158, + "Actual Total Time": 0.437, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%200%'::text) OR (mi.info ~~ 'USA:%200%'::text)))", + "Rows Removed by Filter": 455, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.056, + "Actual Rows": 22, + "Actual Loops": 2, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 44, + "Output": ["rt.id", "rt.role"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.72, + "Plan Rows": 12, + "Plan Width": 8, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.099, + "Actual Rows": 163, + "Actual Loops": 44, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it3", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 7172, + "Output": ["it3.id", "it3.info"], + "Index Cond": "(it3.id = pi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it3.info)::text = 'trivia'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 2376, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 3, + "Actual Loops": 540, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = pi.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 1620, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 1620, + "Output": ["cct2.id", "cct2.kind"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 1620, + "Output": ["cct1.id", "cct1.kind"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1693774000992751456, + "Planning Time": 374.774, + "Triggers": [ + ], + "Execution Time": 99.616, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 1693774000992751456, + "JOINS": 16 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS voiced_animation
FROM aka_name AS an,
     complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     info_type AS it3,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     person_info AS pi,
     role_type AS rt,
     title AS t
WHERE cct1.kind ='cast'
  AND cct2.kind ='complete+verified'
  AND chn.name = 'Queen'
  AND ci.note IN ('(voice)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND it3.info = 'height'
  AND k.keyword = 'computer-animation'
  AND mi.info LIKE 'USA:%200%'
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.title = 'Shrek 2'
  AND t.production_year BETWEEN 2000 AND 2005
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND n.id = pi.person_id
  AND ci.person_id = pi.person_id
  AND it3.id = pi.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1356.11, + "Total Cost": 1356.12, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 26.439, + "Actual Total Time": 28.692, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1356.05, + "Total Cost": 1356.06, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 25.904, + "Actual Total Time": 28.673, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1355.05, + "Total Cost": 1355.06, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 10.089, + "Actual Total Time": 10.102, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.875, + "Actual Total Time": 3.884, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.294, + "Actual Total Time": 6.309, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.773, + "Actual Total Time": 14.782, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.132, + "Actual Total Time": 8.145, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.630, + "Actual Total Time": 6.639, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.819, + "Actual Total Time": 7.833, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.607, + "Actual Total Time": 8.621, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.40, + "Total Cost": 1355.04, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 8.232, + "Actual Total Time": 10.091, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.869, + "Actual Total Time": 3.878, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.289, + "Actual Total Time": 6.303, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.769, + "Actual Total Time": 14.777, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.124, + "Actual Total Time": 8.136, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.626, + "Actual Total Time": 6.635, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.811, + "Actual Total Time": 7.824, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.601, + "Actual Total Time": 8.615, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.97, + "Total Cost": 1354.45, + "Plan Rows": 1, + "Plan Width": 36, + "Actual Startup Time": 8.226, + "Actual Total Time": 10.061, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_role_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.869, + "Actual Total Time": 3.877, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.288, + "Actual Total Time": 6.301, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.768, + "Actual Total Time": 14.776, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.123, + "Actual Total Time": 8.135, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.625, + "Actual Total Time": 6.634, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.810, + "Actual Total Time": 7.822, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.600, + "Actual Total Time": 8.613, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.55, + "Total Cost": 1353.97, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 8.220, + "Actual Total Time": 10.046, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "pi.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.868, + "Actual Total Time": 3.876, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.287, + "Actual Total Time": 6.299, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.768, + "Actual Total Time": 14.775, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.122, + "Actual Total Time": 8.133, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.624, + "Actual Total Time": 6.633, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.809, + "Actual Total Time": 7.821, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.599, + "Actual Total Time": 8.612, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.41, + "Total Cost": 1353.78, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 8.218, + "Actual Total Time": 10.039, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "mi.info_type_id", "pi.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.868, + "Actual Total Time": 3.875, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.286, + "Actual Total Time": 6.297, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.767, + "Actual Total Time": 14.774, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.121, + "Actual Total Time": 8.132, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.624, + "Actual Total Time": 6.632, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.808, + "Actual Total Time": 7.819, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.599, + "Actual Total Time": 8.610, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.26, + "Total Cost": 1353.60, + "Plan Rows": 1, + "Plan Width": 56, + "Actual Startup Time": 8.127, + "Actual Total Time": 9.541, + "Actual Rows": 102, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "mi.info_type_id", "pi.person_id", "pi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(n.id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.867, + "Actual Total Time": 3.873, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.285, + "Actual Total Time": 6.296, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.767, + "Actual Total Time": 14.773, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.121, + "Actual Total Time": 8.130, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.623, + "Actual Total Time": 6.630, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.808, + "Actual Total Time": 7.818, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.598, + "Actual Total Time": 8.609, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.83, + "Total Cost": 1352.73, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 8.121, + "Actual Total Time": 9.395, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.867, + "Actual Total Time": 3.873, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.285, + "Actual Total Time": 6.294, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.766, + "Actual Total Time": 14.772, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.120, + "Actual Total Time": 8.129, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.622, + "Actual Total Time": 6.629, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.807, + "Actual Total Time": 7.816, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.597, + "Actual Total Time": 8.606, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.40, + "Total Cost": 1351.80, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 8.104, + "Actual Total Time": 9.136, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.866, + "Actual Total Time": 3.872, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.284, + "Actual Total Time": 6.293, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.765, + "Actual Total Time": 14.771, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.119, + "Actual Total Time": 8.127, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.622, + "Actual Total Time": 6.628, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.806, + "Actual Total Time": 7.815, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.596, + "Actual Total Time": 8.605, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 1351.63, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 8.101, + "Actual Total Time": 9.127, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.866, + "Actual Total Time": 3.871, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.283, + "Actual Total Time": 6.291, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.765, + "Actual Total Time": 14.770, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.119, + "Actual Total Time": 8.126, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.621, + "Actual Total Time": 6.626, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.806, + "Actual Total Time": 7.814, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.595, + "Actual Total Time": 8.603, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.13, + "Total Cost": 1351.46, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 8.098, + "Actual Total Time": 9.120, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.866, + "Actual Total Time": 3.870, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.282, + "Actual Total Time": 6.290, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.764, + "Actual Total Time": 14.769, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.118, + "Actual Total Time": 8.125, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.621, + "Actual Total Time": 6.625, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.805, + "Actual Total Time": 7.812, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.594, + "Actual Total Time": 8.602, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.00, + "Total Cost": 1351.29, + "Plan Rows": 1, + "Plan Width": 76, + "Actual Startup Time": 8.095, + "Actual Total Time": 9.112, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Join Filter": "(t.id = cc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.865, + "Actual Total Time": 3.869, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.282, + "Actual Total Time": 6.288, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.764, + "Actual Total Time": 14.768, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.117, + "Actual Total Time": 8.123, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.620, + "Actual Total Time": 6.624, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.804, + "Actual Total Time": 7.810, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.594, + "Actual Total Time": 8.600, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 1350.84, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 8.090, + "Actual Total Time": 9.096, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.865, + "Actual Total Time": 3.868, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.281, + "Actual Total Time": 6.287, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.763, + "Actual Total Time": 14.767, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.116, + "Actual Total Time": 8.121, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.619, + "Actual Total Time": 6.622, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.802, + "Actual Total Time": 7.808, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.592, + "Actual Total Time": 8.598, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.16, + "Total Cost": 1350.39, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 8.085, + "Actual Total Time": 9.033, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.864, + "Actual Total Time": 3.867, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.280, + "Actual Total Time": 6.285, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.762, + "Actual Total Time": 14.766, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.115, + "Actual Total Time": 8.120, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.618, + "Actual Total Time": 6.621, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.801, + "Actual Total Time": 7.806, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.591, + "Actual Total Time": 8.596, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1349.84, + "Plan Rows": 1, + "Plan Width": 60, + "Actual Startup Time": 8.079, + "Actual Total Time": 9.019, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.864, + "Actual Total Time": 3.866, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.279, + "Actual Total Time": 6.283, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.762, + "Actual Total Time": 14.764, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.114, + "Actual Total Time": 8.118, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.617, + "Actual Total Time": 6.620, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.801, + "Actual Total Time": 7.805, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.591, + "Actual Total Time": 8.594, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1349.30, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 7.999, + "Actual Total Time": 8.929, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.863, + "Actual Total Time": 3.865, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.278, + "Actual Total Time": 6.282, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.761, + "Actual Total Time": 14.763, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.113, + "Actual Total Time": 8.116, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.617, + "Actual Total Time": 6.619, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.800, + "Actual Total Time": 7.803, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.590, + "Actual Total Time": 8.593, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1348.03, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 7.993, + "Actual Total Time": 8.752, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.863, + "Actual Total Time": 3.864, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.277, + "Actual Total Time": 6.280, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.760, + "Actual Total Time": 14.762, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.112, + "Actual Total Time": 8.115, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.616, + "Actual Total Time": 6.617, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.799, + "Actual Total Time": 7.801, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.589, + "Actual Total Time": 8.591, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.67, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 7.018, + "Actual Total Time": 7.775, + "Actual Rows": 52, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.862, + "Actual Total Time": 3.863, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.276, + "Actual Total Time": 6.278, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.760, + "Actual Total Time": 14.761, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.112, + "Actual Total Time": 8.113, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.615, + "Actual Total Time": 6.616, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.798, + "Actual Total Time": 7.800, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.588, + "Actual Total Time": 8.590, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 7.011, + "Actual Total Time": 7.462, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'computer-animation'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.861, + "Actual Total Time": 3.862, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.275, + "Actual Total Time": 6.276, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.759, + "Actual Total Time": 14.759, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.110, + "Actual Total Time": 8.111, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.615, + "Actual Total Time": 6.615, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.797, + "Actual Total Time": 7.798, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.587, + "Actual Total Time": 8.588, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.049, + "Actual Total Time": 2.331, + "Actual Rows": 414, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 414, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2005) AND (t.title = 'Shrek 2'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.26, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.037, + "Actual Total Time": 1.378, + "Actual Rows": 38, + "Actual Loops": 1, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 191, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 38, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.075, + "Actual Rows": 22, + "Actual Loops": 1, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 22, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["cct1.id", "cct1.kind"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["cct2.id", "cct2.kind"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["rt.id", "rt.role"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.106, + "Actual Total Time": 0.410, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info ~~ 'USA:%200%'::text)", + "Rows Removed by Filter": 456, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.72, + "Plan Rows": 12, + "Plan Width": 8, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.144, + "Actual Rows": 163, + "Actual Loops": 5, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it3", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 815, + "Output": ["it3.id", "it3.info"], + "Index Cond": "(it3.id = pi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it3.info)::text = 'height'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 5, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = pi.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 15, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(chn.name = 'Queen'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6571914703387389993, + "Planning Time": 317.881, + "Triggers": [ + ], + "Execution Time": 29.297, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -6571914703387389993, + "JOINS": 16 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS voiced_animation
FROM aka_name AS an,
     complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     info_type AS it3,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     person_info AS pi,
     role_type AS rt,
     title AS t
WHERE cct1.kind ='cast'
  AND cct2.kind ='complete+verified'
  AND ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND it3.info = 'trivia'
  AND k.keyword = 'computer-animation'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%200%'
       OR mi.info LIKE 'USA:%200%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2000 AND 2010
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND n.id = pi.person_id
  AND ci.person_id = pi.person_id
  AND it3.id = pi.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1357.06, + "Total Cost": 1357.07, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 486.818, + "Actual Total Time": 487.013, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1357.00, + "Total Cost": 1357.01, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 486.799, + "Actual Total Time": 487.004, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1356.00, + "Total Cost": 1356.01, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 70.158, + "Actual Total Time": 70.171, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.312, + "Actual Total Time": 9.326, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.992, + "Actual Total Time": 17.002, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.953, + "Actual Total Time": 9.967, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.978, + "Actual Total Time": 8.993, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.771, + "Actual Total Time": 10.785, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.462, + "Actual Total Time": 9.477, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.208, + "Actual Total Time": 10.223, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.40, + "Total Cost": 1355.99, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 25.058, + "Actual Total Time": 68.962, + "Actual Rows": 2038, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.306, + "Actual Total Time": 9.320, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.987, + "Actual Total Time": 16.997, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.945, + "Actual Total Time": 9.958, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.970, + "Actual Total Time": 8.983, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.762, + "Actual Total Time": 10.775, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.454, + "Actual Total Time": 9.467, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.203, + "Actual Total Time": 10.217, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.97, + "Total Cost": 1355.48, + "Plan Rows": 1, + "Plan Width": 36, + "Actual Startup Time": 18.047, + "Actual Total Time": 56.333, + "Actual Rows": 2092, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_role_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.305, + "Actual Total Time": 9.318, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.986, + "Actual Total Time": 16.996, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.945, + "Actual Total Time": 9.957, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.969, + "Actual Total Time": 8.982, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.761, + "Actual Total Time": 10.774, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.453, + "Actual Total Time": 9.465, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.202, + "Actual Total Time": 10.215, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.55, + "Total Cost": 1355.00, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 18.042, + "Actual Total Time": 52.362, + "Actual Rows": 496, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "pi.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.305, + "Actual Total Time": 9.316, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.986, + "Actual Total Time": 16.995, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.944, + "Actual Total Time": 9.955, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.968, + "Actual Total Time": 8.980, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.761, + "Actual Total Time": 10.772, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.452, + "Actual Total Time": 9.464, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.201, + "Actual Total Time": 10.213, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.41, + "Total Cost": 1354.81, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 18.039, + "Actual Total Time": 50.784, + "Actual Rows": 496, + "Actual Loops": 8, + "Output": ["t.title", "mi.info_type_id", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "pi.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.304, + "Actual Total Time": 9.315, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.985, + "Actual Total Time": 16.993, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.943, + "Actual Total Time": 9.954, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.967, + "Actual Total Time": 8.978, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.760, + "Actual Total Time": 10.771, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.451, + "Actual Total Time": 9.462, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.200, + "Actual Total Time": 10.212, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.26, + "Total Cost": 1354.63, + "Plan Rows": 1, + "Plan Width": 56, + "Actual Startup Time": 18.036, + "Actual Total Time": 44.371, + "Actual Rows": 1998, + "Actual Loops": 8, + "Output": ["t.title", "mi.info_type_id", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "pi.person_id", "pi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(n.id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.303, + "Actual Total Time": 9.312, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.985, + "Actual Total Time": 16.992, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.942, + "Actual Total Time": 9.953, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.966, + "Actual Total Time": 8.977, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.759, + "Actual Total Time": 10.769, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.451, + "Actual Total Time": 9.461, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.199, + "Actual Total Time": 10.210, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.83, + "Total Cost": 1353.77, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 17.916, + "Actual Total Time": 42.564, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["t.title", "mi.info_type_id", "ci.person_id", "ci.person_role_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.302, + "Actual Total Time": 9.310, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.984, + "Actual Total Time": 16.991, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.941, + "Actual Total Time": 9.950, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.965, + "Actual Total Time": 8.975, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.758, + "Actual Total Time": 10.767, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.450, + "Actual Total Time": 9.459, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.198, + "Actual Total Time": 10.208, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.40, + "Total Cost": 1353.23, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 13.200, + "Actual Total Time": 40.547, + "Actual Rows": 261, + "Actual Loops": 8, + "Output": ["t.title", "mi.info_type_id", "ci.person_id", "ci.person_role_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.301, + "Actual Total Time": 9.309, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.984, + "Actual Total Time": 16.990, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.940, + "Actual Total Time": 9.949, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.965, + "Actual Total Time": 8.973, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.757, + "Actual Total Time": 10.765, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.449, + "Actual Total Time": 9.458, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.198, + "Actual Total Time": 10.207, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.98, + "Total Cost": 1352.79, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 13.184, + "Actual Total Time": 32.302, + "Actual Rows": 1316, + "Actual Loops": 8, + "Output": ["t.title", "mi.info_type_id", "ci.person_id", "ci.person_role_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.300, + "Actual Total Time": 9.308, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.983, + "Actual Total Time": 16.989, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.940, + "Actual Total Time": 9.948, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.964, + "Actual Total Time": 8.972, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.756, + "Actual Total Time": 10.763, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.448, + "Actual Total Time": 9.456, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.197, + "Actual Total Time": 10.205, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.55, + "Total Cost": 1352.23, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 13.179, + "Actual Total Time": 30.821, + "Actual Rows": 52, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "mi.movie_id", "mi.info_type_id", "ci.movie_id", "ci.person_id", "ci.person_role_id", "cc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.299, + "Actual Total Time": 9.306, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.983, + "Actual Total Time": 16.988, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.939, + "Actual Total Time": 9.946, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.963, + "Actual Total Time": 8.970, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.755, + "Actual Total Time": 10.762, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.447, + "Actual Total Time": 9.455, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.196, + "Actual Total Time": 10.204, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.42, + "Total Cost": 1352.06, + "Plan Rows": 1, + "Plan Width": 53, + "Actual Startup Time": 13.176, + "Actual Total Time": 30.642, + "Actual Rows": 56, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "mi.movie_id", "mi.info_type_id", "ci.movie_id", "ci.person_id", "ci.person_role_id", "cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.299, + "Actual Total Time": 9.304, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.982, + "Actual Total Time": 16.987, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.938, + "Actual Total Time": 9.945, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.962, + "Actual Total Time": 8.968, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.755, + "Actual Total Time": 10.760, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.447, + "Actual Total Time": 9.453, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.196, + "Actual Total Time": 10.202, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.29, + "Total Cost": 1351.89, + "Plan Rows": 1, + "Plan Width": 57, + "Actual Startup Time": 12.126, + "Actual Total Time": 30.046, + "Actual Rows": 183, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "mi.movie_id", "mi.info_type_id", "ci.movie_id", "ci.person_id", "ci.person_role_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.297, + "Actual Total Time": 9.301, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.981, + "Actual Total Time": 16.985, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.937, + "Actual Total Time": 9.943, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.961, + "Actual Total Time": 8.966, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.754, + "Actual Total Time": 10.759, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.446, + "Actual Total Time": 9.451, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.194, + "Actual Total Time": 10.200, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.87, + "Total Cost": 1351.44, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 10.387, + "Actual Total Time": 28.333, + "Actual Rows": 265, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "mi.movie_id", "mi.info_type_id", "ci.movie_id", "ci.person_id", "ci.person_role_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.296, + "Actual Total Time": 9.299, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.981, + "Actual Total Time": 16.985, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.937, + "Actual Total Time": 9.941, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.960, + "Actual Total Time": 8.965, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.753, + "Actual Total Time": 10.757, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.445, + "Actual Total Time": 9.450, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.194, + "Actual Total Time": 10.199, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.74, + "Total Cost": 1351.27, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 9.814, + "Actual Total Time": 25.040, + "Actual Rows": 938, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "mi.movie_id", "mi.info_type_id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.295, + "Actual Total Time": 9.298, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.980, + "Actual Total Time": 16.983, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.936, + "Actual Total Time": 9.940, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.959, + "Actual Total Time": 8.963, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.752, + "Actual Total Time": 10.756, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.444, + "Actual Total Time": 9.448, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.193, + "Actual Total Time": 10.197, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1349.95, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 9.538, + "Actual Total Time": 13.330, + "Actual Rows": 45, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.294, + "Actual Total Time": 9.296, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.980, + "Actual Total Time": 16.982, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.935, + "Actual Total Time": 9.938, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.958, + "Actual Total Time": 8.961, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.751, + "Actual Total Time": 10.754, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.443, + "Actual Total Time": 9.446, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.192, + "Actual Total Time": 10.195, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1347.98, + "Plan Rows": 2, + "Plan Width": 25, + "Actual Startup Time": 9.462, + "Actual Total Time": 10.497, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.294, + "Actual Total Time": 9.295, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.979, + "Actual Total Time": 16.980, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.934, + "Actual Total Time": 9.936, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.957, + "Actual Total Time": 8.960, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.750, + "Actual Total Time": 10.753, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.442, + "Actual Total Time": 9.444, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.191, + "Actual Total Time": 10.193, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.67, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 9.458, + "Actual Total Time": 9.702, + "Actual Rows": 52, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.293, + "Actual Total Time": 9.294, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.978, + "Actual Total Time": 16.979, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.933, + "Actual Total Time": 9.935, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.957, + "Actual Total Time": 8.958, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.750, + "Actual Total Time": 10.751, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.441, + "Actual Total Time": 9.443, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.190, + "Actual Total Time": 10.192, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 9.450, + "Actual Total Time": 9.453, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'computer-animation'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.292, + "Actual Total Time": 9.292, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.977, + "Actual Total Time": 16.978, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.932, + "Actual Total Time": 9.933, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.947, + "Actual Total Time": 8.947, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.749, + "Actual Total Time": 10.749, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.440, + "Actual Total Time": 9.441, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.189, + "Actual Total Time": 10.190, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.040, + "Actual Total Time": 1.825, + "Actual Rows": 414, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 414, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.090, + "Actual Rows": 1, + "Actual Loops": 249, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%200%'::text) OR (mi.info ~~ 'USA:%200%'::text)))", + "Rows Removed by Filter": 88, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.30, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.254, + "Actual Rows": 21, + "Actual Loops": 357, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 72, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 7505, + "Output": ["rt.id", "rt.role"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 2119, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1467, + "Output": ["cct2.id", "cct2.kind"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 445, + "Output": ["cct1.id", "cct1.kind"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.019, + "Actual Rows": 25, + "Actual Loops": 417, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 10531, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 2088, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.72, + "Plan Rows": 12, + "Plan Width": 8, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.166, + "Actual Rows": 291, + "Actual Loops": 55, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it3", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 15982, + "Output": ["it3.id", "it3.info"], + "Index Cond": "(it3.id = pi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it3.info)::text = 'trivia'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 3966, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.007, + "Actual Rows": 4, + "Actual Loops": 3966, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = pi.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 16740, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3549109824785540005, + "Planning Time": 352.442, + "Triggers": [ + ], + "Execution Time": 487.580, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 3549109824785540005, + "JOINS": 16 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code ='[de]'
  AND k.keyword ='character-name-in-title'
  AND cn.id = mc.company_id
  AND mc.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1359.15, + "Total Cost": 1359.16, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1556.429, + "Actual Total Time": 1582.148, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.71, + "Total Cost": 1359.14, + "Plan Rows": 6, + "Plan Width": 17, + "Actual Startup Time": 145.171, + "Actual Total Time": 1578.203, + "Actual Rows": 7834, + "Actual Loops": 1, + "Output": ["t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 1358.14, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 6.486, + "Actual Total Time": 199.413, + "Actual Rows": 979, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.347, + "Actual Total Time": 1545.740, + "Actual Rows": 7834, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.134, + "Actual Total Time": 5.137, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.959, + "Actual Total Time": 4.962, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.407, + "Actual Total Time": 5.410, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.068, + "Actual Total Time": 5.072, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.393, + "Actual Total Time": 5.396, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.316, + "Actual Total Time": 5.319, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.28, + "Total Cost": 1357.67, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 6.474, + "Actual Total Time": 191.160, + "Actual Rows": 979, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.260, + "Actual Total Time": 1479.731, + "Actual Rows": 7834, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.134, + "Actual Total Time": 5.136, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.958, + "Actual Total Time": 4.960, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.407, + "Actual Total Time": 5.408, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.068, + "Actual Total Time": 5.070, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.392, + "Actual Total Time": 5.394, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.316, + "Actual Total Time": 5.318, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1348.40, + "Plan Rows": 21, + "Plan Width": 12, + "Actual Startup Time": 6.263, + "Actual Total Time": 68.081, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.company_id", "mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.576, + "Actual Total Time": 495.105, + "Actual Rows": 148552, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.133, + "Actual Total Time": 5.135, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.958, + "Actual Total Time": 4.959, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.406, + "Actual Total Time": 5.407, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.067, + "Actual Total Time": 5.069, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.391, + "Actual Total Time": 5.393, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.315, + "Actual Total Time": 5.317, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.67, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 6.249, + "Actual Total Time": 15.898, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.464, + "Actual Total Time": 77.651, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.133, + "Actual Total Time": 5.134, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.957, + "Actual Total Time": 4.958, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.406, + "Actual Total Time": 5.406, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.067, + "Actual Total Time": 5.068, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.390, + "Actual Total Time": 5.392, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.314, + "Actual Total Time": 5.316, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.233, + "Actual Total Time": 6.234, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.347, + "Actual Total Time": 0.353, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.132, + "Actual Total Time": 5.133, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.957, + "Actual Total Time": 4.957, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.400, + "Actual Total Time": 5.400, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.066, + "Actual Total Time": 5.067, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.390, + "Actual Total Time": 5.390, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.314, + "Actual Total Time": 5.314, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.113, + "Actual Total Time": 68.509, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.113, + "Actual Total Time": 68.509, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 4, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 148552, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[de]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 148552 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 7834, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 7834 + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7420183357700622221, + "Planning Time": 7.775, + "Triggers": [ + ], + "Execution Time": 1582.389, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 7420183357700622221, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code ='[nl]'
  AND k.keyword ='character-name-in-title'
  AND cn.id = mc.company_id
  AND mc.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1359.14, + "Total Cost": 1359.15, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1744.939, + "Actual Total Time": 1745.066, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 1359.14, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 12.836, + "Actual Total Time": 1742.082, + "Actual Rows": 5228, + "Actual Loops": 1, + "Output": ["t.title"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.28, + "Total Cost": 1358.67, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 12.790, + "Actual Total Time": 1690.645, + "Actual Rows": 5228, + "Actual Loops": 1, + "Output": ["mc.movie_id", "mk.movie_id"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.28, + "Total Cost": 1357.67, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 8.376, + "Actual Total Time": 217.960, + "Actual Rows": 654, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.742, + "Actual Total Time": 10.745, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.204, + "Actual Total Time": 8.206, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.700, + "Actual Total Time": 5.704, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.542, + "Actual Total Time": 8.545, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.195, + "Actual Total Time": 8.198, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.592, + "Actual Total Time": 5.595, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.073, + "Actual Total Time": 8.075, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1348.40, + "Plan Rows": 21, + "Plan Width": 12, + "Actual Startup Time": 7.157, + "Actual Total Time": 74.889, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.company_id", "mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.741, + "Actual Total Time": 10.743, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.203, + "Actual Total Time": 8.205, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.699, + "Actual Total Time": 5.702, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.541, + "Actual Total Time": 8.543, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.194, + "Actual Total Time": 8.196, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.590, + "Actual Total Time": 5.593, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.072, + "Actual Total Time": 8.074, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.67, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 7.148, + "Actual Total Time": 15.953, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.741, + "Actual Total Time": 10.742, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.203, + "Actual Total Time": 8.204, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.698, + "Actual Total Time": 5.700, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.541, + "Actual Total Time": 8.542, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.194, + "Actual Total Time": 8.195, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.589, + "Actual Total Time": 5.591, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.072, + "Actual Total Time": 8.073, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 7.131, + "Actual Total Time": 7.132, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.740, + "Actual Total Time": 10.740, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.202, + "Actual Total Time": 8.203, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.689, + "Actual Total Time": 5.689, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.540, + "Actual Total Time": 8.540, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.193, + "Actual Total Time": 8.193, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.588, + "Actual Total Time": 5.589, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.071, + "Actual Total Time": 8.071, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.115, + "Actual Total Time": 60.034, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.010, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 148552, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[nl]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 5228, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0 + } + ] + } + ] + }, + "Query Identifier": 7420183357700622221, + "Planning Time": 7.187, + "Triggers": [ + ], + "Execution Time": 1745.269, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 7420183357700622221, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code ='[sm]'
  AND k.keyword ='character-name-in-title'
  AND cn.id = mc.company_id
  AND mc.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1359.15, + "Total Cost": 1359.16, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1680.736, + "Actual Total Time": 1680.872, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 1359.15, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 1680.732, + "Actual Total Time": 1680.867, + "Actual Rows": 0, + "Actual Loops": 1, + "Output": ["t.title"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.28, + "Total Cost": 1358.68, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 1680.731, + "Actual Total Time": 1680.865, + "Actual Rows": 0, + "Actual Loops": 1, + "Output": ["mc.movie_id", "mk.movie_id"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.28, + "Total Cost": 1357.68, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 217.045, + "Actual Total Time": 217.047, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.947, + "Actual Total Time": 6.951, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.452, + "Actual Total Time": 12.455, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.623, + "Actual Total Time": 1.625, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.839, + "Actual Total Time": 7.841, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.483, + "Actual Total Time": 13.487, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.925, + "Actual Total Time": 13.928, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1348.40, + "Plan Rows": 21, + "Plan Width": 12, + "Actual Startup Time": 7.276, + "Actual Total Time": 74.780, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.company_id", "mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.945, + "Actual Total Time": 6.948, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.451, + "Actual Total Time": 12.453, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.622, + "Actual Total Time": 1.624, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.838, + "Actual Total Time": 7.840, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.482, + "Actual Total Time": 13.485, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.925, + "Actual Total Time": 13.926, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.67, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 7.266, + "Actual Total Time": 16.148, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.944, + "Actual Total Time": 6.946, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.451, + "Actual Total Time": 12.452, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.622, + "Actual Total Time": 1.623, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.837, + "Actual Total Time": 7.838, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.481, + "Actual Total Time": 13.483, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.924, + "Actual Total Time": 13.925, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 7.253, + "Actual Total Time": 7.254, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.943, + "Actual Total Time": 6.943, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.450, + "Actual Total Time": 12.450, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.621, + "Actual Total Time": 1.621, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.837, + "Actual Total Time": 7.837, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.480, + "Actual Total Time": 13.481, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.923, + "Actual Total Time": 13.924, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.089, + "Actual Total Time": 60.596, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.010, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 148552, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[sm]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0 + } + ] + } + ] + }, + "Query Identifier": 7420183357700622221, + "Planning Time": 7.489, + "Triggers": [ + ], + "Execution Time": 1681.070, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 7420183357700622221, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND cn.id = mc.company_id
  AND mc.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1361.03, + "Total Cost": 1361.04, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1793.677, + "Actual Total Time": 1793.815, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1361.01, + "Total Cost": 1361.02, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 1793.656, + "Actual Total Time": 1793.807, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1360.01, + "Total Cost": 1360.02, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 229.546, + "Actual Total Time": 229.549, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.620, + "Actual Total Time": 7.623, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.803, + "Actual Total Time": 6.807, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.068, + "Actual Total Time": 8.071, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.322, + "Actual Total Time": 5.325, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.809, + "Actual Total Time": 5.812, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.144, + "Actual Total Time": 3.147, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.752, + "Actual Total Time": 7.755, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 1359.99, + "Plan Rows": 8, + "Plan Width": 17, + "Actual Startup Time": 6.061, + "Actual Total Time": 226.723, + "Actual Rows": 8540, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.616, + "Actual Total Time": 7.619, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.799, + "Actual Total Time": 6.802, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.063, + "Actual Total Time": 8.065, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.317, + "Actual Total Time": 5.320, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.806, + "Actual Total Time": 5.808, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.141, + "Actual Total Time": 3.144, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.748, + "Actual Total Time": 7.752, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1350.71, + "Plan Rows": 21, + "Plan Width": 21, + "Actual Startup Time": 6.041, + "Actual Total Time": 104.149, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mc.company_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.615, + "Actual Total Time": 7.617, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.798, + "Actual Total Time": 6.800, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.062, + "Actual Total Time": 8.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.317, + "Actual Total Time": 5.319, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.805, + "Actual Total Time": 5.807, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.140, + "Actual Total Time": 3.142, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.748, + "Actual Total Time": 7.750, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1347.96, + "Plan Rows": 5, + "Plan Width": 25, + "Actual Startup Time": 6.025, + "Actual Total Time": 53.759, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.614, + "Actual Total Time": 7.616, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.798, + "Actual Total Time": 6.799, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.061, + "Actual Total Time": 8.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.316, + "Actual Total Time": 5.318, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.804, + "Actual Total Time": 5.806, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.140, + "Actual Total Time": 3.141, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.747, + "Actual Total Time": 7.749, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.67, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 6.016, + "Actual Total Time": 13.482, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.614, + "Actual Total Time": 7.614, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.797, + "Actual Total Time": 6.798, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.061, + "Actual Total Time": 8.062, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.315, + "Actual Total Time": 5.316, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.804, + "Actual Total Time": 5.804, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.139, + "Actual Total Time": 3.140, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.747, + "Actual Total Time": 7.748, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.001, + "Actual Total Time": 6.002, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.613, + "Actual Total Time": 7.613, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.797, + "Actual Total Time": 6.797, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.060, + "Actual Total Time": 8.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.315, + "Actual Total Time": 5.315, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.803, + "Actual Total Time": 5.803, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.139, + "Actual Total Time": 3.139, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.746, + "Actual Total Time": 7.747, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.105, + "Actual Total Time": 51.045, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 41840, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 148552, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7420183357700622221, + "Planning Time": 18.235, + "Triggers": [ + ], + "Execution Time": 1794.192, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 7420183357700622221, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS complete_violent_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind IN ('cast',
                    'crew')
  AND cct2.kind ='complete+verified'
  AND ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Thriller')
  AND n.gender = 'm'
  AND t.production_year > 2000
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1487.52, + "Total Cost": 1487.53, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 3346.825, + "Actual Total Time": 3381.119, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1487.44, + "Total Cost": 1487.45, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 2574.442, + "Actual Total Time": 3381.057, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1486.44, + "Total Cost": 1486.45, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 2012.383, + "Actual Total Time": 2012.395, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 66.012, + "Actual Total Time": 66.024, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3083.469, + "Actual Total Time": 3083.477, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2978.625, + "Actual Total Time": 2978.634, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 67.779, + "Actual Total Time": 67.789, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1828.289, + "Actual Total Time": 1828.300, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2173.211, + "Actual Total Time": 2173.218, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3328.343, + "Actual Total Time": 3328.350, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.26, + "Total Cost": 1486.43, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 192.451, + "Actual Total Time": 2011.950, + "Actual Rows": 95, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 66.004, + "Actual Total Time": 66.016, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 230.558, + "Actual Total Time": 3083.125, + "Actual Rows": 76, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 164.172, + "Actual Total Time": 2977.849, + "Actual Rows": 177, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 67.770, + "Actual Total Time": 67.779, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 178.529, + "Actual Total Time": 1827.930, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 196.198, + "Actual Total Time": 2172.543, + "Actual Rows": 142, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 421.856, + "Actual Total Time": 3327.685, + "Actual Rows": 147, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.12, + "Total Cost": 1486.25, + "Plan Rows": 1, + "Plan Width": 84, + "Actual Startup Time": 192.426, + "Actual Total Time": 2011.126, + "Actual Rows": 95, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title", "mi.info", "mi.info_type_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 66.003, + "Actual Total Time": 66.014, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 230.512, + "Actual Total Time": 3082.433, + "Actual Rows": 76, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 164.130, + "Actual Total Time": 2976.374, + "Actual Rows": 177, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 67.769, + "Actual Total Time": 67.778, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 178.487, + "Actual Total Time": 1827.181, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 196.178, + "Actual Total Time": 2171.378, + "Actual Rows": 142, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 421.836, + "Actual Total Time": 3326.582, + "Actual Rows": 147, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.69, + "Total Cost": 1485.74, + "Plan Rows": 1, + "Plan Width": 73, + "Actual Startup Time": 192.350, + "Actual Total Time": 2008.527, + "Actual Rows": 128, + "Actual Loops": 8, + "Output": ["mi_idx.info", "ci.person_id", "t.title", "mi.info", "mi.info_type_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 66.002, + "Actual Total Time": 66.012, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 230.425, + "Actual Total Time": 3080.378, + "Actual Rows": 98, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 163.980, + "Actual Total Time": 2971.922, + "Actual Rows": 226, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 67.769, + "Actual Total Time": 67.777, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 178.355, + "Actual Total Time": 1824.570, + "Actual Rows": 100, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 196.104, + "Actual Total Time": 2167.394, + "Actual Rows": 197, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 421.727, + "Actual Total Time": 3322.723, + "Actual Rows": 220, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.56, + "Total Cost": 1485.57, + "Plan Rows": 1, + "Plan Width": 77, + "Actual Startup Time": 134.017, + "Actual Total Time": 2006.294, + "Actual Rows": 435, + "Actual Loops": 8, + "Output": ["mi_idx.info", "ci.person_id", "t.title", "mi.info", "mi.info_type_id", "cc.status_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 66.001, + "Actual Total Time": 66.011, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 88.104, + "Actual Total Time": 3078.368, + "Actual Rows": 362, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 157.407, + "Actual Total Time": 2967.790, + "Actual Rows": 815, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 67.768, + "Actual Total Time": 67.776, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 89.280, + "Actual Total Time": 1822.697, + "Actual Rows": 293, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 188.007, + "Actual Total Time": 2164.090, + "Actual Rows": 715, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 214.161, + "Actual Total Time": 3319.330, + "Actual Rows": 770, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.43, + "Total Cost": 1485.41, + "Plan Rows": 1, + "Plan Width": 81, + "Actual Startup Time": 133.986, + "Actual Total Time": 2003.335, + "Actual Rows": 435, + "Actual Loops": 8, + "Output": ["mi_idx.info", "ci.person_id", "t.title", "mi.info", "mi.info_type_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 66.001, + "Actual Total Time": 66.009, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 88.068, + "Actual Total Time": 3075.674, + "Actual Rows": 362, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 157.357, + "Actual Total Time": 2962.346, + "Actual Rows": 815, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 67.767, + "Actual Total Time": 67.774, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 89.233, + "Actual Total Time": 1820.193, + "Actual Rows": 293, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 187.965, + "Actual Total Time": 2159.653, + "Actual Rows": 715, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 214.122, + "Actual Total Time": 3314.794, + "Actual Rows": 770, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.01, + "Total Cost": 1484.96, + "Plan Rows": 1, + "Plan Width": 93, + "Actual Startup Time": 96.629, + "Actual Total Time": 1990.622, + "Actual Rows": 1211, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "ci.movie_id", "ci.person_id", "t.title", "t.id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.999, + "Actual Total Time": 66.007, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 88.003, + "Actual Total Time": 3063.690, + "Actual Rows": 1057, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 82.495, + "Actual Total Time": 2938.049, + "Actual Rows": 2439, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 67.766, + "Actual Total Time": 67.772, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 89.171, + "Actual Total Time": 1811.289, + "Actual Rows": 546, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 159.566, + "Actual Total Time": 2139.735, + "Actual Rows": 2040, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 73.195, + "Actual Total Time": 3293.944, + "Actual Rows": 2307, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.57, + "Total Cost": 1484.03, + "Plan Rows": 1, + "Plan Width": 42, + "Actual Startup Time": 20.291, + "Actual Total Time": 1811.795, + "Actual Rows": 2039, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "ci.movie_id", "ci.person_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(mi_idx.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.998, + "Actual Total Time": 66.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.284, + "Actual Total Time": 2870.344, + "Actual Rows": 2463, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.302, + "Actual Total Time": 2632.684, + "Actual Rows": 3053, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 67.765, + "Actual Total Time": 67.771, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.134, + "Actual Total Time": 1625.674, + "Actual Rows": 1749, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.250, + "Actual Total Time": 1916.344, + "Actual Rows": 2843, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.113, + "Actual Total Time": 3048.466, + "Actual Rows": 3803, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 1483.55, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 19.661, + "Actual Total Time": 1743.945, + "Actual Rows": 4874, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "ci.movie_id", "ci.person_id"], + "Inner Unique": false, + "Join Filter": "(mi_idx.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.996, + "Actual Total Time": 66.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.705, + "Actual Total Time": 2765.995, + "Actual Rows": 7406, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.161, + "Actual Total Time": 2530.688, + "Actual Rows": 7298, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 67.764, + "Actual Total Time": 67.770, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.920, + "Actual Total Time": 1560.002, + "Actual Rows": 3355, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.124, + "Actual Total Time": 1845.440, + "Actual Rows": 5314, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.187, + "Actual Total Time": 2929.274, + "Actual Rows": 10431, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 1482.20, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 18.405, + "Actual Total Time": 205.336, + "Actual Rows": 7963, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.995, + "Actual Total Time": 66.000, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.112, + "Actual Total Time": 353.608, + "Actual Rows": 14995, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.979, + "Actual Total Time": 271.803, + "Actual Rows": 11112, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 67.763, + "Actual Total Time": 67.768, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.149, + "Actual Total Time": 162.540, + "Actual Rows": 4743, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.633, + "Actual Total Time": 176.362, + "Actual Rows": 7601, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.012, + "Actual Total Time": 315.221, + "Actual Rows": 16466, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1480.08, + "Plan Rows": 101, + "Plan Width": 17, + "Actual Startup Time": 17.795, + "Actual Total Time": 189.356, + "Actual Rows": 23961, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.266, + "Actual Total Time": 65.268, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.746, + "Actual Total Time": 324.977, + "Actual Rows": 45033, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.299, + "Actual Total Time": 247.953, + "Actual Rows": 33482, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 67.046, + "Actual Total Time": 67.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.461, + "Actual Total Time": 150.028, + "Actual Rows": 14269, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.977, + "Actual Total Time": 161.081, + "Actual Rows": 22907, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.341, + "Actual Total Time": 288.083, + "Actual Rows": 49537, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1462.63, + "Plan Rows": 34, + "Plan Width": 4, + "Actual Startup Time": 17.685, + "Actual Total Time": 58.251, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.265, + "Actual Total Time": 65.266, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.643, + "Actual Total Time": 69.565, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.176, + "Actual Total Time": 61.719, + "Actual Rows": 12628, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 67.045, + "Actual Total Time": 67.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.196, + "Actual Total Time": 38.675, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.868, + "Actual Total Time": 43.879, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.115, + "Actual Total Time": 67.337, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1308.38, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 17.532, + "Actual Total Time": 17.553, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.264, + "Actual Total Time": 65.264, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.500, + "Actual Total Time": 0.529, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.962, + "Actual Total Time": 1.027, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 67.044, + "Actual Total Time": 67.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.883, + "Actual Total Time": 0.908, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.673, + "Actual Total Time": 2.686, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.890, + "Actual Total Time": 0.896, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.87, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.176, + "Actual Total Time": 42.441, + "Actual Rows": 10959, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.138, + "Actual Total Time": 61.622, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.130, + "Actual Total Time": 27.870, + "Actual Rows": 6314, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.304, + "Actual Total Time": 34.996, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.189, + "Actual Total Time": 37.968, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.216, + "Actual Total Time": 60.665, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 76714, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 20522 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 12628 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 5392 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 8337 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.010, + "Actual Rows": 3, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.066, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.158, + "Actual Total Time": 0.192, + "Actual Rows": 1, + "Actual Loops": 63701, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 54, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.136, + "Actual Total Time": 0.160, + "Actual Rows": 0, + "Actual Loops": 14995 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.163, + "Actual Total Time": 0.202, + "Actual Rows": 1, + "Actual Loops": 11112 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.234, + "Actual Total Time": 0.293, + "Actual Rows": 1, + "Actual Loops": 4743 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.174, + "Actual Total Time": 0.218, + "Actual Rows": 1, + "Actual Loops": 7601 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.131, + "Actual Total Time": 0.158, + "Actual Rows": 1, + "Actual Loops": 16466 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 38991, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 7406 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 7298 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 3355 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 5314 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 10431 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.086, + "Actual Rows": 1, + "Actual Loops": 16315, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Thriller}'::text[]))", + "Rows Removed by Filter": 83, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.077, + "Actual Rows": 0, + "Actual Loops": 2463 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.098, + "Actual Rows": 1, + "Actual Loops": 3053 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.104, + "Actual Rows": 0, + "Actual Loops": 1749 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.077, + "Actual Rows": 1, + "Actual Loops": 2843 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.063, + "Actual Rows": 1, + "Actual Loops": 3803 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 9688, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 1057 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 2439 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 546 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 2040 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 2307 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 3478, + "Output": ["cct1.id", "cct1.kind"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = ANY ('{cast,crew}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 362 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 815 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 293 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 715 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 770 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 3478, + "Output": ["cct2.id", "cct2.kind"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 362 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 815 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 293 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 715 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 770 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 1021, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 98 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 226 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 100 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 197 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 220 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 757, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 76 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 177 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 72 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 142 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 147 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6682106289455670140, + "Planning Time": 296.181, + "Triggers": [ + ], + "Execution Time": 3381.850, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -6682106289455670140, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS complete_gore_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind IN ('cast',
                    'crew')
  AND cct2.kind ='complete+verified'
  AND ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Thriller')
  AND n.gender = 'm'
  AND t.production_year > 2000
  AND (t.title LIKE '%Freddy%'
       OR t.title LIKE '%Jason%'
       OR t.title LIKE 'Saw%')
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1487.45, + "Total Cost": 1487.46, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 995.640, + "Actual Total Time": 1020.143, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.27, + "Total Cost": 1487.44, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 374.983, + "Actual Total Time": 1020.041, + "Actual Rows": 28, + "Actual Loops": 1, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.84, + "Total Cost": 1486.93, + "Plan Rows": 1, + "Plan Width": 69, + "Actual Startup Time": 374.943, + "Actual Total Time": 1019.553, + "Actual Rows": 28, + "Actual Loops": 1, + "Output": ["mi_idx.info", "mi.info", "t.title", "ci.person_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.40, + "Total Cost": 1485.57, + "Plan Rows": 1, + "Plan Width": 85, + "Actual Startup Time": 374.534, + "Actual Total Time": 1015.431, + "Actual Rows": 12, + "Actual Loops": 1, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "cc.movie_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4.97, + "Total Cost": 1485.09, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 9.874, + "Actual Total Time": 909.762, + "Actual Rows": 8247, + "Actual Loops": 1, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "cc.movie_id", "mi.info", "mi.movie_id"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.97, + "Total Cost": 1484.09, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 22.870, + "Actual Total Time": 607.280, + "Actual Rows": 1031, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "cc.movie_id", "mi.info", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.605, + "Actual Total Time": 813.315, + "Actual Rows": 1102, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 62.204, + "Actual Total Time": 62.212, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.911, + "Actual Total Time": 780.400, + "Actual Rows": 1300, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 62.251, + "Actual Total Time": 62.258, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.026, + "Actual Total Time": 516.157, + "Actual Rows": 477, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.066, + "Actual Total Time": 979.704, + "Actual Rows": 1648, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.777, + "Actual Total Time": 955.797, + "Actual Rows": 2614, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.83, + "Total Cost": 1483.91, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 22.818, + "Actual Total Time": 599.881, + "Actual Rows": 1287, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "cc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(mi_idx.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.559, + "Actual Total Time": 805.271, + "Actual Rows": 1302, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 62.203, + "Actual Total Time": 62.210, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.811, + "Actual Total Time": 769.163, + "Actual Rows": 1616, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 62.249, + "Actual Total Time": 62.256, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.967, + "Actual Total Time": 511.620, + "Actual Rows": 598, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.968, + "Actual Total Time": 967.240, + "Actual Rows": 2087, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.689, + "Actual Total Time": 941.028, + "Actual Rows": 3242, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.39, + "Total Cost": 1482.98, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 18.605, + "Actual Total Time": 299.218, + "Actual Rows": 2035, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.462, + "Actual Total Time": 501.411, + "Actual Rows": 2405, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 62.203, + "Actual Total Time": 62.209, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.117, + "Actual Total Time": 322.621, + "Actual Rows": 1895, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 62.249, + "Actual Total Time": 62.254, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.435, + "Actual Total Time": 249.071, + "Actual Rows": 1416, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.736, + "Actual Total Time": 406.137, + "Actual Rows": 2870, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.574, + "Actual Total Time": 464.676, + "Actual Rows": 5231, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 1482.81, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 18.587, + "Actual Total Time": 288.512, + "Actual Rows": 2035, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.446, + "Actual Total Time": 488.419, + "Actual Rows": 2405, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 62.202, + "Actual Total Time": 62.208, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.083, + "Actual Total Time": 310.773, + "Actual Rows": 1895, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 62.248, + "Actual Total Time": 62.253, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.419, + "Actual Total Time": 239.876, + "Actual Rows": 1416, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.704, + "Actual Total Time": 389.675, + "Actual Rows": 2870, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.543, + "Actual Total Time": 442.088, + "Actual Rows": 5231, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.12, + "Total Cost": 1482.64, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 17.715, + "Actual Total Time": 281.383, + "Actual Rows": 4418, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.271, + "Actual Total Time": 478.418, + "Actual Rows": 6315, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 62.202, + "Actual Total Time": 62.206, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.719, + "Actual Total Time": 302.922, + "Actual Rows": 3976, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 62.247, + "Actual Total Time": 62.251, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.314, + "Actual Total Time": 233.605, + "Actual Rows": 3130, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.615, + "Actual Total Time": 379.290, + "Actual Rows": 5929, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.883, + "Actual Total Time": 427.489, + "Actual Rows": 10947, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 1482.20, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 16.893, + "Actual Total Time": 210.488, + "Actual Rows": 7963, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.817, + "Actual Total Time": 354.032, + "Actual Rows": 14995, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 62.200, + "Actual Total Time": 62.204, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.452, + "Actual Total Time": 220.097, + "Actual Rows": 7601, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 62.247, + "Actual Total Time": 62.250, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.797, + "Actual Total Time": 176.936, + "Actual Rows": 4743, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.447, + "Actual Total Time": 272.996, + "Actual Rows": 11112, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.113, + "Actual Total Time": 304.284, + "Actual Rows": 16466, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1480.08, + "Plan Rows": 101, + "Plan Width": 17, + "Actual Startup Time": 16.510, + "Actual Total Time": 197.822, + "Actual Rows": 23961, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.632, + "Actual Total Time": 331.344, + "Actual Rows": 45033, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 61.788, + "Actual Total Time": 61.790, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.086, + "Actual Total Time": 205.335, + "Actual Rows": 22907, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 61.827, + "Actual Total Time": 61.828, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.414, + "Actual Total Time": 167.687, + "Actual Rows": 14269, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.049, + "Actual Total Time": 254.299, + "Actual Rows": 33482, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.664, + "Actual Total Time": 282.676, + "Actual Rows": 49537, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1462.63, + "Plan Rows": 34, + "Plan Width": 4, + "Actual Startup Time": 16.433, + "Actual Total Time": 65.796, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.536, + "Actual Total Time": 84.886, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 61.787, + "Actual Total Time": 61.788, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.990, + "Actual Total Time": 58.569, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 61.826, + "Actual Total Time": 61.827, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.311, + "Actual Total Time": 53.239, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.910, + "Actual Total Time": 66.740, + "Actual Rows": 12628, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.531, + "Actual Total Time": 67.410, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1308.38, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 16.299, + "Actual Total Time": 16.318, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.409, + "Actual Total Time": 0.438, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 61.786, + "Actual Total Time": 61.787, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.783, + "Actual Total Time": 0.798, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 61.825, + "Actual Total Time": 61.825, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.189, + "Actual Total Time": 1.213, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.671, + "Actual Total Time": 0.723, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.274, + "Actual Total Time": 1.279, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.87, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.153, + "Actual Total Time": 52.947, + "Actual Rows": 10959, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.124, + "Actual Total Time": 77.973, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.200, + "Actual Total Time": 54.364, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.118, + "Actual Total Time": 49.808, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.139, + "Actual Total Time": 30.757, + "Actual Rows": 6314, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.249, + "Actual Total Time": 60.804, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 76714, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 20522 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 8337 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 5392 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 12628 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.010, + "Actual Rows": 3, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.068, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 63701, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 14995 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 7601 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 4743 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 11112 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 16466 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 35346, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 5047, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 6315, + "Cache Hits": 6313, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3976, + "Cache Hits": 3974, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3130, + "Cache Hits": 3128, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5929, + "Cache Hits": 5927, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 10947, + "Cache Hits": 10945, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 12, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 16283, + "Output": ["cct1.id", "cct1.kind"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = ANY ('{cast,crew}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 2405 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 1895 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 1416 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 2870 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 5231 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 0.106, + "Actual Total Time": 0.147, + "Actual Rows": 1, + "Actual Loops": 16283, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Thriller}'::text[]))", + "Rows Removed by Filter": 135, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.098, + "Actual Total Time": 0.125, + "Actual Rows": 1, + "Actual Loops": 2405 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.157, + "Actual Total Time": 0.234, + "Actual Rows": 1, + "Actual Loops": 1895 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.147, + "Actual Total Time": 0.184, + "Actual Rows": 0, + "Actual Loops": 1416 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.135, + "Actual Total Time": 0.194, + "Actual Rows": 1, + "Actual Loops": 2870 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.090, + "Actual Rows": 1, + "Actual Loops": 5231 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 10295, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 1302 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 1616 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 598 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 2087 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 3242 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 8247, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2000) AND ((t.title ~~ '%Freddy%'::text) OR (t.title ~~ '%Jason%'::text) OR (t.title ~~ 'Saw%'::text)))", + "Rows Removed by Filter": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.152, + "Actual Total Time": 0.339, + "Actual Rows": 2, + "Actual Loops": 12, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 107 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 28, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0 + } + ] + } + ] + }, + "Query Identifier": 7721649514993682563, + "Planning Time": 232.324, + "Triggers": [ + ], + "Execution Time": 1020.781, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 7721649514993682563, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS complete_violent_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind ='complete+verified'
  AND ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Action',
                  'Sci-Fi',
                  'Thriller',
                  'Crime',
                  'War')
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1487.64, + "Total Cost": 1487.65, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 4365.823, + "Actual Total Time": 4396.005, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1487.56, + "Total Cost": 1487.57, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 2937.399, + "Actual Total Time": 4395.939, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1486.56, + "Total Cost": 1486.57, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 2323.841, + "Actual Total Time": 2323.849, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 61.666, + "Actual Total Time": 61.676, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3630.953, + "Actual Total Time": 3630.961, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2391.620, + "Actual Total Time": 2391.626, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4347.974, + "Actual Total Time": 4347.980, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 62.524, + "Actual Total Time": 62.533, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2016.239, + "Actual Total Time": 2016.247, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3143.441, + "Actual Total Time": 3143.446, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.26, + "Total Cost": 1486.55, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 94.741, + "Actual Total Time": 2321.324, + "Actual Rows": 1003, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 61.658, + "Actual Total Time": 61.667, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.188, + "Actual Total Time": 3628.342, + "Actual Rows": 980, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 181.059, + "Actual Total Time": 2388.283, + "Actual Rows": 1380, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 118.514, + "Actual Total Time": 4343.066, + "Actual Rows": 2009, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 62.517, + "Actual Total Time": 62.526, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 81.661, + "Actual Total Time": 2014.822, + "Actual Rows": 479, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 134.977, + "Actual Total Time": 3138.718, + "Actual Rows": 2096, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.13, + "Total Cost": 1486.38, + "Plan Rows": 1, + "Plan Width": 84, + "Actual Startup Time": 94.728, + "Actual Total Time": 2315.689, + "Actual Rows": 1217, + "Actual Loops": 8, + "Output": ["n.name", "mi_idx.info", "t.title", "mi.info", "cc.subject_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 61.658, + "Actual Total Time": 61.666, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.171, + "Actual Total Time": 3622.553, + "Actual Rows": 1136, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 181.049, + "Actual Total Time": 2381.178, + "Actual Rows": 1663, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 118.491, + "Actual Total Time": 4331.717, + "Actual Rows": 2507, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 62.516, + "Actual Total Time": 62.524, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 81.641, + "Actual Total Time": 2011.518, + "Actual Rows": 565, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 134.968, + "Actual Total Time": 3128.353, + "Actual Rows": 2541, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.00, + "Total Cost": 1486.21, + "Plan Rows": 1, + "Plan Width": 88, + "Actual Startup Time": 80.735, + "Actual Total Time": 2303.426, + "Actual Rows": 2355, + "Actual Loops": 8, + "Output": ["n.name", "mi_idx.info", "t.title", "mi.info", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 61.657, + "Actual Total Time": 61.664, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.126, + "Actual Total Time": 3609.309, + "Actual Rows": 2251, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 180.761, + "Actual Total Time": 2365.301, + "Actual Rows": 3257, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 71.310, + "Actual Total Time": 4307.211, + "Actual Rows": 4881, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 62.515, + "Actual Total Time": 62.522, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 80.872, + "Actual Total Time": 2004.346, + "Actual Rows": 1065, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 134.931, + "Actual Total Time": 3106.091, + "Actual Rows": 4865, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.58, + "Total Cost": 1485.76, + "Plan Rows": 1, + "Plan Width": 100, + "Actual Startup Time": 28.908, + "Actual Total Time": 2271.329, + "Actual Rows": 3269, + "Actual Loops": 8, + "Output": ["n.name", "mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "t.title", "t.id", "ci.movie_id", "mi.info", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 61.656, + "Actual Total Time": 61.663, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.322, + "Actual Total Time": 3573.129, + "Actual Rows": 3244, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.728, + "Actual Total Time": 2324.109, + "Actual Rows": 4673, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.131, + "Actual Total Time": 4242.925, + "Actual Rows": 6686, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 62.515, + "Actual Total Time": 62.520, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 76.209, + "Actual Total Time": 1985.299, + "Actual Rows": 1326, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.342, + "Actual Total Time": 3047.180, + "Actual Rows": 6963, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.44, + "Total Cost": 1485.58, + "Plan Rows": 1, + "Plan Width": 104, + "Actual Startup Time": 28.858, + "Actual Total Time": 2249.270, + "Actual Rows": 3627, + "Actual Loops": 8, + "Output": ["n.name", "mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "t.title", "t.id", "ci.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 61.655, + "Actual Total Time": 61.662, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.271, + "Actual Total Time": 3548.705, + "Actual Rows": 3522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.650, + "Actual Total Time": 2294.584, + "Actual Rows": 5248, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.038, + "Actual Total Time": 4199.225, + "Actual Rows": 7307, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 62.514, + "Actual Total Time": 62.518, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 76.142, + "Actual Total Time": 1973.239, + "Actual Rows": 1474, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.257, + "Actual Total Time": 3006.996, + "Actual Rows": 7794, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.00, + "Total Cost": 1484.53, + "Plan Rows": 1, + "Plan Width": 53, + "Actual Startup Time": 19.303, + "Actual Total Time": 1944.355, + "Actual Rows": 2834, + "Actual Loops": 8, + "Output": ["n.name", "mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "t.title", "t.id", "ci.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 61.655, + "Actual Total Time": 61.660, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.233, + "Actual Total Time": 3172.499, + "Actual Rows": 4322, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.488, + "Actual Total Time": 1935.459, + "Actual Rows": 3285, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.868, + "Actual Total Time": 3674.884, + "Actual Rows": 5551, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 62.513, + "Actual Total Time": 62.517, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.342, + "Actual Total Time": 1709.880, + "Actual Rows": 1899, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.086, + "Actual Total Time": 2522.256, + "Actual Rows": 4518, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.57, + "Total Cost": 1484.02, + "Plan Rows": 1, + "Plan Width": 42, + "Actual Startup Time": 18.390, + "Actual Total Time": 1851.493, + "Actual Rows": 4874, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 61.654, + "Actual Total Time": 61.659, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.592, + "Actual Total Time": 3024.114, + "Actual Rows": 7406, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.384, + "Actual Total Time": 1841.257, + "Actual Rows": 5314, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.035, + "Actual Total Time": 3482.787, + "Actual Rows": 10431, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 62.512, + "Actual Total Time": 62.516, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.793, + "Actual Total Time": 1631.641, + "Actual Rows": 3355, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.978, + "Actual Total Time": 2399.161, + "Actual Rows": 7298, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.13, + "Total Cost": 1482.67, + "Plan Rows": 1, + "Plan Width": 34, + "Actual Startup Time": 17.268, + "Actual Total Time": 309.858, + "Actual Rows": 7963, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(mi_idx.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 61.653, + "Actual Total Time": 61.658, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.080, + "Actual Total Time": 559.981, + "Actual Rows": 14995, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.266, + "Actual Total Time": 262.050, + "Actual Rows": 7601, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.145, + "Actual Total Time": 559.312, + "Actual Rows": 16466, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 62.511, + "Actual Total Time": 62.514, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.145, + "Actual Total Time": 248.814, + "Actual Rows": 4743, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.908, + "Actual Total Time": 368.085, + "Actual Rows": 11112, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 1482.20, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 17.168, + "Actual Total Time": 205.923, + "Actual Rows": 7963, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 61.652, + "Actual Total Time": 61.656, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.982, + "Actual Total Time": 366.389, + "Actual Rows": 14995, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.174, + "Actual Total Time": 169.103, + "Actual Rows": 7601, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.914, + "Actual Total Time": 361.605, + "Actual Rows": 16466, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 62.510, + "Actual Total Time": 62.512, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.941, + "Actual Total Time": 158.984, + "Actual Rows": 4743, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.800, + "Actual Total Time": 237.597, + "Actual Rows": 11112, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1480.08, + "Plan Rows": 101, + "Plan Width": 17, + "Actual Startup Time": 16.570, + "Actual Total Time": 189.626, + "Actual Rows": 23961, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 61.040, + "Actual Total Time": 61.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.641, + "Actual Total Time": 337.031, + "Actual Rows": 45033, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.471, + "Actual Total Time": 153.492, + "Actual Rows": 22907, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.149, + "Actual Total Time": 330.334, + "Actual Rows": 49537, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.881, + "Actual Total Time": 61.882, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.182, + "Actual Total Time": 146.207, + "Actual Rows": 14269, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.201, + "Actual Total Time": 217.192, + "Actual Rows": 33482, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1462.63, + "Plan Rows": 34, + "Plan Width": 4, + "Actual Startup Time": 16.486, + "Actual Total Time": 59.330, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 61.039, + "Actual Total Time": 61.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.558, + "Actual Total Time": 78.073, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.352, + "Actual Total Time": 40.281, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.036, + "Actual Total Time": 81.390, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.879, + "Actual Total Time": 61.880, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.000, + "Actual Total Time": 38.561, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.072, + "Actual Total Time": 57.893, + "Actual Rows": 12628, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1308.38, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 16.361, + "Actual Total Time": 16.379, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 61.038, + "Actual Total Time": 61.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.450, + "Actual Total Time": 0.478, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.175, + "Actual Total Time": 1.188, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.836, + "Actual Total Time": 0.842, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.878, + "Actual Total Time": 61.878, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.785, + "Actual Total Time": 0.807, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.873, + "Actual Total Time": 2.922, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.87, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.143, + "Actual Total Time": 44.920, + "Actual Rows": 10959, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.104, + "Actual Total Time": 70.024, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.171, + "Actual Total Time": 35.999, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.194, + "Actual Total Time": 73.636, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.206, + "Actual Total Time": 34.821, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.118, + "Actual Total Time": 25.393, + "Actual Rows": 6314, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 76714, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 20522 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 8337 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 3, + "Actual Loops": 19528 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 5392 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 3, + "Actual Loops": 12628 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.072, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 63701, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 14995 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 7601 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 16466 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 4743 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 11112 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.158, + "Actual Total Time": 0.192, + "Actual Rows": 1, + "Actual Loops": 63701, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 54, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.139, + "Actual Total Time": 0.163, + "Actual Rows": 0, + "Actual Loops": 14995 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.164, + "Actual Total Time": 0.206, + "Actual Rows": 1, + "Actual Loops": 7601 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.147, + "Actual Total Time": 0.176, + "Actual Rows": 1, + "Actual Loops": 16466 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.232, + "Actual Total Time": 0.290, + "Actual Rows": 1, + "Actual Loops": 4743 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.147, + "Actual Total Time": 0.182, + "Actual Rows": 1, + "Actual Loops": 11112 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 38991, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 7406 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 5314 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 10431 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 3355 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 7298 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.105, + "Actual Rows": 1, + "Actual Loops": 22670, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Action,Sci-Fi,Thriller,Crime,War}'::text[]))", + "Rows Removed by Filter": 88, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.085, + "Actual Rows": 1, + "Actual Loops": 4322 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.107, + "Actual Rows": 2, + "Actual Loops": 3285 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.092, + "Actual Rows": 1, + "Actual Loops": 5551 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.096, + "Actual Total Time": 0.136, + "Actual Rows": 1, + "Actual Loops": 1899 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.105, + "Actual Rows": 2, + "Actual Loops": 4518 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 29015, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 3522 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 5248 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 7307 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 1474 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 7794 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 26153, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 3244 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 4673 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 6686 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1326 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 6963 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 18841, + "Output": ["cct2.id", "cct2.kind"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 2251 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 3257 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 4881 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 1065 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 4865 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 9735, + "Output": ["cct1.id", "cct1.kind"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1136 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 1663 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 2507 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 565 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 2541 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1889760809355916724, + "Planning Time": 273.643, + "Triggers": [ + ], + "Execution Time": 4396.509, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -1889760809355916724, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS violent_liongate_movie
FROM cast_info AS ci,
     company_name AS cn,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND cn.name LIKE 'Lionsgate%'
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Thriller')
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cn.id = mc.company_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1487.65, + "Total Cost": 1487.66, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 14763.008, + "Actual Total Time": 14789.221, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.44, + "Total Cost": 1487.64, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 226.936, + "Actual Total Time": 14786.328, + "Actual Rows": 1273, + "Actual Loops": 1, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6.02, + "Total Cost": 1487.20, + "Plan Rows": 1, + "Plan Width": 84, + "Actual Startup Time": 79.842, + "Actual Total Time": 12999.199, + "Actual Rows": 186510, + "Actual Loops": 1, + "Output": ["mc.company_id", "mi.info", "mi_idx.info", "n.name", "t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.02, + "Total Cost": 1486.20, + "Plan Rows": 1, + "Plan Width": 84, + "Actual Startup Time": 63.754, + "Actual Total Time": 7713.604, + "Actual Rows": 23314, + "Actual Loops": 8, + "Output": ["mc.company_id", "mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.566, + "Actual Total Time": 7733.406, + "Actual Rows": 20684, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 71.807, + "Actual Total Time": 71.816, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.694, + "Actual Total Time": 71.703, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.325, + "Actual Total Time": 5322.738, + "Actual Rows": 10994, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.833, + "Actual Total Time": 13071.873, + "Actual Rows": 43868, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 79.177, + "Actual Total Time": 14702.374, + "Actual Rows": 48226, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 139.783, + "Actual Total Time": 12127.955, + "Actual Rows": 36899, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.59, + "Total Cost": 1485.69, + "Plan Rows": 1, + "Plan Width": 73, + "Actual Startup Time": 40.025, + "Actual Total Time": 7399.290, + "Actual Rows": 34796, + "Actual Loops": 8, + "Output": ["ci.person_id", "mc.company_id", "mi.info", "mi_idx.info", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.468, + "Actual Total Time": 7410.618, + "Actual Rows": 31382, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 71.806, + "Actual Total Time": 71.814, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.693, + "Actual Total Time": 71.701, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.223, + "Actual Total Time": 5151.101, + "Actual Rows": 16331, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.735, + "Actual Total Time": 12519.803, + "Actual Rows": 68646, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 54.042, + "Actual Total Time": 14069.672, + "Actual Rows": 69509, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.354, + "Actual Total Time": 11613.939, + "Actual Rows": 54902, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.15, + "Total Cost": 1484.33, + "Plan Rows": 1, + "Plan Width": 89, + "Actual Startup Time": 20.532, + "Actual Total Time": 937.419, + "Actual Rows": 45063, + "Actual Loops": 8, + "Output": ["mi.info", "mi.movie_id", "mc.movie_id", "mc.company_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.293, + "Actual Total Time": 1420.927, + "Actual Rows": 43673, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 71.806, + "Actual Total Time": 71.813, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.693, + "Actual Total Time": 71.700, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.631, + "Actual Total Time": 697.193, + "Actual Rows": 21963, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.195, + "Actual Total Time": 1535.479, + "Actual Rows": 91967, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.192, + "Actual Total Time": 1547.091, + "Actual Rows": 84540, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.575, + "Actual Total Time": 1116.737, + "Actual Rows": 67924, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.00, + "Total Cost": 1484.15, + "Plan Rows": 1, + "Plan Width": 93, + "Actual Startup Time": 20.468, + "Actual Total Time": 862.835, + "Actual Rows": 50385, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mc.movie_id", "mc.company_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.240, + "Actual Total Time": 1340.398, + "Actual Rows": 47894, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 71.805, + "Actual Total Time": 71.811, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.692, + "Actual Total Time": 71.698, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.525, + "Actual Total Time": 653.820, + "Actual Rows": 24394, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.089, + "Actual Total Time": 1402.472, + "Actual Rows": 103654, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.088, + "Actual Total Time": 1407.478, + "Actual Rows": 94707, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.467, + "Actual Total Time": 999.266, + "Actual Rows": 74729, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.57, + "Total Cost": 1483.60, + "Plan Rows": 1, + "Plan Width": 85, + "Actual Startup Time": 20.385, + "Actual Total Time": 750.030, + "Actual Rows": 4163, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.162, + "Actual Total Time": 1194.933, + "Actual Rows": 4791, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 71.804, + "Actual Total Time": 71.809, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.691, + "Actual Total Time": 71.697, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.362, + "Actual Total Time": 583.715, + "Actual Rows": 1616, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.915, + "Actual Total Time": 1202.909, + "Actual Rows": 9350, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.980, + "Actual Total Time": 1197.723, + "Actual Rows": 7512, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.372, + "Actual Total Time": 839.129, + "Actual Rows": 5859, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 1483.13, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 20.280, + "Actual Total Time": 693.825, + "Actual Rows": 4163, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mk.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi_idx.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.056, + "Actual Total Time": 1116.787, + "Actual Rows": 4791, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 71.803, + "Actual Total Time": 71.807, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.690, + "Actual Total Time": 71.695, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.129, + "Actual Total Time": 550.520, + "Actual Rows": 1616, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.713, + "Actual Total Time": 1100.145, + "Actual Rows": 9350, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.852, + "Actual Total Time": 1096.317, + "Actual Rows": 7512, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.255, + "Actual Total Time": 762.766, + "Actual Rows": 5859, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 1482.20, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 19.501, + "Actual Total Time": 202.312, + "Actual Rows": 7963, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.931, + "Actual Total Time": 390.338, + "Actual Rows": 14995, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 71.802, + "Actual Total Time": 71.806, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.690, + "Actual Total Time": 71.694, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.606, + "Actual Total Time": 158.485, + "Actual Rows": 4743, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.489, + "Actual Total Time": 300.941, + "Actual Rows": 16466, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.702, + "Actual Total Time": 262.482, + "Actual Rows": 11112, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.111, + "Actual Total Time": 171.254, + "Actual Rows": 7601, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1480.08, + "Plan Rows": 101, + "Plan Width": 17, + "Actual Startup Time": 19.070, + "Actual Total Time": 187.577, + "Actual Rows": 23961, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.720, + "Actual Total Time": 362.812, + "Actual Rows": 45033, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 71.370, + "Actual Total Time": 71.372, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.242, + "Actual Total Time": 71.244, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.155, + "Actual Total Time": 147.650, + "Actual Rows": 14269, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.014, + "Actual Total Time": 275.119, + "Actual Rows": 49537, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.242, + "Actual Total Time": 240.783, + "Actual Rows": 33482, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.651, + "Actual Total Time": 155.671, + "Actual Rows": 22907, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1462.63, + "Plan Rows": 34, + "Plan Width": 4, + "Actual Startup Time": 18.976, + "Actual Total Time": 62.931, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.636, + "Actual Total Time": 89.591, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 71.369, + "Actual Total Time": 71.370, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.241, + "Actual Total Time": 71.242, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.927, + "Actual Total Time": 43.293, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.863, + "Actual Total Time": 70.160, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.119, + "Actual Total Time": 66.459, + "Actual Rows": 12628, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.535, + "Actual Total Time": 40.548, + "Actual Rows": 8337, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1308.38, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 18.801, + "Actual Total Time": 18.817, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.495, + "Actual Total Time": 0.520, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 71.367, + "Actual Total Time": 71.368, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.240, + "Actual Total Time": 71.241, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.660, + "Actual Total Time": 0.681, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.571, + "Actual Total Time": 1.577, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.801, + "Actual Total Time": 0.844, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.282, + "Actual Total Time": 1.293, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.87, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.200, + "Actual Total Time": 46.442, + "Actual Rows": 10959, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.137, + "Actual Total Time": 81.816, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.260, + "Actual Total Time": 40.209, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.282, + "Actual Total Time": 62.522, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.179, + "Actual Total Time": 30.330, + "Actual Rows": 6314, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.243, + "Actual Total Time": 35.722, + "Actual Rows": 8337, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 76714, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 20522 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 5392 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 3, + "Actual Loops": 19528 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 12628 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 8337 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.070, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.069, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.061, + "Actual Rows": 1, + "Actual Loops": 63701, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Thriller}'::text[]))", + "Rows Removed by Filter": 58, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 14995 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.081, + "Actual Rows": 0, + "Actual Loops": 4743 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 16466 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.074, + "Actual Rows": 1, + "Actual Loops": 11112 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.077, + "Actual Rows": 1, + "Actual Loops": 7601 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 33306, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 4791 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 1616 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 9350 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 7512 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 5859 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.021, + "Actual Rows": 12, + "Actual Loops": 33306, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.025, + "Actual Rows": 10, + "Actual Loops": 4791 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.035, + "Actual Rows": 15, + "Actual Loops": 1616 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.017, + "Actual Rows": 11, + "Actual Loops": 9350 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.022, + "Actual Rows": 13, + "Actual Loops": 7512 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.021, + "Actual Rows": 13, + "Actual Loops": 5859 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 403078, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 57698, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 47894, + "Cache Hits": 47892, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 24394, + "Cache Hits": 24392, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 103654, + "Cache Hits": 103652, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 94707, + "Cache Hits": 94705, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 74729, + "Cache Hits": 74727, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 12, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.104, + "Actual Total Time": 0.142, + "Actual Rows": 1, + "Actual Loops": 360501, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 83, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.104, + "Actual Total Time": 0.136, + "Actual Rows": 1, + "Actual Loops": 43673 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.147, + "Actual Total Time": 0.202, + "Actual Rows": 1, + "Actual Loops": 21963 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.088, + "Actual Total Time": 0.119, + "Actual Rows": 1, + "Actual Loops": 91967 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.107, + "Actual Total Time": 0.147, + "Actual Rows": 1, + "Actual Loops": 84540 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.111, + "Actual Total Time": 0.154, + "Actual Rows": 1, + "Actual Loops": 67924 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 278364, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 31382 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 16331 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 68646 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 69509 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 54902 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 186510, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(cn.name ~~ 'Lionsgate%'::text)", + "Rows Removed by Filter": 1 + } + ] + } + ] + }, + "Query Identifier": 7519382914444524780, + "Planning Time": 177.161, + "Triggers": [ + ], + "Execution Time": 14789.844, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 7519382914444524780, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS violent_liongate_movie
FROM cast_info AS ci,
     company_name AS cn,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND cn.name LIKE 'Lionsgate%'
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mc.note LIKE '%(Blu-ray)%'
  AND mi.info IN ('Horror',
                  'Thriller')
  AND n.gender = 'm'
  AND t.production_year > 2000
  AND (t.title LIKE '%Freddy%'
       OR t.title LIKE '%Jason%'
       OR t.title LIKE 'Saw%')
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1485.22, + "Total Cost": 1485.23, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 362.002, + "Actual Total Time": 383.744, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1485.14, + "Total Cost": 1485.15, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 266.785, + "Actual Total Time": 383.713, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1484.14, + "Total Cost": 1484.15, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 213.062, + "Actual Total Time": 213.070, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 68.498, + "Actual Total Time": 68.505, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 350.841, + "Actual Total Time": 350.848, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.097, + "Actual Total Time": 71.105, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 326.018, + "Actual Total Time": 326.026, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 247.017, + "Actual Total Time": 247.024, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 198.235, + "Actual Total Time": 198.243, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 177.123, + "Actual Total Time": 177.132, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.73, + "Total Cost": 1484.13, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 168.574, + "Actual Total Time": 213.038, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 68.492, + "Actual Total Time": 68.499, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 350.835, + "Actual Total Time": 350.841, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.090, + "Actual Total Time": 71.096, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 246.843, + "Actual Total Time": 326.002, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 143.379, + "Actual Total Time": 246.945, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 144.236, + "Actual Total Time": 198.193, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 131.171, + "Actual Total Time": 177.106, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.30, + "Total Cost": 1483.62, + "Plan Rows": 1, + "Plan Width": 69, + "Actual Startup Time": 168.547, + "Actual Total Time": 212.892, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 68.491, + "Actual Total Time": 68.497, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 350.834, + "Actual Total Time": 350.840, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.089, + "Actual Total Time": 71.095, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 246.811, + "Actual Total Time": 325.913, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 143.342, + "Actual Total Time": 246.478, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 144.184, + "Actual Total Time": 197.951, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 131.116, + "Actual Total Time": 177.017, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.16, + "Total Cost": 1483.43, + "Plan Rows": 1, + "Plan Width": 73, + "Actual Startup Time": 168.525, + "Actual Total Time": 212.718, + "Actual Rows": 32, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 68.490, + "Actual Total Time": 68.496, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 350.833, + "Actual Total Time": 350.838, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.088, + "Actual Total Time": 71.094, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 246.783, + "Actual Total Time": 325.821, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 143.301, + "Actual Total Time": 245.864, + "Actual Rows": 132, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 144.150, + "Actual Total Time": 197.681, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 131.069, + "Actual Total Time": 176.921, + "Actual Rows": 9, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.73, + "Total Cost": 1482.91, + "Plan Rows": 1, + "Plan Width": 84, + "Actual Startup Time": 168.495, + "Actual Total Time": 212.565, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "mi.info", "mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 68.489, + "Actual Total Time": 68.494, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 350.832, + "Actual Total Time": 350.837, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.088, + "Actual Total Time": 71.093, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 246.752, + "Actual Total Time": 325.740, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 143.240, + "Actual Total Time": 245.336, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 144.105, + "Actual Total Time": 197.451, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 131.013, + "Actual Total Time": 176.823, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.59, + "Total Cost": 1482.73, + "Plan Rows": 1, + "Plan Width": 88, + "Actual Startup Time": 168.473, + "Actual Total Time": 212.488, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 68.489, + "Actual Total Time": 68.493, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 350.832, + "Actual Total Time": 350.836, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.087, + "Actual Total Time": 71.091, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 246.727, + "Actual Total Time": 325.691, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 143.201, + "Actual Total Time": 245.088, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 144.071, + "Actual Total Time": 197.334, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 130.964, + "Actual Total Time": 176.755, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 1481.80, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 168.325, + "Actual Total Time": 210.730, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 68.488, + "Actual Total Time": 68.492, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 350.831, + "Actual Total Time": 350.835, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.086, + "Actual Total Time": 71.089, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 246.571, + "Actual Total Time": 324.113, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 142.986, + "Actual Total Time": 238.986, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 143.806, + "Actual Total Time": 195.396, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 130.680, + "Actual Total Time": 175.003, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1480.43, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 159.646, + "Actual Total Time": 210.534, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "mc.company_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 68.487, + "Actual Total Time": 68.490, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 281.833, + "Actual Total Time": 350.771, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.085, + "Actual Total Time": 71.088, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 246.494, + "Actual Total Time": 323.972, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 142.898, + "Actual Total Time": 238.374, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 143.714, + "Actual Total Time": 195.099, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 130.584, + "Actual Total Time": 174.866, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1479.90, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 109.455, + "Actual Total Time": 210.113, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 68.486, + "Actual Total Time": 68.489, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 162.355, + "Actual Total Time": 350.552, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.085, + "Actual Total Time": 71.087, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 155.403, + "Actual Total Time": 323.484, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 83.626, + "Actual Total Time": 237.036, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 84.851, + "Actual Total Time": 194.508, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 130.512, + "Actual Total Time": 174.605, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1478.54, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 102.523, + "Actual Total Time": 207.892, + "Actual Rows": 6, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 68.485, + "Actual Total Time": 68.487, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 161.650, + "Actual Total Time": 348.705, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.084, + "Actual Total Time": 71.085, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 102.437, + "Actual Total Time": 320.870, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 83.318, + "Actual Total Time": 231.417, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 84.406, + "Actual Total Time": 190.497, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 130.239, + "Actual Total Time": 173.248, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1462.63, + "Plan Rows": 34, + "Plan Width": 4, + "Actual Startup Time": 18.492, + "Actual Total Time": 70.154, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 68.485, + "Actual Total Time": 68.486, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.643, + "Actual Total Time": 85.342, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.083, + "Actual Total Time": 71.084, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.944, + "Actual Total Time": 78.781, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.524, + "Actual Total Time": 65.689, + "Actual Rows": 12628, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.961, + "Actual Total Time": 59.509, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.270, + "Actual Total Time": 54.223, + "Actual Rows": 5392, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1308.38, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 18.305, + "Actual Total Time": 18.326, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 68.484, + "Actual Total Time": 68.484, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.502, + "Actual Total Time": 0.531, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.082, + "Actual Total Time": 71.082, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.640, + "Actual Total Time": 0.648, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.184, + "Actual Total Time": 0.239, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.697, + "Actual Total Time": 1.711, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.942, + "Actual Total Time": 1.968, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.87, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.214, + "Actual Total Time": 55.394, + "Actual Rows": 10959, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.137, + "Actual Total Time": 77.785, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.297, + "Actual Total Time": 71.852, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.189, + "Actual Total Time": 30.686, + "Actual Rows": 6314, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.254, + "Actual Total Time": 54.813, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.317, + "Actual Total Time": 49.984, + "Actual Rows": 5392, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 76714, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2000) AND ((t.title ~~ '%Freddy%'::text) OR (t.title ~~ '%Jason%'::text) OR (t.title ~~ 'Saw%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 20522 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 19528 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 12628 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 5392 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.245, + "Actual Total Time": 0.359, + "Actual Rows": 2, + "Actual Loops": 49, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 82, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.276, + "Actual Total Time": 0.365, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.207, + "Actual Total Time": 0.323, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.180, + "Actual Total Time": 0.278, + "Actual Rows": 2, + "Actual Loops": 20 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.290, + "Actual Total Time": 0.442, + "Actual Rows": 2, + "Actual Loops": 9 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.362, + "Actual Total Time": 0.448, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.041, + "Actual Rows": 2, + "Actual Loops": 77, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note ~~ '%(Blu-ray)%'::text)", + "Rows Removed by Filter": 24, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 5 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.035, + "Actual Rows": 2, + "Actual Loops": 36 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 14 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.082, + "Actual Rows": 2, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 1.37, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 119, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(cn.name ~~ 'Lionsgate%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 10 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 63 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 19 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 0.119, + "Actual Total Time": 0.263, + "Actual Rows": 2, + "Actual Loops": 53, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Thriller}'::text[]))", + "Rows Removed by Filter": 292, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.314, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.106, + "Actual Total Time": 0.224, + "Actual Rows": 2, + "Actual Loops": 27 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.118, + "Actual Total Time": 0.213, + "Actual Rows": 2, + "Actual Loops": 9 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.204, + "Actual Total Time": 0.581, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 84, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 44 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 16 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 84, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 5 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.010, + "Actual Rows": 3, + "Actual Loops": 44 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 16 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.027, + "Actual Rows": 3, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 252, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 15 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 132 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 48 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 9 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 84, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 44 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 16 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 146477119612211947, + "Planning Time": 175.345, + "Triggers": [ + ], + "Execution Time": 384.276, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 146477119612211947, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS violent_liongate_movie
FROM cast_info AS ci,
     company_name AS cn,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND cn.name LIKE 'Lionsgate%'
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Action',
                  'Sci-Fi',
                  'Thriller',
                  'Crime',
                  'War')
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cn.id = mc.company_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1487.84, + "Total Cost": 1487.85, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 5881.777, + "Actual Total Time": 5911.927, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1487.76, + "Total Cost": 1487.77, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 3643.896, + "Actual Total Time": 5911.858, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1486.76, + "Total Cost": 1486.77, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 3127.345, + "Actual Total Time": 3127.354, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 69.465, + "Actual Total Time": 69.476, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4263.124, + "Actual Total Time": 4263.130, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.125, + "Actual Total Time": 72.135, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5863.240, + "Actual Total Time": 5863.245, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2014.797, + "Actual Total Time": 2014.806, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4216.028, + "Actual Total Time": 4216.034, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4877.200, + "Actual Total Time": 4877.206, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.44, + "Total Cost": 1486.75, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 201.167, + "Actual Total Time": 3126.667, + "Actual Rows": 353, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 69.458, + "Actual Total Time": 69.467, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 242.456, + "Actual Total Time": 4262.666, + "Actual Rows": 193, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.118, + "Actual Total Time": 72.128, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 352.970, + "Actual Total Time": 5862.232, + "Actual Rows": 514, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 308.871, + "Actual Total Time": 2014.521, + "Actual Rows": 120, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 225.863, + "Actual Total Time": 4214.632, + "Actual Rows": 608, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 110.640, + "Actual Total Time": 4875.633, + "Actual Rows": 984, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.01, + "Total Cost": 1486.24, + "Plan Rows": 1, + "Plan Width": 69, + "Actual Startup Time": 201.115, + "Actual Total Time": 3122.560, + "Actual Rows": 353, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 69.457, + "Actual Total Time": 69.465, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 242.383, + "Actual Total Time": 4260.200, + "Actual Rows": 193, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.117, + "Actual Total Time": 72.126, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 352.907, + "Actual Total Time": 5855.940, + "Actual Rows": 514, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 308.816, + "Actual Total Time": 2012.920, + "Actual Rows": 120, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 225.796, + "Actual Total Time": 4206.636, + "Actual Rows": 608, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 110.528, + "Actual Total Time": 4865.496, + "Actual Rows": 984, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.59, + "Total Cost": 1485.80, + "Plan Rows": 1, + "Plan Width": 73, + "Actual Startup Time": 30.314, + "Actual Total Time": 2474.974, + "Actual Rows": 73710, + "Actual Loops": 8, + "Output": ["ci.person_id", "mc.company_id", "mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 69.456, + "Actual Total Time": 69.464, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.482, + "Actual Total Time": 3657.451, + "Actual Rows": 60524, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.117, + "Actual Total Time": 72.125, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.249, + "Actual Total Time": 4628.926, + "Actual Rows": 143364, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 70.853, + "Actual Total Time": 1730.859, + "Actual Rows": 34242, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.767, + "Actual Total Time": 3080.320, + "Actual Rows": 111747, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.817, + "Actual Total Time": 3641.383, + "Actual Rows": 159253, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.44, + "Total Cost": 1485.62, + "Plan Rows": 1, + "Plan Width": 77, + "Actual Startup Time": 30.273, + "Actual Total Time": 2371.717, + "Actual Rows": 85920, + "Actual Loops": 8, + "Output": ["ci.person_id", "mc.company_id", "mi.info", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 69.455, + "Actual Total Time": 69.462, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.430, + "Actual Total Time": 3561.629, + "Actual Rows": 68772, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.116, + "Actual Total Time": 72.122, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.201, + "Actual Total Time": 4438.042, + "Actual Rows": 163571, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 70.807, + "Actual Total Time": 1687.315, + "Actual Rows": 38782, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.674, + "Actual Total Time": 2893.528, + "Actual Rows": 131721, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.767, + "Actual Total Time": 3448.717, + "Actual Rows": 189195, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.01, + "Total Cost": 1485.07, + "Plan Rows": 1, + "Plan Width": 93, + "Actual Startup Time": 29.958, + "Actual Total Time": 2219.795, + "Actual Rows": 5837, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 69.455, + "Actual Total Time": 69.461, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.718, + "Actual Total Time": 3411.775, + "Actual Rows": 5652, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.115, + "Actual Total Time": 72.121, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.152, + "Actual Total Time": 4140.242, + "Actual Rows": 12675, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 70.725, + "Actual Total Time": 1619.839, + "Actual Rows": 2375, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.582, + "Actual Total Time": 2642.960, + "Actual Rows": 8144, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.224, + "Actual Total Time": 3162.146, + "Actual Rows": 12057, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 1484.59, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 29.892, + "Actual Total Time": 2152.679, + "Actual Rows": 5837, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi_idx.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 69.454, + "Actual Total Time": 69.459, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.666, + "Actual Total Time": 3339.821, + "Actual Rows": 5652, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.114, + "Actual Total Time": 72.120, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.091, + "Actual Total Time": 3998.122, + "Actual Rows": 12675, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 70.601, + "Actual Total Time": 1589.540, + "Actual Rows": 2375, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.458, + "Actual Total Time": 2542.148, + "Actual Rows": 8144, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.101, + "Actual Total Time": 3038.860, + "Actual Rows": 12057, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 1483.55, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 20.395, + "Actual Total Time": 1717.168, + "Actual Rows": 4874, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi_idx.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 69.453, + "Actual Total Time": 69.458, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.371, + "Actual Total Time": 2782.670, + "Actual Rows": 7406, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.114, + "Actual Total Time": 72.118, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.634, + "Actual Total Time": 3224.613, + "Actual Rows": 10431, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.877, + "Actual Total Time": 1309.284, + "Actual Rows": 3355, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.255, + "Actual Total Time": 1901.515, + "Actual Rows": 5314, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.905, + "Actual Total Time": 2360.887, + "Actual Rows": 7298, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 1482.20, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 19.159, + "Actual Total Time": 207.822, + "Actual Rows": 7963, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 69.452, + "Actual Total Time": 69.456, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.860, + "Actual Total Time": 358.886, + "Actual Rows": 14995, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.113, + "Actual Total Time": 72.117, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.508, + "Actual Total Time": 362.200, + "Actual Rows": 16466, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.037, + "Actual Total Time": 135.912, + "Actual Rows": 4743, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.810, + "Actual Total Time": 188.773, + "Actual Rows": 7601, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.732, + "Actual Total Time": 257.798, + "Actual Rows": 11112, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1480.08, + "Plan Rows": 101, + "Plan Width": 17, + "Actual Startup Time": 18.972, + "Actual Total Time": 191.867, + "Actual Rows": 23961, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 69.308, + "Actual Total Time": 69.310, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.757, + "Actual Total Time": 328.832, + "Actual Rows": 45033, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.966, + "Actual Total Time": 71.967, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.342, + "Actual Total Time": 331.595, + "Actual Rows": 49537, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.871, + "Actual Total Time": 125.482, + "Actual Rows": 14269, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.637, + "Actual Total Time": 171.166, + "Actual Rows": 22907, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.538, + "Actual Total Time": 237.019, + "Actual Rows": 33482, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1462.63, + "Plan Rows": 34, + "Plan Width": 4, + "Actual Startup Time": 18.861, + "Actual Total Time": 60.221, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 69.307, + "Actual Total Time": 69.308, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.654, + "Actual Total Time": 71.435, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.964, + "Actual Total Time": 71.965, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.175, + "Actual Total Time": 81.629, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.596, + "Actual Total Time": 33.215, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.504, + "Actual Total Time": 41.330, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.395, + "Actual Total Time": 60.751, + "Actual Rows": 12628, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1308.38, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 18.683, + "Actual Total Time": 18.699, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 69.306, + "Actual Total Time": 69.306, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.504, + "Actual Total Time": 0.528, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.963, + "Actual Total Time": 71.964, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.893, + "Actual Total Time": 1.899, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.288, + "Actual Total Time": 1.306, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.223, + "Actual Total Time": 1.235, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.106, + "Actual Total Time": 1.153, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.87, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.205, + "Actual Total Time": 43.276, + "Actual Rows": 10959, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.145, + "Actual Total Time": 63.172, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.274, + "Actual Total Time": 72.952, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.298, + "Actual Total Time": 29.683, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.273, + "Actual Total Time": 36.212, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.170, + "Actual Total Time": 27.500, + "Actual Rows": 6314, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 76714, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 20522 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 3, + "Actual Loops": 19528 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 5392 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 8337 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 12628 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.076, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.154, + "Actual Total Time": 0.188, + "Actual Rows": 1, + "Actual Loops": 63701, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 54, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.137, + "Actual Total Time": 0.160, + "Actual Rows": 0, + "Actual Loops": 14995 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.143, + "Actual Total Time": 0.173, + "Actual Rows": 1, + "Actual Loops": 16466 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.197, + "Actual Total Time": 0.246, + "Actual Rows": 1, + "Actual Loops": 4743 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.176, + "Actual Total Time": 0.224, + "Actual Rows": 1, + "Actual Loops": 7601 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.153, + "Actual Total Time": 0.188, + "Actual Rows": 1, + "Actual Loops": 11112 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.088, + "Actual Rows": 1, + "Actual Loops": 38991, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Action,Sci-Fi,Thriller,Crime,War}'::text[]))", + "Rows Removed by Filter": 73, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.074, + "Actual Rows": 1, + "Actual Loops": 7406 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.073, + "Actual Rows": 1, + "Actual Loops": 10431 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.082, + "Actual Rows": 1, + "Actual Loops": 3355 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.118, + "Actual Rows": 2, + "Actual Loops": 5314 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.091, + "Actual Rows": 2, + "Actual Loops": 7298 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 46694, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 5652 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 12675 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 2375 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 8144 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 12057 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.020, + "Actual Rows": 15, + "Actual Loops": 46694, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.021, + "Actual Rows": 12, + "Actual Loops": 5652 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.019, + "Actual Rows": 13, + "Actual Loops": 12675 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.022, + "Actual Rows": 16, + "Actual Loops": 2375 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.023, + "Actual Rows": 16, + "Actual Loops": 8144 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.019, + "Actual Rows": 16, + "Actual Loops": 12057 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 687361, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 95318, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 68772, + "Cache Hits": 68770, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 163571, + "Cache Hits": 163569, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 38782, + "Cache Hits": 38780, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 131721, + "Cache Hits": 131719, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 1, + "Actual Loops": 189195, + "Cache Hits": 189193, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 12, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 589677, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(cn.name ~~ 'Lionsgate%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 60524 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 143364 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 34242 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 111747 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 159253 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 2825, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 193 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 514 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 120 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 608 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 984 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2399599952233934428, + "Planning Time": 183.568, + "Triggers": [ + ], + "Execution Time": 5912.595, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 2399599952233934428, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(lt.link) AS link_type,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM keyword AS k,
     link_type AS lt,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE k.keyword ='10,000-mile-club'
  AND mk.keyword_id = k.id
  AND t1.id = mk.movie_id
  AND ml.movie_id = t1.id
  AND ml.linked_movie_id = t2.id
  AND lt.id = ml.link_type_id
  AND mk.movie_id = t1.id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1350.96, + "Total Cost": 1350.97, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 17.261, + "Actual Total Time": 18.678, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((lt.link)::text)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1350.89, + "Total Cost": 1350.90, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 15.424, + "Actual Total Time": 18.657, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((lt.link)::text))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1349.89, + "Total Cost": 1349.90, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 7.083, + "Actual Total Time": 7.088, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((lt.link)::text)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.766, + "Actual Total Time": 6.771, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.746, + "Actual Total Time": 6.751, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.763, + "Actual Total Time": 6.768, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.746, + "Actual Total Time": 6.750, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.782, + "Actual Total Time": 5.786, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.577, + "Actual Total Time": 2.581, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.767, + "Actual Total Time": 6.772, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 1349.89, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 7.076, + "Actual Total Time": 7.081, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["lt.link", "t1.title", "t2.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.760, + "Actual Total Time": 6.764, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.739, + "Actual Total Time": 6.743, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.757, + "Actual Total Time": 6.761, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.739, + "Actual Total Time": 6.743, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.777, + "Actual Total Time": 5.781, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.570, + "Actual Total Time": 2.574, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.760, + "Actual Total Time": 6.764, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1348.41, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 7.075, + "Actual Total Time": 7.079, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ml.linked_movie_id", "lt.link", "t1.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.759, + "Actual Total Time": 6.762, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.738, + "Actual Total Time": 6.741, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.756, + "Actual Total Time": 6.760, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.739, + "Actual Total Time": 6.741, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.776, + "Actual Total Time": 5.779, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.569, + "Actual Total Time": 2.571, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.759, + "Actual Total Time": 6.763, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1347.95, + "Plan Rows": 1, + "Plan Width": 24, + "Actual Startup Time": 7.074, + "Actual Total Time": 7.078, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "ml.linked_movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.758, + "Actual Total Time": 6.760, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.737, + "Actual Total Time": 6.740, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.755, + "Actual Total Time": 6.758, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.738, + "Actual Total Time": 6.740, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.775, + "Actual Total Time": 5.778, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.569, + "Actual Total Time": 2.570, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.758, + "Actual Total Time": 6.761, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 1347.79, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 7.074, + "Actual Total Time": 7.075, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.757, + "Actual Total Time": 6.759, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.737, + "Actual Total Time": 6.738, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.755, + "Actual Total Time": 6.756, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.737, + "Actual Total Time": 6.739, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.775, + "Actual Total Time": 5.777, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.568, + "Actual Total Time": 2.569, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.758, + "Actual Total Time": 6.760, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.67, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 7.065, + "Actual Total Time": 7.068, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.756, + "Actual Total Time": 6.757, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.736, + "Actual Total Time": 6.737, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.754, + "Actual Total Time": 6.755, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.737, + "Actual Total Time": 6.738, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.774, + "Actual Total Time": 5.775, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.508, + "Actual Total Time": 2.518, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.757, + "Actual Total Time": 6.758, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 7.049, + "Actual Total Time": 7.051, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = '10,000-mile-club'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.755, + "Actual Total Time": 6.755, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.735, + "Actual Total Time": 6.735, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.753, + "Actual Total Time": 6.754, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.736, + "Actual Total Time": 6.736, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.773, + "Actual Total Time": 5.774, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.385, + "Actual Total Time": 2.393, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.756, + "Actual Total Time": 6.756, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.109, + "Actual Total Time": 0.110, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.109, + "Actual Total Time": 0.110, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 0.38, + "Plan Rows": 5, + "Plan Width": 12, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["lt.id", "lt.link"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"],+ "Index Cond": "(t1.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"], + "Index Cond": "(t2.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6225652705960457954, + "Planning Time": 14.203, + "Triggers": [ + ], + "Execution Time": 19.006, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 6225652705960457954, + "JOINS": 5 + } + ] (1 row)
SELECT MIN(lt.link) AS link_type,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM keyword AS k,
     link_type AS lt,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE k.keyword ='character-name-in-title'
  AND mk.keyword_id = k.id
  AND t1.id = mk.movie_id
  AND ml.movie_id = t1.id
  AND ml.linked_movie_id = t2.id
  AND lt.id = ml.link_type_id
  AND mk.movie_id = t1.id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1350.96, + "Total Cost": 1350.97, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 415.926, + "Actual Total Time": 416.091, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((lt.link)::text)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1350.89, + "Total Cost": 1350.90, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 415.904, + "Actual Total Time": 416.079, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((lt.link)::text))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1349.89, + "Total Cost": 1349.90, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 57.758, + "Actual Total Time": 57.762, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((lt.link)::text)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.476, + "Actual Total Time": 7.480, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.968, + "Actual Total Time": 7.971, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.958, + "Actual Total Time": 7.963, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.073, + "Actual Total Time": 8.077, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.650, + "Actual Total Time": 7.654, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.074, + "Actual Total Time": 8.078, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 1349.89, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 6.186, + "Actual Total Time": 57.316, + "Actual Rows": 548, + "Actual Loops": 8, + "Output": ["lt.link", "t1.title", "t2.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.472, + "Actual Total Time": 7.475, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.965, + "Actual Total Time": 7.967, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.952, + "Actual Total Time": 7.956, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.067, + "Actual Total Time": 8.071, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.644, + "Actual Total Time": 7.648, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.069, + "Actual Total Time": 8.073, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1348.41, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 6.179, + "Actual Total Time": 48.556, + "Actual Rows": 548, + "Actual Loops": 8, + "Output": ["ml.linked_movie_id", "lt.link", "t1.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.471, + "Actual Total Time": 7.474, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.964, + "Actual Total Time": 7.966, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.952, + "Actual Total Time": 7.954, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.066, + "Actual Total Time": 8.069, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.644, + "Actual Total Time": 7.647, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.068, + "Actual Total Time": 8.071, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1347.95, + "Plan Rows": 1, + "Plan Width": 24, + "Actual Startup Time": 6.171, + "Actual Total Time": 43.917, + "Actual Rows": 548, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "ml.linked_movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.470, + "Actual Total Time": 7.472, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.963, + "Actual Total Time": 7.965, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.951, + "Actual Total Time": 7.953, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.065, + "Actual Total Time": 8.068, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.643, + "Actual Total Time": 7.645, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.067, + "Actual Total Time": 8.070, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 1347.79, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 6.166, + "Actual Total Time": 41.623, + "Actual Rows": 548, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.470, + "Actual Total Time": 7.471, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.962, + "Actual Total Time": 7.963, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.950, + "Actual Total Time": 7.952, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.065, + "Actual Total Time": 8.066, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.643, + "Actual Total Time": 7.644, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.066, + "Actual Total Time": 8.068, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.67, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 6.131, + "Actual Total Time": 20.768, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.469, + "Actual Total Time": 7.470, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.962, + "Actual Total Time": 7.962, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.950, + "Actual Total Time": 7.951, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.064, + "Actual Total Time": 8.065, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.642, + "Actual Total Time": 7.643, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.066, + "Actual Total Time": 8.067, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.113, + "Actual Total Time": 6.115, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.468, + "Actual Total Time": 7.468, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.961, + "Actual Total Time": 7.961, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.949, + "Actual Total Time": 7.949, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.063, + "Actual Total Time": 8.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.641, + "Actual Total Time": 7.642, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.065, + "Actual Total Time": 8.066, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.122, + "Actual Total Time": 106.896, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 0.38, + "Plan Rows": 5, + "Plan Width": 12, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 41840, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 4388, + "Output": ["lt.id", "lt.link"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 4388, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"],+ "Index Cond": "(t1.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 4388, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"], + "Index Cond": "(t2.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6225652705960457954, + "Planning Time": 15.337, + "Triggers": [ + ], + "Execution Time": 416.427, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 6225652705960457954, + "JOINS": 5 + } + ] (1 row)
SELECT MIN(cn1.name) AS first_company,
       MIN(cn2.name) AS second_company,
       MIN(mi_idx1.info) AS first_rating,
       MIN(mi_idx2.info) AS second_rating,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM company_name AS cn1,
     company_name AS cn2,
     info_type AS it1,
     info_type AS it2,
     kind_type AS kt1,
     kind_type AS kt2,
     link_type AS lt,
     movie_companies AS mc1,
     movie_companies AS mc2,
     movie_info_idx AS mi_idx1,
     movie_info_idx AS mi_idx2,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE cn1.country_code = '[us]'
  AND it1.info = 'rating'
  AND it2.info = 'rating'
  AND kt1.kind IN ('tv series')
  AND kt2.kind IN ('tv series')
  AND lt.link IN ('sequel',
                  'follows',
                  'followed by')
  AND mi_idx2.info < '3.0'
  AND t2.production_year BETWEEN 2005 AND 2008
  AND lt.id = ml.link_type_id
  AND t1.id = ml.movie_id
  AND t2.id = ml.linked_movie_id
  AND it1.id = mi_idx1.info_type_id
  AND t1.id = mi_idx1.movie_id
  AND kt1.id = t1.kind_id
  AND cn1.id = mc1.company_id
  AND t1.id = mc1.movie_id
  AND ml.movie_id = mi_idx1.movie_id
  AND ml.movie_id = mc1.movie_id
  AND mi_idx1.movie_id = mc1.movie_id
  AND it2.id = mi_idx2.info_type_id
  AND t2.id = mi_idx2.movie_id
  AND kt2.id = t2.kind_id
  AND cn2.id = mc2.company_id
  AND t2.id = mc2.movie_id
  AND ml.linked_movie_id = mi_idx2.movie_id
  AND ml.linked_movie_id = mc2.movie_id
  AND mi_idx2.movie_id = mc2.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1658.98, + "Total Cost": 1658.99, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 55.054, + "Actual Total Time": 57.055, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn1.name)", "min(cn2.name)", "min(mi_idx1.info)", "min(mi_idx2.info)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1658.90, + "Total Cost": 1658.91, + "Plan Rows": 5, + "Plan Width": 192, + "Actual Startup Time": 53.455, + "Actual Total Time": 57.034, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn1.name))", "(PARTIAL min(cn2.name))", "(PARTIAL min(mi_idx1.info))", "(PARTIAL min(mi_idx2.info))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1657.90, + "Total Cost": 1657.91, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 39.005, + "Actual Total Time": 39.018, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn1.name)", "PARTIAL min(cn2.name)", "PARTIAL min(mi_idx1.info)", "PARTIAL min(mi_idx2.info)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.776, + "Actual Total Time": 35.788, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.609, + "Actual Total Time": 34.620, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 38.531, + "Actual Total Time": 38.541, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 36.312, + "Actual Total Time": 36.324, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 36.591, + "Actual Total Time": 36.604, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.90, + "Total Cost": 1657.88, + "Plan Rows": 1, + "Plan Width": 82, + "Actual Startup Time": 33.077, + "Actual Total Time": 39.008, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "mi_idx1.info", "mi_idx2.info", "t1.title", "t2.title"], + "Inner Unique": true, + "Join Filter": "((ml.movie_id = t1.id) AND (kt1.id = t1.kind_id))", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.772, + "Actual Total Time": 35.783, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.602, + "Actual Total Time": 34.612, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 38.525, + "Actual Total Time": 38.534, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 36.305, + "Actual Total Time": 36.316, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 36.584, + "Actual Total Time": 36.596, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.47, + "Total Cost": 1657.40, + "Plan Rows": 1, + "Plan Width": 81, + "Actual Startup Time": 33.073, + "Actual Total Time": 38.993, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["ml.movie_id", "mi_idx1.info", "mi_idx1.movie_id", "t2.title", "mc1.movie_id", "kt1.id", "cn1.name", "cn2.name", "mi_idx2.info"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.772, + "Actual Total Time": 35.782, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.601, + "Actual Total Time": 34.610, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 38.524, + "Actual Total Time": 38.532, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 36.304, + "Actual Total Time": 36.315, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 36.583, + "Actual Total Time": 36.595, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.33, + "Total Cost": 1657.22, + "Plan Rows": 1, + "Plan Width": 85, + "Actual Startup Time": 8.677, + "Actual Total Time": 38.251, + "Actual Rows": 134, + "Actual Loops": 6, + "Output": ["ml.movie_id", "mi_idx1.info", "mi_idx1.movie_id", "t2.title", "mc1.movie_id", "kt1.id", "cn1.name", "cn2.name", "mi_idx2.info", "mi_idx2.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t2.id = mi_idx2.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.320, + "Actual Total Time": 35.167, + "Actual Rows": 96, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.600, + "Actual Total Time": 34.609, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.569, + "Actual Total Time": 38.229, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.574, + "Actual Total Time": 36.026, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.136, + "Actual Total Time": 35.951, + "Actual Rows": 39, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.90, + "Total Cost": 1656.72, + "Plan Rows": 1, + "Plan Width": 88, + "Actual Startup Time": 8.647, + "Actual Total Time": 37.139, + "Actual Rows": 78, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx1.info", "mi_idx1.movie_id", "t2.title", "t2.id", "mc1.movie_id", "kt1.id", "cn1.name", "mc2.movie_id", "cn2.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.291, + "Actual Total Time": 34.395, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.599, + "Actual Total Time": 34.607, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.531, + "Actual Total Time": 37.535, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.545, + "Actual Total Time": 35.669, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.075, + "Actual Total Time": 34.734, + "Actual Rows": 31, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.48, + "Total Cost": 1656.28, + "Plan Rows": 1, + "Plan Width": 73, + "Actual Startup Time": 8.620, + "Actual Total Time": 36.178, + "Actual Rows": 78, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx1.info", "mi_idx1.movie_id", "t2.title", "t2.id", "mc1.movie_id", "kt1.id", "cn1.name", "mc2.company_id", "mc2.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.257, + "Actual Total Time": 33.655, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.598, + "Actual Total Time": 34.606, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.504, + "Actual Total Time": 37.000, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.512, + "Actual Total Time": 35.360, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.031, + "Actual Total Time": 33.639, + "Actual Rows": 31, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.05, + "Total Cost": 1655.67, + "Plan Rows": 1, + "Plan Width": 65, + "Actual Startup Time": 8.595, + "Actual Total Time": 35.873, + "Actual Rows": 10, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx1.info", "mi_idx1.movie_id", "t2.title", "t2.id", "mc1.movie_id", "kt1.id", "cn1.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.235, + "Actual Total Time": 33.400, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.597, + "Actual Total Time": 34.604, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.471, + "Actual Total Time": 36.648, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.493, + "Actual Total Time": 35.255, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.988, + "Actual Total Time": 33.258, + "Actual Rows": 5, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.63, + "Total Cost": 1654.35, + "Plan Rows": 3, + "Plan Width": 50, + "Actual Startup Time": 5.652, + "Actual Total Time": 34.905, + "Actual Rows": 44, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx1.info", "mi_idx1.movie_id", "t2.title", "t2.id", "mc1.company_id", "mc1.movie_id", "kt1.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.877, + "Actual Total Time": 32.667, + "Actual Rows": 35, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.826, + "Actual Total Time": 34.287, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.368, + "Actual Total Time": 35.234, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.387, + "Actual Total Time": 35.005, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.730, + "Actual Total Time": 31.851, + "Actual Rows": 37, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.63, + "Total Cost": 1651.06, + "Plan Rows": 3, + "Plan Width": 46, + "Actual Startup Time": 5.606, + "Actual Total Time": 34.510, + "Actual Rows": 44, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx1.info", "mi_idx1.movie_id", "t2.title", "t2.id", "mc1.company_id", "mc1.movie_id"], + "Inner Unique": true, + "Hash Cond": "(t2.kind_id = kt2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.849, + "Actual Total Time": 32.397, + "Actual Rows": 35, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.758, + "Actual Total Time": 34.133, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.329, + "Actual Total Time": 34.701, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.361, + "Actual Total Time": 34.885, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.622, + "Actual Total Time": 31.151, + "Actual Rows": 37, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.57, + "Total Cost": 1649.91, + "Plan Rows": 20, + "Plan Width": 50, + "Actual Startup Time": 5.440, + "Actual Total Time": 34.227, + "Actual Rows": 198, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx1.info", "mi_idx1.movie_id", "t2.title", "t2.id", "t2.kind_id", "mc1.company_id", "mc1.movie_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc1.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.781, + "Actual Total Time": 32.250, + "Actual Rows": 119, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.606, + "Actual Total Time": 33.965, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.170, + "Actual Total Time": 34.431, + "Actual Rows": 61, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.272, + "Actual Total Time": 34.726, + "Actual Rows": 101, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.473, + "Actual Total Time": 30.870, + "Actual Rows": 57, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 1647.06, + "Plan Rows": 5, + "Plan Width": 42, + "Actual Startup Time": 5.318, + "Actual Total Time": 33.158, + "Actual Rows": 35, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx1.info", "mi_idx1.movie_id", "t2.title", "t2.id", "t2.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.680, + "Actual Total Time": 31.175, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.465, + "Actual Total Time": 33.741, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.028, + "Actual Total Time": 33.456, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.160, + "Actual Total Time": 34.104, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.274, + "Actual Total Time": 29.728, + "Actual Rows": 14, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 1607.00, + "Plan Rows": 27, + "Plan Width": 17, + "Actual Startup Time": 0.629, + "Actual Total Time": 26.844, + "Actual Rows": 344, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx1.info", "mi_idx1.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx1.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.209, + "Actual Total Time": 25.348, + "Actual Rows": 324, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.915, + "Actual Total Time": 27.727, + "Actual Rows": 160, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.441, + "Actual Total Time": 27.286, + "Actual Rows": 203, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.847, + "Actual Total Time": 28.066, + "Actual Rows": 355, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.120, + "Actual Total Time": 25.303, + "Actual Rows": 111, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1596.97, + "Plan Rows": 3004, + "Plan Width": 21, + "Actual Startup Time": 0.594, + "Actual Total Time": 26.128, + "Actual Rows": 1032, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx1.info", "mi_idx1.info_type_id", "mi_idx1.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.191, + "Actual Total Time": 24.759, + "Actual Rows": 972, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.880, + "Actual Total Time": 27.011, + "Actual Rows": 480, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.411, + "Actual Total Time": 26.657, + "Actual Rows": 609, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.831, + "Actual Total Time": 27.421, + "Actual Rows": 1065, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.084, + "Actual Total Time": 24.784, + "Actual Rows": 333, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 629.91, + "Plan Rows": 1000, + "Plan Width": 8, + "Actual Startup Time": 0.392, + "Actual Total Time": 19.211, + "Actual Rows": 386, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.105, + "Actual Total Time": 18.432, + "Actual Rows": 363, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.701, + "Actual Total Time": 20.541, + "Actual Rows": 169, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.270, + "Actual Total Time": 20.071, + "Actual Rows": 241, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.703, + "Actual Total Time": 20.921, + "Actual Rows": 418, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.447, + "Actual Total Time": 19.573, + "Actual Rows": 137, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 12, + "Actual Startup Time": 0.096, + "Actual Total Time": 11.163, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.054, + "Actual Total Time": 10.806, + "Actual Rows": 5874, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.159, + "Actual Total Time": 11.967, + "Actual Rows": 2828, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.109, + "Actual Total Time": 11.359, + "Actual Rows": 5121, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.080, + "Actual Total Time": 12.203, + "Actual Rows": 6619, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.135, + "Actual Total Time": 11.645, + "Actual Rows": 2788, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 6751, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5874, + "Cache Hits": 5858, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 2828, + "Cache Hits": 2812, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5121, + "Cache Hits": 5105, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 6619, + "Cache Hits": 6603, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 2788, + "Cache Hits": 2772, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text = ANY ('{sequel,follows,\"followed by\"}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx1", + "Startup Cost": 0.43, + "Total Cost": 0.94, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 2315, + "Output": ["mi_idx1.id", "mi_idx1.movie_id", "mi_idx1.info_type_id", "mi_idx1.info", "mi_idx1.note"], + "Index Cond": "(mi_idx1.movie_id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 363 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.033, + "Actual Rows": 3, + "Actual Loops": 169 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.024, + "Actual Rows": 3, + "Actual Loops": 241 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 418 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.034, + "Actual Rows": 2, + "Actual Loops": 137 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 2064, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"],+ "Index Cond": "(t2.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t2.production_year >= 2005) AND (t2.production_year <= 2008))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 324 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 160 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 203 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 355 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 111 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc1", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.026, + "Actual Rows": 6, + "Actual Loops": 210, + "Output": ["mc1.id", "mc1.movie_id", "mc1.company_id", "mc1.company_type_id", "mc1.note"], + "Index Cond": "(mc1.movie_id = mi_idx1.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.030, + "Actual Rows": 4, + "Actual Loops": 31 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.066, + "Actual Rows": 2, + "Actual Loops": 3 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.048, + "Actual Rows": 3, + "Actual Loops": 18 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.048, + "Actual Rows": 9, + "Actual Loops": 11 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.072, + "Actual Rows": 4, + "Actual Loops": 14 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["kt2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt2", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt2.id"], + "Filter": "((kt2.kind)::text = 'tv series'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Seq Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt1", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 265, + "Output": ["kt1.id", "kt1.kind"], + "Filter": "((kt1.kind)::text = 'tv series'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 35 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 44 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 14 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 37 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn1", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 265, + "Output": ["cn1.id", "cn1.name", "cn1.country_code", "cn1.imdb_id", "cn1.name_pcode_nf", "cn1.name_pcode_sf", "cn1.md5sum"], + "Index Cond": "(cn1.id = mc1.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn1.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 35 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 44 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 14 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 37 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc2", + "Startup Cost": 0.43, + "Total Cost": 0.56, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.026, + "Actual Rows": 8, + "Actual Loops": 58, + "Output": ["mc2.id", "mc2.movie_id", "mc2.company_id", "mc2.company_type_id", "mc2.note"], + "Index Cond": "(mc2.movie_id = t2.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.022, + "Actual Rows": 5, + "Actual Loops": 10 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.034, + "Actual Rows": 3, + "Actual Loops": 9 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.021, + "Actual Rows": 6, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.065, + "Actual Rows": 6, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn2", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 465, + "Output": ["cn2.id", "cn2.name", "cn2.country_code", "cn2.imdb_id", "cn2.name_pcode_nf", "cn2.name_pcode_sf", "cn2.md5sum"], + "Index Cond": "(cn2.id = mc2.company_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 48 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 24 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 22 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 31 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx2", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.013, + "Actual Rows": 2, + "Actual Loops": 465, + "Output": ["mi_idx2.id", "mi_idx2.movie_id", "mi_idx2.info_type_id", "mi_idx2.info", "mi_idx2.note"], + "Index Cond": "(mi_idx2.movie_id = mc2.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx2.info < '3.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 48 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 24 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 22 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 31 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 807, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx2.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 96 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 24 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 44 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 39 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"], + "Index Cond": "(t1.id = mc1.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -3515944407635664271, + "Planning Time": 311.659, + "Triggers": [ + ], + "Execution Time": 57.699, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -3515944407635664271, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(cn1.name) AS first_company,
       MIN(cn2.name) AS second_company,
       MIN(mi_idx1.info) AS first_rating,
       MIN(mi_idx2.info) AS second_rating,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM company_name AS cn1,
     company_name AS cn2,
     info_type AS it1,
     info_type AS it2,
     kind_type AS kt1,
     kind_type AS kt2,
     link_type AS lt,
     movie_companies AS mc1,
     movie_companies AS mc2,
     movie_info_idx AS mi_idx1,
     movie_info_idx AS mi_idx2,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE cn1.country_code = '[nl]'
  AND it1.info = 'rating'
  AND it2.info = 'rating'
  AND kt1.kind IN ('tv series')
  AND kt2.kind IN ('tv series')
  AND lt.link LIKE '%follow%'
  AND mi_idx2.info < '3.0'
  AND t2.production_year = 2007
  AND lt.id = ml.link_type_id
  AND t1.id = ml.movie_id
  AND t2.id = ml.linked_movie_id
  AND it1.id = mi_idx1.info_type_id
  AND t1.id = mi_idx1.movie_id
  AND kt1.id = t1.kind_id
  AND cn1.id = mc1.company_id
  AND t1.id = mc1.movie_id
  AND ml.movie_id = mi_idx1.movie_id
  AND ml.movie_id = mc1.movie_id
  AND mi_idx1.movie_id = mc1.movie_id
  AND it2.id = mi_idx2.info_type_id
  AND t2.id = mi_idx2.movie_id
  AND kt2.id = t2.kind_id
  AND cn2.id = mc2.company_id
  AND t2.id = mc2.movie_id
  AND ml.linked_movie_id = mi_idx2.movie_id
  AND ml.linked_movie_id = mc2.movie_id
  AND mi_idx2.movie_id = mc2.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 978.24, + "Total Cost": 978.25, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 47.268, + "Actual Total Time": 51.491, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn1.name)", "min(cn2.name)", "min(mi_idx1.info)", "min(mi_idx2.info)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 978.16, + "Total Cost": 978.17, + "Plan Rows": 5, + "Plan Width": 192, + "Actual Startup Time": 44.270, + "Actual Total Time": 51.469, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn1.name))", "(PARTIAL min(cn2.name))", "(PARTIAL min(mi_idx1.info))", "(PARTIAL min(mi_idx2.info))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 977.16, + "Total Cost": 977.17, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 32.997, + "Actual Total Time": 33.012, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn1.name)", "PARTIAL min(cn2.name)", "PARTIAL min(mi_idx1.info)", "PARTIAL min(mi_idx2.info)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.474, + "Actual Total Time": 33.485, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 24.687, + "Actual Total Time": 24.704, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.224, + "Actual Total Time": 31.240, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.850, + "Actual Total Time": 34.860, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.598, + "Actual Total Time": 30.614, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.97, + "Total Cost": 977.14, + "Plan Rows": 1, + "Plan Width": 82, + "Actual Startup Time": 26.841, + "Actual Total Time": 32.998, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "mi_idx1.info", "mi_idx2.info", "t1.title", "t2.title"], + "Inner Unique": true, + "Join Filter": "((ml.movie_id = t1.id) AND (kt1.id = t1.kind_id))", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.467, + "Actual Total Time": 33.477, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 24.674, + "Actual Total Time": 24.690, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.214, + "Actual Total Time": 31.229, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.843, + "Actual Total Time": 34.852, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.586, + "Actual Total Time": 30.601, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.54, + "Total Cost": 976.66, + "Plan Rows": 1, + "Plan Width": 81, + "Actual Startup Time": 26.836, + "Actual Total Time": 32.986, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["ml.movie_id", "mi_idx1.info", "mi_idx1.movie_id", "t2.title", "mc1.movie_id", "kt1.id", "cn1.name", "cn2.name", "mi_idx2.info"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.467, + "Actual Total Time": 33.476, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 24.673, + "Actual Total Time": 24.688, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.213, + "Actual Total Time": 31.227, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.843, + "Actual Total Time": 34.851, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.585, + "Actual Total Time": 30.599, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.40, + "Total Cost": 976.48, + "Plan Rows": 1, + "Plan Width": 85, + "Actual Startup Time": 26.830, + "Actual Total Time": 32.973, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["ml.movie_id", "mi_idx1.info", "mi_idx1.movie_id", "t2.title", "mc1.movie_id", "kt1.id", "cn1.name", "cn2.name", "mi_idx2.info", "mi_idx2.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t2.id = mi_idx2.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.466, + "Actual Total Time": 33.475, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 24.672, + "Actual Total Time": 24.686, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.212, + "Actual Total Time": 31.225, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.842, + "Actual Total Time": 34.850, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.584, + "Actual Total Time": 30.598, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.97, + "Total Cost": 975.98, + "Plan Rows": 1, + "Plan Width": 88, + "Actual Startup Time": 26.825, + "Actual Total Time": 32.957, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx1.info", "mi_idx1.movie_id", "t2.title", "t2.id", "mc1.movie_id", "kt1.id", "cn1.name", "mc2.movie_id", "cn2.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.465, + "Actual Total Time": 33.473, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 24.671, + "Actual Total Time": 24.684, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.211, + "Actual Total Time": 31.224, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.842, + "Actual Total Time": 34.849, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.583, + "Actual Total Time": 30.596, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.55, + "Total Cost": 975.54, + "Plan Rows": 1, + "Plan Width": 73, + "Actual Startup Time": 26.820, + "Actual Total Time": 32.938, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx1.info", "mi_idx1.movie_id", "t2.title", "t2.id", "mc1.movie_id", "kt1.id", "cn1.name", "mc2.company_id", "mc2.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.465, + "Actual Total Time": 33.472, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 24.670, + "Actual Total Time": 24.682, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.211, + "Actual Total Time": 31.222, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.841, + "Actual Total Time": 34.848, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.583, + "Actual Total Time": 30.594, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.12, + "Total Cost": 974.76, + "Plan Rows": 1, + "Plan Width": 65, + "Actual Startup Time": 26.815, + "Actual Total Time": 32.930, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx1.info", "mi_idx1.movie_id", "t2.title", "t2.id", "mc1.movie_id", "kt1.id", "cn1.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.464, + "Actual Total Time": 33.471, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 24.669, + "Actual Total Time": 24.680, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.210, + "Actual Total Time": 31.220, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.840, + "Actual Total Time": 34.846, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.582, + "Actual Total Time": 30.592, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.70, + "Total Cost": 974.32, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 9.606, + "Actual Total Time": 32.732, + "Actual Rows": 4, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx1.info", "mi_idx1.movie_id", "t2.title", "t2.id", "mc1.company_id", "mc1.movie_id", "kt1.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.780, + "Actual Total Time": 33.323, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.067, + "Actual Total Time": 24.233, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.209, + "Actual Total Time": 31.218, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.608, + "Actual Total Time": 34.709, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.101, + "Actual Total Time": 30.261, + "Actual Rows": 5, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.70, + "Total Cost": 973.22, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 9.576, + "Actual Total Time": 32.657, + "Actual Rows": 4, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx1.info", "mi_idx1.movie_id", "t2.title", "t2.id", "mc1.company_id", "mc1.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.750, + "Actual Total Time": 33.264, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.019, + "Actual Total Time": 24.071, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.208, + "Actual Total Time": 31.217, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.562, + "Actual Total Time": 34.641, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.052, + "Actual Total Time": 30.139, + "Actual Rows": 5, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.57, + "Total Cost": 972.90, + "Plan Rows": 2, + "Plan Width": 50, + "Actual Startup Time": 9.536, + "Actual Total Time": 32.464, + "Actual Rows": 26, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx1.info", "mi_idx1.movie_id", "t2.title", "t2.id", "t2.kind_id", "mc1.company_id", "mc1.movie_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc1.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.716, + "Actual Total Time": 33.153, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.940, + "Actual Total Time": 23.883, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.207, + "Actual Total Time": 31.215, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.533, + "Actual Total Time": 34.455, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.981, + "Actual Total Time": 29.910, + "Actual Rows": 12, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 972.33, + "Plan Rows": 1, + "Plan Width": 42, + "Actual Startup Time": 9.459, + "Actual Total Time": 32.255, + "Actual Rows": 4, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx1.info", "mi_idx1.movie_id", "t2.title", "t2.id", "t2.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.631, + "Actual Total Time": 33.007, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.805, + "Actual Total Time": 23.602, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.206, + "Actual Total Time": 31.213, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.469, + "Actual Total Time": 34.255, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.848, + "Actual Total Time": 29.593, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 959.00, + "Plan Rows": 9, + "Plan Width": 17, + "Actual Startup Time": 0.921, + "Actual Total Time": 27.054, + "Actual Rows": 344, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx1.info", "mi_idx1.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx1.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.261, + "Actual Total Time": 27.615, + "Actual Rows": 374, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.863, + "Actual Total Time": 20.873, + "Actual Rows": 58, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.634, + "Actual Total Time": 27.123, + "Actual Rows": 120, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.202, + "Actual Total Time": 28.326, + "Actual Rows": 606, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.905, + "Actual Total Time": 26.661, + "Actual Rows": 69, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 954.43, + "Plan Rows": 1001, + "Plan Width": 21, + "Actual Startup Time": 0.736, + "Actual Total Time": 26.210, + "Actual Rows": 1032, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx1.info", "mi_idx1.info_type_id", "mi_idx1.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.162, + "Actual Total Time": 26.920, + "Actual Rows": 1122, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.646, + "Actual Total Time": 20.278, + "Actual Rows": 174, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.492, + "Actual Total Time": 26.452, + "Actual Rows": 360, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.139, + "Actual Total Time": 27.569, + "Actual Rows": 1818, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.747, + "Actual Total Time": 26.212, + "Actual Rows": 207, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 632.40, + "Plan Rows": 333, + "Plan Width": 8, + "Actual Startup Time": 0.452, + "Actual Total Time": 20.062, + "Actual Rows": 386, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.093, + "Actual Total Time": 20.811, + "Actual Rows": 426, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.480, + "Actual Total Time": 16.788, + "Actual Rows": 71, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.389, + "Actual Total Time": 21.652, + "Actual Rows": 129, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.095, + "Actual Total Time": 20.994, + "Actual Rows": 689, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.469, + "Actual Total Time": 22.644, + "Actual Rows": 97, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 12, + "Actual Startup Time": 0.071, + "Actual Total Time": 11.715, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 12.238, + "Actual Rows": 6985, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.102, + "Actual Total Time": 9.649, + "Actual Rows": 1915, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.080, + "Actual Total Time": 12.765, + "Actual Rows": 2880, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 12.105, + "Actual Rows": 9697, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.104, + "Actual Total Time": 13.363, + "Actual Rows": 3040, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 5464, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 6985, + "Cache Hits": 6969, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1915, + "Cache Hits": 1899, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 2880, + "Cache Hits": 2865, + "Cache Misses": 15, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 9697, + "Cache Hits": 9681, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3040, + "Cache Hits": 3024, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 95, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 15 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx1", + "Startup Cost": 0.43, + "Total Cost": 0.94, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 2315, + "Output": ["mi_idx1.id", "mi_idx1.movie_id", "mi_idx1.info_type_id", "mi_idx1.info", "mi_idx1.note"], + "Index Cond": "(mi_idx1.movie_id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 426 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.042, + "Actual Rows": 2, + "Actual Loops": 71 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.033, + "Actual Rows": 3, + "Actual Loops": 129 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 3, + "Actual Loops": 689 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.033, + "Actual Rows": 2, + "Actual Loops": 97 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.073, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2064, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"],+ "Index Cond": "(t2.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t2.production_year = 2007)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 374 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 58 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 120 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 606 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 69 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc1", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.042, + "Actual Rows": 6, + "Actual Loops": 25, + "Output": ["mc1.id", "mc1.movie_id", "mc1.company_id", "mc1.company_type_id", "mc1.note"], + "Index Cond": "(mc1.movie_id = mi_idx1.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.064, + "Actual Rows": 8, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.083, + "Actual Rows": 2, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.024, + "Actual Rows": 6, + "Actual Loops": 7 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.069, + "Actual Rows": 3, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 158, + "Output": ["kt2.id", "kt2.kind"], + "Index Cond": "(kt2.id = t2.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt2.kind)::text = 'tv series'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 15 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 44 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 12 + } + ] + } + ] + }, + { + "Node Type": "Seq Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt1", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 27, + "Output": ["kt1.id", "kt1.kind"], + "Filter": "((kt1.kind)::text = 'tv series'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn1", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 27, + "Output": ["cn1.id", "cn1.name", "cn1.country_code", "cn1.imdb_id", "cn1.name_pcode_nf", "cn1.name_pcode_sf", "cn1.md5sum"], + "Index Cond": "(cn1.id = mc1.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn1.country_code)::text = '[nl]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 5 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 7 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc2", + "Startup Cost": 0.43, + "Total Cost": 0.73, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.034, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["mc2.id", "mc2.movie_id", "mc2.company_id", "mc2.company_type_id", "mc2.note"], + "Index Cond": "(mc2.movie_id = t2.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn2", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 4, + "Output": ["cn2.id", "cn2.name", "cn2.country_code", "cn2.imdb_id", "cn2.name_pcode_nf", "cn2.name_pcode_sf", "cn2.md5sum"], + "Index Cond": "(cn2.id = mc2.company_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx2", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 2, + "Actual Loops": 4, + "Output": ["mi_idx2.id", "mi_idx2.movie_id", "mi_idx2.info_type_id", "mi_idx2.info", "mi_idx2.note"], + "Index Cond": "(mi_idx2.movie_id = mc2.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx2.info < '3.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx2.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 4, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"], + "Index Cond": "(t1.id = mc1.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6846011022746249658, + "Planning Time": 291.301, + "Triggers": [ + ], + "Execution Time": 52.081, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -6846011022746249658, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(cn1.name) AS first_company,
       MIN(cn2.name) AS second_company,
       MIN(mi_idx1.info) AS first_rating,
       MIN(mi_idx2.info) AS second_rating,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM company_name AS cn1,
     company_name AS cn2,
     info_type AS it1,
     info_type AS it2,
     kind_type AS kt1,
     kind_type AS kt2,
     link_type AS lt,
     movie_companies AS mc1,
     movie_companies AS mc2,
     movie_info_idx AS mi_idx1,
     movie_info_idx AS mi_idx2,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE cn1.country_code != '[us]'
  AND it1.info = 'rating'
  AND it2.info = 'rating'
  AND kt1.kind IN ('tv series',
                   'episode')
  AND kt2.kind IN ('tv series',
                   'episode')
  AND lt.link IN ('sequel',
                  'follows',
                  'followed by')
  AND mi_idx2.info < '3.5'
  AND t2.production_year BETWEEN 2000 AND 2010
  AND lt.id = ml.link_type_id
  AND t1.id = ml.movie_id
  AND t2.id = ml.linked_movie_id
  AND it1.id = mi_idx1.info_type_id
  AND t1.id = mi_idx1.movie_id
  AND kt1.id = t1.kind_id
  AND cn1.id = mc1.company_id
  AND t1.id = mc1.movie_id
  AND ml.movie_id = mi_idx1.movie_id
  AND ml.movie_id = mc1.movie_id
  AND mi_idx1.movie_id = mc1.movie_id
  AND it2.id = mi_idx2.info_type_id
  AND t2.id = mi_idx2.movie_id
  AND kt2.id = t2.kind_id
  AND cn2.id = mc2.company_id
  AND t2.id = mc2.movie_id
  AND ml.linked_movie_id = mi_idx2.movie_id
  AND ml.linked_movie_id = mc2.movie_id
  AND mi_idx2.movie_id = mc2.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1645.59, + "Total Cost": 1645.60, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 45.954, + "Actual Total Time": 48.907, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn1.name)", "min(cn2.name)", "min(mi_idx1.info)", "min(mi_idx2.info)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1645.51, + "Total Cost": 1645.52, + "Plan Rows": 5, + "Plan Width": 192, + "Actual Startup Time": 43.799, + "Actual Total Time": 48.891, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn1.name))", "(PARTIAL min(cn2.name))", "(PARTIAL min(mi_idx1.info))", "(PARTIAL min(mi_idx2.info))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1644.51, + "Total Cost": 1644.52, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 32.371, + "Actual Total Time": 32.385, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn1.name)", "PARTIAL min(cn2.name)", "PARTIAL min(mi_idx1.info)", "PARTIAL min(mi_idx2.info)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.032, + "Actual Total Time": 28.046, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.553, + "Actual Total Time": 30.566, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.320, + "Actual Total Time": 32.332, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.111, + "Actual Total Time": 30.127, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.470, + "Actual Total Time": 30.484, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.96, + "Total Cost": 1644.49, + "Plan Rows": 1, + "Plan Width": 82, + "Actual Startup Time": 12.300, + "Actual Total Time": 32.308, + "Actual Rows": 19, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "mi_idx1.info", "mi_idx2.info", "t1.title", "t2.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.023, + "Actual Total Time": 28.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.545, + "Actual Total Time": 30.558, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.126, + "Actual Total Time": 32.111, + "Actual Rows": 55, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.042, + "Actual Total Time": 30.065, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.098, + "Actual Total Time": 30.394, + "Actual Rows": 15, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.83, + "Total Cost": 1644.33, + "Plan Rows": 1, + "Plan Width": 86, + "Actual Startup Time": 12.284, + "Actual Total Time": 32.147, + "Actual Rows": 19, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "mi_idx2.info", "t2.title", "t1.title", "t1.kind_id", "mi_idx1.info"], + "Inner Unique": false, + "Join Filter": "(it1.id = mi_idx1.info_type_id)", + "Rows Removed by Join Filter": 38, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.021, + "Actual Total Time": 28.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.544, + "Actual Total Time": 30.556, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.104, + "Actual Total Time": 31.628, + "Actual Rows": 55, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.012, + "Actual Total Time": 29.931, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.069, + "Actual Total Time": 30.189, + "Actual Rows": 15, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.40, + "Total Cost": 1643.80, + "Plan Rows": 1, + "Plan Width": 97, + "Actual Startup Time": 12.258, + "Actual Total Time": 31.766, + "Actual Rows": 20, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "ml.movie_id", "mi_idx2.info", "t2.title", "it1.id", "t1.title", "t1.id", "t1.kind_id", "mc1.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.021, + "Actual Total Time": 28.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.544, + "Actual Total Time": 30.555, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.072, + "Actual Total Time": 30.497, + "Actual Rows": 55, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.951, + "Actual Total Time": 29.620, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.025, + "Actual Total Time": 29.727, + "Actual Rows": 15, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.27, + "Total Cost": 1643.33, + "Plan Rows": 3, + "Plan Width": 101, + "Actual Startup Time": 10.919, + "Actual Total Time": 31.543, + "Actual Rows": 23, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "ml.movie_id", "mi_idx2.info", "t2.title", "t2.kind_id", "it1.id", "t1.title", "t1.id", "t1.kind_id", "mc1.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.161, + "Actual Total Time": 27.815, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.543, + "Actual Total Time": 30.553, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.027, + "Actual Total Time": 29.988, + "Actual Rows": 55, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.898, + "Actual Total Time": 29.425, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.964, + "Actual Total Time": 29.492, + "Actual Rows": 15, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.85, + "Total Cost": 1640.68, + "Plan Rows": 6, + "Plan Width": 86, + "Actual Startup Time": 10.885, + "Actual Total Time": 31.057, + "Actual Rows": 26, + "Actual Loops": 6, + "Output": ["cn2.name", "ml.movie_id", "mi_idx2.info", "t2.title", "t2.kind_id", "it1.id", "t1.title", "t1.id", "t1.kind_id", "mc1.company_id", "mc1.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.117, + "Actual Total Time": 27.345, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.542, + "Actual Total Time": 30.552, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.985, + "Actual Total Time": 29.030, + "Actual Rows": 55, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.835, + "Actual Total Time": 28.995, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.924, + "Actual Total Time": 29.038, + "Actual Rows": 15, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.42, + "Total Cost": 1637.38, + "Plan Rows": 6, + "Plan Width": 78, + "Actual Startup Time": 10.850, + "Actual Total Time": 30.818, + "Actual Rows": 9, + "Actual Loops": 6, + "Output": ["cn2.name", "ml.movie_id", "mi_idx2.info", "t2.title", "t2.kind_id", "it1.id", "t1.title", "t1.id", "t1.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.042, + "Actual Total Time": 27.097, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.542, + "Actual Total Time": 30.550, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.960, + "Actual Total Time": 28.537, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.782, + "Actual Total Time": 28.772, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.881, + "Actual Total Time": 28.875, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.99, + "Total Cost": 1628.51, + "Plan Rows": 6, + "Plan Width": 53, + "Actual Startup Time": 10.812, + "Actual Total Time": 30.614, + "Actual Rows": 9, + "Actual Loops": 6, + "Output": ["cn2.name", "ml.movie_id", "mi_idx2.info", "t2.title", "t2.kind_id", "it1.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.982, + "Actual Total Time": 26.867, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.541, + "Actual Total Time": 30.549, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.924, + "Actual Total Time": 28.131, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.723, + "Actual Total Time": 28.544, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.835, + "Actual Total Time": 28.774, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.99, + "Total Cost": 1613.97, + "Plan Rows": 6, + "Plan Width": 49, + "Actual Startup Time": 10.742, + "Actual Total Time": 30.161, + "Actual Rows": 9, + "Actual Loops": 6, + "Output": ["cn2.name", "ml.movie_id", "mi_idx2.info", "t2.title", "t2.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.879, + "Actual Total Time": 26.427, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.540, + "Actual Total Time": 30.547, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.846, + "Actual Total Time": 26.999, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.617, + "Actual Total Time": 28.175, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.729, + "Actual Total Time": 28.492, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.57, + "Total Cost": 1611.34, + "Plan Rows": 6, + "Plan Width": 34, + "Actual Startup Time": 10.664, + "Actual Total Time": 29.905, + "Actual Rows": 9, + "Actual Loops": 6, + "Output": ["ml.movie_id", "mi_idx2.info", "t2.title", "t2.kind_id", "mc2.company_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.749, + "Actual Total Time": 26.085, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.539, + "Actual Total Time": 30.545, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.770, + "Actual Total Time": 26.544, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.503, + "Actual Total Time": 27.915, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.606, + "Actual Total Time": 28.318, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 1607.93, + "Plan Rows": 6, + "Plan Width": 42, + "Actual Startup Time": 10.520, + "Actual Total Time": 29.672, + "Actual Rows": 5, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id", "t2.title", "t2.id", "t2.kind_id"], + "Inner Unique": true, + "Join Filter": "(ml.linked_movie_id = t2.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.570, + "Actual Total Time": 25.802, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.539, + "Actual Total Time": 30.544, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.483, + "Actual Total Time": 26.225, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.339, + "Actual Total Time": 27.631, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.393, + "Actual Total Time": 28.091, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 1600.48, + "Plan Rows": 14, + "Plan Width": 17, + "Actual Startup Time": 6.398, + "Actual Total Time": 29.418, + "Actual Rows": 8, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx2.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.576, + "Actual Total Time": 25.508, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.218, + "Actual Total Time": 30.400, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.393, + "Actual Total Time": 25.932, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.219, + "Actual Total Time": 27.450, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.267, + "Actual Total Time": 27.902, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1594.47, + "Plan Rows": 1528, + "Plan Width": 21, + "Actual Startup Time": 0.905, + "Actual Total Time": 28.997, + "Actual Rows": 511, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.info_type_id", "mi_idx2.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.513, + "Actual Total Time": 25.177, + "Actual Rows": 203, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.645, + "Actual Total Time": 30.081, + "Actual Rows": 156, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.230, + "Actual Total Time": 25.550, + "Actual Rows": 391, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.779, + "Actual Total Time": 27.164, + "Actual Rows": 152, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.119, + "Actual Total Time": 27.501, + "Actual Rows": 307, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 629.91, + "Plan Rows": 1000, + "Plan Width": 8, + "Actual Startup Time": 0.780, + "Actual Total Time": 21.205, + "Actual Rows": 386, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.350, + "Actual Total Time": 18.537, + "Actual Rows": 152, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.477, + "Actual Total Time": 24.328, + "Actual Rows": 119, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.143, + "Actual Total Time": 18.824, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.585, + "Actual Total Time": 21.789, + "Actual Rows": 110, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.008, + "Actual Total Time": 19.857, + "Actual Rows": 219, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 12, + "Actual Startup Time": 0.098, + "Actual Total Time": 12.471, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.094, + "Actual Total Time": 11.007, + "Actual Rows": 2798, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.085, + "Actual Total Time": 14.380, + "Actual Rows": 3732, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.078, + "Actual Total Time": 10.748, + "Actual Rows": 4129, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.165, + "Actual Total Time": 13.142, + "Actual Rows": 3218, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.124, + "Actual Total Time": 11.708, + "Actual Rows": 3003, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 13101, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 2798, + "Cache Hits": 2782, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3732, + "Cache Hits": 3716, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4129, + "Cache Hits": 4114, + "Cache Misses": 15, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3218, + "Cache Hits": 3202, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3003, + "Cache Hits": 2987, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 95, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text = ANY ('{sequel,follows,\"followed by\"}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 15 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx2", + "Startup Cost": 0.43, + "Total Cost": 0.94, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 2315, + "Output": ["mi_idx2.id", "mi_idx2.movie_id", "mi_idx2.info_type_id", "mi_idx2.info", "mi_idx2.note"], + "Index Cond": "(mi_idx2.movie_id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx2.info < '3.5'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 152 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 119 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.025, + "Actual Rows": 2, + "Actual Loops": 248 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 110 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 219 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 47, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"],+ "Index Cond": "(t2.id = mi_idx2.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t2.production_year >= 2000) AND (t2.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.068, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.137, + "Actual Total Time": 0.138, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.082, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.086, + "Actual Total Time": 0.086, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc2", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.045, + "Actual Rows": 2, + "Actual Loops": 29, + "Output": ["mc2.id", "mc2.movie_id", "mc2.company_id", "mc2.company_type_id", "mc2.note"], + "Index Cond": "(mc2.movie_id = t2.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.118, + "Actual Total Time": 0.134, + "Actual Rows": 2, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.029, + "Actual Rows": 2, + "Actual Loops": 10 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.116, + "Actual Total Time": 0.134, + "Actual Rows": 2, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.207, + "Actual Total Time": 0.216, + "Actual Rows": 3, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn2", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 55, + "Output": ["cn2.id", "cn2.name", "cn2.country_code", "cn2.imdb_id", "cn2.name_pcode_nf", "cn2.name_pcode_sf", "cn2.md5sum"], + "Index Cond": "(cn2.id = mc2.company_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.064, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 21 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Seq Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 2.41, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 55, + "Output": ["it1.id", "it1.info"], + "Filter": "((it1.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.084, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 21 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.087, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.089, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 55, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"], + "Index Cond": "(t1.id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 21 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc1", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.022, + "Actual Rows": 3, + "Actual Loops": 55, + "Output": ["mc1.id", "mc1.movie_id", "mc1.company_id", "mc1.company_type_id", "mc1.note"], + "Index Cond": "(mc1.movie_id = t1.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.043, + "Actual Rows": 3, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.020, + "Actual Rows": 3, + "Actual Loops": 21 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.049, + "Actual Rows": 3, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.045, + "Actual Rows": 5, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn1", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 157, + "Output": ["cn1.id", "cn1.name", "cn1.country_code", "cn1.imdb_id", "cn1.name_pcode_nf", "cn1.name_pcode_sf", "cn1.md5sum"], + "Index Cond": "(cn1.id = mc1.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn1.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 13 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 55 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 15 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 140, + "Output": ["kt2.id", "kt2.kind"], + "Index Cond": "(kt2.id = t2.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt2.kind)::text = ANY ('{\"tv series\",episode}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 13 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 55 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 15 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx1", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 121, + "Output": ["mi_idx1.id", "mi_idx1.movie_id", "mi_idx1.info_type_id", "mi_idx1.info", "mi_idx1.note"], + "Index Cond": "(mi_idx1.movie_id = t1.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 55 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.029, + "Actual Rows": 3, + "Actual Loops": 9 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.026, + "Actual Rows": 3, + "Actual Loops": 15 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 114, + "Output": ["kt1.id", "kt1.kind"], + "Index Cond": "(kt1.id = t1.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt1.kind)::text = ANY ('{\"tv series\",episode}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 55 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 9 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 15 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2787191317670660246, + "Planning Time": 307.560, + "Triggers": [ + ], + "Execution Time": 49.548, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -2787191317670660246, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM keyword AS k,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE k.keyword LIKE '%sequel%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German')
  AND t.production_year > 2005
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi.movie_id
  AND k.id = mk.keyword_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5834.62, + "Total Cost": 5834.63, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 252.016, + "Actual Total Time": 252.143, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5834.60, + "Total Cost": 5834.61, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 251.997, + "Actual Total Time": 252.133, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5833.60, + "Total Cost": 5833.61, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 58.444, + "Actual Total Time": 58.447, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.757, + "Actual Total Time": 27.760, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.711, + "Actual Total Time": 27.713, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.731, + "Actual Total Time": 27.733, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 55.129, + "Actual Total Time": 55.131, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.774, + "Actual Total Time": 27.776, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.759, + "Actual Total Time": 22.764, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.509, + "Actual Total Time": 27.512, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 5833.29, + "Plan Rows": 123, + "Plan Width": 17, + "Actual Startup Time": 7.161, + "Actual Total Time": 58.392, + "Actual Rows": 26, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.175, + "Actual Total Time": 27.742, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.718, + "Actual Total Time": 27.695, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.882, + "Actual Total Time": 27.710, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.325, + "Actual Total Time": 55.043, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.333, + "Actual Total Time": 27.741, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.654, + "Actual Total Time": 22.742, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.108, + "Actual Total Time": 27.485, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 5265.12, + "Plan Rows": 518, + "Plan Width": 25, + "Actual Startup Time": 4.193, + "Actual Total Time": 37.915, + "Actual Rows": 279, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.033, + "Actual Total Time": 19.298, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.426, + "Actual Total Time": 23.506, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.555, + "Actual Total Time": 21.202, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.307, + "Actual Total Time": 30.174, + "Actual Rows": 536, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.778, + "Actual Total Time": 14.115, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.313, + "Actual Total Time": 15.557, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.207, + "Actual Total Time": 16.456, + "Actual Rows": 42, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 4668.38, + "Plan Rows": 1296, + "Plan Width": 4, + "Actual Startup Time": 3.348, + "Actual Total Time": 16.081, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.756, + "Actual Total Time": 15.288, + "Actual Rows": 145, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.990, + "Actual Total Time": 19.756, + "Actual Rows": 165, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.880, + "Actual Total Time": 6.520, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.773, + "Actual Total Time": 8.507, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.263, + "Actual Total Time": 8.875, + "Actual Rows": 223, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.669, + "Actual Total Time": 13.448, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.139, + "Actual Total Time": 13.872, + "Actual Rows": 84, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 38, + "Plan Width": 4, + "Actual Startup Time": 3.231, + "Actual Total Time": 8.895, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.649, + "Actual Total Time": 13.535, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.890, + "Actual Total Time": 18.068, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.765, + "Actual Total Time": 3.501, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.609, + "Actual Total Time": 1.648, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.167, + "Actual Total Time": 6.146, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.525, + "Actual Total Time": 12.338, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.051, + "Actual Total Time": 12.712, + "Actual Rows": 4, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 90.19, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.061, + "Actual Total Time": 1.785, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.278, + "Actual Rows": 24, + "Actual Loops": 6 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.199, + "Actual Rows": 21, + "Actual Loops": 8 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.107, + "Actual Total Time": 2.846, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.155, + "Actual Total Time": 6.319, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.653, + "Actual Rows": 56, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.210, + "Actual Rows": 16, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.275, + "Actual Rows": 21, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 12951, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 145 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 165 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 312 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1400 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 223 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 78 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 84 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.08, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.072, + "Actual Rows": 0, + "Actual Loops": 2235, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German}'::text[]))", + "Rows Removed by Filter": 45, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.261, + "Actual Total Time": 0.271, + "Actual Rows": 0, + "Actual Loops": 31 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.127, + "Actual Total Time": 0.134, + "Actual Rows": 0, + "Actual Loops": 31 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.213, + "Actual Total Time": 0.230, + "Actual Rows": 0, + "Actual Loops": 28 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 536 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.122, + "Actual Total Time": 0.154, + "Actual Rows": 0, + "Actual Loops": 88 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.279, + "Actual Total Time": 0.325, + "Actual Rows": 0, + "Actual Loops": 22 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.232, + "Actual Total Time": 0.261, + "Actual Rows": 0, + "Actual Loops": 42 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5539820102114296223, + "Planning Time": 10.319, + "Triggers": [ + ], + "Execution Time": 252.382, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 5539820102114296223, + "JOINS": 3 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM keyword AS k,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE k.keyword LIKE '%sequel%'
  AND mi.info IN ('Bulgaria')
  AND t.production_year > 2010
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi.movie_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5455.30, + "Total Cost": 5455.31, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 150.953, + "Actual Total Time": 151.086, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.30, + "Total Cost": 5455.29, + "Plan Rows": 5, + "Plan Width": 17, + "Actual Startup Time": 12.641, + "Actual Total Time": 151.063, + "Actual Rows": 5, + "Actual Loops": 1, + "Output": ["t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 5454.29, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 17.414, + "Actual Total Time": 36.460, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.267, + "Actual Total Time": 18.593, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.872, + "Actual Total Time": 16.875, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.318, + "Actual Total Time": 20.321, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.736, + "Actual Total Time": 17.739, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.164, + "Actual Total Time": 32.922, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.794, + "Actual Total Time": 13.796, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.250, + "Actual Total Time": 21.252, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 5265.12, + "Plan Rows": 203, + "Plan Width": 25, + "Actual Startup Time": 6.066, + "Actual Total Time": 33.260, + "Actual Rows": 51, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.115, + "Actual Total Time": 16.778, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.404, + "Actual Total Time": 14.967, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.416, + "Actual Total Time": 19.296, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.266, + "Actual Total Time": 17.251, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.493, + "Actual Total Time": 29.009, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.485, + "Actual Total Time": 12.360, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.376, + "Actual Total Time": 21.019, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 4668.38, + "Plan Rows": 1296, + "Plan Width": 4, + "Actual Startup Time": 4.590, + "Actual Total Time": 14.501, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.203, + "Actual Total Time": 8.862, + "Actual Rows": 440, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.656, + "Actual Total Time": 12.244, + "Actual Rows": 109, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.673, + "Actual Total Time": 14.898, + "Actual Rows": 255, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.083, + "Actual Total Time": 14.866, + "Actual Rows": 111, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.506, + "Actual Total Time": 8.835, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.146, + "Actual Total Time": 3.177, + "Actual Rows": 62, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.532, + "Actual Total Time": 20.254, + "Actual Rows": 30, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 38, + "Plan Width": 4, + "Actual Startup Time": 4.496, + "Actual Total Time": 9.088, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.126, + "Actual Total Time": 5.878, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.516, + "Actual Total Time": 11.041, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.597, + "Actual Total Time": 13.242, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.010, + "Actual Total Time": 13.882, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.396, + "Actual Total Time": 3.433, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.065, + "Actual Total Time": 2.522, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.443, + "Actual Total Time": 19.876, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 90.19, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.043, + "Actual Total Time": 1.320, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.939, + "Actual Rows": 147, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.161, + "Actual Rows": 16, + "Actual Loops": 7 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.220, + "Actual Rows": 36, + "Actual Loops": 7 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.154, + "Actual Rows": 18, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.105, + "Actual Total Time": 4.867, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.208, + "Actual Rows": 21, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.179, + "Actual Rows": 15, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 12951, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 440 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 109 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 255 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 111 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1400 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.147, + "Actual Total Time": 0.147, + "Actual Rows": 0, + "Actual Loops": 62 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 30 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 405, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = 'Bulgaria'::text)", + "Rows Removed by Filter": 63, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.106, + "Actual Total Time": 0.120, + "Actual Rows": 0, + "Actual Loops": 15 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.099, + "Actual Total Time": 0.099, + "Actual Rows": 0, + "Actual Loops": 19 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.112, + "Actual Total Time": 0.112, + "Actual Rows": 0, + "Actual Loops": 9 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 9 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.082, + "Actual Rows": 0, + "Actual Loops": 47 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.158, + "Actual Total Time": 0.158, + "Actual Rows": 0, + "Actual Loops": 9 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.114, + "Actual Total Time": 0.114, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2073429154321355728, + "Planning Time": 8.331, + "Triggers": [ + ], + "Execution Time": 151.318, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 2073429154321355728, + "JOINS": 3 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM keyword AS k,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE k.keyword LIKE '%sequel%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND t.production_year > 1990
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi.movie_id
  AND k.id = mk.keyword_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6175.23, + "Total Cost": 6175.24, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 370.304, + "Actual Total Time": 370.427, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6175.20, + "Total Cost": 6175.21, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 370.282, + "Actual Total Time": 370.415, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6174.20, + "Total Cost": 6174.21, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 79.201, + "Actual Total Time": 79.204, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.002, + "Actual Total Time": 32.006, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.136, + "Actual Total Time": 32.139, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.973, + "Actual Total Time": 30.974, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 32.053, + "Actual Total Time": 32.056, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.897, + "Actual Total Time": 28.899, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 40.815, + "Actual Total Time": 40.817, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 67.173, + "Actual Total Time": 67.175, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.32, + "Total Cost": 6171.74, + "Plan Rows": 985, + "Plan Width": 17, + "Actual Startup Time": 3.518, + "Actual Total Time": 78.773, + "Actual Rows": 906, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.633, + "Actual Total Time": 31.952, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.102, + "Actual Total Time": 32.062, + "Actual Rows": 90, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.667, + "Actual Total Time": 30.920, + "Actual Rows": 62, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.599, + "Actual Total Time": 31.945, + "Actual Rows": 139, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.229, + "Actual Total Time": 28.763, + "Actual Rows": 169, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.066, + "Actual Total Time": 40.660, + "Actual Rows": 243, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.570, + "Actual Total Time": 66.500, + "Actual Rows": 1231, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 5265.12, + "Plan Rows": 896, + "Plan Width": 25, + "Actual Startup Time": 3.253, + "Actual Total Time": 29.693, + "Actual Rows": 984, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.690, + "Actual Total Time": 17.709, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.882, + "Actual Total Time": 16.324, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.574, + "Actual Total Time": 19.103, + "Actual Rows": 61, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.306, + "Actual Total Time": 14.587, + "Actual Rows": 125, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.152, + "Actual Total Time": 14.932, + "Actual Rows": 172, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.965, + "Actual Total Time": 10.520, + "Actual Rows": 191, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.441, + "Actual Total Time": 22.840, + "Actual Rows": 1283, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 4668.38, + "Plan Rows": 1296, + "Plan Width": 4, + "Actual Startup Time": 3.174, + "Actual Total Time": 12.590, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.621, + "Actual Total Time": 6.844, + "Actual Rows": 114, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.816, + "Actual Total Time": 13.771, + "Actual Rows": 118, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.492, + "Actual Total Time": 16.772, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.252, + "Actual Total Time": 11.426, + "Actual Rows": 171, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.050, + "Actual Total Time": 11.291, + "Actual Rows": 188, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.902, + "Actual Total Time": 4.932, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.289, + "Actual Total Time": 5.894, + "Actual Rows": 1400, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 38, + "Plan Width": 4, + "Actual Startup Time": 3.101, + "Actual Total Time": 7.485, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.562, + "Actual Total Time": 6.005, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.743, + "Actual Total Time": 12.200, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.421, + "Actual Total Time": 15.821, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.195, + "Actual Total Time": 10.216, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.983, + "Actual Total Time": 8.637, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.824, + "Actual Total Time": 2.879, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.196, + "Actual Total Time": 1.225, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 90.19, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.038, + "Actual Total Time": 1.254, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.261, + "Actual Rows": 38, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.167, + "Actual Rows": 13, + "Actual Loops": 9 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.148, + "Actual Rows": 17, + "Actual Loops": 6 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.226, + "Actual Rows": 34, + "Actual Loops": 5 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.641, + "Actual Rows": 47, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.072, + "Actual Total Time": 1.943, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.089, + "Actual Total Time": 4.245, + "Actual Rows": 1400, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 12951, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.094, + "Actual Total Time": 0.094, + "Actual Rows": 1, + "Actual Loops": 114 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 118 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 104 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 171 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 188 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 312 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1400 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.46, + "Total Cost": 1.00, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 7874, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 35, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.090, + "Actual Total Time": 0.181, + "Actual Rows": 1, + "Actual Loops": 78 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.217, + "Actual Rows": 1, + "Actual Loops": 72 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.098, + "Actual Total Time": 0.192, + "Actual Rows": 1, + "Actual Loops": 61 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.137, + "Actual Rows": 1, + "Actual Loops": 125 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.079, + "Actual Rows": 1, + "Actual Loops": 172 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.156, + "Actual Rows": 1, + "Actual Loops": 191 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 1283 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 8031722090065659855, + "Planning Time": 9.078, + "Triggers": [ + ], + "Execution Time": 370.649, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 8031722090065659855, + "JOINS": 3 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS movie_title
FROM info_type AS it,
     keyword AS k,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it.info ='rating'
  AND k.keyword LIKE '%sequel%'
  AND mi_idx.info > '5.0'
  AND t.production_year > 2005
  AND t.id = mi_idx.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5330.16, + "Total Cost": 5330.17, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 202.840, + "Actual Total Time": 203.078, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5330.12, + "Total Cost": 5330.13, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 202.816, + "Actual Total Time": 203.066, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5329.12, + "Total Cost": 5329.13, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 44.502, + "Actual Total Time": 44.506, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.682, + "Actual Total Time": 25.688, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.612, + "Actual Total Time": 5.616, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.629, + "Actual Total Time": 33.633, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.128, + "Actual Total Time": 25.132, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.133, + "Actual Total Time": 24.137, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.792, + "Actual Total Time": 14.796, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.014, + "Actual Total Time": 25.020, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.13, + "Total Cost": 5329.09, + "Plan Rows": 5, + "Plan Width": 22, + "Actual Startup Time": 4.012, + "Actual Total Time": 44.403, + "Actual Rows": 92, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi_idx.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.541, + "Actual Total Time": 25.631, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.949, + "Actual Total Time": 5.601, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.259, + "Actual Total Time": 33.501, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.099, + "Actual Total Time": 25.081, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.555, + "Actual Total Time": 24.083, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.520, + "Actual Total Time": 14.768, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.617, + "Actual Total Time": 24.968, + "Actual Rows": 24, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 5322.94, + "Plan Rows": 13, + "Plan Width": 13, + "Actual Startup Time": 2.945, + "Actual Total Time": 35.169, + "Actual Rows": 728, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.614, + "Actual Total Time": 23.079, + "Actual Rows": 109, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.373, + "Actual Total Time": 5.307, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.649, + "Actual Total Time": 27.863, + "Actual Rows": 324, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.761, + "Actual Total Time": 23.616, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.501, + "Actual Total Time": 21.790, + "Actual Rows": 117, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.942, + "Actual Total Time": 13.639, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.745, + "Actual Total Time": 21.332, + "Actual Rows": 178, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 5317.07, + "Plan Rows": 1481, + "Plan Width": 17, + "Actual Startup Time": 2.646, + "Actual Total Time": 34.192, + "Actual Rows": 1058, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.382, + "Actual Total Time": 22.653, + "Actual Rows": 164, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.998, + "Actual Total Time": 4.976, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.382, + "Actual Total Time": 27.136, + "Actual Rows": 501, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.493, + "Actual Total Time": 23.221, + "Actual Rows": 132, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.270, + "Actual Total Time": 21.397, + "Actual Rows": 174, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.627, + "Actual Total Time": 13.248, + "Actual Rows": 71, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.487, + "Actual Total Time": 20.835, + "Actual Rows": 282, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 4668.38, + "Plan Rows": 1296, + "Plan Width": 4, + "Actual Startup Time": 2.554, + "Actual Total Time": 14.775, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.286, + "Actual Total Time": 16.414, + "Actual Rows": 203, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.886, + "Actual Total Time": 4.312, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.304, + "Actual Total Time": 8.040, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.362, + "Actual Total Time": 19.201, + "Actual Rows": 179, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.208, + "Actual Total Time": 16.947, + "Actual Rows": 198, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.484, + "Actual Total Time": 9.550, + "Actual Rows": 75, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.414, + "Actual Total Time": 11.629, + "Actual Rows": 335, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 38, + "Plan Width": 4, + "Actual Startup Time": 2.472, + "Actual Total Time": 6.620, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.223, + "Actual Total Time": 3.723, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.779, + "Actual Total Time": 4.034, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.207, + "Actual Total Time": 2.250, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.293, + "Actual Total Time": 15.882, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.150, + "Actual Total Time": 8.005, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.398, + "Actual Total Time": 8.724, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.336, + "Actual Total Time": 7.940, + "Actual Rows": 3, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 90.19, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.040, + "Actual Total Time": 2.057, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 3.145, + "Actual Rows": 51, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.131, + "Actual Rows": 8, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.092, + "Actual Total Time": 5.310, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.461, + "Actual Rows": 26, + "Actual Loops": 7 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 1.475, + "Actual Rows": 33, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.129, + "Actual Rows": 12, + "Actual Loops": 6 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.043, + "Actual Total Time": 1.178, + "Actual Rows": 112, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 12951, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '5.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 203 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 17 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1400 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 179 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 198 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 75 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 335 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 5820, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 109 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 8 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 324 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 72 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 117 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 44 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 178 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1950505845315524548, + "Planning Time": 7.209, + "Triggers": [ + ], + "Execution Time": 203.349, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -1950505845315524548, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS movie_title
FROM info_type AS it,
     keyword AS k,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it.info ='rating'
  AND k.keyword LIKE '%sequel%'
  AND mi_idx.info > '9.0'
  AND t.production_year > 2010
  AND t.id = mi_idx.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5320.10, + "Total Cost": 5320.11, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 139.667, + "Actual Total Time": 139.826, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5320.06, + "Total Cost": 5320.07, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 139.646, + "Actual Total Time": 139.815, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5319.06, + "Total Cost": 5319.07, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 30.335, + "Actual Total Time": 30.338, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.927, + "Actual Total Time": 9.931, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.570, + "Actual Total Time": 19.574, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.372, + "Actual Total Time": 19.376, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.885, + "Actual Total Time": 8.889, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.322, + "Actual Total Time": 2.326, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.442, + "Actual Total Time": 20.445, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.534, + "Actual Total Time": 24.538, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.44, + "Total Cost": 5319.05, + "Plan Rows": 1, + "Plan Width": 22, + "Actual Startup Time": 15.079, + "Actual Total Time": 30.330, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi_idx.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.922, + "Actual Total Time": 9.926, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.567, + "Actual Total Time": 19.570, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.369, + "Actual Total Time": 19.372, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.882, + "Actual Total Time": 8.885, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.318, + "Actual Total Time": 2.322, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.436, + "Actual Total Time": 20.439, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.306, + "Actual Total Time": 24.524, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.01, + "Total Cost": 5318.58, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 12.933, + "Actual Total Time": 30.260, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.922, + "Actual Total Time": 9.924, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.772, + "Actual Total Time": 19.487, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.368, + "Actual Total Time": 19.371, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.881, + "Actual Total Time": 8.884, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.317, + "Actual Total Time": 2.320, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.436, + "Actual Total Time": 20.438, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.204, + "Actual Total Time": 24.439, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 5317.07, + "Plan Rows": 23, + "Plan Width": 17, + "Actual Startup Time": 3.776, + "Actual Total Time": 30.137, + "Actual Rows": 38, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.339, + "Actual Total Time": 9.862, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.204, + "Actual Total Time": 19.377, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.671, + "Actual Total Time": 19.312, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.478, + "Actual Total Time": 8.816, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.317, + "Actual Total Time": 2.318, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.543, + "Actual Total Time": 20.328, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.891, + "Actual Total Time": 24.342, + "Actual Rows": 14, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 4668.38, + "Plan Rows": 1296, + "Plan Width": 4, + "Actual Startup Time": 3.217, + "Actual Total Time": 13.358, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.827, + "Actual Total Time": 7.857, + "Actual Rows": 94, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.104, + "Actual Total Time": 14.354, + "Actual Rows": 265, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.981, + "Actual Total Time": 15.943, + "Actual Rows": 157, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.293, + "Actual Total Time": 6.742, + "Actual Rows": 117, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.316, + "Actual Total Time": 2.317, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.459, + "Actual Total Time": 13.902, + "Actual Rows": 374, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.635, + "Actual Total Time": 8.159, + "Actual Rows": 1400, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 38, + "Plan Width": 4, + "Actual Startup Time": 3.143, + "Actual Total Time": 7.615, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.764, + "Actual Total Time": 6.939, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.996, + "Actual Total Time": 12.427, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.913, + "Actual Total Time": 14.438, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.220, + "Actual Total Time": 5.961, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.316, + "Actual Total Time": 2.316, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.366, + "Actual Total Time": 11.234, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.542, + "Actual Total Time": 2.571, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 90.19, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.038, + "Actual Total Time": 1.410, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.124, + "Actual Rows": 13, + "Actual Loops": 7 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.364, + "Actual Rows": 53, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.204, + "Actual Rows": 22, + "Actual Loops": 7 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.183, + "Actual Rows": 29, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.503, + "Actual Rows": 75, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.088, + "Actual Total Time": 5.091, + "Actual Rows": 1400, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 12951, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '9.0'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 94 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 265 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 157 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 117 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 374 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 1400 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 306, + "Output": ["it.id"], + "Cache Key": "mi_idx.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 235, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 5, + "Cache Hits": 4, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 14, + "Cache Hits": 12, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 4, + "Cache Hits": 3, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 7, + "Cache Hits": 6, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 24, + "Cache Hits": 23, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 14, + "Cache Hits": 12, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 11, + "Output": ["it.id"], + "Index Cond": "(it.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 21, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.080, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1950505845315524548, + "Planning Time": 20.937, + "Triggers": [ + ], + "Execution Time": 140.403, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -1950505845315524548, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS movie_title
FROM info_type AS it,
     keyword AS k,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it.info ='rating'
  AND k.keyword LIKE '%sequel%'
  AND mi_idx.info > '2.0'
  AND t.production_year > 1990
  AND t.id = mi_idx.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5350.04, + "Total Cost": 5350.05, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 235.786, + "Actual Total Time": 236.141, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5350.00, + "Total Cost": 5350.01, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 235.760, + "Actual Total Time": 236.128, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5349.00, + "Total Cost": 5349.01, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 49.572, + "Actual Total Time": 49.577, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.582, + "Actual Total Time": 21.587, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.124, + "Actual Total Time": 22.127, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.781, + "Actual Total Time": 20.784, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.585, + "Actual Total Time": 21.590, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 38.746, + "Actual Total Time": 38.750, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.079, + "Actual Total Time": 16.083, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.613, + "Actual Total Time": 21.618, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.13, + "Total Cost": 5348.92, + "Plan Rows": 15, + "Plan Width": 22, + "Actual Startup Time": 4.126, + "Actual Total Time": 49.120, + "Actual Rows": 588, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi_idx.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.218, + "Actual Total Time": 21.541, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.494, + "Actual Total Time": 22.004, + "Actual Rows": 102, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.999, + "Actual Total Time": 20.631, + "Actual Rows": 135, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.832, + "Actual Total Time": 21.415, + "Actual Rows": 152, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.912, + "Actual Total Time": 38.318, + "Actual Rows": 422, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.846, + "Actual Total Time": 16.016, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.410, + "Actual Total Time": 21.417, + "Actual Rows": 173, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 5338.52, + "Plan Rows": 22, + "Plan Width": 13, + "Actual Startup Time": 4.033, + "Actual Total Time": 36.137, + "Actual Rows": 1012, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.153, + "Actual Total Time": 20.057, + "Actual Rows": 58, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.432, + "Actual Total Time": 19.183, + "Actual Rows": 127, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.929, + "Actual Total Time": 16.633, + "Actual Rows": 194, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.749, + "Actual Total Time": 17.809, + "Actual Rows": 174, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.638, + "Actual Total Time": 28.826, + "Actual Rows": 514, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.769, + "Actual Total Time": 14.435, + "Actual Rows": 61, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.338, + "Actual Total Time": 15.502, + "Actual Rows": 288, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 5330.03, + "Plan Rows": 2439, + "Plan Width": 17, + "Actual Startup Time": 3.671, + "Actual Total Time": 34.661, + "Actual Rows": 1870, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.876, + "Actual Total Time": 19.687, + "Actual Rows": 112, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.150, + "Actual Total Time": 18.697, + "Actual Rows": 223, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.650, + "Actual Total Time": 16.075, + "Actual Rows": 371, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.475, + "Actual Total Time": 17.273, + "Actual Rows": 327, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.359, + "Actual Total Time": 27.788, + "Actual Rows": 999, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.420, + "Actual Total Time": 13.995, + "Actual Rows": 111, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.064, + "Actual Total Time": 14.804, + "Actual Rows": 543, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 4668.38, + "Plan Rows": 1296, + "Plan Width": 4, + "Actual Startup Time": 3.596, + "Actual Total Time": 15.712, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.804, + "Actual Total Time": 17.785, + "Actual Rows": 73, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.074, + "Actual Total Time": 15.175, + "Actual Rows": 144, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.573, + "Actual Total Time": 11.424, + "Actual Rows": 225, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.391, + "Actual Total Time": 13.055, + "Actual Rows": 184, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.276, + "Actual Total Time": 7.996, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.331, + "Actual Total Time": 12.080, + "Actual Rows": 69, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.986, + "Actual Total Time": 8.279, + "Actual Rows": 312, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 38, + "Plan Width": 4, + "Actual Startup Time": 3.510, + "Actual Total Time": 8.851, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.725, + "Actual Total Time": 16.970, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.006, + "Actual Total Time": 13.765, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.501, + "Actual Total Time": 4.738, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.314, + "Actual Total Time": 11.558, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.165, + "Actual Total Time": 2.199, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.251, + "Actual Total Time": 11.293, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.897, + "Actual Total Time": 6.051, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 90.19, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.042, + "Actual Total Time": 1.699, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.192, + "Actual Rows": 18, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.165, + "Actual Rows": 18, + "Actual Loops": 8 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 1.647, + "Actual Rows": 56, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.282, + "Actual Rows": 37, + "Actual Loops": 5 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.106, + "Actual Total Time": 5.259, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.123, + "Actual Rows": 12, + "Actual Loops": 6 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.081, + "Actual Total Time": 2.096, + "Actual Rows": 312, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 12951, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '2.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 2, + "Actual Loops": 73 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.023, + "Actual Rows": 2, + "Actual Loops": 144 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.019, + "Actual Rows": 2, + "Actual Loops": 225 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.021, + "Actual Rows": 2, + "Actual Loops": 184 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1400 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.024, + "Actual Rows": 2, + "Actual Loops": 69 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 2, + "Actual Loops": 312 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.108, + "Actual Total Time": 0.117, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 8092, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 58 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 127 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 194 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 174 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 514 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 61 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 288 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1950505845315524548, + "Planning Time": 17.373, + "Triggers": [ + ], + "Execution Time": 236.600, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -1950505845315524548, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS typical_european_movie
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     title AS t
WHERE ct.kind = 'production companies'
  AND mc.note LIKE '%(theatrical)%'
  AND mc.note LIKE '%(France)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German')
  AND t.production_year > 2005
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND mc.movie_id = mi.movie_id
  AND ct.id = mc.company_type_id
  AND it.id = mi.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24041.11, + "Total Cost": 24041.12, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 196.513, + "Actual Total Time": 200.950, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24041.08, + "Total Cost": 24041.09, + "Plan Rows": 8, + "Plan Width": 32, + "Actual Startup Time": 196.289, + "Actual Total Time": 200.937, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24040.08, + "Total Cost": 24040.09, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 186.817, + "Actual Total Time": 186.823, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 186.541, + "Actual Total Time": 186.546, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 185.642, + "Actual Total Time": 185.649, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 185.611, + "Actual Total Time": 185.618, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 186.545, + "Actual Total Time": 186.549, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 186.307, + "Actual Total Time": 186.313, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 182.550, + "Actual Total Time": 182.557, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 186.006, + "Actual Total Time": 186.010, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.05, + "Total Cost": 24040.06, + "Plan Rows": 11, + "Plan Width": 17, + "Actual Startup Time": 186.812, + "Actual Total Time": 186.817, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 186.535, + "Actual Total Time": 186.539, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 185.636, + "Actual Total Time": 185.642, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 185.605, + "Actual Total Time": 185.611, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 186.540, + "Actual Total Time": 186.544, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 186.301, + "Actual Total Time": 186.307, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 182.544, + "Actual Total Time": 182.550, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 186.002, + "Actual Total Time": 186.005, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.91, + "Total Cost": 24038.29, + "Plan Rows": 11, + "Plan Width": 21, + "Actual Startup Time": 186.811, + "Actual Total Time": 186.815, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi.info_type_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 186.534, + "Actual Total Time": 186.537, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 185.636, + "Actual Total Time": 185.640, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 185.605, + "Actual Total Time": 185.610, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 186.539, + "Actual Total Time": 186.542, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 186.301, + "Actual Total Time": 186.305, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 182.544, + "Actual Total Time": 182.548, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 186.001, + "Actual Total Time": 186.004, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 23977.12, + "Plan Rows": 49, + "Plan Width": 25, + "Actual Startup Time": 186.810, + "Actual Total Time": 186.814, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 186.533, + "Actual Total Time": 186.536, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 185.635, + "Actual Total Time": 185.639, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 185.604, + "Actual Total Time": 185.608, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 186.538, + "Actual Total Time": 186.541, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 186.300, + "Actual Total Time": 186.304, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 182.543, + "Actual Total Time": 182.547, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 186.000, + "Actual Total Time": 186.003, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 23685.84, + "Plan Rows": 124, + "Plan Width": 4, + "Actual Startup Time": 186.809, + "Actual Total Time": 186.812, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 186.532, + "Actual Total Time": 186.534, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 185.634, + "Actual Total Time": 185.637, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 185.603, + "Actual Total Time": 185.606, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 186.537, + "Actual Total Time": 186.539, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 186.299, + "Actual Total Time": 186.302, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 182.542, + "Actual Total Time": 182.545, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 185.999, + "Actual Total Time": 186.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.00, + "Total Cost": 23682.12, + "Plan Rows": 494, + "Plan Width": 8, + "Actual Startup Time": 11.049, + "Actual Total Time": 185.526, + "Actual Rows": 3003, + "Actual Loops": 8, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Filter": "((mc.note ~~ '%(theatrical)%'::text) AND (mc.note ~~ '%(France)%'::text))", + "Rows Removed by Filter": 323138, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.203, + "Actual Total Time": 185.171, + "Actual Rows": 3169, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.013, + "Actual Total Time": 184.345, + "Actual Rows": 3191, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.493, + "Actual Total Time": 184.200, + "Actual Rows": 3554, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.840, + "Actual Total Time": 185.478, + "Actual Rows": 2370, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.318, + "Actual Total Time": 185.197, + "Actual Rows": 2487, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.938, + "Actual Total Time": 181.239, + "Actual Rows": 3165, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.109, + "Actual Total Time": 184.637, + "Actual Rows": 3204, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 2.35, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.24, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["it.id"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 9106003620751043838, + "Planning Time": 10.081, + "Triggers": [ + ], + "Execution Time": 201.197, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 9106003620751043838, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS american_vhs_movie
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     title AS t
WHERE ct.kind = 'production companies'
  AND mc.note LIKE '%(VHS)%'
  AND mc.note LIKE '%(USA)%'
  AND mc.note LIKE '%(1994)%'
  AND mi.info IN ('USA',
                  'America')
  AND t.production_year > 2010
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND mc.movie_id = mi.movie_id
  AND ct.id = mc.company_type_id
  AND it.id = mi.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24506.09, + "Total Cost": 24506.10, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 162.657, + "Actual Total Time": 167.160, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24506.06, + "Total Cost": 24506.07, + "Plan Rows": 8, + "Plan Width": 32, + "Actual Startup Time": 154.279, + "Actual Total Time": 167.139, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24505.06, + "Total Cost": 24505.07, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 144.964, + "Actual Total Time": 144.969, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 147.268, + "Actual Total Time": 147.272, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 147.127, + "Actual Total Time": 147.131, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 147.266, + "Actual Total Time": 147.270, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 144.936, + "Actual Total Time": 144.940, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 136.752, + "Actual Total Time": 136.757, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 146.548, + "Actual Total Time": 146.551, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 136.448, + "Actual Total Time": 136.452, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.15, + "Total Cost": 24505.06, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 144.960, + "Actual Total Time": 144.964, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 147.264, + "Actual Total Time": 147.268, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 147.122, + "Actual Total Time": 147.126, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 147.261, + "Actual Total Time": 147.265, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 144.930, + "Actual Total Time": 144.934, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 136.748, + "Actual Total Time": 136.752, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 146.543, + "Actual Total Time": 146.546, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 136.444, + "Actual Total Time": 136.447, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.01, + "Total Cost": 24504.90, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 144.959, + "Actual Total Time": 144.962, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi.info_type_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 147.263, + "Actual Total Time": 147.266, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 147.122, + "Actual Total Time": 147.124, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 147.260, + "Actual Total Time": 147.263, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 144.930, + "Actual Total Time": 144.932, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 136.747, + "Actual Total Time": 136.751, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 146.543, + "Actual Total Time": 146.545, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 136.443, + "Actual Total Time": 136.445, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.57, + "Total Cost": 24503.51, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 144.958, + "Actual Total Time": 144.961, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 147.262, + "Actual Total Time": 147.264, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 147.121, + "Actual Total Time": 147.123, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 147.260, + "Actual Total Time": 147.262, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 144.929, + "Actual Total Time": 144.931, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 136.746, + "Actual Total Time": 136.749, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 146.542, + "Actual Total Time": 146.544, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 136.442, + "Actual Total Time": 136.444, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.14, + "Total Cost": 24498.21, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 144.958, + "Actual Total Time": 144.959, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 147.261, + "Actual Total Time": 147.263, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 147.121, + "Actual Total Time": 147.122, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 147.259, + "Actual Total Time": 147.261, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 144.928, + "Actual Total Time": 144.930, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 136.745, + "Actual Total Time": 136.748, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 146.541, + "Actual Total Time": 146.543, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 136.441, + "Actual Total Time": 136.443, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.00, + "Total Cost": 24497.47, + "Plan Rows": 6, + "Plan Width": 8, + "Actual Startup Time": 10.034, + "Actual Total Time": 144.636, + "Actual Rows": 177, + "Actual Loops": 8, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Filter": "((mc.note ~~ '%(VHS)%'::text) AND (mc.note ~~ '%(USA)%'::text) AND (mc.note ~~ '%(1994)%'::text))", + "Rows Removed by Filter": 325964, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.824, + "Actual Total Time": 146.962, + "Actual Rows": 148, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.700, + "Actual Total Time": 146.821, + "Actual Rows": 166, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.932, + "Actual Total Time": 146.922, + "Actual Rows": 197, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.666, + "Actual Total Time": 144.619, + "Actual Rows": 183, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.636, + "Actual Total Time": 136.432, + "Actual Rows": 159, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.030, + "Actual Total Time": 146.182, + "Actual Rows": 189, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.026, + "Actual Total Time": 136.109, + "Actual Rows": 184, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.23, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1418, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 191, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 148, + "Cache Hits": 147, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 166, + "Cache Hits": 165, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 197, + "Cache Hits": 196, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 183, + "Cache Hits": 182, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 159, + "Cache Hits": 158, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 189, + "Cache Hits": 188, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 184, + "Cache Hits": 183, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.22, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 2.65, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.38, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{USA,America}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["it.id"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -3414057395363075461, + "Planning Time": 8.708, + "Triggers": [ + ], + "Execution Time": 167.438, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -3414057395363075461, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS american_movie
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     title AS t
WHERE ct.kind = 'production companies'
  AND mc.note NOT LIKE '%(TV)%'
  AND mc.note LIKE '%(USA)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND t.production_year > 1990
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND mc.movie_id = mi.movie_id
  AND ct.id = mc.company_type_id
  AND it.id = mi.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 31962.72, + "Total Cost": 31962.73, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 191.253, + "Actual Total Time": 200.000, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 31962.69, + "Total Cost": 31962.70, + "Plan Rows": 8, + "Plan Width": 32, + "Actual Startup Time": 191.013, + "Actual Total Time": 199.982, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 31961.69, + "Total Cost": 31961.70, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 183.947, + "Actual Total Time": 183.952, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 181.122, + "Actual Total Time": 181.126, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 183.441, + "Actual Total Time": 183.445, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 183.404, + "Actual Total Time": 183.408, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 183.973, + "Actual Total Time": 183.977, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 184.035, + "Actual Total Time": 184.038, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 181.710, + "Actual Total Time": 181.715, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 183.903, + "Actual Total Time": 183.906, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.42, + "Total Cost": 31951.83, + "Plan Rows": 3944, + "Plan Width": 17, + "Actual Startup Time": 125.044, + "Actual Total Time": 183.856, + "Actual Rows": 84, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 119.901, + "Actual Total Time": 181.044, + "Actual Rows": 70, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 122.757, + "Actual Total Time": 183.344, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 128.121, + "Actual Total Time": 183.307, + "Actual Rows": 90, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 123.120, + "Actual Total Time": 183.877, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 126.184, + "Actual Total Time": 183.950, + "Actual Rows": 79, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 127.824, + "Actual Total Time": 181.621, + "Actual Rows": 79, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 122.894, + "Actual Total Time": 183.814, + "Actual Rows": 78, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 31938.59, + "Plan Rows": 3944, + "Plan Width": 21, + "Actual Startup Time": 124.774, + "Actual Total Time": 183.475, + "Actual Rows": 84, + "Actual Loops": 8, + "Output": ["mi.info_type_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 119.685, + "Actual Total Time": 180.732, + "Actual Rows": 70, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 122.518, + "Actual Total Time": 182.986, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 127.878, + "Actual Total Time": 182.945, + "Actual Rows": 90, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 122.910, + "Actual Total Time": 183.536, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 125.975, + "Actual Total Time": 183.638, + "Actual Rows": 79, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 127.583, + "Actual Total Time": 181.279, + "Actual Rows": 79, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 122.680, + "Actual Total Time": 183.497, + "Actual Rows": 78, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 27783.75, + "Plan Rows": 3848, + "Plan Width": 25, + "Actual Startup Time": 124.351, + "Actual Total Time": 179.505, + "Actual Rows": 96, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 119.585, + "Actual Total Time": 177.065, + "Actual Rows": 71, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 122.438, + "Actual Total Time": 178.397, + "Actual Rows": 120, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 127.784, + "Actual Total Time": 178.905, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 122.832, + "Actual Total Time": 179.652, + "Actual Rows": 115, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 125.865, + "Actual Total Time": 180.266, + "Actual Rows": 79, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 124.803, + "Actual Total Time": 177.415, + "Actual Rows": 116, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 122.597, + "Actual Total Time": 179.331, + "Actual Rows": 82, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 23803.46, + "Plan Rows": 5563, + "Plan Width": 4, + "Actual Startup Time": 124.253, + "Actual Total Time": 176.957, + "Actual Rows": 100, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 119.441, + "Actual Total Time": 174.989, + "Actual Rows": 76, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 122.344, + "Actual Total Time": 175.533, + "Actual Rows": 123, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 127.690, + "Actual Total Time": 175.728, + "Actual Rows": 94, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 122.733, + "Actual Total Time": 176.954, + "Actual Rows": 121, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 125.759, + "Actual Total Time": 178.120, + "Actual Rows": 84, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 124.710, + "Actual Total Time": 174.768, + "Actual Rows": 121, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 122.499, + "Actual Total Time": 177.064, + "Actual Rows": 84, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.00, + "Total Cost": 23682.12, + "Plan Rows": 22253, + "Plan Width": 8, + "Actual Startup Time": 0.070, + "Actual Total Time": 166.330, + "Actual Rows": 36954, + "Actual Loops": 8, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Filter": "((mc.note !~~ '%(TV)%'::text) AND (mc.note ~~ '%(USA)%'::text))", + "Rows Removed by Filter": 289188, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 165.476, + "Actual Rows": 36643, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 158.782, + "Actual Rows": 32884, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.115, + "Actual Total Time": 166.295, + "Actual Rows": 36366, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 167.190, + "Actual Rows": 38441, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 168.065, + "Actual Rows": 39753, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 164.969, + "Actual Rows": 37339, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.271, + "Actual Total Time": 167.073, + "Actual Rows": 36535, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.72, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 798, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 76 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 123 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 94 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 121 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 84 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 121 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 84 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.46, + "Total Cost": 1.07, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 767, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 10, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.050, + "Actual Rows": 1, + "Actual Loops": 71 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 120 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 93 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 115 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 79 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 116 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 82 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.66, + "Total Cost": 1.66, + "Plan Rows": 66, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 14, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.66, + "Plan Rows": 66, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.053, + "Actual Rows": 113, + "Actual Loops": 1, + "Output": ["it.id"], + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5596001239447068866, + "Planning Time": 9.228, + "Triggers": [ + ], + "Execution Time": 200.276, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 5596001239447068866, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS marvel_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword = 'marvel-cinematic-universe'
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2010
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1362.74, + "Total Cost": 1362.75, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 39.386, + "Actual Total Time": 39.543, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.73, + "Total Cost": 1362.74, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 9.766, + "Actual Total Time": 39.510, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["k.keyword", "n.name", "t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1361.74, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 6.157, + "Actual Total Time": 9.857, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.738, + "Actual Total Time": 5.741, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.450, + "Actual Total Time": 5.453, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.918, + "Actual Total Time": 5.921, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.940, + "Actual Total Time": 5.944, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.683, + "Actual Total Time": 5.686, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.489, + "Actual Total Time": 5.492, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.077, + "Actual Total Time": 6.080, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1349.53, + "Plan Rows": 27, + "Plan Width": 37, + "Actual Startup Time": 5.169, + "Actual Total Time": 6.397, + "Actual Rows": 153, + "Actual Loops": 8, + "Output": ["ci.person_id", "k.keyword", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.737, + "Actual Total Time": 5.740, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.448, + "Actual Total Time": 5.451, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.917, + "Actual Total Time": 5.919, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.939, + "Actual Total Time": 5.942, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.682, + "Actual Total Time": 5.684, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.489, + "Actual Total Time": 5.491, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.076, + "Actual Total Time": 6.079, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1347.97, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 5.160, + "Actual Total Time": 5.221, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.737, + "Actual Total Time": 5.739, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.448, + "Actual Total Time": 5.450, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.917, + "Actual Total Time": 5.919, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.938, + "Actual Total Time": 5.940, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.681, + "Actual Total Time": 5.683, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.488, + "Actual Total Time": 5.489, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.075, + "Actual Total Time": 6.077, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.67, + "Plan Rows": 5, + "Plan Width": 20, + "Actual Startup Time": 5.154, + "Actual Total Time": 5.172, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.736, + "Actual Total Time": 5.738, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.447, + "Actual Total Time": 5.448, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.916, + "Actual Total Time": 5.917, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.937, + "Actual Total Time": 5.938, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.680, + "Actual Total Time": 5.681, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.487, + "Actual Total Time": 5.488, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.075, + "Actual Total Time": 6.076, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 5.141, + "Actual Total Time": 5.145, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'marvel-cinematic-universe'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.735, + "Actual Total Time": 5.736, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.446, + "Actual Total Time": 5.446, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.910, + "Actual Total Time": 5.910, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.937, + "Actual Total Time": 5.937, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.680, + "Actual Total Time": 5.680, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.487, + "Actual Total Time": 5.487, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.074, + "Actual Total Time": 6.074, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.183, + "Actual Rows": 14, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 14, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.802, + "Actual Rows": 111, + "Actual Loops": 11, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1224, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3759324545287071861, + "Planning Time": 8.012, + "Triggers": [ + ], + "Execution Time": 39.832, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 3759324545287071861, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS hero_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2014
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1507.10, + "Total Cost": 1507.11, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 192.972, + "Actual Total Time": 210.990, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.73, + "Total Cost": 1507.09, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 58.707, + "Actual Total Time": 210.936, + "Actual Rows": 12, + "Actual Loops": 1, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.30, + "Total Cost": 1506.64, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 16.806, + "Actual Total Time": 204.532, + "Actual Rows": 383, + "Actual Loops": 1, + "Output": ["ci.person_id", "k.keyword", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1.86, + "Total Cost": 1505.08, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 16.767, + "Actual Total Time": 201.826, + "Actual Rows": 36, + "Actual Loops": 1, + "Output": ["k.keyword", "mk.movie_id", "t.title", "t.id"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1504.08, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 43.010, + "Actual Total Time": 97.268, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.572, + "Actual Total Time": 42.574, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.301, + "Actual Total Time": 47.253, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.317, + "Actual Total Time": 154.424, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 88.985, + "Actual Total Time": 88.987, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 136.641, + "Actual Total Time": 136.642, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.443, + "Actual Total Time": 183.957, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.783, + "Actual Total Time": 46.971, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1486.12, + "Plan Rows": 39, + "Plan Width": 20, + "Actual Startup Time": 6.317, + "Actual Total Time": 32.875, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.571, + "Actual Total Time": 42.572, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.557, + "Actual Total Time": 20.189, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.178, + "Actual Total Time": 36.515, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.509, + "Actual Total Time": 19.185, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.580, + "Actual Total Time": 37.597, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.830, + "Actual Total Time": 51.163, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.926, + "Actual Total Time": 42.581, + "Actual Rows": 248, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1332.34, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 6.212, + "Actual Total Time": 12.371, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.570, + "Actual Total Time": 42.570, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.421, + "Actual Total Time": 11.294, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.085, + "Actual Total Time": 1.104, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.363, + "Actual Total Time": 1.385, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.449, + "Actual Total Time": 0.516, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.689, + "Actual Total Time": 0.745, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.837, + "Actual Total Time": 41.050, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.40, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.106, + "Actual Total Time": 18.965, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.131, + "Actual Total Time": 8.294, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.088, + "Actual Total Time": 31.925, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.141, + "Actual Total Time": 16.128, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.125, + "Actual Total Time": 35.011, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.090, + "Actual Total Time": 23.465, + "Actual Rows": 5412, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.081, + "Actual Total Time": 1.423, + "Actual Rows": 248, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 35548, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2014)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 10544 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 4196 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 6011 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 10824 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 248 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.067, + "Actual Rows": 11, + "Actual Loops": 36, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 383, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1 + } + ] + } + ] + }, + "Query Identifier": -196995888411579451, + "Planning Time": 7.308, + "Triggers": [ + ], + "Execution Time": 211.263, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -196995888411579451, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS marvel_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword = 'marvel-cinematic-universe'
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2014
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1350.99, + "Total Cost": 1351.00, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 17.114, + "Actual Total Time": 18.207, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.73, + "Total Cost": 1350.98, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 2.919, + "Actual Total Time": 18.182, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.30, + "Total Cost": 1350.53, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 2.065, + "Actual Total Time": 17.357, + "Actual Rows": 33, + "Actual Loops": 1, + "Output": ["ci.person_id", "k.keyword", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1.86, + "Total Cost": 1348.97, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 2.017, + "Actual Total Time": 16.965, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["k.keyword", "mk.movie_id", "t.title", "t.id"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1347.97, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 4.563, + "Actual Total Time": 5.798, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.396, + "Actual Total Time": 4.398, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.298, + "Actual Total Time": 6.300, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.136, + "Actual Total Time": 6.137, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.298, + "Actual Total Time": 6.299, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.315, + "Actual Total Time": 6.316, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.844, + "Actual Total Time": 5.846, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.67, + "Plan Rows": 5, + "Plan Width": 20, + "Actual Startup Time": 4.551, + "Actual Total Time": 5.739, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.395, + "Actual Total Time": 4.396, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.298, + "Actual Total Time": 6.298, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.135, + "Actual Total Time": 6.136, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.297, + "Actual Total Time": 6.298, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.314, + "Actual Total Time": 6.314, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.843, + "Actual Total Time": 5.844, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 4.541, + "Actual Total Time": 5.708, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'marvel-cinematic-universe'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.394, + "Actual Total Time": 4.395, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.297, + "Actual Total Time": 6.297, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.135, + "Actual Total Time": 6.135, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.296, + "Actual Total Time": 6.297, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.313, + "Actual Total Time": 6.313, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.842, + "Actual Total Time": 5.843, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.224, + "Actual Rows": 14, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 14, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2014)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.179, + "Actual Rows": 16, + "Actual Loops": 2, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 33, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1 + } + ] + } + ] + }, + "Query Identifier": 3759324545287071861, + "Planning Time": 9.424, + "Triggers": [ + ], + "Execution Time": 18.549, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 3759324545287071861, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS hero_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2000
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1873.33, + "Total Cost": 1873.34, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 4101.993, + "Actual Total Time": 4131.869, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.73, + "Total Cost": 1873.32, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 418.939, + "Actual Total Time": 4131.632, + "Actual Rows": 88, + "Actual Loops": 1, + "Output": ["k.keyword", "n.name", "t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1872.32, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 444.338, + "Actual Total Time": 1636.877, + "Actual Rows": 11, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 365.263, + "Actual Total Time": 4094.169, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 970.224, + "Actual Total Time": 3063.282, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 389.026, + "Actual Total Time": 767.319, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 107.010, + "Actual Total Time": 260.106, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1149.122, + "Actual Total Time": 2358.824, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 45.503, + "Actual Total Time": 1558.234, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 110.579, + "Actual Total Time": 110.583, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1536.91, + "Plan Rows": 742, + "Plan Width": 37, + "Actual Startup Time": 14.792, + "Actual Total Time": 504.661, + "Actual Rows": 98185, + "Actual Loops": 8, + "Output": ["ci.person_id", "k.keyword", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.977, + "Actual Total Time": 1203.825, + "Actual Rows": 282572, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.433, + "Actual Total Time": 895.834, + "Actual Rows": 194141, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.697, + "Actual Total Time": 238.092, + "Actual Rows": 38887, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.258, + "Actual Total Time": 76.424, + "Actual Rows": 11270, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.419, + "Actual Total Time": 760.330, + "Actual Rows": 137541, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.438, + "Actual Total Time": 486.072, + "Actual Rows": 84039, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 110.578, + "Actual Total Time": 110.581, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1504.08, + "Plan Rows": 21, + "Plan Width": 41, + "Actual Startup Time": 14.713, + "Actual Total Time": 86.504, + "Actual Rows": 1771, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.889, + "Actual Total Time": 162.234, + "Actual Rows": 4387, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.298, + "Actual Total Time": 107.534, + "Actual Rows": 2965, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.590, + "Actual Total Time": 31.604, + "Actual Rows": 745, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.194, + "Actual Total Time": 7.575, + "Actual Rows": 155, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.352, + "Actual Total Time": 153.039, + "Actual Rows": 3124, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.343, + "Actual Total Time": 69.954, + "Actual Rows": 2120, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 110.578, + "Actual Total Time": 110.580, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1486.12, + "Plan Rows": 39, + "Plan Width": 20, + "Actual Startup Time": 14.652, + "Actual Total Time": 33.216, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.831, + "Actual Total Time": 47.326, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.233, + "Actual Total Time": 31.163, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.455, + "Actual Total Time": 8.220, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.136, + "Actual Total Time": 3.417, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.279, + "Actual Total Time": 36.874, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.282, + "Actual Total Time": 16.357, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 110.577, + "Actual Total Time": 110.579, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1332.34, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 14.561, + "Actual Total Time": 14.590, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.722, + "Actual Total Time": 0.775, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.152, + "Actual Total Time": 0.214, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.342, + "Actual Total Time": 0.370, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.053, + "Actual Total Time": 2.074, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.158, + "Actual Total Time": 1.180, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.166, + "Actual Total Time": 1.181, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 110.577, + "Actual Total Time": 110.577, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.40, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.094, + "Actual Total Time": 16.813, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.085, + "Actual Total Time": 21.359, + "Actual Rows": 5412, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.077, + "Actual Total Time": 28.284, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.108, + "Actual Total Time": 7.038, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.078, + "Actual Total Time": 1.192, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.117, + "Actual Total Time": 31.727, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.106, + "Actual Total Time": 13.316, + "Actual Rows": 4196, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 35548, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 10824 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 6011 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 248 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 10544 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 4196 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.214, + "Actual Rows": 55, + "Actual Loops": 14165, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.215, + "Actual Rows": 64, + "Actual Loops": 4387 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.240, + "Actual Rows": 65, + "Actual Loops": 2965 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.253, + "Actual Rows": 52, + "Actual Loops": 745 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.413, + "Actual Rows": 73, + "Actual Loops": 155 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.176, + "Actual Rows": 44, + "Actual Loops": 3124 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.179, + "Actual Rows": 40, + "Actual Loops": 2120 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 785477, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 282572 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 194141 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 38887 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 11270 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 137541 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 84039 + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -196995888411579451, + "Planning Time": 9.579, + "Triggers": [ + ], + "Execution Time": 4132.238, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -196995888411579451, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS marvel_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword = 'marvel-cinematic-universe'
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2000
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1395.71, + "Total Cost": 1395.72, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 36.039, + "Actual Total Time": 36.230, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.73, + "Total Cost": 1395.70, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 8.179, + "Actual Total Time": 36.194, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["k.keyword", "n.name", "t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1394.70, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 8.504, + "Actual Total Time": 11.984, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.365, + "Actual Total Time": 5.369, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.434, + "Actual Total Time": 9.438, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.453, + "Actual Total Time": 9.455, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.437, + "Actual Total Time": 9.440, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.744, + "Actual Total Time": 8.747, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.579, + "Actual Total Time": 10.582, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.617, + "Actual Total Time": 7.623, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1352.66, + "Plan Rows": 93, + "Plan Width": 37, + "Actual Startup Time": 7.709, + "Actual Total Time": 9.033, + "Actual Rows": 153, + "Actual Loops": 8, + "Output": ["ci.person_id", "k.keyword", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.364, + "Actual Total Time": 5.367, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.433, + "Actual Total Time": 9.436, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.452, + "Actual Total Time": 9.454, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.436, + "Actual Total Time": 9.438, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.743, + "Actual Total Time": 8.745, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.578, + "Actual Total Time": 10.580, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.616, + "Actual Total Time": 7.620, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1347.97, + "Plan Rows": 3, + "Plan Width": 41, + "Actual Startup Time": 7.703, + "Actual Total Time": 7.778, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.363, + "Actual Total Time": 5.365, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.433, + "Actual Total Time": 9.434, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.451, + "Actual Total Time": 9.452, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.435, + "Actual Total Time": 9.437, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.742, + "Actual Total Time": 8.744, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.577, + "Actual Total Time": 10.579, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.614, + "Actual Total Time": 7.618, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.67, + "Plan Rows": 5, + "Plan Width": 20, + "Actual Startup Time": 7.697, + "Actual Total Time": 7.722, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.362, + "Actual Total Time": 5.364, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.432, + "Actual Total Time": 9.433, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.450, + "Actual Total Time": 9.451, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.435, + "Actual Total Time": 9.436, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.742, + "Actual Total Time": 8.743, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.576, + "Actual Total Time": 10.577, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.613, + "Actual Total Time": 7.615, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 7.690, + "Actual Total Time": 7.696, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'marvel-cinematic-universe'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.361, + "Actual Total Time": 5.362, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.431, + "Actual Total Time": 9.432, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.450, + "Actual Total Time": 9.450, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.434, + "Actual Total Time": 9.434, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.741, + "Actual Total Time": 8.741, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.576, + "Actual Total Time": 10.576, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.612, + "Actual Total Time": 7.612, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.184, + "Actual Rows": 14, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 14, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.846, + "Actual Rows": 111, + "Actual Loops": 11, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1224, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3759324545287071861, + "Planning Time": 7.967, + "Triggers": [ + ], + "Execution Time": 36.543, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 3759324545287071861, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS hero_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND t.production_year > 2000
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1877.09, + "Total Cost": 1877.10, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 4293.853, + "Actual Total Time": 4322.948, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1877.03, + "Total Cost": 1877.04, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 853.171, + "Actual Total Time": 4322.893, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(k.keyword))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1876.03, + "Total Cost": 1876.04, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 1699.185, + "Actual Total Time": 1699.188, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(k.keyword)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1605.913, + "Actual Total Time": 1605.915, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2468.467, + "Actual Total Time": 2468.469, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4283.972, + "Actual Total Time": 4283.975, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3198.190, + "Actual Total Time": 3198.193, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 293.204, + "Actual Total Time": 293.207, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 765.212, + "Actual Total Time": 765.214, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 126.295, + "Actual Total Time": 126.299, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1870.46, + "Plan Rows": 742, + "Plan Width": 48, + "Actual Startup Time": 16.658, + "Actual Total Time": 1620.642, + "Actual Rows": 98185, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.092, + "Actual Total Time": 1533.444, + "Actual Rows": 84039, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.868, + "Actual Total Time": 2351.226, + "Actual Rows": 137541, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.592, + "Actual Total Time": 4087.271, + "Actual Rows": 282572, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.230, + "Actual Total Time": 3042.981, + "Actual Rows": 194141, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.532, + "Actual Total Time": 280.158, + "Actual Rows": 11270, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.056, + "Actual Total Time": 730.300, + "Actual Rows": 38887, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 126.289, + "Actual Total Time": 126.293, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1536.91, + "Plan Rows": 742, + "Plan Width": 37, + "Actual Startup Time": 16.601, + "Actual Total Time": 522.686, + "Actual Rows": 98185, + "Actual Loops": 8, + "Output": ["ci.person_id", "k.keyword", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.020, + "Actual Total Time": 501.932, + "Actual Rows": 84039, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.815, + "Actual Total Time": 785.460, + "Actual Rows": 137541, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.521, + "Actual Total Time": 1252.956, + "Actual Rows": 282572, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.166, + "Actual Total Time": 932.129, + "Actual Rows": 194141, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.466, + "Actual Total Time": 85.225, + "Actual Rows": 11270, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.993, + "Actual Total Time": 234.284, + "Actual Rows": 38887, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 126.288, + "Actual Total Time": 126.291, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1504.08, + "Plan Rows": 21, + "Plan Width": 41, + "Actual Startup Time": 16.527, + "Actual Total Time": 94.986, + "Actual Rows": 1771, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.927, + "Actual Total Time": 75.573, + "Actual Rows": 2120, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.744, + "Actual Total Time": 171.554, + "Actual Rows": 3124, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.425, + "Actual Total Time": 171.132, + "Actual Rows": 4387, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.073, + "Actual Total Time": 112.803, + "Actual Rows": 2965, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.397, + "Actual Total Time": 7.588, + "Actual Rows": 155, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.873, + "Actual Total Time": 38.269, + "Actual Rows": 745, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 126.288, + "Actual Total Time": 126.290, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1486.12, + "Plan Rows": 39, + "Plan Width": 20, + "Actual Startup Time": 16.449, + "Actual Total Time": 37.312, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.842, + "Actual Total Time": 18.440, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.690, + "Actual Total Time": 43.388, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.336, + "Actual Total Time": 48.426, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.987, + "Actual Total Time": 33.290, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.335, + "Actual Total Time": 2.268, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.680, + "Actual Total Time": 10.882, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 126.287, + "Actual Total Time": 126.288, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1332.34, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 16.331, + "Actual Total Time": 16.360, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.678, + "Actual Total Time": 1.691, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.548, + "Actual Total Time": 0.569, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.201, + "Actual Total Time": 0.249, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.827, + "Actual Total Time": 0.894, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.264, + "Actual Total Time": 0.295, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.527, + "Actual Total Time": 0.555, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 126.287, + "Actual Total Time": 126.287, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.40, + "Plan Rows": 138, + "Plan Width": 8, + "Actual Startup Time": 0.118, + "Actual Total Time": 19.152, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.159, + "Actual Total Time": 14.924, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.137, + "Actual Total Time": 38.778, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.088, + "Actual Total Time": 22.193, + "Actual Rows": 5412, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.154, + "Actual Total Time": 29.828, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.068, + "Actual Total Time": 1.799, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.143, + "Actual Total Time": 9.522, + "Actual Rows": 1573, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 35548, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 4196 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 10544 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 10824 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 6011 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 248 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1573 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.220, + "Actual Rows": 55, + "Actual Loops": 14165, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.184, + "Actual Rows": 40, + "Actual Loops": 2120 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.179, + "Actual Rows": 44, + "Actual Loops": 3124 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.225, + "Actual Rows": 64, + "Actual Loops": 4387 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.251, + "Actual Rows": 65, + "Actual Loops": 2965 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.459, + "Actual Rows": 73, + "Actual Loops": 155 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.240, + "Actual Rows": 52, + "Actual Loops": 745 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 785477, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 84039 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 137541 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 282572 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 194141 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 11270 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 38887 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4608735958739764665, + "Planning Time": 9.904, + "Triggers": [ + ], + "Execution Time": 4323.339, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -4608735958739764665, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(n.name) AS of_person,
       MIN(t.title) AS biography_movie
FROM aka_name AS an,
     cast_info AS ci,
     info_type AS it,
     link_type AS lt,
     movie_link AS ml,
     name AS n,
     person_info AS pi,
     title AS t
WHERE an.name LIKE '%a%'
  AND it.info ='mini biography'
  AND lt.link ='features'
  AND n.name_pcode_cf BETWEEN 'A' AND 'F'
  AND (n.gender='m'
       OR (n.gender = 'f'
           AND n.name LIKE 'B%'))
  AND pi.note ='Volker Boehm'
  AND t.production_year BETWEEN 1980 AND 1995
  AND n.id = an.person_id
  AND n.id = pi.person_id
  AND ci.person_id = n.id
  AND t.id = ci.movie_id
  AND ml.linked_movie_id = t.id
  AND lt.id = ml.link_type_id
  AND it.id = pi.info_type_id
  AND pi.person_id = an.person_id
  AND pi.person_id = ci.person_id
  AND an.person_id = ci.person_id
  AND ci.movie_id = ml.linked_movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2087.34, + "Total Cost": 2087.35, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 522.415, + "Actual Total Time": 548.463, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2087.30, + "Total Cost": 2087.31, + "Plan Rows": 5, + "Plan Width": 64, + "Actual Startup Time": 459.245, + "Actual Total Time": 548.431, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2086.30, + "Total Cost": 2086.31, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 477.747, + "Actual Total Time": 477.753, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 512.830, + "Actual Total Time": 512.836, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 440.068, + "Actual Total Time": 440.074, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 486.236, + "Actual Total Time": 486.240, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 475.069, + "Actual Total Time": 475.074, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 494.037, + "Actual Total Time": 494.042, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.73, + "Total Cost": 2086.30, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 338.413, + "Actual Total Time": 477.731, + "Actual Rows": 5, + "Actual Loops": 6, + "Output": ["n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 388.495, + "Actual Total Time": 512.810, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 399.217, + "Actual Total Time": 440.056, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 486.230, + "Actual Total Time": 486.234, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 264.631, + "Actual Total Time": 475.041, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 133.572, + "Actual Total Time": 494.014, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.59, + "Total Cost": 2086.06, + "Plan Rows": 1, + "Plan Width": 36, + "Actual Startup Time": 338.385, + "Actual Total Time": 477.670, + "Actual Rows": 5, + "Actual Loops": 6, + "Output": ["n.name", "pi.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 388.464, + "Actual Total Time": 512.735, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 399.186, + "Actual Total Time": 440.017, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 486.230, + "Actual Total Time": 486.232, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 264.613, + "Actual Total Time": 474.951, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 133.515, + "Actual Total Time": 493.901, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.17, + "Total Cost": 2085.57, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 338.326, + "Actual Total Time": 477.555, + "Actual Rows": 2, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "pi.person_id", "pi.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 388.397, + "Actual Total Time": 512.554, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 399.129, + "Actual Total Time": 439.952, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 486.229, + "Actual Total Time": 486.232, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 264.561, + "Actual Total Time": 474.797, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 133.388, + "Actual Total Time": 493.677, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1964.45, + "Plan Rows": 177, + "Plan Width": 40, + "Actual Startup Time": 1.202, + "Actual Total Time": 390.019, + "Actual Rows": 2926, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.000, + "Actual Total Time": 404.537, + "Actual Rows": 2580, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.410, + "Actual Total Time": 357.674, + "Actual Rows": 2231, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.219, + "Actual Total Time": 404.387, + "Actual Rows": 4275, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.963, + "Actual Total Time": 394.747, + "Actual Rows": 3699, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.728, + "Actual Total Time": 398.427, + "Actual Rows": 2486, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1233.51, + "Plan Rows": 1582, + "Plan Width": 21, + "Actual Startup Time": 0.986, + "Actual Total Time": 122.812, + "Actual Rows": 17544, + "Actual Loops": 6, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.693, + "Actual Total Time": 128.798, + "Actual Rows": 15562, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.321, + "Actual Total Time": 105.642, + "Actual Rows": 14933, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.661, + "Actual Total Time": 121.864, + "Actual Rows": 22856, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.828, + "Actual Total Time": 128.374, + "Actual Rows": 21990, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.608, + "Actual Total Time": 124.758, + "Actual Rows": 15640, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1126.40, + "Plan Rows": 45, + "Plan Width": 25, + "Actual Startup Time": 0.885, + "Actual Total Time": 33.686, + "Actual Rows": 244, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.586, + "Actual Total Time": 33.951, + "Actual Rows": 213, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.230, + "Actual Total Time": 29.272, + "Actual Rows": 189, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.587, + "Actual Total Time": 31.128, + "Actual Rows": 278, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.707, + "Actual Total Time": 36.820, + "Actual Rows": 387, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.464, + "Actual Total Time": 32.485, + "Actual Rows": 195, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 632.40, + "Plan Rows": 333, + "Plan Width": 4, + "Actual Startup Time": 0.212, + "Actual Total Time": 17.890, + "Actual Rows": 864, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.365, + "Actual Total Time": 17.491, + "Actual Rows": 815, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.113, + "Actual Total Time": 15.144, + "Actual Rows": 675, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.224, + "Actual Total Time": 16.397, + "Actual Rows": 881, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.119, + "Actual Total Time": 18.053, + "Actual Rows": 1323, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.179, + "Actual Total Time": 17.623, + "Actual Rows": 722, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.060, + "Actual Total Time": 10.482, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.065, + "Actual Total Time": 10.042, + "Actual Rows": 4203, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.064, + "Actual Total Time": 8.825, + "Actual Rows": 3732, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.057, + "Actual Total Time": 9.787, + "Actual Rows": 5629, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.053, + "Actual Total Time": 10.620, + "Actual Rows": 6124, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.059, + "Actual Total Time": 10.375, + "Actual Rows": 4373, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 5920, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4203, + "Cache Hits": 4187, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3732, + "Cache Hits": 3716, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5629, + "Cache Hits": 5613, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 6124, + "Cache Hits": 6108, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4373, + "Cache Hits": 4357, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text = 'features'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 5186, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1980) AND (t.production_year <= 1995))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 815 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 675 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 881 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1323 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 722 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 2.03, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.337, + "Actual Rows": 72, + "Actual Loops": 1467, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.412, + "Actual Rows": 73, + "Actual Loops": 213 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.369, + "Actual Rows": 79, + "Actual Loops": 189 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.302, + "Actual Rows": 82, + "Actual Loops": 278 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.219, + "Actual Rows": 57, + "Actual Loops": 387 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.438, + "Actual Rows": 80, + "Actual Loops": 195 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 105262, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((n.name_pcode_cf)::text >= 'A'::text) AND ((n.name_pcode_cf)::text <= 'F'::text) AND (((n.gender)::text = 'm'::text) OR (((n.gender)::text = 'f'::text) AND (n.name ~~ 'B%'::text))))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 15562 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 14933 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 22856 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 21990 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 15640 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.67, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 17559, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(pi.note = 'Volker Boehm'::text)", + "Rows Removed by Filter": 20, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 2580 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 2231 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 4275 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 3699 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 2486 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.045, + "Actual Rows": 2, + "Actual Loops": 14, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(an.name ~~ '%a%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.055, + "Actual Rows": 2, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.059, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.022, + "Actual Rows": 2, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.070, + "Actual Rows": 3, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.19, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 32, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = pi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'mini biography'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 8 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7100159318594498086, + "Planning Time": 35.187, + "Triggers": [ + ], + "Execution Time": 548.987, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 7100159318594498086, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(n.name) AS of_person,
       MIN(t.title) AS biography_movie
FROM aka_name AS an,
     cast_info AS ci,
     info_type AS it,
     link_type AS lt,
     movie_link AS ml,
     name AS n,
     person_info AS pi,
     title AS t
WHERE an.name LIKE '%a%'
  AND it.info ='mini biography'
  AND lt.link ='features'
  AND n.name_pcode_cf LIKE 'D%'
  AND n.gender='m'
  AND pi.note ='Volker Boehm'
  AND t.production_year BETWEEN 1980 AND 1984
  AND n.id = an.person_id
  AND n.id = pi.person_id
  AND ci.person_id = n.id
  AND t.id = ci.movie_id
  AND ml.linked_movie_id = t.id
  AND lt.id = ml.link_type_id
  AND it.id = pi.info_type_id
  AND pi.person_id = an.person_id
  AND pi.person_id = ci.person_id
  AND an.person_id = ci.person_id
  AND ci.movie_id = ml.linked_movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1348.62, + "Total Cost": 1348.63, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 206.628, + "Actual Total Time": 206.787, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1348.58, + "Total Cost": 1348.59, + "Plan Rows": 5, + "Plan Width": 64, + "Actual Startup Time": 206.607, + "Actual Total Time": 206.775, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1347.58, + "Total Cost": 1347.59, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 134.675, + "Actual Total Time": 134.680, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.236, + "Actual Total Time": 117.241, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 119.494, + "Actual Total Time": 119.501, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 122.274, + "Actual Total Time": 122.280, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 111.424, + "Actual Total Time": 111.428, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 131.952, + "Actual Total Time": 131.958, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.73, + "Total Cost": 1347.58, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 98.016, + "Actual Total Time": 134.666, + "Actual Rows": 3, + "Actual Loops": 6, + "Output": ["n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.231, + "Actual Total Time": 117.235, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 64.466, + "Actual Total Time": 119.461, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 122.269, + "Actual Total Time": 122.273, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 111.419, + "Actual Total Time": 111.422, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 131.946, + "Actual Total Time": 131.950, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.59, + "Total Cost": 1347.34, + "Plan Rows": 1, + "Plan Width": 36, + "Actual Startup Time": 98.004, + "Actual Total Time": 134.632, + "Actual Rows": 3, + "Actual Loops": 6, + "Output": ["n.name", "pi.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.230, + "Actual Total Time": 117.234, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 64.433, + "Actual Total Time": 119.317, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 122.268, + "Actual Total Time": 122.272, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 111.418, + "Actual Total Time": 111.421, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 131.945, + "Actual Total Time": 131.948, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.17, + "Total Cost": 1346.85, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 97.988, + "Actual Total Time": 134.589, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "pi.person_id", "pi.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.230, + "Actual Total Time": 117.233, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 64.377, + "Actual Total Time": 119.130, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 122.267, + "Actual Total Time": 122.271, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 111.418, + "Actual Total Time": 111.420, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 131.944, + "Actual Total Time": 131.947, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1342.06, + "Plan Rows": 7, + "Plan Width": 40, + "Actual Startup Time": 6.979, + "Actual Total Time": 129.964, + "Actual Rows": 179, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.076, + "Actual Total Time": 113.895, + "Actual Rows": 112, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.004, + "Actual Total Time": 113.603, + "Actual Rows": 117, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.984, + "Actual Total Time": 118.920, + "Actual Rows": 178, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.850, + "Actual Total Time": 107.610, + "Actual Rows": 181, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.576, + "Actual Total Time": 127.715, + "Actual Rows": 123, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1183.88, + "Plan Rows": 348, + "Plan Width": 21, + "Actual Startup Time": 2.587, + "Actual Total Time": 49.450, + "Actual Rows": 5569, + "Actual Loops": 6, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.968, + "Actual Total Time": 41.935, + "Actual Rows": 4156, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.156, + "Actual Total Time": 49.237, + "Actual Rows": 3496, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.579, + "Actual Total Time": 44.836, + "Actual Rows": 6444, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.188, + "Actual Total Time": 45.158, + "Actual Rows": 5064, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.485, + "Actual Total Time": 50.298, + "Actual Rows": 4535, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1126.40, + "Plan Rows": 10, + "Plan Width": 25, + "Actual Startup Time": 2.539, + "Actual Total Time": 27.769, + "Actual Rows": 72, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.925, + "Actual Total Time": 21.928, + "Actual Rows": 50, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.100, + "Actual Total Time": 30.542, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.537, + "Actual Total Time": 25.014, + "Actual Rows": 80, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.144, + "Actual Total Time": 27.601, + "Actual Rows": 80, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.429, + "Actual Total Time": 29.447, + "Actual Rows": 81, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 632.40, + "Plan Rows": 333, + "Plan Width": 4, + "Actual Startup Time": 0.389, + "Actual Total Time": 15.316, + "Actual Rows": 864, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.674, + "Actual Total Time": 12.712, + "Actual Rows": 545, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.975, + "Actual Total Time": 16.839, + "Actual Rows": 826, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.286, + "Actual Total Time": 12.663, + "Actual Rows": 1013, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.138, + "Actual Total Time": 15.130, + "Actual Rows": 1074, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.074, + "Actual Total Time": 16.418, + "Actual Rows": 806, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.050, + "Actual Total Time": 8.838, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 7.324, + "Actual Rows": 3693, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.063, + "Actual Total Time": 9.789, + "Actual Rows": 4800, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.079, + "Actual Total Time": 7.322, + "Actual Rows": 5023, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.050, + "Actual Total Time": 8.776, + "Actual Rows": 6500, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 9.481, + "Actual Rows": 4626, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 5339, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3693, + "Cache Hits": 3677, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4800, + "Cache Hits": 4784, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5023, + "Cache Hits": 5007, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 6500, + "Cache Hits": 6484, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4626, + "Cache Hits": 4610, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text = 'features'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 5186, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1980) AND (t.production_year <= 1984))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 545 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 826 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 1013 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 1074 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 806 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 5.40, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.270, + "Actual Rows": 77, + "Actual Loops": 435, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.364, + "Actual Rows": 83, + "Actual Loops": 50 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.290, + "Actual Rows": 59, + "Actual Loops": 59 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.224, + "Actual Rows": 81, + "Actual Loops": 80 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.201, + "Actual Rows": 63, + "Actual Loops": 80 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.231, + "Actual Rows": 56, + "Actual Loops": 81 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 33415, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((n.name_pcode_cf)::text ~~ 'D%'::text) AND ((n.gender)::text = 'm'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 4156 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 3496 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 6444 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 5064 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 4535 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.67, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1076, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(pi.note = 'Volker Boehm'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 112 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 117 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 178 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 181 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 123 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.027, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(an.name ~~ '%a%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.027, + "Actual Rows": 2, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.19, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = pi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'mini biography'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 12 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -298514962653462987, + "Planning Time": 51.640, + "Triggers": [ + ], + "Execution Time": 207.205, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -298514962653462987, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(n.name) AS cast_member_name,
       MIN(pi.info) AS cast_member_info
FROM aka_name AS an,
     cast_info AS ci,
     info_type AS it,
     link_type AS lt,
     movie_link AS ml,
     name AS n,
     person_info AS pi,
     title AS t
WHERE an.name IS NOT NULL
  AND (an.name LIKE '%a%'
       OR an.name LIKE 'A%')
  AND it.info ='mini biography'
  AND lt.link IN ('references',
                  'referenced in',
                  'features',
                  'featured in')
  AND n.name_pcode_cf BETWEEN 'A' AND 'F'
  AND (n.gender='m'
       OR (n.gender = 'f'
           AND n.name LIKE 'A%'))
  AND pi.note IS NOT NULL
  AND t.production_year BETWEEN 1980 AND 2010
  AND n.id = an.person_id
  AND n.id = pi.person_id
  AND ci.person_id = n.id
  AND t.id = ci.movie_id
  AND ml.linked_movie_id = t.id
  AND lt.id = ml.link_type_id
  AND it.id = pi.info_type_id
  AND pi.person_id = an.person_id
  AND pi.person_id = ci.person_id
  AND an.person_id = ci.person_id
  AND ci.movie_id = ml.linked_movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 19411.83, + "Total Cost": 19411.84, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 3841.402, + "Actual Total Time": 3868.337, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(pi.info)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 19411.80, + "Total Cost": 19411.81, + "Plan Rows": 5, + "Plan Width": 64, + "Actual Startup Time": 3513.033, + "Actual Total Time": 3868.281, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(pi.info))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 19410.80, + "Total Cost": 19410.81, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 3667.087, + "Actual Total Time": 3667.093, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(pi.info)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3705.503, + "Actual Total Time": 3705.508, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3528.680, + "Actual Total Time": 3528.686, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3636.462, + "Actual Total Time": 3636.467, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3787.077, + "Actual Total Time": 3787.082, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3832.864, + "Actual Total Time": 3832.868, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.43, + "Total Cost": 19410.79, + "Plan Rows": 1, + "Plan Width": 111, + "Actual Startup Time": 5.428, + "Actual Total Time": 3500.804, + "Actual Rows": 11364, + "Actual Loops": 6, + "Output": ["n.name", "pi.info"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.256, + "Actual Total Time": 3578.892, + "Actual Rows": 9234, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.700, + "Actual Total Time": 3362.205, + "Actual Rows": 9454, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.662, + "Actual Total Time": 3481.581, + "Actual Rows": 13277, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.773, + "Actual Total Time": 3625.410, + "Actual Rows": 14796, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.622, + "Actual Total Time": 3649.788, + "Actual Rows": 10658, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.01, + "Total Cost": 19410.30, + "Plan Rows": 1, + "Plan Width": 123, + "Actual Startup Time": 4.615, + "Actual Total Time": 3400.232, + "Actual Rows": 6693, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "pi.info", "pi.person_id"], + "Inner Unique": true, + "Hash Cond": "(pi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.793, + "Actual Total Time": 3485.693, + "Actual Rows": 5627, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.584, + "Actual Total Time": 3271.218, + "Actual Rows": 5263, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.570, + "Actual Total Time": 3384.592, + "Actual Rows": 7878, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.714, + "Actual Total Time": 3517.954, + "Actual Rows": 8552, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.536, + "Actual Total Time": 3544.854, + "Actual Rows": 6517, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.17, + "Total Cost": 19408.27, + "Plan Rows": 65, + "Plan Width": 127, + "Actual Startup Time": 4.465, + "Actual Total Time": 3389.765, + "Actual Rows": 6693, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "pi.info", "pi.person_id", "pi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(n.id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.691, + "Actual Total Time": 3475.833, + "Actual Rows": 5627, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.480, + "Actual Total Time": 3261.692, + "Actual Rows": 5263, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.482, + "Actual Total Time": 3374.553, + "Actual Rows": 7878, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.636, + "Actual Total Time": 3507.047, + "Actual Rows": 8552, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.458, + "Actual Total Time": 3533.702, + "Actual Rows": 6517, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 17314.50, + "Plan Rows": 3200, + "Plan Width": 23, + "Actual Startup Time": 0.570, + "Actual Total Time": 2798.652, + "Actual Rows": 25129, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.424, + "Actual Total Time": 2875.465, + "Actual Rows": 23510, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.481, + "Actual Total Time": 2738.127, + "Actual Rows": 21135, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.434, + "Actual Total Time": 2841.687, + "Actual Rows": 29296, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.466, + "Actual Total Time": 2918.672, + "Actual Rows": 32787, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.394, + "Actual Total Time": 2923.512, + "Actual Rows": 23494, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 3928.84, + "Plan Rows": 28971, + "Plan Width": 4, + "Actual Startup Time": 0.329, + "Actual Total Time": 689.548, + "Actual Rows": 182868, + "Actual Loops": 6, + "Output": ["ci.person_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.351, + "Actual Total Time": 690.348, + "Actual Rows": 171505, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.389, + "Actual Total Time": 676.945, + "Actual Rows": 158401, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.354, + "Actual Total Time": 690.326, + "Actual Rows": 224948, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.402, + "Actual Total Time": 728.647, + "Actual Rows": 224757, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.314, + "Actual Total Time": 729.171, + "Actual Rows": 174722, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2606.92, + "Plan Rows": 818, + "Plan Width": 8, + "Actual Startup Time": 0.246, + "Actual Total Time": 75.067, + "Actual Rows": 2366, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.245, + "Actual Total Time": 74.702, + "Actual Rows": 2263, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.294, + "Actual Total Time": 73.664, + "Actual Rows": 1949, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.265, + "Actual Total Time": 74.022, + "Actual Rows": 2725, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.325, + "Actual Total Time": 80.377, + "Actual Rows": 2974, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.226, + "Actual Total Time": 80.460, + "Actual Rows": 2298, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 629.43, + "Plan Rows": 1333, + "Plan Width": 4, + "Actual Startup Time": 0.115, + "Actual Total Time": 23.831, + "Actual Rows": 3584, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.137, + "Actual Total Time": 23.101, + "Actual Rows": 3363, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.188, + "Actual Total Time": 23.600, + "Actual Rows": 3043, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.099, + "Actual Total Time": 23.078, + "Actual Rows": 4394, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.068, + "Actual Total Time": 26.531, + "Actual Rows": 4335, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.126, + "Actual Total Time": 24.759, + "Actual Rows": 3516, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.059, + "Actual Total Time": 11.318, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.087, + "Actual Total Time": 11.067, + "Actual Rows": 4328, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.115, + "Actual Total Time": 11.198, + "Actual Rows": 4391, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.047, + "Actual Total Time": 11.123, + "Actual Rows": 5615, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 12.747, + "Actual Rows": 7138, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 11.700, + "Actual Rows": 4629, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 3880, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 4328, + "Cache Hits": 4312, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 4391, + "Cache Hits": 4375, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 5615, + "Cache Hits": 5599, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 7138, + "Cache Hits": 7122, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 4629, + "Cache Hits": 4613, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text = ANY ('{references,\"referenced in\",features,\"featured in\"}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 21505, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1980) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 3363 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 3043 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 4394 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 4335 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 3516 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.27, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.236, + "Actual Rows": 77, + "Actual Loops": 14194, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.246, + "Actual Rows": 76, + "Actual Loops": 2263 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.281, + "Actual Rows": 81, + "Actual Loops": 1949 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.206, + "Actual Rows": 83, + "Actual Loops": 2725 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.199, + "Actual Rows": 76, + "Actual Loops": 2974 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.257, + "Actual Rows": 76, + "Actual Loops": 2298 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 1097209, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((n.name_pcode_cf)::text >= 'A'::text) AND ((n.name_pcode_cf)::text <= 'F'::text) AND (((n.gender)::text = 'm'::text) OR (((n.gender)::text = 'f'::text) AND (n.name ~~ 'A%'::text))))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 171505 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 158401 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 224948 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 224757 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 174722 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.64, + "Plan Rows": 1, + "Plan Width": 104, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 150772, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(pi.note IS NOT NULL)", + "Rows Removed by Filter": 20, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 23510 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 21135 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 29296 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 32787 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 23494 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.063, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'mini biography'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 2, + "Actual Loops": 40157, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((an.name IS NOT NULL) AND ((an.name ~~ '%a%'::text) OR (an.name ~~ 'A%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 5627 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 5263 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 7878 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 8552 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 6517 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7678011977838348522, + "Planning Time": 37.123, + "Triggers": [ + ], + "Execution Time": 3868.928, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -7678011977838348522, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an1.name) AS actress_pseudonym,
       MIN(t.title) AS japanese_movie_dubbed
FROM aka_name AS an1,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n1,
     role_type AS rt,
     title AS t
WHERE ci.note ='(voice: English version)'
  AND cn.country_code ='[jp]'
  AND mc.note LIKE '%(Japan)%'
  AND mc.note NOT LIKE '%(USA)%'
  AND n1.name LIKE '%Yo%'
  AND n1.name NOT LIKE '%Yu%'
  AND rt.role ='actress'
  AND an1.person_id = n1.id
  AND n1.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND an1.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7349.23, + "Total Cost": 7349.24, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1144.029, + "Actual Total Time": 1175.784, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an1.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7349.18, + "Total Cost": 7349.19, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 1136.737, + "Actual Total Time": 1175.753, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an1.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7348.18, + "Total Cost": 7348.19, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1104.760, + "Actual Total Time": 1104.766, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an1.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1095.168, + "Actual Total Time": 1095.174, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1133.877, + "Actual Total Time": 1133.883, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1093.743, + "Actual Total Time": 1093.748, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1095.178, + "Actual Total Time": 1095.183, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1093.758, + "Actual Total Time": 1093.764, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1095.483, + "Actual Total Time": 1095.488, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1095.246, + "Actual Total Time": 1095.251, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.29, + "Total Cost": 7348.18, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 326.214, + "Actual Total Time": 1104.717, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["an1.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 358.116, + "Actual Total Time": 1095.110, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 111.905, + "Actual Total Time": 1133.804, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 419.518, + "Actual Total Time": 1093.716, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 210.427, + "Actual Total Time": 1095.106, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 272.111, + "Actual Total Time": 1093.723, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 523.148, + "Actual Total Time": 1095.450, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 411.439, + "Actual Total Time": 1095.226, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.86, + "Total Cost": 7347.64, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 69.102, + "Actual Total Time": 1076.034, + "Actual Rows": 2172, + "Actual Loops": 8, + "Output": ["an1.name", "an1.person_id", "ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.670, + "Actual Total Time": 1074.902, + "Actual Rows": 1462, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 81.702, + "Actual Total Time": 1103.964, + "Actual Rows": 2209, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.618, + "Actual Total Time": 1067.346, + "Actual Rows": 1962, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 182.092, + "Actual Total Time": 1075.138, + "Actual Rows": 1513, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 92.380, + "Actual Total Time": 1047.889, + "Actual Rows": 3489, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 86.418, + "Actual Total Time": 1050.557, + "Actual Rows": 3503, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 81.488, + "Actual Total Time": 1085.735, + "Actual Rows": 709, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.44, + "Total Cost": 7347.00, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 65.078, + "Actual Total Time": 1059.048, + "Actual Rows": 930, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.545, + "Actual Total Time": 1062.209, + "Actual Rows": 736, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 81.619, + "Actual Total Time": 1083.159, + "Actual Rows": 1200, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.458, + "Actual Total Time": 1052.647, + "Actual Rows": 748, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 181.562, + "Actual Total Time": 1062.369, + "Actual Rows": 711, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.410, + "Actual Total Time": 1020.209, + "Actual Rows": 1310, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 86.358, + "Actual Total Time": 1025.166, + "Actual Rows": 1487, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 81.275, + "Actual Total Time": 1080.086, + "Actual Rows": 303, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 7346.21, + "Plan Rows": 5, + "Plan Width": 25, + "Actual Startup Time": 62.290, + "Actual Total Time": 1043.613, + "Actual Rows": 2450, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.role_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.164, + "Actual Total Time": 1048.069, + "Actual Rows": 2159, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 81.488, + "Actual Total Time": 1064.546, + "Actual Rows": 3118, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.189, + "Actual Total Time": 1034.317, + "Actual Rows": 2316, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 181.241, + "Actual Total Time": 1049.578, + "Actual Rows": 2141, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 40.801, + "Actual Total Time": 1002.402, + "Actual Rows": 3016, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 86.147, + "Actual Total Time": 1002.421, + "Actual Rows": 3829, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 80.921, + "Actual Total Time": 1075.330, + "Actual Rows": 785, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 7275.75, + "Plan Rows": 55, + "Plan Width": 25, + "Actual Startup Time": 0.258, + "Actual Total Time": 190.895, + "Actual Rows": 6041, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.235, + "Actual Total Time": 173.153, + "Actual Rows": 6202, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.239, + "Actual Total Time": 184.026, + "Actual Rows": 6253, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.282, + "Actual Total Time": 196.197, + "Actual Rows": 4783, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.252, + "Actual Total Time": 185.231, + "Actual Rows": 4939, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.387, + "Actual Total Time": 253.894, + "Actual Rows": 7548, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.248, + "Actual Total Time": 164.831, + "Actual Rows": 6893, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.269, + "Actual Total Time": 211.418, + "Actual Rows": 5897, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 7173.36, + "Plan Rows": 55, + "Plan Width": 4, + "Actual Startup Time": 0.160, + "Actual Total Time": 81.936, + "Actual Rows": 6041, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.140, + "Actual Total Time": 67.583, + "Actual Rows": 6202, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.141, + "Actual Total Time": 69.793, + "Actual Rows": 6253, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.163, + "Actual Total Time": 102.027, + "Actual Rows": 4783, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.139, + "Actual Total Time": 94.902, + "Actual Rows": 4939, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.269, + "Actual Total Time": 114.823, + "Actual Rows": 7548, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.161, + "Actual Total Time": 49.283, + "Actual Rows": 6893, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.163, + "Actual Total Time": 100.332, + "Actual Rows": 5897, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 850, + "Plan Width": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 15.509, + "Actual Rows": 844, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[jp]'::text)", + "Rows Removed by Filter": 28531, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.046, + "Actual Total Time": 9.201, + "Actual Rows": 491, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.049, + "Actual Total Time": 5.993, + "Actual Rows": 366, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.066, + "Actual Total Time": 25.079, + "Actual Rows": 1404, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 23.759, + "Actual Rows": 1366, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.063, + "Actual Total Time": 24.666, + "Actual Rows": 1378, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.055, + "Actual Total Time": 3.325, + "Actual Rows": 205, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.059, + "Actual Total Time": 21.350, + "Actual Rows": 1284, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 4.47, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.074, + "Actual Rows": 7, + "Actual Loops": 6752, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(Japan)%'::text) AND (mc.note !~~ '%(USA)%'::text))", + "Rows Removed by Filter": 8, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.111, + "Actual Rows": 13, + "Actual Loops": 491 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.165, + "Actual Rows": 17, + "Actual Loops": 366 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.052, + "Actual Rows": 3, + "Actual Loops": 1404 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.049, + "Actual Rows": 4, + "Actual Loops": 1366 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.062, + "Actual Rows": 5, + "Actual Loops": 1378 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.209, + "Actual Rows": 34, + "Actual Loops": 205 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.058, + "Actual Rows": 5, + "Actual Loops": 1284 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.86, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 48328, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 6202 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 6253 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 4783 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 4939 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 7548 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 6893 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 5897 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.27, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.134, + "Actual Total Time": 0.140, + "Actual Rows": 0, + "Actual Loops": 48328, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = '(voice: English version)'::text)", + "Rows Removed by Filter": 32, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.133, + "Actual Total Time": 0.140, + "Actual Rows": 0, + "Actual Loops": 6202 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.131, + "Actual Total Time": 0.139, + "Actual Rows": 0, + "Actual Loops": 6253 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.164, + "Actual Total Time": 0.174, + "Actual Rows": 0, + "Actual Loops": 4783 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.168, + "Actual Total Time": 0.174, + "Actual Rows": 0, + "Actual Loops": 4939 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.093, + "Actual Total Time": 0.098, + "Actual Rows": 0, + "Actual Loops": 7548 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.113, + "Actual Total Time": 0.120, + "Actual Rows": 1, + "Actual Loops": 6893 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.144, + "Actual Total Time": 0.145, + "Actual Rows": 0, + "Actual Loops": 5897 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 19600, + "Output": ["rt.id", "rt.role"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 2159 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 3118 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 2316 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 2141 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 3016 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 3829 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 785 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an1", + "Startup Cost": 0.42, + "Total Cost": 0.62, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.016, + "Actual Rows": 2, + "Actual Loops": 7438, + "Output": ["an1.id", "an1.person_id", "an1.name", "an1.imdb_index", "an1.name_pcode_cf", "an1.name_pcode_nf", "an1.surname_pcode", "an1.md5sum"], + "Index Cond": "(an1.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 736 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 1200 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 748 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 2, + "Actual Loops": 711 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 1310 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 1487 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 2, + "Actual Loops": 303 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n1", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 17379, + "Output": ["n1.id", "n1.name", "n1.imdb_index", "n1.imdb_id", "n1.gender", "n1.name_pcode_cf", "n1.name_pcode_nf", "n1.surname_pcode", "n1.md5sum"], + "Index Cond": "(n1.id = an1.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n1.name ~~ '%Yo%'::text) AND (n1.name !~~ '%Yu%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1462 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 2209 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1962 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1513 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 3489 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 3503 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 709 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 99813637196177449, + "Planning Time": 20.618, + "Triggers": [ + ], + "Execution Time": 1176.199, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 99813637196177449, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(an.name) AS acress_pseudonym,
       MIN(t.title) AS japanese_anime_movie
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note ='(voice: English version)'
  AND cn.country_code ='[jp]'
  AND mc.note LIKE '%(Japan)%'
  AND mc.note NOT LIKE '%(USA)%'
  AND (mc.note LIKE '%(2006)%'
       OR mc.note LIKE '%(2007)%')
  AND n.name LIKE '%Yo%'
  AND n.name NOT LIKE '%Yu%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2006 AND 2007
  AND (t.title LIKE 'One Piece%'
       OR t.title LIKE 'Dragon Ball Z%')
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id;

QUERY PLAN --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7441.00, + "Total Cost": 7441.01, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 103.429, + "Actual Total Time": 116.354, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7440.95, + "Total Cost": 7440.96, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 102.946, + "Actual Total Time": 116.334, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7439.95, + "Total Cost": 7439.96, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 94.605, + "Actual Total Time": 94.611, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.281, + "Actual Total Time": 91.286, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 93.724, + "Actual Total Time": 93.729, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 93.852, + "Actual Total Time": 93.857, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 94.360, + "Actual Total Time": 94.365, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 94.345, + "Actual Total Time": 94.351, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 94.392, + "Actual Total Time": 94.396, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 92.825, + "Actual Total Time": 92.832, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.30, + "Total Cost": 7439.94, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 83.223, + "Actual Total Time": 94.601, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.276, + "Actual Total Time": 91.281, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 93.719, + "Actual Total Time": 93.724, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 93.847, + "Actual Total Time": 93.852, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 94.356, + "Actual Total Time": 94.361, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.632, + "Actual Total Time": 94.322, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 94.382, + "Actual Total Time": 94.387, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 61.517, + "Actual Total Time": 92.815, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.17, + "Total Cost": 7439.76, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 83.213, + "Actual Total Time": 94.586, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["an.name", "ci.role_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.276, + "Actual Total Time": 91.280, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 93.718, + "Actual Total Time": 93.722, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 93.847, + "Actual Total Time": 93.851, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 94.356, + "Actual Total Time": 94.360, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.591, + "Actual Total Time": 94.267, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 94.382, + "Actual Total Time": 94.386, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 61.480, + "Actual Total Time": 92.759, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.74, + "Total Cost": 7439.23, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 82.689, + "Actual Total Time": 94.136, + "Actual Rows": 21, + "Actual Loops": 8, + "Output": ["an.name", "an.person_id", "ci.person_id", "ci.role_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.275, + "Actual Total Time": 91.279, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 93.718, + "Actual Total Time": 93.721, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 93.846, + "Actual Total Time": 93.849, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 94.355, + "Actual Total Time": 94.358, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.955, + "Actual Total Time": 91.788, + "Actual Rows": 106, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 94.381, + "Actual Total Time": 94.384, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 58.928, + "Actual Total Time": 91.647, + "Actual Rows": 65, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.31, + "Total Cost": 7438.59, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 82.663, + "Actual Total Time": 93.843, + "Actual Rows": 13, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.role_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.275, + "Actual Total Time": 91.277, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 93.717, + "Actual Total Time": 93.720, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 93.845, + "Actual Total Time": 93.848, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 94.354, + "Actual Total Time": 94.357, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.839, + "Actual Total Time": 90.602, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 94.380, + "Actual Total Time": 94.383, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 58.837, + "Actual Total Time": 90.497, + "Actual Rows": 58, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 7399.60, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 82.611, + "Actual Total Time": 93.694, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.274, + "Actual Total Time": 91.276, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 93.716, + "Actual Total Time": 93.718, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 93.845, + "Actual Total Time": 93.847, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 94.354, + "Actual Total Time": 94.355, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.751, + "Actual Total Time": 90.188, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 94.380, + "Actual Total Time": 94.381, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 58.513, + "Actual Total Time": 89.731, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 7394.36, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.802, + "Actual Total Time": 75.199, + "Actual Rows": 1062, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.131, + "Actual Total Time": 76.150, + "Actual Rows": 830, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.859, + "Actual Total Time": 75.061, + "Actual Rows": 1063, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.368, + "Actual Total Time": 76.981, + "Actual Rows": 1010, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.230, + "Actual Total Time": 73.182, + "Actual Rows": 1407, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.275, + "Actual Total Time": 72.980, + "Actual Rows": 837, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.373, + "Actual Total Time": 70.940, + "Actual Rows": 1511, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.074, + "Actual Total Time": 73.732, + "Actual Rows": 829, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 850, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 13.331, + "Actual Rows": 844, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[jp]'::text)", + "Rows Removed by Filter": 28531, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.060, + "Actual Total Time": 15.552, + "Actual Rows": 1030, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.043, + "Actual Total Time": 11.708, + "Actual Rows": 754, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 13.079, + "Actual Rows": 816, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.047, + "Actual Total Time": 12.647, + "Actual Rows": 788, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 14.460, + "Actual Rows": 887, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.049, + "Actual Total Time": 12.883, + "Actual Rows": 848, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.048, + "Actual Total Time": 14.461, + "Actual Rows": 863, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 4.73, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.072, + "Actual Rows": 1, + "Actual Loops": 6752, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(Japan)%'::text) AND (mc.note !~~ '%(USA)%'::text) AND ((mc.note ~~ '%(2006)%'::text) OR (mc.note ~~ '%(2007)%'::text)))", + "Rows Removed by Filter": 14, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 1030 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.083, + "Actual Rows": 1, + "Actual Loops": 754 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.077, + "Actual Rows": 1, + "Actual Loops": 816 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.075, + "Actual Rows": 2, + "Actual Loops": 788 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.065, + "Actual Rows": 1, + "Actual Loops": 887 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.067, + "Actual Rows": 2, + "Actual Loops": 848 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.067, + "Actual Rows": 1, + "Actual Loops": 863 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.44, + "Total Cost": 2.61, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 8495, + "Output": ["t.title", "t.id"], + "Cache Key": "mc.movie_id", + "Cache Mode": "logical", + "Cache Hits": 105, + "Cache Misses": 903, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 60, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 830, + "Cache Hits": 167, + "Cache Misses": 663, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 45 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1063, + "Cache Hits": 32, + "Cache Misses": 1031, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 69 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1010, + "Cache Hits": 240, + "Cache Misses": 770, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 52 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1407, + "Cache Hits": 117, + "Cache Misses": 1290, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 86 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 837, + "Cache Hits": 30, + "Cache Misses": 807, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 54 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1511, + "Cache Hits": 83, + "Cache Misses": 1428, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 95 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 829, + "Cache Hits": 39, + "Cache Misses": 790, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 53 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 2.60, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 7682, + "Output": ["t.title", "t.id"], + "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2006) AND (t.production_year <= 2007) AND ((t.title ~~ 'One Piece%'::text) OR (t.title ~~ 'Dragon Ball Z%'::text)))",+ "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 663 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1031 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 770 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1290 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 807 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1428 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 790 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 38.98, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.100, + "Actual Total Time": 0.275, + "Actual Rows": 26, + "Actual Loops": 4, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = '(voice: English version)'::text)", + "Rows Removed by Filter": 17, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.188, + "Actual Rows": 23, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.149, + "Actual Total Time": 0.363, + "Actual Rows": 29, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.62, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.021, + "Actual Rows": 2, + "Actual Loops": 104, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.023, + "Actual Rows": 2, + "Actual Loops": 46 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 58 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 171, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%Yo%'::text) AND (n.name !~~ '%Yu%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 106 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 65 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["rt.id", "rt.role"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4954783290691726040, + "Planning Time": 18.135, + "Triggers": [ + ], + "Execution Time": 116.858, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 4954783290691726040, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(a1.name) AS writer_pseudo_name,
       MIN(t.title) AS movie_title
FROM aka_name AS a1,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n1,
     role_type AS rt,
     title AS t
WHERE cn.country_code ='[us]'
  AND rt.role ='writer'
  AND a1.person_id = n1.id
  AND n1.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND a1.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id;

QUERY PLAN --------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 280105.64, + "Total Cost": 280105.65, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 7601.721, + "Actual Total Time": 7673.751, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(a1.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 280105.59, + "Total Cost": 280105.60, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 7539.610, + "Actual Total Time": 7673.710, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(a1.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 280104.59, + "Total Cost": 280104.60, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 7538.233, + "Actual Total Time": 7541.127, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(a1.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7532.009, + "Actual Total Time": 7532.018, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7585.197, + "Actual Total Time": 7585.210, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7530.557, + "Actual Total Time": 7530.565, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7529.043, + "Actual Total Time": 7529.051, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7531.601, + "Actual Total Time": 7531.609, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7529.606, + "Actual Total Time": 7529.616, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7529.091, + "Actual Total Time": 7529.098, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 259554.64, + "Total Cost": 276473.72, + "Plan Rows": 726174, + "Plan Width": 33, + "Actual Startup Time": 6830.611, + "Actual Total Time": 7373.130, + "Actual Rows": 310951, + "Actual Loops": 8, + "Output": ["a1.name", "t.title"], + "Inner Unique": false, + "Hash Cond": "(ci.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6830.048, + "Actual Total Time": 7359.762, + "Actual Rows": 299125, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6830.286, + "Actual Total Time": 7418.688, + "Actual Rows": 293604, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6830.022, + "Actual Total Time": 7366.327, + "Actual Rows": 345686, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6828.441, + "Actual Total Time": 7350.236, + "Actual Rows": 370050, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6831.123, + "Actual Total Time": 7361.492, + "Actual Rows": 296549, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6829.391, + "Actual Total Time": 7370.193, + "Actual Rows": 283588, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6827.759, + "Actual Total Time": 7363.766, + "Actual Rows": 300248, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 188429.17, + "Total Cost": 201995.46, + "Plan Rows": 795188, + "Plan Width": 20, + "Actual Startup Time": 5398.488, + "Actual Total Time": 5649.878, + "Actual Rows": 292966, + "Actual Loops": 8, + "Output": ["a1.name", "ci.movie_id"], + "Inner Unique": false, + "Hash Cond": "(a1.person_id = n1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5398.496, + "Actual Total Time": 5643.448, + "Actual Rows": 270878, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5398.558, + "Actual Total Time": 5681.961, + "Actual Rows": 279404, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5398.468, + "Actual Total Time": 5645.137, + "Actual Rows": 322608, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5398.450, + "Actual Total Time": 5623.802, + "Actual Rows": 312776, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5398.469, + "Actual Total Time": 5639.222, + "Actual Rows": 285663, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5398.519, + "Actual Total Time": 5654.298, + "Actual Rows": 294853, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5398.557, + "Actual Total Time": 5645.768, + "Actual Rows": 287581, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "a1", + "Startup Cost": 0.00, + "Total Cost": 12522.68, + "Plan Rows": 112668, + "Plan Width": 20, + "Actual Startup Time": 0.067, + "Actual Total Time": 36.419, + "Actual Rows": 112668, + "Actual Loops": 8, + "Output": ["a1.id", "a1.person_id", "a1.name", "a1.imdb_index", "a1.name_pcode_cf", "a1.name_pcode_nf", "a1.surname_pcode", "a1.md5sum"],+ "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.072, + "Actual Total Time": 37.862, + "Actual Rows": 109668, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.066, + "Actual Total Time": 38.127, + "Actual Rows": 113690, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.066, + "Actual Total Time": 37.978, + "Actual Rows": 131476, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.083, + "Actual Total Time": 33.651, + "Actual Rows": 117845, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.072, + "Actual Total Time": 33.737, + "Actual Rows": 98599, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.066, + "Actual Total Time": 38.016, + "Actual Rows": 112173, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.057, + "Actual Total Time": 36.313, + "Actual Rows": 110603, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 166223.22, + "Total Cost": 166223.22, + "Plan Rows": 1776476, + "Plan Width": 12, + "Actual Startup Time": 5386.351, + "Actual Total Time": 5389.238, + "Actual Rows": 341118, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "n1.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 160832, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5302.982, + "Actual Total Time": 5302.986, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5398.254, + "Actual Total Time": 5398.259, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5398.268, + "Actual Total Time": 5398.271, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5398.249, + "Actual Total Time": 5398.252, + "Actual Rows": 2728943, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5398.251, + "Actual Total Time": 5398.254, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5398.281, + "Actual Total Time": 5398.284, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5398.292, + "Actual Total Time": 5398.295, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 45131.29, + "Total Cost": 166223.22, + "Plan Rows": 1776476, + "Plan Width": 12, + "Actual Startup Time": 644.006, + "Actual Total Time": 1077.059, + "Actual Rows": 341118, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "n1.id"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 644.078, + "Actual Total Time": 644.081, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 643.946, + "Actual Total Time": 643.951, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 643.980, + "Actual Total Time": 643.983, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 644.165, + "Actual Total Time": 4085.501, + "Actual Rows": 2728943, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 644.003, + "Actual Total Time": 644.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 644.000, + "Actual Total Time": 644.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 644.006, + "Actual Total Time": 644.009, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.44, + "Total Cost": 116429.12, + "Plan Rows": 1776476, + "Plan Width": 8, + "Actual Startup Time": 0.023, + "Actual Total Time": 255.027, + "Actual Rows": 341118, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.166, + "Actual Total Time": 2040.194, + "Actual Rows": 2728943, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id", "rt.role"], + "Filter": "((rt.role)::text = 'writer'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 83482.47, + "Plan Rows": 3294556, + "Plan Width": 12, + "Actual Startup Time": 0.142, + "Actual Total Time": 1491.336, + "Actual Rows": 2728943, + "Actual Loops": 1, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.role_id = rt.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.142, + "Actual Total Time": 1491.336, + "Actual Rows": 2728943, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 38619.15, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 636.254, + "Actual Total Time": 636.255, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n1.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 195872, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 582.522, + "Actual Total Time": 582.523, + "Actual Rows": 531647, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 643.915, + "Actual Total Time": 643.916, + "Actual Rows": 531798, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 643.923, + "Actual Total Time": 643.924, + "Actual Rows": 502884, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 643.967, + "Actual Total Time": 643.968, + "Actual Rows": 532164, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 643.969, + "Actual Total Time": 643.970, + "Actual Rows": 534726, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 643.956, + "Actual Total Time": 643.957, + "Actual Rows": 480924, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 643.961, + "Actual Total Time": 643.961, + "Actual Rows": 529236, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n1", + "Startup Cost": 0.43, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 0.318, + "Actual Total Time": 211.148, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n1.id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.107, + "Actual Total Time": 212.678, + "Actual Rows": 531647, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.122, + "Actual Total Time": 212.119, + "Actual Rows": 531798, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.548, + "Actual Total Time": 211.303, + "Actual Rows": 502884, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.233, + "Actual Total Time": 208.487, + "Actual Rows": 532164, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.475, + "Actual Total Time": 211.507, + "Actual Rows": 534726, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.321, + "Actual Total Time": 211.885, + "Actual Rows": 480924, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.379, + "Actual Total Time": 207.058, + "Actual Rows": 529236, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 69651.60, + "Total Cost": 69651.60, + "Plan Rows": 117910, + "Plan Width": 25, + "Actual Startup Time": 1429.545, + "Actual Total Time": 1429.548, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Hash Buckets": 2097152, + "Original Hash Buckets": 1048576, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 95552, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1431.240, + "Actual Total Time": 1431.243, + "Actual Rows": 142287, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1431.416, + "Actual Total Time": 1431.421, + "Actual Rows": 139559, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1431.192, + "Actual Total Time": 1431.195, + "Actual Rows": 144279, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1429.718, + "Actual Total Time": 1429.721, + "Actual Rows": 138743, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1431.806, + "Actual Total Time": 1431.810, + "Actual Rows": 158900, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1430.463, + "Actual Total Time": 1430.466, + "Actual Rows": 157973, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1428.908, + "Actual Total Time": 1428.910, + "Actual Rows": 130600, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 43145.31, + "Total Cost": 69651.60, + "Plan Rows": 117910, + "Plan Width": 25, + "Actual Startup Time": 516.936, + "Actual Total Time": 1197.302, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 516.959, + "Actual Total Time": 1194.698, + "Actual Rows": 142287, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 516.949, + "Actual Total Time": 1197.404, + "Actual Rows": 139559, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 516.907, + "Actual Total Time": 1223.634, + "Actual Rows": 144279, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 516.855, + "Actual Total Time": 1200.517, + "Actual Rows": 138743, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 516.944, + "Actual Total Time": 1183.361, + "Actual Rows": 158900, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 516.912, + "Actual Total Time": 1180.267, + "Actual Rows": 157973, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 516.961, + "Actual Total Time": 1203.263, + "Actual Rows": 130600, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 26197.21, + "Plan Rows": 117910, + "Plan Width": 4, + "Actual Startup Time": 0.129, + "Actual Total Time": 501.705, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.143, + "Actual Total Time": 506.788, + "Actual Rows": 142287, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.150, + "Actual Total Time": 513.273, + "Actual Rows": 139559, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.108, + "Actual Total Time": 507.144, + "Actual Rows": 144279, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.103, + "Actual Total Time": 509.397, + "Actual Rows": 138743, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.146, + "Actual Total Time": 481.617, + "Actual Rows": 158900, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.106, + "Actual Total Time": 477.016, + "Actual Rows": 157973, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.164, + "Actual Total Time": 523.388, + "Actual Rows": 130600, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10620, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 19.878, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 21.669, + "Actual Rows": 11752, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 21.881, + "Actual Rows": 11722, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 19.806, + "Actual Rows": 10164, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 17.559, + "Actual Rows": 9550, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 18.386, + "Actual Rows": 9972, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 19.279, + "Actual Rows": 10027, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 21.791, + "Actual Rows": 11519, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.63, + "Plan Rows": 52, + "Plan Width": 8, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.040, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.036, + "Actual Rows": 12, + "Actual Loops": 11752 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.037, + "Actual Rows": 12, + "Actual Loops": 11722 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.042, + "Actual Rows": 14, + "Actual Loops": 10164 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.045, + "Actual Rows": 15, + "Actual Loops": 9550 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.040, + "Actual Rows": 16, + "Actual Loops": 9972 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.039, + "Actual Rows": 16, + "Actual Loops": 10027 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.038, + "Actual Rows": 11, + "Actual Loops": 11519 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 39194.39, + "Total Cost": 39194.39, + "Plan Rows": 316039, + "Plan Width": 21, + "Actual Startup Time": 509.014, + "Actual Total Time": 509.015, + "Actual Rows": 316039, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 174816, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 516.757, + "Actual Total Time": 516.757, + "Actual Rows": 322174, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 516.753, + "Actual Total Time": 516.754, + "Actual Rows": 313899, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 516.746, + "Actual Total Time": 516.746, + "Actual Rows": 313965, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 516.707, + "Actual Total Time": 516.708, + "Actual Rows": 310567, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 516.749, + "Actual Total Time": 516.750, + "Actual Rows": 309646, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 516.763, + "Actual Total Time": 516.764, + "Actual Rows": 323825, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 516.750, + "Actual Total Time": 516.751, + "Actual Rows": 311182, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.00, + "Total Cost": 39194.39, + "Plan Rows": 316039, + "Plan Width": 21, + "Actual Startup Time": 0.063, + "Actual Total Time": 157.212, + "Actual Rows": 316039, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.078, + "Actual Total Time": 155.303, + "Actual Rows": 322174, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.045, + "Actual Total Time": 156.035, + "Actual Rows": 313899, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.060, + "Actual Total Time": 158.127, + "Actual Rows": 313965, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.057, + "Actual Total Time": 160.000, + "Actual Rows": 310567, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 157.109, + "Actual Rows": 309646, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.050, + "Actual Total Time": 157.213, + "Actual Rows": 323825, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.088, + "Actual Total Time": 155.232, + "Actual Rows": 311182, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2444720784039749802, + "Planning Time": 16.786, + "Triggers": [ + ], + "Execution Time": 7674.046, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -2444720784039749802, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(an1.name) AS costume_designer_pseudo,
       MIN(t.title) AS movie_with_costumes
FROM aka_name AS an1,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n1,
     role_type AS rt,
     title AS t
WHERE cn.country_code ='[us]'
  AND rt.role ='costume designer'
  AND an1.person_id = n1.id
  AND n1.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND an1.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id;

QUERY PLAN ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 280105.64, + "Total Cost": 280105.65, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 2936.575, + "Actual Total Time": 3017.260, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an1.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 280105.59, + "Total Cost": 280105.60, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 2894.962, + "Actual Total Time": 3017.227, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an1.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 280104.59, + "Total Cost": 280104.60, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 2888.309, + "Actual Total Time": 2892.152, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an1.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2909.446, + "Actual Total Time": 2909.457, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2883.350, + "Actual Total Time": 2883.358, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2879.543, + "Actual Total Time": 2879.553, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2885.191, + "Actual Total Time": 2885.201, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2885.400, + "Actual Total Time": 2885.408, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2884.733, + "Actual Total Time": 2884.744, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2885.413, + "Actual Total Time": 2885.423, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 259554.64, + "Total Cost": 276473.72, + "Plan Rows": 726174, + "Plan Width": 33, + "Actual Startup Time": 2735.419, + "Actual Total Time": 2868.793, + "Actual Rows": 40376, + "Actual Loops": 8, + "Output": ["an1.name", "t.title"], + "Inner Unique": false, + "Hash Cond": "(ci.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2732.596, + "Actual Total Time": 2875.186, + "Actual Rows": 39622, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2733.504, + "Actual Total Time": 2863.503, + "Actual Rows": 41248, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2730.823, + "Actual Total Time": 2860.374, + "Actual Rows": 34730, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2735.453, + "Actual Total Time": 2861.572, + "Actual Rows": 40727, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2735.987, + "Actual Total Time": 2864.001, + "Actual Rows": 39117, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2735.255, + "Actual Total Time": 2859.238, + "Actual Rows": 45610, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2735.601, + "Actual Total Time": 2863.624, + "Actual Rows": 40036, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 188429.17, + "Total Cost": 201995.46, + "Plan Rows": 795188, + "Plan Width": 20, + "Actual Startup Time": 1241.293, + "Actual Total Time": 1335.645, + "Actual Rows": 27371, + "Actual Loops": 8, + "Output": ["an1.name", "ci.movie_id"], + "Inner Unique": false, + "Hash Cond": "(an1.person_id = n1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1241.133, + "Actual Total Time": 1321.805, + "Actual Rows": 27565, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1240.979, + "Actual Total Time": 1335.665, + "Actual Rows": 31403, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1241.085, + "Actual Total Time": 1337.812, + "Actual Rows": 27657, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1241.291, + "Actual Total Time": 1331.550, + "Actual Rows": 24195, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1241.508, + "Actual Total Time": 1335.550, + "Actual Rows": 23101, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1241.373, + "Actual Total Time": 1324.568, + "Actual Rows": 30340, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1241.224, + "Actual Total Time": 1332.644, + "Actual Rows": 26156, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an1", + "Startup Cost": 0.00, + "Total Cost": 12522.68, + "Plan Rows": 112668, + "Plan Width": 20, + "Actual Startup Time": 0.029, + "Actual Total Time": 25.787, + "Actual Rows": 112668, + "Actual Loops": 8, + "Output": ["an1.id", "an1.person_id", "an1.name", "an1.imdb_index", "an1.name_pcode_cf", "an1.name_pcode_nf", "an1.surname_pcode", "an1.md5sum"],+ "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 20.323, + "Actual Rows": 84043, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 27.360, + "Actual Rows": 131858, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 27.829, + "Actual Rows": 117962, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 26.619, + "Actual Rows": 111344, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 28.138, + "Actual Rows": 121692, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.031, + "Actual Total Time": 23.036, + "Actual Rows": 98951, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 26.237, + "Actual Rows": 112119, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 166223.22, + "Total Cost": 166223.22, + "Plan Rows": 1776476, + "Plan Width": 12, + "Actual Startup Time": 1231.121, + "Actual Total Time": 1234.957, + "Actual Rows": 34550, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "n1.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 45760, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1240.874, + "Actual Total Time": 1240.879, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1240.814, + "Actual Total Time": 1240.817, + "Actual Rows": 276403, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1240.853, + "Actual Total Time": 1240.857, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1240.853, + "Actual Total Time": 1240.857, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1163.005, + "Actual Total Time": 1163.008, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1240.867, + "Actual Total Time": 1240.872, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1240.853, + "Actual Total Time": 1240.857, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 45131.29, + "Total Cost": 166223.22, + "Plan Rows": 1776476, + "Plan Width": 12, + "Actual Startup Time": 657.554, + "Actual Total Time": 710.092, + "Actual Rows": 34550, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "n1.id"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 657.527, + "Actual Total Time": 657.531, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 657.713, + "Actual Total Time": 1047.344, + "Actual Rows": 276403, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 657.521, + "Actual Total Time": 657.525, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 657.504, + "Actual Total Time": 657.507, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 657.609, + "Actual Total Time": 657.612, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 657.512, + "Actual Total Time": 657.516, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 657.523, + "Actual Total Time": 657.527, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.44, + "Total Cost": 116429.12, + "Plan Rows": 1776476, + "Plan Width": 8, + "Actual Startup Time": 0.027, + "Actual Total Time": 26.833, + "Actual Rows": 34550, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.201, + "Actual Total Time": 214.637, + "Actual Rows": 276403, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id", "rt.role"], + "Filter": "((rt.role)::text = 'costume designer'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 83482.47, + "Plan Rows": 3294556, + "Plan Width": 12, + "Actual Startup Time": 0.176, + "Actual Total Time": 155.627, + "Actual Rows": 276403, + "Actual Loops": 1, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.role_id = rt.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.176, + "Actual Total Time": 155.627, + "Actual Rows": 276403, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 38619.15, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 651.094, + "Actual Total Time": 651.096, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n1.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 195936, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 657.491, + "Actual Total Time": 657.492, + "Actual Rows": 502518, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 657.456, + "Actual Total Time": 657.457, + "Actual Rows": 522282, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 657.475, + "Actual Total Time": 657.476, + "Actual Rows": 539850, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 657.462, + "Actual Total Time": 657.463, + "Actual Rows": 545706, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 606.462, + "Actual Total Time": 606.463, + "Actual Rows": 532013, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 657.461, + "Actual Total Time": 657.462, + "Actual Rows": 430050, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 657.478, + "Actual Total Time": 657.478, + "Actual Rows": 544242, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n1", + "Startup Cost": 0.43, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 0.194, + "Actual Total Time": 232.887, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n1.id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.147, + "Actual Total Time": 248.543, + "Actual Rows": 502518, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.273, + "Actual Total Time": 232.190, + "Actual Rows": 522282, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.210, + "Actual Total Time": 218.545, + "Actual Rows": 539850, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.235, + "Actual Total Time": 214.403, + "Actual Rows": 545706, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.275, + "Actual Total Time": 240.040, + "Actual Rows": 532013, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.122, + "Actual Total Time": 277.001, + "Actual Rows": 430050, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.214, + "Actual Total Time": 218.388, + "Actual Rows": 544242, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 69651.60, + "Total Cost": 69651.60, + "Plan Rows": 117910, + "Plan Width": 25, + "Actual Startup Time": 1490.816, + "Actual Total Time": 1490.820, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Hash Buckets": 2097152, + "Original Hash Buckets": 1048576, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 95520, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1491.239, + "Actual Total Time": 1491.243, + "Actual Rows": 139480, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1492.003, + "Actual Total Time": 1492.006, + "Actual Rows": 141720, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1488.245, + "Actual Total Time": 1488.249, + "Actual Rows": 155563, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1493.893, + "Actual Total Time": 1493.897, + "Actual Rows": 131405, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1494.015, + "Actual Total Time": 1494.019, + "Actual Rows": 141849, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1493.313, + "Actual Total Time": 1493.317, + "Actual Rows": 150910, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1494.021, + "Actual Total Time": 1494.024, + "Actual Rows": 149068, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 43145.31, + "Total Cost": 69651.60, + "Plan Rows": 117910, + "Plan Width": 25, + "Actual Startup Time": 567.597, + "Actual Total Time": 1235.586, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 567.571, + "Actual Total Time": 1241.553, + "Actual Rows": 139480, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 567.575, + "Actual Total Time": 1239.248, + "Actual Rows": 141720, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 567.605, + "Actual Total Time": 1224.465, + "Actual Rows": 155563, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 567.587, + "Actual Total Time": 1233.715, + "Actual Rows": 131405, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 567.604, + "Actual Total Time": 1263.601, + "Actual Rows": 141849, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 567.582, + "Actual Total Time": 1232.707, + "Actual Rows": 150910, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 567.601, + "Actual Total Time": 1224.641, + "Actual Rows": 149068, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 26197.21, + "Plan Rows": 117910, + "Plan Width": 4, + "Actual Startup Time": 0.100, + "Actual Total Time": 487.440, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.106, + "Actual Total Time": 504.191, + "Actual Rows": 139480, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.106, + "Actual Total Time": 500.913, + "Actual Rows": 141720, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.103, + "Actual Total Time": 462.946, + "Actual Rows": 155563, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.094, + "Actual Total Time": 486.399, + "Actual Rows": 131405, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.107, + "Actual Total Time": 502.522, + "Actual Rows": 141849, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.099, + "Actual Total Time": 483.900, + "Actual Rows": 150910, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.098, + "Actual Total Time": 479.554, + "Actual Rows": 149068, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10620, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 18.319, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 20.024, + "Actual Rows": 11155, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 20.931, + "Actual Rows": 12013, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 14.793, + "Actual Rows": 8815, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 19.723, + "Actual Rows": 11447, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 17.478, + "Actual Rows": 9900, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 16.146, + "Actual Rows": 9491, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 18.645, + "Actual Rows": 11070, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.63, + "Plan Rows": 52, + "Plan Width": 8, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.038, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.038, + "Actual Rows": 13, + "Actual Loops": 11155 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.035, + "Actual Rows": 12, + "Actual Loops": 12013 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.043, + "Actual Rows": 18, + "Actual Loops": 8815 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.036, + "Actual Rows": 11, + "Actual Loops": 11447 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.043, + "Actual Rows": 14, + "Actual Loops": 9900 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.042, + "Actual Rows": 16, + "Actual Loops": 9491 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.036, + "Actual Rows": 13, + "Actual Loops": 11070 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 39194.39, + "Total Cost": 39194.39, + "Plan Rows": 316039, + "Plan Width": 21, + "Actual Startup Time": 558.163, + "Actual Total Time": 558.164, + "Actual Rows": 316039, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 174784, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 567.412, + "Actual Total Time": 567.413, + "Actual Rows": 304734, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 567.412, + "Actual Total Time": 567.412, + "Actual Rows": 308293, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 567.458, + "Actual Total Time": 567.459, + "Actual Rows": 302634, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 567.437, + "Actual Total Time": 567.438, + "Actual Rows": 307466, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 567.450, + "Actual Total Time": 567.450, + "Actual Rows": 302331, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 567.433, + "Actual Total Time": 567.434, + "Actual Rows": 309831, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 567.454, + "Actual Total Time": 567.455, + "Actual Rows": 347252, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.00, + "Total Cost": 39194.39, + "Plan Rows": 316039, + "Plan Width": 21, + "Actual Startup Time": 0.085, + "Actual Total Time": 168.437, + "Actual Rows": 316039, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.075, + "Actual Total Time": 167.153, + "Actual Rows": 304734, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.075, + "Actual Total Time": 168.916, + "Actual Rows": 308293, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.093, + "Actual Total Time": 167.960, + "Actual Rows": 302634, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.099, + "Actual Total Time": 169.240, + "Actual Rows": 307466, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.103, + "Actual Total Time": 166.594, + "Actual Rows": 302331, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.105, + "Actual Total Time": 170.736, + "Actual Rows": 309831, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.055, + "Actual Total Time": 168.449, + "Actual Rows": 347252, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2444720784039749802, + "Planning Time": 19.965, + "Triggers": [ + ], + "Execution Time": 3017.692, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -2444720784039749802, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(an.name) AS alternative_name,
       MIN(chn.name) AS character_name,
       MIN(t.title) AS movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND mc.note IS NOT NULL
  AND (mc.note LIKE '%(USA)%'
       OR mc.note LIKE '%(worldwide)%')
  AND n.gender ='f'
  AND n.name LIKE '%Ang%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2005 AND 2015
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND ci.movie_id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND n.id = ci.person_id
  AND chn.id = ci.person_role_id
  AND an.person_id = n.id
  AND an.person_id = ci.person_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 41598.14, + "Total Cost": 41598.15, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 4242.823, + "Actual Total Time": 4277.402, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(chn.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.69, + "Total Cost": 41598.13, + "Plan Rows": 2, + "Plan Width": 49, + "Actual Startup Time": 1810.122, + "Actual Total Time": 4277.171, + "Actual Rows": 121, + "Actual Loops": 1, + "Output": ["an.name", "chn.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4.26, + "Total Cost": 41597.63, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 1810.077, + "Actual Total Time": 4274.316, + "Actual Rows": 115, + "Actual Loops": 1, + "Output": ["chn.name", "ci.person_id", "n.id", "t.title"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 41596.63, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 504.738, + "Actual Total Time": 3862.874, + "Actual Rows": 14, + "Actual Loops": 8, + "Output": ["chn.name", "ci.person_id", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.997, + "Actual Total Time": 3778.394, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 497.752, + "Actual Total Time": 3778.708, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 439.898, + "Actual Total Time": 4234.578, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 456.172, + "Actual Total Time": 3779.469, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 411.906, + "Actual Total Time": 3779.447, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 358.826, + "Actual Total Time": 3986.657, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 60.144, + "Actual Total Time": 3779.350, + "Actual Rows": 16, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 41596.12, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 504.622, + "Actual Total Time": 3862.392, + "Actual Rows": 16, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.person_role_id", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.846, + "Actual Total Time": 3777.724, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 497.654, + "Actual Total Time": 3778.362, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 439.785, + "Actual Total Time": 4233.839, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 456.053, + "Actual Total Time": 3779.078, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 411.779, + "Actual Total Time": 3778.927, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 358.698, + "Actual Total Time": 3986.261, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 60.011, + "Actual Total Time": 3778.794, + "Actual Rows": 19, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 41373.69, + "Plan Rows": 414, + "Plan Width": 25, + "Actual Startup Time": 9.074, + "Actual Total Time": 3798.131, + "Actual Rows": 3827, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.person_role_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.525, + "Actual Total Time": 3701.797, + "Actual Rows": 4828, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.027, + "Actual Total Time": 3726.541, + "Actual Rows": 3042, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.223, + "Actual Total Time": 4173.860, + "Actual Rows": 3314, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.378, + "Actual Total Time": 3707.583, + "Actual Rows": 3979, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.175, + "Actual Total Time": 3684.834, + "Actual Rows": 5687, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.726, + "Actual Total Time": 3930.394, + "Actual Rows": 3418, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.766, + "Actual Total Time": 3721.470, + "Actual Rows": 3373, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 41354.95, + "Plan Rows": 4963, + "Plan Width": 29, + "Actual Startup Time": 6.786, + "Actual Total Time": 3788.349, + "Actual Rows": 13087, + "Actual Loops": 8, + "Output": ["ci.role_id", "ci.person_id", "ci.person_role_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.666, + "Actual Total Time": 3689.877, + "Actual Rows": 15236, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.475, + "Actual Total Time": 3717.919, + "Actual Rows": 11180, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.419, + "Actual Total Time": 4164.911, + "Actual Rows": 10707, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.327, + "Actual Total Time": 3696.786, + "Actual Rows": 14995, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.756, + "Actual Total Time": 3671.897, + "Actual Rows": 18415, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.295, + "Actual Total Time": 3921.245, + "Actual Rows": 14092, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.329, + "Actual Total Time": 3713.259, + "Actual Rows": 9994, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 32301.64, + "Plan Rows": 5890, + "Plan Width": 25, + "Actual Startup Time": 0.201, + "Actual Total Time": 1379.073, + "Actual Rows": 18015, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.203, + "Actual Total Time": 1205.083, + "Actual Rows": 20367, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.246, + "Actual Total Time": 1279.321, + "Actual Rows": 16111, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.211, + "Actual Total Time": 1458.764, + "Actual Rows": 20018, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.267, + "Actual Total Time": 1315.921, + "Actual Rows": 17065, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.225, + "Actual Total Time": 1291.969, + "Actual Rows": 15357, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.138, + "Actual Total Time": 1442.135, + "Actual Rows": 19404, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.159, + "Actual Total Time": 1577.850, + "Actual Rows": 16179, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 24073.21, + "Plan Rows": 13464, + "Plan Width": 4, + "Actual Startup Time": 0.096, + "Actual Total Time": 499.364, + "Actual Rows": 67762, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.093, + "Actual Total Time": 422.762, + "Actual Rows": 54931, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.119, + "Actual Total Time": 485.943, + "Actual Rows": 59082, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.101, + "Actual Total Time": 400.764, + "Actual Rows": 91474, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.082, + "Actual Total Time": 590.661, + "Actual Rows": 49846, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.109, + "Actual Total Time": 545.307, + "Actual Rows": 51028, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.084, + "Actual Total Time": 368.968, + "Actual Rows": 89935, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.093, + "Actual Total Time": 640.197, + "Actual Rows": 71190, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10620, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 18.411, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 15.771, + "Actual Rows": 9116, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 20.747, + "Actual Rows": 12478, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 7.692, + "Actual Rows": 3326, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 24.078, + "Actual Rows": 14508, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 23.987, + "Actual Rows": 14250, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 6.204, + "Actual Rows": 2724, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 25.562, + "Actual Rows": 15204, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.89, + "Plan Rows": 6, + "Plan Width": 8, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.042, + "Actual Rows": 6, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note IS NOT NULL) AND ((mc.note ~~ '%(USA)%'::text) OR (mc.note ~~ '%(worldwide)%'::text)))", + "Rows Removed by Filter": 7, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.042, + "Actual Rows": 6, + "Actual Loops": 9116 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.035, + "Actual Rows": 5, + "Actual Loops": 12478 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.107, + "Actual Rows": 28, + "Actual Loops": 3326 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.037, + "Actual Rows": 3, + "Actual Loops": 14508 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.035, + "Actual Rows": 4, + "Actual Loops": 14250 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.121, + "Actual Rows": 33, + "Actual Loops": 2724 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.038, + "Actual Rows": 5, + "Actual Loops": 15204 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.61, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 542096, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2015))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 54931 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 59082 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 91474 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 49846 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 51028 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 89935 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 71190 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.53, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.115, + "Actual Total Time": 0.132, + "Actual Rows": 1, + "Actual Loops": 144120, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 33, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.107, + "Actual Total Time": 0.121, + "Actual Rows": 1, + "Actual Loops": 20367 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.130, + "Actual Total Time": 0.150, + "Actual Rows": 1, + "Actual Loops": 16111 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.117, + "Actual Total Time": 0.134, + "Actual Rows": 1, + "Actual Loops": 20018 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.118, + "Actual Total Time": 0.138, + "Actual Rows": 1, + "Actual Loops": 17065 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.129, + "Actual Total Time": 0.153, + "Actual Rows": 1, + "Actual Loops": 15357 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.112, + "Actual Total Time": 0.126, + "Actual Rows": 1, + "Actual Loops": 19404 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.112, + "Actual Total Time": 0.131, + "Actual Rows": 1, + "Actual Loops": 16179 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 30619, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%Ang%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 4828 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 3042 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 3314 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 3979 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 5687 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 3418 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 3373 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 125, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 17 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 26 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 21 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 19 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.48, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 115, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0 + } + ] + } + ] + }, + "Query Identifier": -6747521538659772949, + "Planning Time": 28.709, + "Triggers": [ + ], + "Execution Time": 4277.794, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -6747521538659772949, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS alternative_name,
       MIN(chn.name) AS voiced_character,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS american_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note = '(voice)'
  AND cn.country_code ='[us]'
  AND mc.note LIKE '%(200%)%'
  AND (mc.note LIKE '%(USA)%'
       OR mc.note LIKE '%(worldwide)%')
  AND n.gender ='f'
  AND n.name LIKE '%Angel%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2007 AND 2010
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND ci.movie_id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND n.id = ci.person_id
  AND chn.id = ci.person_role_id
  AND an.person_id = n.id
  AND an.person_id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 30809.80, + "Total Cost": 30809.81, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1613.882, + "Actual Total Time": 1614.189, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 30809.71, + "Total Cost": 30809.72, + "Plan Rows": 8, + "Plan Width": 128, + "Actual Startup Time": 1613.847, + "Actual Total Time": 1614.164, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 30808.71, + "Total Cost": 30808.72, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1555.890, + "Actual Total Time": 1555.896, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1548.794, + "Actual Total Time": 1548.801, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1547.672, + "Actual Total Time": 1547.678, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1547.687, + "Actual Total Time": 1547.693, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1548.620, + "Actual Total Time": 1548.626, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1548.688, + "Actual Total Time": 1548.695, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1548.459, + "Actual Total Time": 1548.466, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1544.534, + "Actual Total Time": 1544.541, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.69, + "Total Cost": 30808.70, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 722.359, + "Actual Total Time": 1555.860, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["an.name", "chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 977.761, + "Actual Total Time": 1548.783, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 131.517, + "Actual Total Time": 1547.642, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 867.001, + "Actual Total Time": 1547.660, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 764.035, + "Actual Total Time": 1548.572, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 640.692, + "Actual Total Time": 1548.669, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1173.782, + "Actual Total Time": 1548.440, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 991.526, + "Actual Total Time": 1544.498, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 30808.18, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 722.293, + "Actual Total Time": 1555.726, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["an.name", "ci.person_role_id", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 977.695, + "Actual Total Time": 1548.716, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 131.424, + "Actual Total Time": 1547.492, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 866.932, + "Actual Total Time": 1547.558, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 763.989, + "Actual Total Time": 1548.431, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 640.592, + "Actual Total Time": 1548.517, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1173.752, + "Actual Total Time": 1548.372, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 991.446, + "Actual Total Time": 1544.350, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 30807.67, + "Plan Rows": 1, + "Plan Width": 44, + "Actual Startup Time": 630.114, + "Actual Total Time": 1555.529, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.person_role_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 977.562, + "Actual Total Time": 1548.581, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 131.335, + "Actual Total Time": 1547.299, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 866.786, + "Actual Total Time": 1547.397, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 579.542, + "Actual Total Time": 1548.167, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 640.518, + "Actual Total Time": 1548.309, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1173.634, + "Actual Total Time": 1548.240, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 439.080, + "Actual Total Time": 1544.096, + "Actual Rows": 5, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 30779.28, + "Plan Rows": 51, + "Plan Width": 25, + "Actual Startup Time": 13.799, + "Actual Total Time": 1538.589, + "Actual Rows": 946, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.person_role_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.581, + "Actual Total Time": 1537.215, + "Actual Rows": 623, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.491, + "Actual Total Time": 1537.878, + "Actual Rows": 451, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.589, + "Actual Total Time": 1534.656, + "Actual Rows": 623, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.763, + "Actual Total Time": 1517.826, + "Actual Rows": 1942, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.512, + "Actual Total Time": 1532.316, + "Actual Rows": 850, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 42.208, + "Actual Total Time": 1530.411, + "Actual Rows": 969, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.039, + "Actual Total Time": 1519.066, + "Actual Rows": 1513, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 30776.01, + "Plan Rows": 611, + "Plan Width": 29, + "Actual Startup Time": 9.810, + "Actual Total Time": 1535.601, + "Actual Rows": 3374, + "Actual Loops": 8, + "Output": ["ci.role_id", "ci.person_id", "ci.person_role_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.169, + "Actual Total Time": 1534.996, + "Actual Rows": 2137, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.946, + "Actual Total Time": 1535.912, + "Actual Rows": 1599, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.088, + "Actual Total Time": 1532.416, + "Actual Rows": 1942, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.305, + "Actual Total Time": 1512.997, + "Actual Rows": 6352, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.129, + "Actual Total Time": 1529.771, + "Actual Rows": 2875, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.959, + "Actual Total Time": 1527.378, + "Actual Rows": 3833, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.531, + "Actual Total Time": 1514.546, + "Actual Rows": 6248, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 29170.60, + "Plan Rows": 891, + "Plan Width": 25, + "Actual Startup Time": 0.420, + "Actual Total Time": 758.691, + "Actual Rows": 5876, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.242, + "Actual Total Time": 745.842, + "Actual Rows": 5248, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.265, + "Actual Total Time": 701.977, + "Actual Rows": 6662, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.205, + "Actual Total Time": 722.815, + "Actual Rows": 6277, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.422, + "Actual Total Time": 762.613, + "Actual Rows": 6281, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.807, + "Actual Total Time": 827.683, + "Actual Rows": 6216, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.836, + "Actual Total Time": 796.641, + "Actual Rows": 4834, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.421, + "Actual Total Time": 866.223, + "Actual Rows": 5071, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 25029.01, + "Plan Rows": 4432, + "Plan Width": 4, + "Actual Startup Time": 0.217, + "Actual Total Time": 440.261, + "Actual Rows": 22133, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.170, + "Actual Total Time": 437.664, + "Actual Rows": 20853, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.103, + "Actual Total Time": 405.939, + "Actual Rows": 21031, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.131, + "Actual Total Time": 426.070, + "Actual Rows": 21750, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.222, + "Actual Total Time": 439.882, + "Actual Rows": 22143, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.510, + "Actual Total Time": 504.474, + "Actual Rows": 22123, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.224, + "Actual Total Time": 495.139, + "Actual Rows": 21540, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.273, + "Actual Total Time": 488.454, + "Actual Rows": 27181, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10620, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 17.374, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 18.641, + "Actual Rows": 11459, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 15.857, + "Actual Rows": 10200, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.036, + "Actual Total Time": 15.676, + "Actual Rows": 10212, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.042, + "Actual Total Time": 21.118, + "Actual Rows": 11599, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 20.910, + "Actual Rows": 12815, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.061, + "Actual Total Time": 20.023, + "Actual Rows": 12617, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.053, + "Actual Total Time": 19.185, + "Actual Rows": 12369, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 2.02, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.038, + "Actual Rows": 2, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(200%)%'::text) AND ((mc.note ~~ '%(USA)%'::text) OR (mc.note ~~ '%(worldwide)%'::text)))", + "Rows Removed by Filter": 12, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.035, + "Actual Rows": 2, + "Actual Loops": 11459 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.037, + "Actual Rows": 2, + "Actual Loops": 10200 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.039, + "Actual Rows": 2, + "Actual Loops": 10212 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.035, + "Actual Rows": 2, + "Actual Loops": 11599 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.036, + "Actual Rows": 2, + "Actual Loops": 12815 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.036, + "Actual Rows": 2, + "Actual Loops": 12617 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.036, + "Actual Rows": 2, + "Actual Loops": 12369 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.93, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 177065, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2007) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 20853 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 21031 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 21750 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 22143 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 22123 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 21540 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 27181 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.79, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.118, + "Actual Total Time": 0.131, + "Actual Rows": 1, + "Actual Loops": 47009, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = '(voice)'::text)", + "Rows Removed by Filter": 31, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.136, + "Actual Total Time": 0.149, + "Actual Rows": 0, + "Actual Loops": 5248 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.116, + "Actual Total Time": 0.124, + "Actual Rows": 0, + "Actual Loops": 6662 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.117, + "Actual Total Time": 0.128, + "Actual Rows": 0, + "Actual Loops": 6277 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.103, + "Actual Total Time": 0.118, + "Actual Rows": 1, + "Actual Loops": 6281 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.101, + "Actual Total Time": 0.112, + "Actual Rows": 0, + "Actual Loops": 6216 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.131, + "Actual Total Time": 0.150, + "Actual Rows": 1, + "Actual Loops": 4834 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.110, + "Actual Total Time": 0.126, + "Actual Rows": 1, + "Actual Loops": 5071 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.069, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.062, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.56, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 7565, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%Angel%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 623 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 451 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 623 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1942 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 850 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 969 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1513 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.48, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 30, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.126, + "Actual Total Time": 0.128, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.076, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.064, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.112, + "Actual Total Time": 0.123, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 40, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.060, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 6 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 316739818532851506, + "Planning Time": 33.849, + "Triggers": [ + ], + "Execution Time": 1614.635, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 316739818532851506, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS alternative_name,
       MIN(chn.name) AS voiced_character_name,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS american_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND ci.movie_id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND n.id = ci.person_id
  AND chn.id = ci.person_role_id
  AND an.person_id = n.id
  AND an.person_id = ci.person_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 70164.94, + "Total Cost": 70164.95, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 468.063, + "Actual Total Time": 475.495, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 70164.85, + "Total Cost": 70164.86, + "Plan Rows": 8, + "Plan Width": 128, + "Actual Startup Time": 467.671, + "Actual Total Time": 475.459, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 70163.85, + "Total Cost": 70163.86, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 460.135, + "Actual Total Time": 460.143, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 459.340, + "Actual Total Time": 459.347, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 459.284, + "Actual Total Time": 459.291, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 459.269, + "Actual Total Time": 459.276, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 459.390, + "Actual Total Time": 459.398, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 459.017, + "Actual Total Time": 459.024, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 459.341, + "Actual Total Time": 459.349, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 458.611, + "Actual Total Time": 458.618, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.68, + "Total Cost": 70163.30, + "Plan Rows": 55, + "Plan Width": 64, + "Actual Startup Time": 110.642, + "Actual Total Time": 458.624, + "Actual Rows": 1018, + "Actual Loops": 8, + "Output": ["an.name", "chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Join Filter": "(ci.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 100.639, + "Actual Total Time": 456.012, + "Actual Rows": 2344, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 121.575, + "Actual Total Time": 457.775, + "Actual Rows": 1049, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 125.247, + "Actual Total Time": 457.072, + "Actual Rows": 1402, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 105.093, + "Actual Total Time": 458.560, + "Actual Rows": 584, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 102.838, + "Actual Total Time": 457.540, + "Actual Rows": 793, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 102.977, + "Actual Total Time": 457.952, + "Actual Rows": 1037, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 118.755, + "Actual Total Time": 458.283, + "Actual Rows": 214, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.25, + "Total Cost": 70137.00, + "Plan Rows": 55, + "Plan Width": 55, + "Actual Startup Time": 110.567, + "Actual Total Time": 446.095, + "Actual Rows": 1018, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "chn.name", "mc.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 100.555, + "Actual Total Time": 426.772, + "Actual Rows": 2344, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 121.504, + "Actual Total Time": 444.207, + "Actual Rows": 1049, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 125.175, + "Actual Total Time": 440.101, + "Actual Rows": 1402, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 105.019, + "Actual Total Time": 451.380, + "Actual Rows": 584, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 102.773, + "Actual Total Time": 447.922, + "Actual Rows": 793, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 102.889, + "Actual Total Time": 446.206, + "Actual Rows": 1037, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 118.659, + "Actual Total Time": 455.233, + "Actual Rows": 214, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 70070.31, + "Plan Rows": 151, + "Plan Width": 59, + "Actual Startup Time": 104.936, + "Actual Total Time": 418.235, + "Actual Rows": 2293, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "chn.name", "mc.movie_id", "mc.company_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 100.412, + "Actual Total Time": 382.200, + "Actual Rows": 3725, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 101.886, + "Actual Total Time": 412.867, + "Actual Rows": 2575, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 121.823, + "Actual Total Time": 401.794, + "Actual Rows": 3319, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 104.953, + "Actual Total Time": 431.931, + "Actual Rows": 1539, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 102.493, + "Actual Total Time": 418.770, + "Actual Rows": 2392, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 101.595, + "Actual Total Time": 425.424, + "Actual Rows": 1670, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.399, + "Actual Total Time": 445.970, + "Actual Rows": 635, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 70035.99, + "Plan Rows": 60, + "Plan Width": 51, + "Actual Startup Time": 103.238, + "Actual Total Time": 403.211, + "Actual Rows": 966, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "chn.name", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 100.337, + "Actual Total Time": 359.664, + "Actual Rows": 1318, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 101.810, + "Actual Total Time": 396.150, + "Actual Rows": 1042, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 108.728, + "Actual Total Time": 379.853, + "Actual Rows": 1563, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 104.878, + "Actual Total Time": 421.735, + "Actual Rows": 578, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 102.425, + "Actual Total Time": 402.953, + "Actual Rows": 1056, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 101.523, + "Actual Total Time": 416.356, + "Actual Rows": 492, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.325, + "Actual Total Time": 439.484, + "Actual Rows": 407, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.97, + "Total Cost": 69973.43, + "Plan Rows": 124, + "Plan Width": 39, + "Actual Startup Time": 103.155, + "Actual Total Time": 389.954, + "Actual Rows": 1026, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "ci.person_role_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 100.251, + "Actual Total Time": 341.465, + "Actual Rows": 1395, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 101.761, + "Actual Total Time": 382.310, + "Actual Rows": 1109, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 108.614, + "Actual Total Time": 358.856, + "Actual Rows": 1611, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 104.776, + "Actual Total Time": 413.007, + "Actual Rows": 623, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 102.339, + "Actual Total Time": 389.449, + "Actual Rows": 1133, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 101.439, + "Actual Total Time": 408.496, + "Actual Rows": 591, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.240, + "Actual Total Time": 433.203, + "Actual Rows": 428, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 69967.05, + "Plan Rows": 1488, + "Plan Width": 43, + "Actual Startup Time": 102.883, + "Actual Total Time": 388.372, + "Actual Rows": 1026, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "ci.role_id", "ci.person_role_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(n.id = ci.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 99.968, + "Actual Total Time": 339.248, + "Actual Rows": 1395, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 101.510, + "Actual Total Time": 380.682, + "Actual Rows": 1109, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 108.381, + "Actual Total Time": 356.571, + "Actual Rows": 1611, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 104.494, + "Actual Total Time": 411.927, + "Actual Rows": 623, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 102.092, + "Actual Total Time": 387.786, + "Actual Rows": 1133, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 101.154, + "Actual Total Time": 407.399, + "Actual Rows": 591, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 97.997, + "Actual Total Time": 432.385, + "Actual Rows": 428, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.42, + "Total Cost": 67055.35, + "Plan Rows": 732, + "Plan Width": 39, + "Actual Startup Time": 99.377, + "Actual Total Time": 309.562, + "Actual Rows": 1316, + "Actual Loops": 8, + "Output": ["an.name", "an.person_id", "n.name", "n.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 98.573, + "Actual Total Time": 271.627, + "Actual Rows": 1294, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 99.332, + "Actual Total Time": 307.754, + "Actual Rows": 1127, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 98.247, + "Actual Total Time": 292.260, + "Actual Rows": 1118, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.970, + "Actual Total Time": 315.198, + "Actual Rows": 1621, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.790, + "Actual Total Time": 302.294, + "Actual Rows": 1409, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 99.267, + "Actual Total Time": 328.593, + "Actual Rows": 1317, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 97.763, + "Actual Total Time": 345.028, + "Actual Rows": 1365, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 63478.05, + "Plan Rows": 3382, + "Plan Width": 19, + "Actual Startup Time": 99.145, + "Actual Total Time": 249.859, + "Actual Rows": 6251, + "Actual Loops": 8, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 514685, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 98.358, + "Actual Total Time": 222.077, + "Actual Rows": 5461, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 99.040, + "Actual Total Time": 253.064, + "Actual Rows": 5397, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 98.110, + "Actual Total Time": 242.434, + "Actual Rows": 5386, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.711, + "Actual Total Time": 249.112, + "Actual Rows": 7280, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.507, + "Actual Total Time": 240.285, + "Actual Rows": 6662, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.831, + "Actual Total Time": 264.869, + "Actual Rows": 6076, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 97.596, + "Actual Total Time": 274.887, + "Actual Rows": 7012, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 1.04, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 50011, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 5461 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 5397 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 5386 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 7280 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 6662 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 6076 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 7012 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 3.94, + "Plan Rows": 3, + "Plan Width": 16, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 10525, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.person_id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 1294 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.063, + "Actual Rows": 1, + "Actual Loops": 1127 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 1118 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1621 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 1409 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1317 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 1365 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 8204, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1395 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1109 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1611 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 623 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1133 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 591 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 428 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 7726, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 1318 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 1042 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 1563 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 578 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 2, + "Actual Loops": 1056 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 492 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 407 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 18345, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 3725 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 2575 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 3319 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1539 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 2392 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1670 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 635 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 8144, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 2344 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1049 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1402 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 584 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 793 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1037 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 214 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -180252288200201541, + "Planning Time": 26.785, + "Triggers": [ + ], + "Execution Time": 475.856, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -180252288200201541, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS alternative_name,
       MIN(chn.name) AS voiced_char_name,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS american_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND n.gender ='f'
  AND rt.role ='actress'
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND ci.movie_id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND n.id = ci.person_id
  AND chn.id = ci.person_role_id
  AND an.person_id = n.id
  AND an.person_id = ci.person_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 139125.88, + "Total Cost": 139125.89, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 13184.342, + "Actual Total Time": 13185.158, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 139125.86, + "Total Cost": 139125.87, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 13184.326, + "Actual Total Time": 13185.148, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 1, + "Workers Launched": 1, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 139124.86, + "Total Cost": 139124.87, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 6617.737, + "Actual Total Time": 6617.743, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 51.876, + "Actual Total Time": 51.880, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3497.52, + "Total Cost": 139033.22, + "Plan Rows": 9164, + "Plan Width": 64, + "Actual Startup Time": 55.361, + "Actual Total Time": 6471.835, + "Actual Rows": 241541, + "Actual Loops": 2, + "Output": ["an.name", "chn.name", "n.name", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 51.870, + "Actual Total Time": 51.874, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3497.09, + "Total Cost": 136874.12, + "Plan Rows": 4351, + "Plan Width": 56, + "Actual Startup Time": 55.343, + "Actual Total Time": 5782.806, + "Actual Rows": 86784, + "Actual Loops": 2, + "Output": ["chn.name", "ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Join Filter": "(ci.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 51.869, + "Actual Total Time": 51.872, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3496.66, + "Total Cost": 134793.84, + "Plan Rows": 4351, + "Plan Width": 47, + "Actual Startup Time": 55.324, + "Actual Total Time": 5137.183, + "Actual Rows": 86784, + "Actual Loops": 2, + "Output": ["chn.name", "ci.movie_id", "ci.person_id", "mc.movie_id", "n.name", "n.id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 51.868, + "Actual Total Time": 51.871, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 131267.31, + "Plan Rows": 12034, + "Plan Width": 51, + "Actual Startup Time": 0.260, + "Actual Total Time": 4971.911, + "Actual Rows": 213200, + "Actual Loops": 2, + "Output": ["chn.name", "ci.movie_id", "ci.person_id", "mc.movie_id", "mc.company_id", "n.name", "n.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 128541.75, + "Plan Rows": 4764, + "Plan Width": 43, + "Actual Startup Time": 0.243, + "Actual Total Time": 3951.846, + "Actual Rows": 127746, + "Actual Loops": 2, + "Output": ["chn.name", "ci.movie_id", "ci.person_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 123567.40, + "Plan Rows": 9861, + "Plan Width": 31, + "Actual Startup Time": 0.224, + "Actual Total Time": 2937.052, + "Actual Rows": 138002, + "Actual Loops": 2, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.44, + "Total Cost": 100747.69, + "Plan Rows": 42671, + "Plan Width": 12, + "Actual Startup Time": 0.205, + "Actual Total Time": 1987.674, + "Actual Rows": 138083, + "Actual Loops": 2, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["rt.id", "rt.role"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 99955.25, + "Plan Rows": 79135, + "Plan Width": 16, + "Actual Startup Time": 0.394, + "Actual Total Time": 3926.503, + "Actual Rows": 276166, + "Actual Loops": 1, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.role_id = rt.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 7175807, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 276166, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'f'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 276005, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 2, + "Actual Loops": 255493, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 3362.18, + "Total Cost": 3362.18, + "Plan Rows": 10620, + "Plan Width": 4, + "Actual Startup Time": 53.259, + "Actual Total Time": 53.260, + "Actual Rows": 42422, + "Actual Loops": 2, + "Output": ["cn.id"], + "Hash Buckets": 131072, + "Original Hash Buckets": 131072, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 4384, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 51.690, + "Actual Total Time": 51.690, + "Actual Rows": 42041, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10620, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 37.086, + "Actual Rows": 42422, + "Actual Loops": 2, + "Output": ["cn.id"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 75077, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 35.816, + "Actual Rows": 42041, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 173567, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.48, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.007, + "Actual Rows": 3, + "Actual Loops": 173567, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7221379846823333251, + "Planning Time": 26.381, + "Triggers": [ + ], + "Execution Time": 13185.533, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 7221379846823333251, + "JOINS": 7 + } + ] (1 row)
