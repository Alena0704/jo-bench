SELECT MIN(chn.name) AS uncredited_voiced_character,
       MIN(t.title) AS russian_movie
FROM char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     company_type AS ct,
     movie_companies AS mc,
     role_type AS rt,
     title AS t
WHERE ci.note LIKE '%(voice)%'
  AND ci.note LIKE '%(uncredited)%'
  AND cn.country_code = '[ru]'
  AND rt.role = 'actor'
  AND t.production_year > 2005
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mc.movie_id
  AND chn.id = ci.person_role_id
  AND rt.id = ci.role_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7452.06, + "Total Cost": 7452.07, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 620.089, + "Actual Total Time": 643.910, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7452.01, + "Total Cost": 7452.02, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 600.411, + "Actual Total Time": 643.877, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7451.01, + "Total Cost": 7451.02, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 594.089, + "Actual Total Time": 594.095, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 590.121, + "Actual Total Time": 590.126, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 609.998, + "Actual Total Time": 610.004, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 590.395, + "Actual Total Time": 590.402, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 590.581, + "Actual Total Time": 590.588, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 590.199, + "Actual Total Time": 590.205, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 591.080, + "Actual Total Time": 591.084, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 591.054, + "Actual Total Time": 591.059, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.96, + "Total Cost": 7451.00, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 102.875, + "Actual Total Time": 594.011, + "Actual Rows": 13, + "Actual Loops": 8, + "Output": ["chn.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.486, + "Actual Total Time": 590.061, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 111.443, + "Actual Total Time": 609.940, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 36.325, + "Actual Total Time": 590.288, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 207.941, + "Actual Total Time": 590.528, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 263.101, + "Actual Total Time": 590.058, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 59.761, + "Actual Total Time": 591.023, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.364, + "Actual Total Time": 590.953, + "Actual Rows": 16, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 7450.85, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 102.824, + "Actual Total Time": 593.849, + "Actual Rows": 13, + "Actual Loops": 8, + "Output": ["chn.name", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.417, + "Actual Total Time": 589.910, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 111.393, + "Actual Total Time": 609.815, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 36.278, + "Actual Total Time": 590.111, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 207.881, + "Actual Total Time": 590.397, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 263.056, + "Actual Total Time": 589.786, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 59.712, + "Actual Total Time": 590.881, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.300, + "Actual Total Time": 590.732, + "Actual Rows": 16, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 7449.09, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 102.355, + "Actual Total Time": 591.428, + "Actual Rows": 14, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.801, + "Actual Total Time": 587.768, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 110.850, + "Actual Total Time": 608.400, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 35.984, + "Actual Total Time": 587.016, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 206.995, + "Actual Total Time": 588.646, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 262.639, + "Actual Total Time": 585.706, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 59.073, + "Actual Total Time": 588.169, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.982, + "Actual Total Time": 587.058, + "Actual Rows": 17, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 7447.94, + "Plan Rows": 15, + "Plan Width": 29, + "Actual Startup Time": 99.817, + "Actual Total Time": 591.015, + "Actual Rows": 19, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "ci.role_id", "mc.company_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.511, + "Actual Total Time": 587.415, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 92.870, + "Actual Total Time": 608.032, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 35.689, + "Actual Total Time": 586.637, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 206.701, + "Actual Total Time": 588.301, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 262.353, + "Actual Total Time": 585.268, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 58.764, + "Actual Total Time": 587.791, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.670, + "Actual Total Time": 586.609, + "Actual Rows": 25, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 6432.27, + "Plan Rows": 743, + "Plan Width": 29, + "Actual Startup Time": 2.178, + "Actual Total Time": 81.744, + "Actual Rows": 567, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.274, + "Actual Total Time": 109.608, + "Actual Rows": 718, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.238, + "Actual Total Time": 40.023, + "Actual Rows": 314, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.220, + "Actual Total Time": 72.009, + "Actual Rows": 460, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.741, + "Actual Total Time": 83.429, + "Actual Rows": 596, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.670, + "Actual Total Time": 82.891, + "Actual Rows": 669, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.479, + "Actual Total Time": 81.153, + "Actual Rows": 653, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.828, + "Actual Total Time": 90.214, + "Actual Rows": 615, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 5564.39, + "Plan Rows": 1854, + "Plan Width": 8, + "Actual Startup Time": 0.264, + "Actual Total Time": 34.025, + "Actual Rows": 1099, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.192, + "Actual Total Time": 43.693, + "Actual Rows": 1754, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.105, + "Actual Total Time": 9.193, + "Actual Rows": 498, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.124, + "Actual Total Time": 35.851, + "Actual Rows": 856, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.359, + "Actual Total Time": 32.218, + "Actual Rows": 1000, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.412, + "Actual Total Time": 33.652, + "Actual Rows": 1180, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.376, + "Actual Total Time": 39.635, + "Actual Rows": 1118, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.411, + "Actual Total Time": 39.345, + "Actual Rows": 1125, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 167, + "Plan Width": 4, + "Actual Startup Time": 0.106, + "Actual Total Time": 17.191, + "Actual Rows": 170, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[ru]'::text)", + "Rows Removed by Filter": 29204, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.110, + "Actual Total Time": 21.859, + "Actual Rows": 239, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 1.478, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.048, + "Actual Total Time": 21.536, + "Actual Rows": 206, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 15.013, + "Actual Rows": 153, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.062, + "Actual Total Time": 12.955, + "Actual Rows": 116, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.220, + "Actual Total Time": 23.296, + "Actual Rows": 227, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.294, + "Actual Total Time": 21.696, + "Actual Rows": 218, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 12.68, + "Plan Rows": 51, + "Plan Width": 12, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.092, + "Actual Rows": 6, + "Actual Loops": 1361, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.085, + "Actual Rows": 7, + "Actual Loops": 239 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.127, + "Actual Total Time": 0.656, + "Actual Rows": 45, + "Actual Loops": 11 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.065, + "Actual Rows": 4, + "Actual Loops": 206 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.105, + "Actual Rows": 7, + "Actual Loops": 153 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.169, + "Actual Rows": 10, + "Actual Loops": 116 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.067, + "Actual Rows": 5, + "Actual Loops": 227 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.076, + "Actual Rows": 5, + "Actual Loops": 218 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 8790, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1754 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 498 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 856 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 1000 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 1180 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 1118 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 1125 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.35, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.852, + "Actual Total Time": 0.896, + "Actual Rows": 0, + "Actual Loops": 4539, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ci.note ~~ '%(voice)%'::text) AND (ci.note ~~ '%(uncredited)%'::text))", + "Rows Removed by Filter": 50, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.632, + "Actual Total Time": 0.664, + "Actual Rows": 0, + "Actual Loops": 718 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.691, + "Actual Total Time": 1.807, + "Actual Rows": 0, + "Actual Loops": 314 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.064, + "Actual Total Time": 1.117, + "Actual Rows": 0, + "Actual Loops": 460 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.819, + "Actual Total Time": 0.845, + "Actual Rows": 0, + "Actual Loops": 596 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.720, + "Actual Total Time": 0.749, + "Actual Rows": 0, + "Actual Loops": 669 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.753, + "Actual Total Time": 0.774, + "Actual Rows": 0, + "Actual Loops": 653 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.715, + "Actual Total Time": 0.806, + "Actual Rows": 0, + "Actual Loops": 615 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.065, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.053, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actor'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 1.76, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.168, + "Actual Total Time": 0.168, + "Actual Rows": 1, + "Actual Loops": 112, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.209, + "Actual Total Time": 0.209, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.136, + "Actual Total Time": 0.136, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.216, + "Actual Total Time": 0.216, + "Actual Rows": 1, + "Actual Loops": 14 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.213, + "Actual Total Time": 0.213, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.128, + "Actual Total Time": 0.128, + "Actual Rows": 1, + "Actual Loops": 31 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.204, + "Actual Total Time": 0.204, + "Actual Rows": 1, + "Actual Loops": 13 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.210, + "Actual Total Time": 0.210, + "Actual Rows": 1, + "Actual Loops": 17 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 104, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 14 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 30 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 11 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 16 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6651533820180303979, + "Planning Time": 21.385, + "Triggers": [ + ], + "Execution Time": 644.338, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -6651533820180303979, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(chn.name) AS character,
       MIN(t.title) AS russian_mov_with_actor_producer
FROM char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     company_type AS ct,
     movie_companies AS mc,
     role_type AS rt,
     title AS t
WHERE ci.note LIKE '%(producer)%'
  AND cn.country_code = '[ru]'
  AND rt.role = 'actor'
  AND t.production_year > 2010
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mc.movie_id
  AND chn.id = ci.person_role_id
  AND rt.id = ci.role_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6821.08, + "Total Cost": 6821.09, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 79.111, + "Actual Total Time": 90.992, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6821.03, + "Total Cost": 6821.04, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 78.717, + "Actual Total Time": 90.978, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6820.03, + "Total Cost": 6820.04, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 69.987, + "Actual Total Time": 69.993, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 69.997, + "Actual Total Time": 70.002, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 69.545, + "Actual Total Time": 69.550, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 69.934, + "Actual Total Time": 69.939, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 67.406, + "Actual Total Time": 67.410, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 67.959, + "Actual Total Time": 67.964, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 69.807, + "Actual Total Time": 69.813, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 67.466, + "Actual Total Time": 67.471, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.97, + "Total Cost": 6819.95, + "Plan Rows": 16, + "Plan Width": 33, + "Actual Startup Time": 69.982, + "Actual Total Time": 69.988, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["chn.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 69.991, + "Actual Total Time": 69.996, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 69.541, + "Actual Total Time": 69.545, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 69.930, + "Actual Total Time": 69.934, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 67.402, + "Actual Total Time": 67.406, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 67.951, + "Actual Total Time": 67.956, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 69.802, + "Actual Total Time": 69.809, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 67.463, + "Actual Total Time": 67.466, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 6819.17, + "Plan Rows": 16, + "Plan Width": 37, + "Actual Startup Time": 69.981, + "Actual Total Time": 69.986, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["chn.name", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 69.990, + "Actual Total Time": 69.994, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 69.540, + "Actual Total Time": 69.544, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 69.929, + "Actual Total Time": 69.933, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 67.401, + "Actual Total Time": 67.404, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 67.951, + "Actual Total Time": 67.955, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 69.801, + "Actual Total Time": 69.806, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 67.462, + "Actual Total Time": 67.465, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 6803.26, + "Plan Rows": 33, + "Plan Width": 25, + "Actual Startup Time": 69.981, + "Actual Total Time": 69.985, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 69.990, + "Actual Total Time": 69.993, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 69.539, + "Actual Total Time": 69.543, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 69.929, + "Actual Total Time": 69.931, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 67.401, + "Actual Total Time": 67.403, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 67.950, + "Actual Total Time": 67.953, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 69.801, + "Actual Total Time": 69.805, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 67.461, + "Actual Total Time": 67.464, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 6800.76, + "Plan Rows": 394, + "Plan Width": 29, + "Actual Startup Time": 1.693, + "Actual Total Time": 69.697, + "Actual Rows": 327, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "ci.role_id", "mc.company_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.563, + "Actual Total Time": 69.800, + "Actual Rows": 201, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.536, + "Actual Total Time": 69.311, + "Actual Rows": 296, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.846, + "Actual Total Time": 69.708, + "Actual Rows": 298, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.474, + "Actual Total Time": 67.205, + "Actual Rows": 236, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.921, + "Actual Total Time": 67.560, + "Actual Rows": 563, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.358, + "Actual Total Time": 69.574, + "Actual Rows": 223, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.407, + "Actual Total Time": 67.179, + "Actual Rows": 511, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 6432.27, + "Plan Rows": 288, + "Plan Width": 29, + "Actual Startup Time": 1.498, + "Actual Total Time": 38.067, + "Actual Rows": 157, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.467, + "Actual Total Time": 38.742, + "Actual Rows": 108, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.454, + "Actual Total Time": 18.357, + "Actual Rows": 112, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.529, + "Actual Total Time": 36.614, + "Actual Rows": 121, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.356, + "Actual Total Time": 37.801, + "Actual Rows": 143, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.383, + "Actual Total Time": 40.120, + "Actual Rows": 256, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.163, + "Actual Total Time": 41.717, + "Actual Rows": 109, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.254, + "Actual Total Time": 43.196, + "Actual Rows": 253, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 5564.39, + "Plan Rows": 1854, + "Plan Width": 8, + "Actual Startup Time": 0.130, + "Actual Total Time": 19.951, + "Actual Rows": 1099, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.247, + "Actual Total Time": 19.459, + "Actual Rows": 1181, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.181, + "Actual Total Time": 9.530, + "Actual Rows": 559, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.168, + "Actual Total Time": 19.583, + "Actual Rows": 1132, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.089, + "Actual Total Time": 19.617, + "Actual Rows": 1086, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.132, + "Actual Total Time": 23.414, + "Actual Rows": 991, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.054, + "Actual Total Time": 21.979, + "Actual Rows": 1210, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.098, + "Actual Total Time": 20.126, + "Actual Rows": 1100, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 167, + "Plan Width": 4, + "Actual Startup Time": 0.088, + "Actual Total Time": 12.674, + "Actual Rows": 170, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[ru]'::text)", + "Rows Removed by Filter": 29204, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.209, + "Actual Total Time": 11.417, + "Actual Rows": 174, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.131, + "Actual Total Time": 6.412, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.119, + "Actual Total Time": 12.200, + "Actual Rows": 167, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.053, + "Actual Total Time": 12.119, + "Actual Rows": 183, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.081, + "Actual Total Time": 16.284, + "Actual Rows": 175, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 13.823, + "Actual Rows": 178, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.061, + "Actual Total Time": 12.905, + "Actual Rows": 179, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 12.68, + "Plan Rows": 51, + "Plan Width": 12, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.039, + "Actual Rows": 6, + "Actual Loops": 1361, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.042, + "Actual Rows": 7, + "Actual Loops": 174 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.044, + "Actual Rows": 9, + "Actual Loops": 63 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.040, + "Actual Rows": 7, + "Actual Loops": 167 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.037, + "Actual Rows": 6, + "Actual Loops": 183 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.037, + "Actual Rows": 6, + "Actual Loops": 175 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.042, + "Actual Rows": 7, + "Actual Loops": 178 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.033, + "Actual Rows": 6, + "Actual Loops": 179 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 8790, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1181 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 559 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1132 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1086 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 991 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1210 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1100 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.27, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.104, + "Actual Total Time": 0.199, + "Actual Rows": 2, + "Actual Loops": 1259, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note ~~ '%(producer)%'::text)", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.115, + "Actual Total Time": 0.285, + "Actual Rows": 2, + "Actual Loops": 108 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.192, + "Actual Total Time": 0.452, + "Actual Rows": 3, + "Actual Loops": 112 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.139, + "Actual Total Time": 0.271, + "Actual Rows": 2, + "Actual Loops": 121 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.114, + "Actual Total Time": 0.204, + "Actual Rows": 2, + "Actual Loops": 143 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.105, + "Actual Rows": 2, + "Actual Loops": 256 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.147, + "Actual Total Time": 0.253, + "Actual Rows": 2, + "Actual Loops": 109 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.093, + "Actual Rows": 2, + "Actual Loops": 253 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actor'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 988535410010893112, + "Planning Time": 12.484, + "Triggers": [ + ], + "Execution Time": 91.390, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 988535410010893112, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(chn.name) AS character,
       MIN(t.title) AS movie_with_american_producer
FROM char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     company_type AS ct,
     movie_companies AS mc,
     role_type AS rt,
     title AS t
WHERE ci.note LIKE '%(producer)%'
  AND cn.country_code = '[us]'
  AND t.production_year > 1990
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mc.movie_id
  AND chn.id = ci.person_role_id
  AND rt.id = ci.role_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;
QUERY PLAN ----------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 214749.80, + "Total Cost": 214749.81, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 12012.057, + "Actual Total Time": 12044.512, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 214749.75, + "Total Cost": 214749.76, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 11979.382, + "Actual Total Time": 12044.479, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 214748.75, + "Total Cost": 214748.76, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 11970.269, + "Actual Total Time": 11970.279, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11967.624, + "Actual Total Time": 11967.635, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11987.622, + "Actual Total Time": 11987.633, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11967.363, + "Actual Total Time": 11967.375, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11964.262, + "Actual Total Time": 11964.269, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11966.718, + "Actual Total Time": 11966.727, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11964.447, + "Actual Total Time": 11964.455, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11965.672, + "Actual Total Time": 11965.678, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42721.00, + "Total Cost": 214479.06, + "Plan Rows": 53938, + "Plan Width": 33, + "Actual Startup Time": 7630.651, + "Actual Total Time": 11970.254, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["chn.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11967.617, + "Actual Total Time": 11967.628, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11987.614, + "Actual Total Time": 11987.624, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3867.337, + "Actual Total Time": 11967.308, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11964.254, + "Actual Total Time": 11964.260, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2681.408, + "Actual Total Time": 11966.694, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5627.813, + "Actual Total Time": 11964.427, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8591.468, + "Actual Total Time": 11965.660, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42719.85, + "Total Cost": 214286.31, + "Plan Rows": 53938, + "Plan Width": 37, + "Actual Startup Time": 7630.505, + "Actual Total Time": 11970.104, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["chn.name", "ci.role_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11967.492, + "Actual Total Time": 11967.500, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11987.528, + "Actual Total Time": 11987.537, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3867.185, + "Actual Total Time": 11967.140, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11964.187, + "Actual Total Time": 11964.192, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2681.257, + "Actual Total Time": 11966.540, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5627.683, + "Actual Total Time": 11964.294, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8591.381, + "Actual Total Time": 11965.571, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42718.80, + "Total Cost": 213993.66, + "Plan Rows": 53938, + "Plan Width": 41, + "Actual Startup Time": 7630.480, + "Actual Total Time": 11970.074, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["chn.name", "ci.role_id", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11967.485, + "Actual Total Time": 11967.491, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11987.488, + "Actual Total Time": 11987.494, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3867.165, + "Actual Total Time": 11967.099, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11964.182, + "Actual Total Time": 11964.186, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2681.238, + "Actual Total Time": 11966.519, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5627.664, + "Actual Total Time": 11964.273, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8591.361, + "Actual Total Time": 11965.549, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42718.36, + "Total Cost": 173183.40, + "Plan Rows": 111804, + "Plan Width": 29, + "Actual Startup Time": 375.698, + "Actual Total Time": 11815.427, + "Actual Rows": 97763, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "ci.role_id", "mc.company_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 373.112, + "Actual Total Time": 11816.033, + "Actual Rows": 93839, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 374.928, + "Actual Total Time": 11839.602, + "Actual Rows": 96982, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 375.415, + "Actual Total Time": 11813.435, + "Actual Rows": 97500, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 372.687, + "Actual Total Time": 11799.463, + "Actual Rows": 99710, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 375.125, + "Actual Total Time": 11812.617, + "Actual Rows": 94948, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 374.421, + "Actual Total Time": 11815.381, + "Actual Rows": 97082, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 374.546, + "Actual Total Time": 11811.283, + "Actual Rows": 100952, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42717.92, + "Total Cost": 68913.58, + "Plan Rows": 81494, + "Plan Width": 29, + "Actual Startup Time": 374.681, + "Actual Total Time": 1272.312, + "Actual Rows": 74531, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 372.976, + "Actual Total Time": 1361.952, + "Actual Rows": 75199, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 373.784, + "Actual Total Time": 1285.315, + "Actual Rows": 74298, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 373.974, + "Actual Total Time": 1305.293, + "Actual Rows": 74813, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 372.486, + "Actual Total Time": 1272.966, + "Actual Rows": 75067, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 374.843, + "Actual Total Time": 1229.717, + "Actual Rows": 76539, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 372.960, + "Actual Total Time": 1136.812, + "Actual Rows": 70503, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 372.835, + "Actual Total Time": 1236.526, + "Actual Rows": 71017, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 25886.87, + "Plan Rows": 117798, + "Plan Width": 8, + "Actual Startup Time": 0.243, + "Actual Total Time": 695.275, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.091, + "Actual Total Time": 767.121, + "Actual Rows": 151309, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.111, + "Actual Total Time": 664.410, + "Actual Rows": 172656, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.156, + "Actual Total Time": 729.362, + "Actual Rows": 147154, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.170, + "Actual Total Time": 705.684, + "Actual Rows": 144063, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.030, + "Actual Total Time": 674.631, + "Actual Rows": 125145, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.148, + "Actual Total Time": 596.449, + "Actual Rows": 110579, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.127, + "Actual Total Time": 678.326, + "Actual Rows": 130348, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10610, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 27.239, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"],+ "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 28.896, + "Actual Rows": 11153, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 23.036, + "Actual Rows": 9284, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 29.284, + "Actual Rows": 11140, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 28.923, + "Actual Rows": 11166, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 27.913, + "Actual Rows": 10436, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 25.049, + "Actual Rows": 10210, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 26.642, + "Actual Rows": 10416, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.61, + "Plan Rows": 51, + "Plan Width": 12, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.055, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.058, + "Actual Rows": 14, + "Actual Loops": 11153 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.060, + "Actual Rows": 19, + "Actual Loops": 9284 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.056, + "Actual Rows": 13, + "Actual Loops": 11140 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.054, + "Actual Rows": 13, + "Actual Loops": 11166 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.055, + "Actual Rows": 12, + "Actual Loops": 10436 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.050, + "Actual Rows": 11, + "Actual Loops": 10210 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.055, + "Actual Rows": 13, + "Actual Loops": 10416 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 39984.49, + "Total Cost": 39984.49, + "Plan Rows": 218640, + "Plan Width": 21, + "Actual Startup Time": 369.698, + "Actual Total Time": 369.699, + "Actual Rows": 218629, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Hash Buckets": 2097152, + "Original Hash Buckets": 2097152, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 114496, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 372.777, + "Actual Total Time": 372.779, + "Actual Rows": 214851, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 373.579, + "Actual Total Time": 373.581, + "Actual Rows": 214575, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 373.782, + "Actual Total Time": 373.784, + "Actual Rows": 215363, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 372.284, + "Actual Total Time": 372.285, + "Actual Rows": 215491, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 373.783, + "Actual Total Time": 373.784, + "Actual Rows": 221409, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 372.775, + "Actual Total Time": 372.776, + "Actual Rows": 228463, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 372.675, + "Actual Total Time": 372.676, + "Actual Rows": 219218, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.00, + "Total Cost": 39984.49, + "Plan Rows": 218640, + "Plan Width": 21, + "Actual Startup Time": 0.452, + "Actual Total Time": 159.023, + "Actual Rows": 218629, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 97410, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.074, + "Actual Total Time": 159.563, + "Actual Rows": 214851, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.065, + "Actual Total Time": 158.576, + "Actual Rows": 214575, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.059, + "Actual Total Time": 160.235, + "Actual Rows": 215363, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.095, + "Actual Total Time": 158.115, + "Actual Rows": 215491, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.063, + "Actual Total Time": 161.103, + "Actual Rows": 221409, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.099, + "Actual Total Time": 158.746, + "Actual Rows": 228463, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.108, + "Actual Total Time": 156.701, + "Actual Rows": 219218, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.27, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.140, + "Actual Rows": 1, + "Actual Loops": 596250, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note ~~ '%(producer)%'::text)", + "Rows Removed by Filter": 34, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.137, + "Actual Rows": 1, + "Actual Loops": 75199 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.140, + "Actual Rows": 1, + "Actual Loops": 74298 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.139, + "Actual Rows": 1, + "Actual Loops": 74813 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.138, + "Actual Rows": 1, + "Actual Loops": 75067 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.136, + "Actual Rows": 1, + "Actual Loops": 76539 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.094, + "Actual Total Time": 0.149, + "Actual Rows": 1, + "Actual Loops": 70503 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.147, + "Actual Rows": 1, + "Actual Loops": 71017 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.44, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 782104, + "Output": ["chn.name", "chn.id"], + "Cache Key": "ci.person_role_id", + "Cache Mode": "logical", + "Cache Hits": 101089, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 93839, + "Cache Hits": 93838, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 96982, + "Cache Hits": 96981, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 97500, + "Cache Hits": 97498, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 99710, + "Cache Hits": 99709, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 94948, + "Cache Hits": 94946, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 97082, + "Cache Hits": 97080, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 100952, + "Cache Hits": 100950, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 13, + "Output": ["chn.name", "chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.02, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["ct.id"], + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.07, + "Total Cost": 1.07, + "Plan Rows": 7, + "Plan Width": 4, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.064, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.088, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.094, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.095, + "Actual Total Time": 0.095, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.090, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.07, + "Plan Rows": 7, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.026, + "Actual Rows": 12, + "Actual Loops": 1, + "Output": ["rt.id"], + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2494719406442254794, + "Planning Time": 16.326, + "Triggers": [ + ], + "Execution Time": 12046.649, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 2494719406442254794, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(cn.name) AS from_company,
       MIN(lt.link) AS movie_link_type,
       MIN(t.title) AS non_polish_sequel_movie
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND t.production_year BETWEEN 1950 AND 2000
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1349.56, + "Total Cost": 1349.57, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 342.895, + "Actual Total Time": 343.031, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1349.50, + "Total Cost": 1349.51, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 342.876, + "Actual Total Time": 343.020, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1348.50, + "Total Cost": 1348.51, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 56.948, + "Actual Total Time": 56.954, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.714, + "Actual Total Time": 15.720, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.362, + "Actual Total Time": 16.369, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.801, + "Actual Total Time": 15.807, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.793, + "Actual Total Time": 16.798, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.556, + "Actual Total Time": 15.561, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.792, + "Actual Total Time": 16.798, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.538, + "Actual Total Time": 16.546, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.28, + "Total Cost": 1348.49, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 15.444, + "Actual Total Time": 56.905, + "Actual Rows": 39, + "Actual Loops": 8, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.709, + "Actual Total Time": 15.714, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.356, + "Actual Total Time": 16.363, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.796, + "Actual Total Time": 15.801, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.787, + "Actual Total Time": 16.792, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.551, + "Actual Total Time": 15.555, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.787, + "Actual Total Time": 16.792, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.534, + "Actual Total Time": 16.540, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.85, + "Total Cost": 1348.01, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 15.437, + "Actual Total Time": 56.445, + "Actual Rows": 50, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.708, + "Actual Total Time": 15.713, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.356, + "Actual Total Time": 16.361, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.795, + "Actual Total Time": 15.799, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.785, + "Actual Total Time": 16.789, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.550, + "Actual Total Time": 15.554, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.785, + "Actual Total Time": 16.790, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.533, + "Actual Total Time": 16.538, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 1347.84, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 15.432, + "Actual Total Time": 56.230, + "Actual Rows": 53, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.708, + "Actual Total Time": 15.712, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.355, + "Actual Total Time": 16.360, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.795, + "Actual Total Time": 15.798, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.785, + "Actual Total Time": 16.788, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.549, + "Actual Total Time": 15.553, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.784, + "Actual Total Time": 16.788, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.532, + "Actual Total Time": 16.537, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1347.40, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 14.771, + "Actual Total Time": 54.594, + "Actual Rows": 128, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "ml.movie_id", "lt.link"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.707, + "Actual Total Time": 15.710, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.355, + "Actual Total Time": 16.358, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.794, + "Actual Total Time": 15.797, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.784, + "Actual Total Time": 16.787, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.549, + "Actual Total Time": 15.552, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.784, + "Actual Total Time": 16.787, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.531, + "Actual Total Time": 16.535, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 1346.86, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 14.763, + "Actual Total Time": 53.997, + "Actual Rows": 25, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.706, + "Actual Total Time": 15.709, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.354, + "Actual Total Time": 16.357, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.794, + "Actual Total Time": 15.796, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.783, + "Actual Total Time": 16.786, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.548, + "Actual Total Time": 15.551, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.783, + "Actual Total Time": 16.786, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.530, + "Actual Total Time": 16.533, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 1346.69, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 14.757, + "Actual Total Time": 53.920, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.705, + "Actual Total Time": 15.707, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.353, + "Actual Total Time": 16.355, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.793, + "Actual Total Time": 15.794, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.782, + "Actual Total Time": 16.784, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.547, + "Actual Total Time": 15.549, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.783, + "Actual Total Time": 16.785, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.530, + "Actual Total Time": 16.532, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.56, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 14.751, + "Actual Total Time": 48.111, + "Actual Rows": 1318, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.705, + "Actual Total Time": 15.705, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.353, + "Actual Total Time": 16.354, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.792, + "Actual Total Time": 15.793, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.781, + "Actual Total Time": 16.783, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.547, + "Actual Total Time": 15.548, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.782, + "Actual Total Time": 16.783, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.529, + "Actual Total Time": 16.530, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 14.641, + "Actual Total Time": 14.643, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.704, + "Actual Total Time": 15.704, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.352, + "Actual Total Time": 16.352, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.791, + "Actual Total Time": 15.791, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.781, + "Actual Total Time": 16.781, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.546, + "Actual Total Time": 15.546, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.781, + "Actual Total Time": 16.781, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.528, + "Actual Total Time": 16.528, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.861, + "Actual Total Time": 264.701, + "Actual Rows": 10544, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 0.38, + "Plan Rows": 5, + "Plan Width": 8, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 10544, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 251, + "Output": ["lt.link", "lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 240, + "Cache Misses": 11, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 11, + "Output": ["lt.link", "lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 2, + "Plan Width": 12, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.021, + "Actual Rows": 5, + "Actual Loops": 199, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1021, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 422, + "Output": ["ct.id", "ct.kind"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 402, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2000))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -8754961486292191806, + "Planning Time": 31.394, + "Triggers": [ + ], + "Execution Time": 343.421, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -8754961486292191806, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS from_company,
       MIN(lt.link) AS movie_link_type,
       MIN(t.title) AS sequel_movie
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follows%'
  AND mc.note IS NULL
  AND t.production_year = 1998
  AND t.title LIKE '%Money%'
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1258.03, + "Total Cost": 1258.04, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 29.418, + "Actual Total Time": 31.166, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1257.99, + "Total Cost": 1258.00, + "Plan Rows": 4, + "Plan Width": 96, + "Actual Startup Time": 27.586, + "Actual Total Time": 31.140, + "Actual Rows": 5, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 4, + "Workers Launched": 4, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1256.99, + "Total Cost": 1257.00, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 15.833, + "Actual Total Time": 15.839, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.943, + "Actual Total Time": 19.949, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.791, + "Actual Total Time": 13.796, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.834, + "Actual Total Time": 13.838, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.492, + "Actual Total Time": 12.499, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 1256.98, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 15.626, + "Actual Total Time": 15.826, + "Actual Rows": 3, + "Actual Loops": 5, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.937, + "Actual Total Time": 19.941, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.786, + "Actual Total Time": 13.791, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.829, + "Actual Total Time": 13.834, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.485, + "Actual Total Time": 12.491, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 1256.81, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 15.621, + "Actual Total Time": 15.809, + "Actual Rows": 3, + "Actual Loops": 5, + "Output": ["cn.name", "mc.company_type_id", "lt.link", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.936, + "Actual Total Time": 19.940, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.786, + "Actual Total Time": 13.789, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.829, + "Actual Total Time": 13.832, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.484, + "Actual Total Time": 12.489, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.16, + "Total Cost": 1256.36, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 15.612, + "Actual Total Time": 15.761, + "Actual Rows": 4, + "Actual Loops": 5, + "Output": ["mc.company_type_id", "mc.company_id", "lt.link", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.936, + "Actual Total Time": 19.939, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.785, + "Actual Total Time": 13.788, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.828, + "Actual Total Time": 13.831, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.484, + "Actual Total Time": 12.488, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1255.83, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 15.602, + "Actual Total Time": 15.733, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["mk.movie_id", "ml.movie_id", "lt.link", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.935, + "Actual Total Time": 19.938, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.784, + "Actual Total Time": 13.787, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.828, + "Actual Total Time": 13.830, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.483, + "Actual Total Time": 12.487, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1255.37, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 15.573, + "Actual Total Time": 15.698, + "Actual Rows": 6, + "Actual Loops": 5, + "Output": ["lt.link", "ml.movie_id", "mk.movie_id", "mk.keyword_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.935, + "Actual Total Time": 19.937, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.783, + "Actual Total Time": 13.785, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.827, + "Actual Total Time": 13.829, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.482, + "Actual Total Time": 12.485, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1253.11, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 15.524, + "Actual Total Time": 15.633, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["lt.link", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.934, + "Actual Total Time": 19.936, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.783, + "Actual Total Time": 13.784, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.826, + "Actual Total Time": 13.827, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.482, + "Actual Total Time": 12.483, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 635.96, + "Plan Rows": 416, + "Plan Width": 16, + "Actual Startup Time": 0.614, + "Actual Total Time": 10.925, + "Actual Rows": 232, + "Actual Loops": 5, + "Output": ["lt.link", "ml.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.269, + "Actual Total Time": 12.645, + "Actual Rows": 386, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.400, + "Actual Total Time": 11.504, + "Actual Rows": 90, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.210, + "Actual Total Time": 8.729, + "Actual Rows": 218, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.316, + "Actual Total Time": 9.040, + "Actual Rows": 120, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 445.81, + "Plan Rows": 7499, + "Plan Width": 8, + "Actual Startup Time": 0.225, + "Actual Total Time": 4.844, + "Actual Rows": 5999, + "Actual Loops": 5, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.051, + "Actual Total Time": 5.268, + "Actual Rows": 6907, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.074, + "Actual Total Time": 5.235, + "Actual Rows": 6454, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.090, + "Actual Total Time": 3.813, + "Actual Rows": 5045, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.095, + "Actual Total Time": 4.069, + "Actual Rows": 4436, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.link", "lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 7139, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 6907, + "Cache Hits": 6891, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 6454, + "Cache Hits": 6438, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 5045, + "Cache Hits": 5029, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4436, + "Cache Hits": 4420, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 80, + "Output": ["lt.link", "lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text ~~ '%follows%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1158, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.title ~~ '%Money%'::text) AND (t.production_year = 1998))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 386 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 90 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 218 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 120 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 1.96, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.043, + "Actual Rows": 4, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 28, + "Output": ["k.id"], + "Cache Key": "mk.keyword_id", + "Cache Mode": "logical", + "Cache Hits": 24, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 4, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 2, + "Plan Width": 12, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 7, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 21, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 14, + "Output": ["ct.id", "ct.kind"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7102013096890644952, + "Planning Time": 26.693, + "Triggers": [ + ], + "Execution Time": 31.649, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 7102013096890644952, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS from_company,
       MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_based_on_book
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '20th Century Fox%'
       OR cn.name LIKE 'Twentieth Century Fox%')
  AND ct.kind != 'production companies'
  AND ct.kind IS NOT NULL
  AND k.keyword IN ('sequel',
                    'revenge',
                    'based-on-novel')
  AND mc.note IS NOT NULL
  AND t.production_year > 1950
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1379.40, + "Total Cost": 1379.41, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 365.458, + "Actual Total Time": 377.704, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mc.note)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1379.33, + "Total Cost": 1379.34, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 308.242, + "Actual Total Time": 377.687, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mc.note))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1378.33, + "Total Cost": 1378.34, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 101.048, + "Actual Total Time": 101.054, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mc.note)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.149, + "Actual Total Time": 15.155, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.403, + "Actual Total Time": 15.407, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.442, + "Actual Total Time": 15.447, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 82.699, + "Actual Total Time": 82.705, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 356.093, + "Actual Total Time": 356.100, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.670, + "Actual Total Time": 3.676, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.842, + "Actual Total Time": 12.847, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.28, + "Total Cost": 1378.33, + "Plan Rows": 1, + "Plan Width": 60, + "Actual Startup Time": 63.491, + "Actual Total Time": 100.273, + "Actual Rows": 868, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.145, + "Actual Total Time": 15.150, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.398, + "Actual Total Time": 15.402, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.437, + "Actual Total Time": 15.442, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 82.694, + "Actual Total Time": 82.699, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 356.089, + "Actual Total Time": 356.095, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.667, + "Actual Total Time": 3.672, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.836, + "Actual Total Time": 12.840, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.14, + "Total Cost": 1378.17, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 63.487, + "Actual Total Time": 97.929, + "Actual Rows": 868, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "ml.link_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.145, + "Actual Total Time": 15.149, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.397, + "Actual Total Time": 15.401, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.436, + "Actual Total Time": 15.441, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 82.693, + "Actual Total Time": 82.698, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 356.088, + "Actual Total Time": 356.094, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.666, + "Actual Total Time": 3.671, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.835, + "Actual Total Time": 12.839, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 1376.38, + "Plan Rows": 4, + "Plan Width": 49, + "Actual Startup Time": 8.500, + "Actual Total Time": 83.463, + "Actual Rows": 1864, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_id", "ml.link_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.143, + "Actual Total Time": 15.147, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.396, + "Actual Total Time": 15.400, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.435, + "Actual Total Time": 15.440, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.633, + "Actual Total Time": 78.407, + "Actual Rows": 363, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.202, + "Actual Total Time": 343.240, + "Actual Rows": 1245, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.665, + "Actual Total Time": 3.669, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.835, + "Actual Total Time": 12.838, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.58, + "Total Cost": 1375.85, + "Plan Rows": 6, + "Plan Width": 53, + "Actual Startup Time": 8.482, + "Actual Total Time": 81.378, + "Actual Rows": 1939, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_type_id", "mc.company_id", "ml.link_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.143, + "Actual Total Time": 15.145, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.396, + "Actual Total Time": 15.398, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.435, + "Actual Total Time": 15.437, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.583, + "Actual Total Time": 77.712, + "Actual Rows": 409, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.154, + "Actual Total Time": 341.200, + "Actual Rows": 1363, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.665, + "Actual Total Time": 3.668, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.834, + "Actual Total Time": 12.837, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.15, + "Total Cost": 1374.79, + "Plan Rows": 2, + "Plan Width": 33, + "Actual Startup Time": 8.388, + "Actual Total Time": 76.853, + "Actual Rows": 182, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.142, + "Actual Total Time": 15.144, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.395, + "Actual Total Time": 15.397, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.434, + "Actual Total Time": 15.436, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.536, + "Actual Total Time": 73.259, + "Actual Rows": 251, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.505, + "Actual Total Time": 329.208, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.664, + "Actual Total Time": 3.666, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.834, + "Actual Total Time": 12.836, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 1373.37, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 8.369, + "Actual Total Time": 74.755, + "Actual Rows": 182, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.141, + "Actual Total Time": 15.143, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.394, + "Actual Total Time": 15.396, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.433, + "Actual Total Time": 15.435, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.487, + "Actual Total Time": 69.502, + "Actual Rows": 251, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.443, + "Actual Total Time": 320.726, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.664, + "Actual Total Time": 3.665, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.833, + "Actual Total Time": 12.834, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1367.42, + "Plan Rows": 14, + "Plan Width": 4, + "Actual Startup Time": 8.351, + "Actual Total Time": 50.704, + "Actual Rows": 5925, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.141, + "Actual Total Time": 15.142, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.394, + "Actual Total Time": 15.395, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.433, + "Actual Total Time": 15.434, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.451, + "Actual Total Time": 29.191, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.379, + "Actual Total Time": 200.884, + "Actual Rows": 29440, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.663, + "Actual Total Time": 3.664, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.832, + "Actual Total Time": 12.833, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1212.55, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 8.166, + "Actual Total Time": 8.177, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{sequel,revenge,based-on-novel}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.140, + "Actual Total Time": 15.140, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.393, + "Actual Total Time": 15.394, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.432, + "Actual Total Time": 15.432, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.379, + "Actual Total Time": 0.394, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.088, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.662, + "Actual Total Time": 3.662, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.832, + "Actual Total Time": 12.832, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 153.50, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.484, + "Actual Total Time": 109.089, + "Actual Rows": 15801, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.068, + "Actual Total Time": 26.199, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.313, + "Actual Total Time": 192.628, + "Actual Rows": 29440, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 0.38, + "Plan Rows": 5, + "Plan Width": 8, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 47403, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 10544 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 29440 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1460, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1950)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 251 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 753 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 2, + "Plan Width": 36, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.021, + "Actual Rows": 11, + "Actual Loops": 1460, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NOT NULL)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.016, + "Actual Rows": 2, + "Actual Loops": 251 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 753 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 1, + "Actual Loops": 15510, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 13736, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 409, + "Cache Hits": 407, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1363, + "Cache Hits": 1361, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind IS NOT NULL) AND ((ct.kind)::text <> 'production companies'::text))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 14916, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '20th Century Fox%'::text) OR (cn.name ~~ 'Twentieth Century Fox%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 363 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 1245 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 6946, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2333270921735776355, + "Planning Time": 32.412, + "Triggers": [ + ], + "Execution Time": 378.275, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 2333270921735776355, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS from_company,
       MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_based_on_book
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND ct.kind != 'production companies'
  AND ct.kind IS NOT NULL
  AND k.keyword IN ('sequel',
                    'revenge',
                    'based-on-novel')
  AND mc.note IS NOT NULL
  AND t.production_year > 1950
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1379.55, + "Total Cost": 1379.56, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 195.036, + "Actual Total Time": 208.199, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mc.note)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1379.49, + "Total Cost": 1379.50, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 191.642, + "Actual Total Time": 208.181, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mc.note))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1378.49, + "Total Cost": 1378.50, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 65.494, + "Actual Total Time": 65.501, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mc.note)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 186.696, + "Actual Total Time": 186.701, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.522, + "Actual Total Time": 13.530, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.175, + "Actual Total Time": 14.182, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 82.643, + "Actual Total Time": 82.648, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.048, + "Actual Total Time": 12.055, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.560, + "Actual Total Time": 11.568, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.804, + "Actual Total Time": 12.813, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.28, + "Total Cost": 1378.46, + "Plan Rows": 4, + "Plan Width": 60, + "Actual Startup Time": 8.550, + "Actual Total Time": 63.954, + "Actual Rows": 1862, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.846, + "Actual Total Time": 185.707, + "Actual Rows": 1235, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.517, + "Actual Total Time": 13.524, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.169, + "Actual Total Time": 14.176, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.851, + "Actual Total Time": 82.314, + "Actual Rows": 363, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.042, + "Actual Total Time": 12.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.553, + "Actual Total Time": 11.560, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.798, + "Actual Total Time": 12.806, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.86, + "Total Cost": 1376.69, + "Plan Rows": 4, + "Plan Width": 45, + "Actual Startup Time": 8.530, + "Actual Total Time": 50.543, + "Actual Rows": 1864, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.780, + "Actual Total Time": 174.300, + "Actual Rows": 1245, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.516, + "Actual Total Time": 13.522, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.168, + "Actual Total Time": 14.174, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.808, + "Actual Total Time": 78.467, + "Actual Rows": 363, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.041, + "Actual Total Time": 12.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.553, + "Actual Total Time": 11.559, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.797, + "Actual Total Time": 12.804, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 1376.16, + "Plan Rows": 6, + "Plan Width": 49, + "Actual Startup Time": 8.513, + "Actual Total Time": 48.565, + "Actual Rows": 1939, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_type_id", "mc.company_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.732, + "Actual Total Time": 172.685, + "Actual Rows": 1363, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.515, + "Actual Total Time": 13.520, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.167, + "Actual Total Time": 14.172, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.774, + "Actual Total Time": 77.928, + "Actual Rows": 409, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.040, + "Actual Total Time": 12.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.552, + "Actual Total Time": 11.557, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.796, + "Actual Total Time": 12.802, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1375.10, + "Plan Rows": 2, + "Plan Width": 29, + "Actual Startup Time": 8.444, + "Actual Total Time": 44.669, + "Actual Rows": 182, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.270, + "Actual Total Time": 164.011, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.515, + "Actual Total Time": 13.518, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.166, + "Actual Total Time": 14.170, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.729, + "Actual Total Time": 73.214, + "Actual Rows": 251, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.040, + "Actual Total Time": 12.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.551, + "Actual Total Time": 11.555, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.795, + "Actual Total Time": 12.800, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.15, + "Total Cost": 1374.79, + "Plan Rows": 2, + "Plan Width": 33, + "Actual Startup Time": 8.428, + "Actual Total Time": 44.076, + "Actual Rows": 182, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.231, + "Actual Total Time": 161.597, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.513, + "Actual Total Time": 13.516, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.165, + "Actual Total Time": 14.168, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.684, + "Actual Total Time": 72.236, + "Actual Rows": 251, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.039, + "Actual Total Time": 12.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.551, + "Actual Total Time": 11.554, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.794, + "Actual Total Time": 12.798, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 1373.37, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 8.407, + "Actual Total Time": 42.440, + "Actual Rows": 182, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.165, + "Actual Total Time": 154.946, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.512, + "Actual Total Time": 13.514, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.163, + "Actual Total Time": 14.165, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.633, + "Actual Total Time": 69.494, + "Actual Rows": 251, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.039, + "Actual Total Time": 12.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.550, + "Actual Total Time": 11.552, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.793, + "Actual Total Time": 12.796, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1367.42, + "Plan Rows": 14, + "Plan Width": 4, + "Actual Startup Time": 8.392, + "Actual Total Time": 22.013, + "Actual Rows": 5925, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.121, + "Actual Total Time": 57.316, + "Actual Rows": 29440, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.512, + "Actual Total Time": 13.513, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.162, + "Actual Total Time": 14.163, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.601, + "Actual Total Time": 28.939, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.038, + "Actual Total Time": 12.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.550, + "Actual Total Time": 11.551, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.793, + "Actual Total Time": 12.794, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1212.55, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 8.356, + "Actual Total Time": 8.366, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{sequel,revenge,based-on-novel}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.065, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.511, + "Actual Total Time": 13.511, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.162, + "Actual Total Time": 14.162, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.531, + "Actual Total Time": 0.546, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.037, + "Actual Total Time": 12.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.549, + "Actual Total Time": 11.549, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.792, + "Actual Total Time": 12.793, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 153.50, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.088, + "Actual Total Time": 33.050, + "Actual Rows": 15801, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.074, + "Actual Total Time": 51.282, + "Actual Rows": 29440, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.066, + "Actual Total Time": 25.878, + "Actual Rows": 10544, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 0.38, + "Plan Rows": 5, + "Plan Width": 8, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 47403, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 29440 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 10544 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1460, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1950)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 753 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 251 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 1460, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 753 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 251 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 2, + "Plan Width": 36, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.018, + "Actual Rows": 11, + "Actual Loops": 1460, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NOT NULL)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.010, + "Actual Rows": 2, + "Actual Loops": 753 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.018, + "Actual Rows": 2, + "Actual Loops": 251 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 1, + "Actual Loops": 15510, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 13736, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1363, + "Cache Hits": 1361, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 409, + "Cache Hits": 407, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind IS NOT NULL) AND ((ct.kind)::text <> 'production companies'::text))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 14916, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[pl]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1245 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 363 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5951735317690032369, + "Planning Time": 30.477, + "Triggers": [ + ], + "Execution Time": 208.690, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -5951735317690032369, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS drama_horror_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     title AS t
WHERE cn.country_code = '[us]'
  AND ct.kind = 'production companies'
  AND it1.info = 'genres'
  AND it2.info = 'rating'
  AND mi.info IN ('Drama',
                  'Horror')
  AND mi_idx.info > '8.0'
  AND t.production_year BETWEEN 2005 AND 2008
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND mi.info_type_id = it1.id
  AND mi_idx.info_type_id = it2.id
  AND t.id = mc.movie_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10198.90, + "Total Cost": 10198.91, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 257.020, + "Actual Total Time": 261.294, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10198.83, + "Total Cost": 10198.84, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 256.408, + "Actual Total Time": 261.266, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10197.83, + "Total Cost": 10197.84, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 249.372, + "Actual Total Time": 249.380, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 247.783, + "Actual Total Time": 247.789, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 248.371, + "Actual Total Time": 248.378, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 248.457, + "Actual Total Time": 248.464, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 248.691, + "Actual Total Time": 248.699, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 248.623, + "Actual Total Time": 248.630, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 249.056, + "Actual Total Time": 249.062, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 248.589, + "Actual Total Time": 248.594, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.83, + "Total Cost": 10197.82, + "Plan Rows": 1, + "Plan Width": 42, + "Actual Startup Time": 47.863, + "Actual Total Time": 249.227, + "Actual Rows": 50, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.004, + "Actual Total Time": 247.606, + "Actual Rows": 67, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.749, + "Actual Total Time": 248.242, + "Actual Rows": 40, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.473, + "Actual Total Time": 248.297, + "Actual Rows": 60, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 43.602, + "Actual Total Time": 248.552, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.618, + "Actual Total Time": 248.490, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 117.306, + "Actual Total Time": 248.926, + "Actual Rows": 40, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 117.907, + "Actual Total Time": 248.472, + "Actual Rows": 40, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.70, + "Total Cost": 10197.65, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 36.736, + "Actual Total Time": 248.562, + "Actual Rows": 88, + "Actual Loops": 8, + "Output": ["cn.name", "mc.company_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.181, + "Actual Total Time": 246.774, + "Actual Rows": 118, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.576, + "Actual Total Time": 247.705, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.644, + "Actual Total Time": 247.438, + "Actual Rows": 124, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 36.156, + "Actual Total Time": 248.000, + "Actual Rows": 68, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.011, + "Actual Total Time": 247.892, + "Actual Rows": 77, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 38.815, + "Actual Total Time": 248.376, + "Actual Rows": 66, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 117.856, + "Actual Total Time": 248.009, + "Actual Rows": 60, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.28, + "Total Cost": 10197.21, + "Plan Rows": 1, + "Plan Width": 31, + "Actual Startup Time": 22.019, + "Actual Total Time": 239.983, + "Actual Rows": 242, + "Actual Loops": 8, + "Output": ["mc.company_type_id", "mc.company_id", "mi_idx.info", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.116, + "Actual Total Time": 233.442, + "Actual Rows": 405, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.383, + "Actual Total Time": 241.703, + "Actual Rows": 139, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.894, + "Actual Total Time": 238.279, + "Actual Rows": 335, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 36.015, + "Actual Total Time": 240.659, + "Actual Rows": 165, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.861, + "Actual Total Time": 239.440, + "Actual Rows": 244, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 38.767, + "Actual Total Time": 239.844, + "Actual Rows": 185, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.783, + "Actual Total Time": 244.042, + "Actual Rows": 104, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.85, + "Total Cost": 10196.60, + "Plan Rows": 1, + "Plan Width": 35, + "Actual Startup Time": 21.873, + "Actual Total Time": 234.757, + "Actual Rows": 70, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.046, + "Actual Total Time": 226.053, + "Actual Rows": 80, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 26.996, + "Actual Total Time": 237.712, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.797, + "Actual Total Time": 234.114, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 35.909, + "Actual Total Time": 234.882, + "Actual Rows": 76, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.755, + "Actual Total Time": 234.166, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 38.678, + "Actual Total Time": 235.117, + "Actual Rows": 62, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.700, + "Actual Total Time": 239.536, + "Actual Rows": 67, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 10195.93, + "Plan Rows": 4, + "Plan Width": 39, + "Actual Startup Time": 21.827, + "Actual Total Time": 233.931, + "Actual Rows": 70, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.986, + "Actual Total Time": 225.104, + "Actual Rows": 80, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 26.950, + "Actual Total Time": 236.988, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.749, + "Actual Total Time": 233.390, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 35.867, + "Actual Total Time": 233.995, + "Actual Rows": 76, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.706, + "Actual Total Time": 233.320, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 38.634, + "Actual Total Time": 234.360, + "Actual Rows": 62, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.646, + "Actual Total Time": 238.711, + "Actual Rows": 67, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10182.56, + "Plan Rows": 10, + "Plan Width": 31, + "Actual Startup Time": 3.374, + "Actual Total Time": 150.645, + "Actual Rows": 506, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.877, + "Actual Total Time": 138.345, + "Actual Rows": 570, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.463, + "Actual Total Time": 157.151, + "Actual Rows": 576, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.492, + "Actual Total Time": 146.055, + "Actual Rows": 498, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.088, + "Actual Total Time": 157.185, + "Actual Rows": 390, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.027, + "Actual Total Time": 139.739, + "Actual Rows": 515, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.658, + "Actual Total Time": 150.313, + "Actual Rows": 553, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.937, + "Actual Total Time": 160.358, + "Actual Rows": 431, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10111.16, + "Plan Rows": 58, + "Plan Width": 10, + "Actual Startup Time": 0.706, + "Actual Total Time": 103.692, + "Actual Rows": 1981, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.856, + "Actual Total Time": 95.227, + "Actual Rows": 1906, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.321, + "Actual Total Time": 107.555, + "Actual Rows": 2084, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.062, + "Actual Total Time": 100.433, + "Actual Rows": 2068, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.933, + "Actual Total Time": 108.965, + "Actual Rows": 2029, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.619, + "Actual Total Time": 95.887, + "Actual Rows": 1715, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.504, + "Actual Total Time": 101.817, + "Actual Rows": 2157, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.847, + "Actual Total Time": 110.478, + "Actual Rows": 1919, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 10091.30, + "Plan Rows": 6613, + "Plan Width": 14, + "Actual Startup Time": 0.096, + "Actual Total Time": 99.508, + "Actual Rows": 6706, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Filter": "(mi_idx.info > '8.0'::text)", + "Rows Removed by Filter": 165798, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.215, + "Actual Total Time": 91.294, + "Actual Rows": 6272, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 103.118, + "Actual Rows": 7137, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.061, + "Actual Total Time": 96.304, + "Actual Rows": 6422, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.050, + "Actual Total Time": 104.729, + "Actual Rows": 7068, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.063, + "Actual Total Time": 91.939, + "Actual Rows": 6217, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.238, + "Actual Total Time": 97.445, + "Actual Rows": 7017, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.060, + "Actual Total Time": 106.363, + "Actual Rows": 6832, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.066, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.23, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 15849, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2008))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1906 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 2084 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 2068 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 2029 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1715 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 2157 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1919 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.33, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.160, + "Actual Total Time": 0.163, + "Actual Rows": 0, + "Actual Loops": 4047, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Drama,Horror}'::text[]))", + "Rows Removed by Filter": 21, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.147, + "Actual Total Time": 0.151, + "Actual Rows": 0, + "Actual Loops": 570 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.136, + "Actual Total Time": 0.138, + "Actual Rows": 0, + "Actual Loops": 576 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.169, + "Actual Total Time": 0.174, + "Actual Rows": 0, + "Actual Loops": 498 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.193, + "Actual Total Time": 0.196, + "Actual Rows": 0, + "Actual Loops": 390 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.176, + "Actual Total Time": 0.181, + "Actual Rows": 0, + "Actual Loops": 515 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.147, + "Actual Total Time": 0.151, + "Actual Rows": 0, + "Actual Loops": 553 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.175, + "Actual Total Time": 0.181, + "Actual Rows": 0, + "Actual Loops": 431 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 557, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 80 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 59 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 63 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 76 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 72 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 62 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 67 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.56, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.071, + "Actual Rows": 3, + "Actual Loops": 557, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.088, + "Actual Rows": 5, + "Actual Loops": 80 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.064, + "Actual Rows": 2, + "Actual Loops": 59 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.061, + "Actual Rows": 5, + "Actual Loops": 63 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.073, + "Actual Rows": 2, + "Actual Loops": 76 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.069, + "Actual Rows": 3, + "Actual Loops": 72 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.072, + "Actual Rows": 3, + "Actual Loops": 62 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.064, + "Actual Rows": 2, + "Actual Loops": 67 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1934, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 405 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 139 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 335 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 165 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 244 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 185 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 104 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 707, + "Output": ["ct.id", "ct.kind"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 118 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 63 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 124 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 68 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 77 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 66 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 60 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -9026514954839072455, + "Planning Time": 27.622, + "Triggers": [ + ], + "Execution Time": 261.688, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -9026514954839072455, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi.info) AS budget,
       MIN(t.title) AS unsuccsessful_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     title AS t
WHERE cn.country_code ='[us]'
  AND ct.kind IS NOT NULL
  AND (ct.kind ='production companies'
       OR ct.kind = 'distributors')
  AND it1.info ='budget'
  AND it2.info ='bottom 10 rank'
  AND t.production_year >2000
  AND (t.title LIKE 'Birdemic%'
       OR t.title LIKE '%Movie%')
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND mi.info_type_id = it1.id
  AND mi_idx.info_type_id = it2.id
  AND t.id = mc.movie_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10885.41, + "Total Cost": 10885.42, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 96.453, + "Actual Total Time": 101.348, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10885.36, + "Total Cost": 10885.37, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 93.540, + "Actual Total Time": 101.319, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10884.36, + "Total Cost": 10884.37, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 86.735, + "Actual Total Time": 86.743, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 85.211, + "Actual Total Time": 85.219, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.517, + "Actual Total Time": 85.523, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 88.412, + "Actual Total Time": 88.419, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 85.577, + "Actual Total Time": 85.584, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 85.535, + "Actual Total Time": 85.542, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 85.513, + "Actual Total Time": 85.520, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 85.536, + "Actual Total Time": 85.542, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.53, + "Total Cost": 10884.36, + "Plan Rows": 1, + "Plan Width": 59, + "Actual Startup Time": 86.595, + "Actual Total Time": 86.734, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 85.206, + "Actual Total Time": 85.213, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.509, + "Actual Total Time": 85.515, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 87.336, + "Actual Total Time": 88.389, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 85.573, + "Actual Total Time": 85.579, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 85.529, + "Actual Total Time": 85.535, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 85.507, + "Actual Total Time": 85.513, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 85.531, + "Actual Total Time": 85.536, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.40, + "Total Cost": 10884.19, + "Plan Rows": 1, + "Plan Width": 63, + "Actual Startup Time": 86.591, + "Actual Total Time": 86.724, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mc.company_type_id", "mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 85.206, + "Actual Total Time": 85.212, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.508, + "Actual Total Time": 85.513, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 87.306, + "Actual Total Time": 88.319, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 85.572, + "Actual Total Time": 85.578, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 85.528, + "Actual Total Time": 85.534, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 85.506, + "Actual Total Time": 85.512, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 85.530, + "Actual Total Time": 85.535, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.98, + "Total Cost": 10883.75, + "Plan Rows": 1, + "Plan Width": 67, + "Actual Startup Time": 86.582, + "Actual Total Time": 86.645, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mi.info", "mc.company_type_id", "mc.company_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 85.205, + "Actual Total Time": 85.211, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.508, + "Actual Total Time": 85.512, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 87.241, + "Actual Total Time": 87.700, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 85.571, + "Actual Total Time": 85.576, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 85.528, + "Actual Total Time": 85.533, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 85.505, + "Actual Total Time": 85.510, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 85.529, + "Actual Total Time": 85.534, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.55, + "Total Cost": 10883.20, + "Plan Rows": 1, + "Plan Width": 71, + "Actual Startup Time": 86.564, + "Actual Total Time": 86.617, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi.info", "mi.movie_id", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 85.204, + "Actual Total Time": 85.210, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.507, + "Actual Total Time": 85.511, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 87.102, + "Actual Total Time": 87.480, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 85.570, + "Actual Total Time": 85.575, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 85.527, + "Actual Total Time": 85.531, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 85.505, + "Actual Total Time": 85.510, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 85.528, + "Actual Total Time": 85.532, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 10881.26, + "Plan Rows": 35, + "Plan Width": 75, + "Actual Startup Time": 86.236, + "Actual Total Time": 86.286, + "Actual Rows": 28, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 84.879, + "Actual Total Time": 84.882, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.236, + "Actual Total Time": 85.239, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 86.804, + "Actual Total Time": 87.170, + "Actual Rows": 221, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 85.274, + "Actual Total Time": 85.277, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 85.231, + "Actual Total Time": 85.233, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 85.083, + "Actual Total Time": 85.086, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 85.234, + "Actual Total Time": 85.237, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10878.78, + "Plan Rows": 2, + "Plan Width": 25, + "Actual Startup Time": 86.085, + "Actual Total Time": 86.101, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 84.878, + "Actual Total Time": 84.880, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.235, + "Actual Total Time": 85.237, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 85.600, + "Actual Total Time": 85.710, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 85.273, + "Actual Total Time": 85.275, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 85.230, + "Actual Total Time": 85.232, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 85.081, + "Actual Total Time": 85.084, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 85.233, + "Actual Total Time": 85.235, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1527, + "Plan Width": 4, + "Actual Startup Time": 86.033, + "Actual Total Time": 86.041, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 84.878, + "Actual Total Time": 84.879, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.234, + "Actual Total Time": 85.235, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 85.192, + "Actual Total Time": 85.240, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 85.272, + "Actual Total Time": 85.274, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 85.229, + "Actual Total Time": 85.231, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 85.080, + "Actual Total Time": 85.083, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 85.232, + "Actual Total Time": 85.234, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.018, + "Actual Total Time": 33.731, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 33.542, + "Actual Rows": 167665, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 34.273, + "Actual Rows": 157045, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 33.434, + "Actual Rows": 171423, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 32.736, + "Actual Rows": 173775, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 34.062, + "Actual Rows": 169035, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 33.083, + "Actual Rows": 176026, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 33.301, + "Actual Rows": 176351, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'bottom 10 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 10, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2000) AND ((t.title ~~ 'Birdemic%'::text) OR (t.title ~~ '%Movie%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 10 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 22, + "Plan Width": 50, + "Actual Startup Time": 0.611, + "Actual Total Time": 0.685, + "Actual Rows": 110, + "Actual Loops": 2, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.611, + "Actual Total Time": 0.685, + "Actual Rows": 110, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'budget'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.096, + "Actual Rows": 16, + "Actual Loops": 2, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.096, + "Actual Rows": 16, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 33, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 33 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["ct.id", "ct.kind"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind IS NOT NULL) AND (((ct.kind)::text = 'production companies'::text) OR ((ct.kind)::text = 'distributors'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 10 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5632455736553151255, + "Planning Time": 25.889, + "Triggers": [ + ], + "Execution Time": 101.715, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 5632455736553151255, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS mainstream_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     title AS t
WHERE cn.country_code = '[us]'
  AND ct.kind = 'production companies'
  AND it1.info = 'genres'
  AND it2.info = 'rating'
  AND mi.info IN ('Drama',
                  'Horror',
                  'Western',
                  'Family')
  AND mi_idx.info > '7.0'
  AND t.production_year BETWEEN 2000 AND 2010
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND mi.info_type_id = it1.id
  AND mi_idx.info_type_id = it2.id
  AND t.id = mc.movie_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10413.99, + "Total Cost": 10414.00, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 1187.140, + "Actual Total Time": 1188.262, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10413.92, + "Total Cost": 10413.93, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 1171.633, + "Actual Total Time": 1188.210, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10412.92, + "Total Cost": 10412.93, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 1158.088, + "Actual Total Time": 1158.096, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1166.156, + "Actual Total Time": 1166.162, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1155.591, + "Actual Total Time": 1155.597, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1150.274, + "Actual Total Time": 1150.279, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1157.243, + "Actual Total Time": 1157.250, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1156.511, + "Actual Total Time": 1156.518, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1157.876, + "Actual Total Time": 1157.882, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1156.633, + "Actual Total Time": 1156.641, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.53, + "Total Cost": 10412.91, + "Plan Rows": 1, + "Plan Width": 42, + "Actual Startup Time": 13.153, + "Actual Total Time": 1156.796, + "Actual Rows": 589, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.033, + "Actual Total Time": 1164.883, + "Actual Rows": 587, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.853, + "Actual Total Time": 1154.247, + "Actual Rows": 596, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.226, + "Actual Total Time": 1149.040, + "Actual Rows": 546, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 43.434, + "Actual Total Time": 1156.053, + "Actual Rows": 555, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.228, + "Actual Total Time": 1155.264, + "Actual Rows": 606, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.723, + "Actual Total Time": 1156.458, + "Actual Rows": 649, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.196, + "Actual Total Time": 1155.301, + "Actual Rows": 616, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.11, + "Total Cost": 10412.47, + "Plan Rows": 1, + "Plan Width": 27, + "Actual Startup Time": 6.025, + "Actual Total Time": 1117.357, + "Actual Rows": 1942, + "Actual Loops": 8, + "Output": ["mc.company_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.981, + "Actual Total Time": 1124.804, + "Actual Rows": 2028, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.404, + "Actual Total Time": 1116.130, + "Actual Rows": 1963, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.983, + "Actual Total Time": 1105.155, + "Actual Rows": 2047, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.607, + "Actual Total Time": 1119.777, + "Actual Rows": 1634, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.078, + "Actual Total Time": 1114.947, + "Actual Rows": 2021, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.653, + "Actual Total Time": 1118.284, + "Actual Rows": 1883, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 19.979, + "Actual Total Time": 1114.849, + "Actual Rows": 2040, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.98, + "Total Cost": 10412.15, + "Plan Rows": 2, + "Plan Width": 31, + "Actual Startup Time": 5.915, + "Actual Total Time": 1087.511, + "Actual Rows": 5626, + "Actual Loops": 8, + "Output": ["mc.company_type_id", "mc.company_id", "mi_idx.info", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.892, + "Actual Total Time": 1093.876, + "Actual Rows": 5887, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.351, + "Actual Total Time": 1085.503, + "Actual Rows": 5742, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.921, + "Actual Total Time": 1074.141, + "Actual Rows": 5870, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.520, + "Actual Total Time": 1093.739, + "Actual Rows": 4854, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.040, + "Actual Total Time": 1085.371, + "Actual Rows": 5666, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.248, + "Actual Total Time": 1088.315, + "Actual Rows": 5669, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 19.913, + "Actual Total Time": 1085.018, + "Actual Rows": 5665, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.55, + "Total Cost": 10411.58, + "Plan Rows": 1, + "Plan Width": 35, + "Actual Startup Time": 5.762, + "Actual Total Time": 1025.905, + "Actual Rows": 996, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.803, + "Actual Total Time": 1032.060, + "Actual Rows": 1023, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.265, + "Actual Total Time": 1020.320, + "Actual Rows": 1012, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.853, + "Actual Total Time": 1011.653, + "Actual Rows": 1018, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.031, + "Actual Total Time": 1032.795, + "Actual Rows": 915, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.960, + "Actual Total Time": 1023.127, + "Actual Rows": 1019, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.159, + "Actual Total Time": 1027.097, + "Actual Rows": 979, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 19.856, + "Actual Total Time": 1027.159, + "Actual Rows": 1043, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 10409.62, + "Plan Rows": 43, + "Plan Width": 39, + "Actual Startup Time": 5.327, + "Actual Total Time": 1023.267, + "Actual Rows": 996, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.638, + "Actual Total Time": 1028.611, + "Actual Rows": 1023, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.956, + "Actual Total Time": 1017.731, + "Actual Rows": 1012, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.533, + "Actual Total Time": 1009.168, + "Actual Rows": 1018, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.731, + "Actual Total Time": 1030.387, + "Actual Rows": 915, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.635, + "Actual Total Time": 1020.713, + "Actual Rows": 1019, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.851, + "Actual Total Time": 1024.638, + "Actual Rows": 979, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 19.587, + "Actual Total Time": 1024.656, + "Actual Rows": 1043, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10308.87, + "Plan Rows": 89, + "Plan Width": 31, + "Actual Startup Time": 0.254, + "Actual Total Time": 370.278, + "Actual Rows": 6538, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.178, + "Actual Total Time": 375.675, + "Actual Rows": 6329, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.118, + "Actual Total Time": 365.535, + "Actual Rows": 7101, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.222, + "Actual Total Time": 371.880, + "Actual Rows": 6095, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.504, + "Actual Total Time": 377.559, + "Actual Rows": 6222, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.141, + "Actual Total Time": 355.962, + "Actual Rows": 6237, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.475, + "Actual Total Time": 376.297, + "Actual Rows": 6717, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.111, + "Actual Total Time": 369.318, + "Actual Rows": 6573, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10159.21, + "Plan Rows": 215, + "Plan Width": 10, + "Actual Startup Time": 0.065, + "Actual Total Time": 108.943, + "Actual Rows": 15196, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.072, + "Actual Total Time": 109.612, + "Actual Rows": 15330, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 105.604, + "Actual Rows": 15290, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 112.610, + "Actual Rows": 15219, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 112.019, + "Actual Rows": 15050, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 105.915, + "Actual Rows": 14628, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.043, + "Actual Total Time": 110.603, + "Actual Rows": 15608, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.039, + "Actual Total Time": 108.180, + "Actual Rows": 15281, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 10091.30, + "Plan Rows": 24256, + "Plan Width": 14, + "Actual Startup Time": 0.033, + "Actual Total Time": 89.153, + "Actual Rows": 24237, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Filter": "(mi_idx.info > '7.0'::text)", + "Rows Removed by Filter": 148268, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.039, + "Actual Total Time": 89.459, + "Actual Rows": 24539, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 85.677, + "Actual Rows": 24208, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 93.036, + "Actual Rows": 24695, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 92.345, + "Actual Rows": 24129, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 87.070, + "Actual Rows": 23350, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 90.303, + "Actual Rows": 24898, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 88.139, + "Actual Rows": 24176, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.053, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.70, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 121572, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 15330 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 15290 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 15219 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 15050 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 14628 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 15608 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 15281 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.12, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.094, + "Actual Total Time": 0.099, + "Actual Rows": 0, + "Actual Loops": 52304, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Drama,Horror,Western,Family}'::text[]))", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.098, + "Actual Total Time": 0.102, + "Actual Rows": 0, + "Actual Loops": 6329 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.086, + "Actual Total Time": 0.091, + "Actual Rows": 0, + "Actual Loops": 7101 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.097, + "Actual Total Time": 0.103, + "Actual Rows": 0, + "Actual Loops": 6095 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.099, + "Actual Total Time": 0.104, + "Actual Rows": 0, + "Actual Loops": 6222 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.100, + "Actual Total Time": 0.106, + "Actual Rows": 0, + "Actual Loops": 6237 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.090, + "Actual Total Time": 0.096, + "Actual Rows": 0, + "Actual Loops": 6717 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.094, + "Actual Total Time": 0.099, + "Actual Rows": 0, + "Actual Loops": 6573 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.102, + "Actual Total Time": 0.103, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.109, + "Actual Total Time": 0.110, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 56, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.081, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.057, + "Actual Rows": 6, + "Actual Loops": 7964, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.056, + "Actual Rows": 6, + "Actual Loops": 1023 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.060, + "Actual Rows": 6, + "Actual Loops": 1012 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.057, + "Actual Rows": 6, + "Actual Loops": 1018 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.062, + "Actual Rows": 5, + "Actual Loops": 915 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.057, + "Actual Rows": 6, + "Actual Loops": 1019 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.058, + "Actual Rows": 6, + "Actual Loops": 979 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.051, + "Actual Rows": 5, + "Actual Loops": 1043 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 45006, + "Output": ["ct.id", "ct.kind"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 5887 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 5742 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 5870 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 4854 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 5666 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 5669 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 5665 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 15537, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 2028 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1963 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 2047 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1634 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 2021 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1883 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 2040 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6417179009749033666, + "Planning Time": 26.841, + "Triggers": [ + ], + "Execution Time": 1188.671, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 6417179009749033666, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi.info) AS release_date,
       MIN(miidx.info) AS rating,
       MIN(t.title) AS german_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it,
     info_type AS it2,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS miidx,
     title AS t
WHERE cn.country_code ='[de]'
  AND ct.kind ='production companies'
  AND it.info ='rating'
  AND it2.info ='release dates'
  AND kt.kind ='movie'
  AND mi.movie_id = t.id
  AND it2.id = mi.info_type_id
  AND kt.id = t.kind_id
  AND mc.movie_id = t.id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND miidx.movie_id = t.id
  AND it.id = miidx.info_type_id
  AND mi.movie_id = miidx.movie_id
  AND mi.movie_id = mc.movie_id
  AND miidx.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10082.66, + "Total Cost": 10082.67, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 741.739, + "Actual Total Time": 753.214, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(miidx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10082.59, + "Total Cost": 10082.60, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 730.194, + "Actual Total Time": 753.169, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(miidx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10081.59, + "Total Cost": 10081.60, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 722.471, + "Actual Total Time": 722.481, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(miidx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 715.997, + "Actual Total Time": 716.005, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 721.568, + "Actual Total Time": 721.576, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 723.088, + "Actual Total Time": 723.099, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 722.177, + "Actual Total Time": 722.183, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 723.120, + "Actual Total Time": 723.129, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 722.516, + "Actual Total Time": 722.524, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 722.109, + "Actual Total Time": 722.115, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.52, + "Total Cost": 10081.58, + "Plan Rows": 2, + "Plan Width": 65, + "Actual Startup Time": 6.619, + "Actual Total Time": 709.467, + "Actual Rows": 13888, + "Actual Loops": 8, + "Output": ["mi.info", "miidx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.289, + "Actual Total Time": 703.234, + "Actual Rows": 13450, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.752, + "Actual Total Time": 706.956, + "Actual Rows": 15661, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.149, + "Actual Total Time": 711.436, + "Actual Rows": 12217, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.858, + "Actual Total Time": 709.418, + "Actual Rows": 14162, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.133, + "Actual Total Time": 710.318, + "Actual Rows": 14214, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.926, + "Actual Total Time": 708.510, + "Actual Rows": 14589, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.150, + "Actual Total Time": 710.857, + "Actual Rows": 12384, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.67, + "Total Cost": 10079.20, + "Plan Rows": 196, + "Plan Width": 69, + "Actual Startup Time": 6.296, + "Actual Total Time": 682.568, + "Actual Rows": 64541, + "Actual Loops": 8, + "Output": ["mi.info", "mi.info_type_id", "miidx.info", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.976, + "Actual Total Time": 676.097, + "Actual Rows": 64439, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.393, + "Actual Total Time": 678.019, + "Actual Rows": 68267, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.782, + "Actual Total Time": 685.549, + "Actual Rows": 60379, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.580, + "Actual Total Time": 682.403, + "Actual Rows": 65539, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.877, + "Actual Total Time": 683.249, + "Actual Rows": 67640, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.675, + "Actual Total Time": 681.327, + "Actual Rows": 65676, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.894, + "Actual Total Time": 686.086, + "Actual Rows": 58794, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.24, + "Total Cost": 10068.00, + "Plan Rows": 10, + "Plan Width": 35, + "Actual Startup Time": 6.060, + "Actual Total Time": 408.516, + "Actual Rows": 2059, + "Actual Loops": 8, + "Output": ["mc.movie_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.760, + "Actual Total Time": 388.422, + "Actual Rows": 1972, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.330, + "Actual Total Time": 408.833, + "Actual Rows": 2241, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.533, + "Actual Total Time": 394.942, + "Actual Rows": 2013, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.980, + "Actual Total Time": 418.671, + "Actual Rows": 2055, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.646, + "Actual Total Time": 422.110, + "Actual Rows": 2085, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.447, + "Actual Total Time": 408.539, + "Actual Rows": 2224, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.817, + "Actual Total Time": 429.690, + "Actual Rows": 1866, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.17, + "Total Cost": 10066.64, + "Plan Rows": 71, + "Plan Width": 39, + "Actual Startup Time": 4.438, + "Actual Total Time": 405.257, + "Actual Rows": 3939, + "Actual Loops": 8, + "Output": ["mc.movie_id", "miidx.info", "miidx.movie_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.745, + "Actual Total Time": 385.463, + "Actual Rows": 3620, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.311, + "Actual Total Time": 405.049, + "Actual Rows": 4131, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.512, + "Actual Total Time": 391.900, + "Actual Rows": 3408, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.964, + "Actual Total Time": 415.414, + "Actual Rows": 4475, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.633, + "Actual Total Time": 418.641, + "Actual Rows": 4176, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.275, + "Actual Total Time": 405.058, + "Actual Rows": 4081, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.389, + "Actual Total Time": 426.664, + "Actual Rows": 4277, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.74, + "Total Cost": 10033.58, + "Plan Rows": 71, + "Plan Width": 14, + "Actual Startup Time": 4.251, + "Actual Total Time": 313.336, + "Actual Rows": 3939, + "Actual Loops": 8, + "Output": ["mc.movie_id", "miidx.info", "miidx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(miidx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.656, + "Actual Total Time": 294.987, + "Actual Rows": 3620, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.239, + "Actual Total Time": 309.242, + "Actual Rows": 4131, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.132, + "Actual Total Time": 310.842, + "Actual Rows": 3408, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.783, + "Actual Total Time": 303.206, + "Actual Rows": 4475, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.540, + "Actual Total Time": 321.208, + "Actual Rows": 4176, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.936, + "Actual Total Time": 316.505, + "Actual Rows": 4081, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.108, + "Actual Total Time": 331.011, + "Actual Rows": 4277, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.90, + "Total Cost": 10009.86, + "Plan Rows": 8033, + "Plan Width": 18, + "Actual Startup Time": 4.227, + "Actual Total Time": 306.845, + "Actual Rows": 11821, + "Actual Loops": 8, + "Output": ["mc.movie_id", "miidx.info", "miidx.movie_id", "miidx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.644, + "Actual Total Time": 288.933, + "Actual Rows": 10867, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.228, + "Actual Total Time": 301.968, + "Actual Rows": 12397, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.116, + "Actual Total Time": 305.027, + "Actual Rows": 10227, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.768, + "Actual Total Time": 296.072, + "Actual Rows": 13432, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.518, + "Actual Total Time": 314.715, + "Actual Rows": 12531, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.920, + "Actual Total Time": 309.567, + "Actual Rows": 12247, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.096, + "Actual Total Time": 324.324, + "Actual Rows": 12837, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 8248.21, + "Plan Rows": 3419, + "Plan Width": 4, + "Actual Startup Time": 0.459, + "Actual Total Time": 127.784, + "Actual Rows": 8912, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.502, + "Actual Total Time": 126.642, + "Actual Rows": 8822, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.233, + "Actual Total Time": 113.460, + "Actual Rows": 9314, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.254, + "Actual Total Time": 137.289, + "Actual Rows": 8421, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.299, + "Actual Total Time": 103.033, + "Actual Rows": 9381, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.567, + "Actual Total Time": 126.754, + "Actual Rows": 9327, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.196, + "Actual Total Time": 125.458, + "Actual Rows": 9646, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.147, + "Actual Total Time": 133.420, + "Actual Rows": 9195, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 8173.23, + "Plan Rows": 13676, + "Plan Width": 8, + "Actual Startup Time": 0.173, + "Actual Total Time": 116.153, + "Actual Rows": 18516, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.126, + "Actual Total Time": 114.783, + "Actual Rows": 20344, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.188, + "Actual Total Time": 102.758, + "Actual Rows": 16510, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.165, + "Actual Total Time": 125.430, + "Actual Rows": 18666, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.123, + "Actual Total Time": 92.747, + "Actual Rows": 15260, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.120, + "Actual Total Time": 113.978, + "Actual Rows": 17902, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.160, + "Actual Total Time": 113.863, + "Actual Rows": 18820, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.113, + "Actual Total Time": 121.068, + "Actual Rows": 20827, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 1232, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 15.116, + "Actual Rows": 1222, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[de]'::text)", + "Rows Removed by Filter": 28153, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 14.402, + "Actual Rows": 1234, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.080, + "Actual Total Time": 13.911, + "Actual Rows": 1216, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 16.136, + "Actual Rows": 1318, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 12.235, + "Actual Rows": 918, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 13.682, + "Actual Rows": 988, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 16.546, + "Actual Rows": 1375, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 13.986, + "Actual Rows": 1168, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 3.40, + "Plan Rows": 51, + "Plan Width": 12, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.075, + "Actual Rows": 15, + "Actual Loops": 9775, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.073, + "Actual Rows": 16, + "Actual Loops": 1234 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.066, + "Actual Rows": 14, + "Actual Loops": 1216 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.075, + "Actual Rows": 14, + "Actual Loops": 1318 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.079, + "Actual Rows": 17, + "Actual Loops": 918 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.092, + "Actual Rows": 18, + "Actual Loops": 988 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.064, + "Actual Rows": 14, + "Actual Loops": 1375 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.084, + "Actual Rows": 18, + "Actual Loops": 1168 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "miidx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 71294, + "Output": ["miidx.id", "miidx.movie_id", "miidx.info_type_id", "miidx.info", "miidx.note"], + "Index Cond": "(miidx.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 8822 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 9314 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 8421 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 9381 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 9327 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 9646 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 9195 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 31510, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 3620 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 4131 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 3408 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 4475 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 4176 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 4081 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 4277 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.238, + "Actual Total Time": 0.242, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.90, + "Plan Rows": 22, + "Plan Width": 50, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.120, + "Actual Rows": 31, + "Actual Loops": 16470, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.095, + "Actual Total Time": 0.132, + "Actual Rows": 33, + "Actual Loops": 1972 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.108, + "Actual Rows": 30, + "Actual Loops": 2241 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.090, + "Actual Total Time": 0.131, + "Actual Rows": 30, + "Actual Loops": 2013 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.084, + "Actual Total Time": 0.115, + "Actual Rows": 32, + "Actual Loops": 2055 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.111, + "Actual Rows": 32, + "Actual Loops": 2085 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.111, + "Actual Rows": 30, + "Actual Loops": 2224 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.091, + "Actual Total Time": 0.124, + "Actual Rows": 32, + "Actual Loops": 1866 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1829334865866162189, + "Planning Time": 38.160, + "Triggers": [ + ], + "Execution Time": 753.629, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -1829334865866162189, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(miidx.info) AS rating,
       MIN(t.title) AS movie_about_winning
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it,
     info_type AS it2,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS miidx,
     title AS t
WHERE cn.country_code ='[us]'
  AND ct.kind ='production companies'
  AND it.info ='rating'
  AND it2.info ='release dates'
  AND kt.kind ='movie'
  AND t.title != ''
  AND (t.title LIKE '%Champion%'
       OR t.title LIKE '%Loser%')
  AND mi.movie_id = t.id
  AND it2.id = mi.info_type_id
  AND kt.id = t.kind_id
  AND mc.movie_id = t.id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND miidx.movie_id = t.id
  AND it.id = miidx.info_type_id
  AND mi.movie_id = miidx.movie_id
  AND mi.movie_id = mc.movie_id
  AND miidx.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10882.58, + "Total Cost": 10882.59, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 924.226, + "Actual Total Time": 941.841, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(miidx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10882.51, + "Total Cost": 10882.52, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 923.855, + "Actual Total Time": 941.799, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(miidx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10881.51, + "Total Cost": 10881.52, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 914.848, + "Actual Total Time": 914.856, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(miidx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 912.388, + "Actual Total Time": 912.396, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 913.677, + "Actual Total Time": 913.684, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 914.379, + "Actual Total Time": 914.386, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 913.226, + "Actual Total Time": 913.234, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 914.986, + "Actual Total Time": 914.995, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 913.216, + "Actual Total Time": 913.224, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 914.479, + "Actual Total Time": 914.486, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.98, + "Total Cost": 10881.50, + "Plan Rows": 1, + "Plan Width": 42, + "Actual Startup Time": 479.308, + "Actual Total Time": 914.778, + "Actual Rows": 46, + "Actual Loops": 8, + "Output": ["cn.name", "miidx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 457.897, + "Actual Total Time": 912.334, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 473.771, + "Actual Total Time": 913.616, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 466.697, + "Actual Total Time": 914.362, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 569.389, + "Actual Total Time": 913.205, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 471.533, + "Actual Total Time": 914.944, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 481.647, + "Actual Total Time": 913.184, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 487.485, + "Actual Total Time": 914.258, + "Actual Rows": 201, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.84, + "Total Cost": 10881.32, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 479.209, + "Actual Total Time": 913.399, + "Actual Rows": 265, + "Actual Loops": 8, + "Output": ["cn.name", "mi.info_type_id", "miidx.info", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 457.833, + "Actual Total Time": 911.546, + "Actual Rows": 149, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 473.600, + "Actual Total Time": 912.610, + "Actual Rows": 190, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 466.526, + "Actual Total Time": 914.111, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 569.264, + "Actual Total Time": 912.800, + "Actual Rows": 73, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 471.495, + "Actual Total Time": 914.058, + "Actual Rows": 171, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 481.547, + "Actual Total Time": 912.513, + "Actual Rows": 123, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 487.429, + "Actual Total Time": 908.642, + "Actual Rows": 1109, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.41, + "Total Cost": 10880.14, + "Plan Rows": 1, + "Plan Width": 54, + "Actual Startup Time": 479.027, + "Actual Total Time": 911.897, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 457.617, + "Actual Total Time": 910.635, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 473.276, + "Actual Total Time": 911.757, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 466.279, + "Actual Total Time": 909.710, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 569.047, + "Actual Total Time": 912.275, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 471.449, + "Actual Total Time": 913.680, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 481.497, + "Actual Total Time": 911.791, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 487.121, + "Actual Total Time": 906.271, + "Actual Rows": 15, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.99, + "Total Cost": 10879.70, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 473.717, + "Actual Total Time": 911.534, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 457.554, + "Actual Total Time": 910.125, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 473.156, + "Actual Total Time": 911.479, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 426.640, + "Actual Total Time": 909.504, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 568.981, + "Actual Total Time": 912.043, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 471.353, + "Actual Total Time": 913.507, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 481.403, + "Actual Total Time": 911.550, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 487.057, + "Actual Total Time": 905.603, + "Actual Rows": 29, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 10879.52, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 33.953, + "Actual Total Time": 911.339, + "Actual Rows": 42, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_id", "miidx.info", "miidx.movie_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.216, + "Actual Total Time": 909.915, + "Actual Rows": 51, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 141.690, + "Actual Total Time": 911.315, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 59.550, + "Actual Total Time": 909.325, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.788, + "Actual Total Time": 911.845, + "Actual Rows": 50, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.406, + "Actual Total Time": 913.341, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 36.059, + "Actual Total Time": 911.395, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.961, + "Actual Total Time": 905.342, + "Actual Rows": 61, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 10879.35, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 33.855, + "Actual Total Time": 911.045, + "Actual Rows": 102, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.040, + "Actual Total Time": 909.557, + "Actual Rows": 116, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 141.589, + "Actual Total Time": 911.102, + "Actual Rows": 53, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 59.474, + "Actual Total Time": 909.077, + "Actual Rows": 69, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.709, + "Actual Total Time": 911.522, + "Actual Rows": 118, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.223, + "Actual Total Time": 913.110, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 36.010, + "Actual Total Time": 911.196, + "Actual Rows": 55, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.903, + "Actual Total Time": 904.951, + "Actual Rows": 187, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10878.78, + "Plan Rows": 1, + "Plan Width": 35, + "Actual Startup Time": 30.368, + "Actual Total Time": 907.905, + "Actual Rows": 44, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.276, + "Actual Total Time": 905.819, + "Actual Rows": 43, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 117.779, + "Actual Total Time": 908.168, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 59.031, + "Actual Total Time": 906.929, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.436, + "Actual Total Time": 908.860, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.034, + "Actual Total Time": 910.439, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 35.740, + "Actual Total Time": 909.180, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.806, + "Actual Total Time": 902.049, + "Actual Rows": 70, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1527, + "Plan Width": 10, + "Actual Startup Time": 0.197, + "Actual Total Time": 140.854, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(miidx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.094, + "Actual Total Time": 143.643, + "Actual Rows": 57451, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.119, + "Actual Total Time": 131.121, + "Actual Rows": 52071, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.117, + "Actual Total Time": 145.642, + "Actual Rows": 57528, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.101, + "Actual Total Time": 140.744, + "Actual Rows": 57053, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.132, + "Actual Total Time": 140.097, + "Actual Rows": 56928, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.134, + "Actual Total Time": 144.239, + "Actual Rows": 58321, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.141, + "Actual Total Time": 138.839, + "Actual Rows": 58952, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "miidx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 14, + "Actual Startup Time": 0.017, + "Actual Total Time": 41.050, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["miidx.id", "miidx.movie_id", "miidx.info_type_id", "miidx.info", "miidx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 44.697, + "Actual Rows": 172453, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 39.111, + "Actual Rows": 156215, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 38.650, + "Actual Rows": 172719, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 42.466, + "Actual Rows": 171146, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 41.240, + "Actual Rows": 170805, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 41.605, + "Actual Rows": 174965, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 39.403, + "Actual Rows": 176859, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.075, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 459925, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.title <> ''::text) AND ((t.title ~~ '%Champion%'::text) OR (t.title ~~ '%Loser%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 57451 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 52071 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 57528 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 57053 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 56928 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 58321 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 58952 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.068, + "Actual Rows": 2, + "Actual Loops": 352, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.083, + "Actual Rows": 3, + "Actual Loops": 43 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.105, + "Actual Total Time": 0.109, + "Actual Rows": 2, + "Actual Loops": 26 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.054, + "Actual Rows": 2, + "Actual Loops": 37 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.052, + "Actual Rows": 2, + "Actual Loops": 48 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.077, + "Actual Rows": 2, + "Actual Loops": 33 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.071, + "Actual Rows": 2, + "Actual Loops": 27 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.038, + "Actual Rows": 3, + "Actual Loops": 70 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 818, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 161, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 116, + "Cache Hits": 114, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 53, + "Cache Hits": 51, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 69, + "Cache Hits": 67, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 118, + "Cache Hits": 116, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 57, + "Cache Hits": 55, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 55, + "Cache Hits": 53, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 187, + "Cache Hits": 185, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 16, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 340, + "Output": ["kt.id"], + "Cache Key": "t.kind_id", + "Cache Mode": "logical", + "Cache Hits": 62, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 51, + "Cache Hits": 45, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 25, + "Cache Hits": 19, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 32, + "Cache Hits": 26, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 50, + "Cache Hits": 44, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 29, + "Cache Hits": 23, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 24, + "Cache Hits": 18, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 61, + "Cache Hits": 55, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 48, + "Output": ["kt.id"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 6 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 117, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 25 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 9 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 8 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 29 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.90, + "Plan Rows": 22, + "Plan Width": 8, + "Actual Startup Time": 0.132, + "Actual Total Time": 0.177, + "Actual Rows": 35, + "Actual Loops": 61, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.058, + "Actual Rows": 11, + "Actual Loops": 14 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.149, + "Actual Total Time": 0.186, + "Actual Rows": 48, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.763, + "Actual Total Time": 2.184, + "Actual Rows": 18, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.106, + "Actual Total Time": 0.119, + "Actual Rows": 18, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.070, + "Actual Rows": 43, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.130, + "Actual Rows": 25, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.121, + "Actual Rows": 74, + "Actual Loops": 15 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 2122, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 149 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 190 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 37 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 73 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 171 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 123 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1109 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4778871310081631647, + "Planning Time": 38.040, + "Triggers": [ + ], + "Execution Time": 942.430, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 4778871310081631647, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(miidx.info) AS rating,
       MIN(t.title) AS movie_about_winning
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it,
     info_type AS it2,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS miidx,
     title AS t
WHERE cn.country_code ='[us]'
  AND ct.kind ='production companies'
  AND it.info ='rating'
  AND it2.info ='release dates'
  AND kt.kind ='movie'
  AND t.title != ''
  AND (t.title LIKE 'Champion%'
       OR t.title LIKE 'Loser%')
  AND mi.movie_id = t.id
  AND it2.id = mi.info_type_id
  AND kt.id = t.kind_id
  AND mc.movie_id = t.id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND miidx.movie_id = t.id
  AND it.id = miidx.info_type_id
  AND mi.movie_id = miidx.movie_id
  AND mi.movie_id = mc.movie_id
  AND miidx.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10882.58, + "Total Cost": 10882.59, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 805.307, + "Actual Total Time": 829.749, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(miidx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10882.51, + "Total Cost": 10882.52, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 801.171, + "Actual Total Time": 829.723, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(miidx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10881.51, + "Total Cost": 10881.52, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 794.136, + "Actual Total Time": 794.146, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(miidx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 792.929, + "Actual Total Time": 792.937, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 795.327, + "Actual Total Time": 795.340, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 792.802, + "Actual Total Time": 792.809, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 793.286, + "Actual Total Time": 793.295, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 792.341, + "Actual Total Time": 792.349, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 793.176, + "Actual Total Time": 793.183, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 793.318, + "Actual Total Time": 793.326, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.98, + "Total Cost": 10881.50, + "Plan Rows": 1, + "Plan Width": 42, + "Actual Startup Time": 743.147, + "Actual Total Time": 794.129, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["cn.name", "miidx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 792.924, + "Actual Total Time": 792.932, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 795.319, + "Actual Total Time": 795.330, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 792.797, + "Actual Total Time": 792.804, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 793.281, + "Actual Total Time": 793.289, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 792.336, + "Actual Total Time": 792.343, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 793.171, + "Actual Total Time": 793.178, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 793.312, + "Actual Total Time": 793.320, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.84, + "Total Cost": 10881.32, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 743.141, + "Actual Total Time": 793.990, + "Actual Rows": 27, + "Actual Loops": 8, + "Output": ["cn.name", "mi.info_type_id", "miidx.info", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 792.924, + "Actual Total Time": 792.931, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 795.318, + "Actual Total Time": 795.328, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 792.797, + "Actual Total Time": 792.803, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 793.280, + "Actual Total Time": 793.288, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 792.335, + "Actual Total Time": 792.341, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 793.171, + "Actual Total Time": 793.177, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 793.311, + "Actual Total Time": 793.318, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.41, + "Total Cost": 10880.14, + "Plan Rows": 1, + "Plan Width": 54, + "Actual Startup Time": 743.136, + "Actual Total Time": 793.927, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 792.923, + "Actual Total Time": 792.929, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 795.317, + "Actual Total Time": 795.326, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 792.796, + "Actual Total Time": 792.802, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 793.279, + "Actual Total Time": 793.286, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 792.335, + "Actual Total Time": 792.341, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 793.171, + "Actual Total Time": 793.176, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 793.311, + "Actual Total Time": 793.317, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.99, + "Total Cost": 10879.70, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 743.130, + "Actual Total Time": 793.848, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 792.922, + "Actual Total Time": 792.927, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 795.316, + "Actual Total Time": 795.325, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 792.796, + "Actual Total Time": 792.801, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 793.279, + "Actual Total Time": 793.285, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 792.334, + "Actual Total Time": 792.339, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 793.170, + "Actual Total Time": 793.175, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 793.310, + "Actual Total Time": 793.315, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 10879.52, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 295.209, + "Actual Total Time": 793.801, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_id", "miidx.info", "miidx.movie_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 792.921, + "Actual Total Time": 792.925, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.396, + "Actual Total Time": 795.261, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.387, + "Actual Total Time": 792.756, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.872, + "Actual Total Time": 793.235, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 274.639, + "Actual Total Time": 792.301, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 793.170, + "Actual Total Time": 793.173, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 307.143, + "Actual Total Time": 793.265, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 10879.35, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 269.921, + "Actual Total Time": 793.727, + "Actual Rows": 20, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 792.920, + "Actual Total Time": 792.923, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.343, + "Actual Total Time": 795.163, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.312, + "Actual Total Time": 792.691, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.818, + "Actual Total Time": 793.163, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 274.575, + "Actual Total Time": 792.244, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 793.169, + "Actual Total Time": 793.171, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 105.135, + "Actual Total Time": 793.196, + "Actual Rows": 5, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10878.78, + "Plan Rows": 1, + "Plan Width": 35, + "Actual Startup Time": 199.968, + "Actual Total Time": 793.545, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 233.673, + "Actual Total Time": 792.872, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.271, + "Actual Total Time": 795.044, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.236, + "Actual Total Time": 792.551, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.757, + "Actual Total Time": 792.995, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 274.513, + "Actual Total Time": 792.167, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 793.168, + "Actual Total Time": 793.170, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 105.065, + "Actual Total Time": 793.053, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1527, + "Plan Width": 10, + "Actual Startup Time": 0.159, + "Actual Total Time": 145.201, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(miidx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.082, + "Actual Total Time": 137.538, + "Actual Rows": 58481, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.085, + "Actual Total Time": 142.730, + "Actual Rows": 57050, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.111, + "Actual Total Time": 147.146, + "Actual Rows": 56357, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.121, + "Actual Total Time": 148.862, + "Actual Rows": 61749, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.081, + "Actual Total Time": 135.950, + "Actual Rows": 53689, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.112, + "Actual Total Time": 141.896, + "Actual Rows": 53973, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.136, + "Actual Total Time": 145.014, + "Actual Rows": 61634, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "miidx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 14, + "Actual Startup Time": 0.018, + "Actual Total Time": 41.090, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["miidx.id", "miidx.movie_id", "miidx.info_type_id", "miidx.info", "miidx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 38.367, + "Actual Rows": 175474, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 37.740, + "Actual Rows": 171137, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 38.307, + "Actual Rows": 169244, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 45.557, + "Actual Rows": 185243, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 38.284, + "Actual Rows": 161154, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 47.298, + "Actual Rows": 161919, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 42.153, + "Actual Rows": 184886, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.064, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 459925, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.title <> ''::text) AND ((t.title ~~ 'Champion%'::text) OR (t.title ~~ 'Loser%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 58481 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 57050 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 56357 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 61749 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 53689 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 53973 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 61634 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.019, + "Actual Rows": 2, + "Actual Loops": 66, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.052, + "Actual Rows": 2, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.037, + "Actual Rows": 2, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.068, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 159, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 131, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 4, + "Cache Hits": 2, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 3, + "Cache Hits": 1, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 9, + "Cache Hits": 7, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 5, + "Cache Hits": 3, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 5, + "Cache Hits": 3, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 12, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 65, + "Output": ["kt.id"], + "Cache Key": "t.kind_id", + "Cache Mode": "logical", + "Cache Hits": 46, + "Cache Misses": 5, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 3, + "Cache Hits": 1, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 6, + "Cache Hits": 5, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 11, + "Output": ["kt.id"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 32, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.90, + "Plan Rows": 22, + "Plan Width": 8, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.027, + "Actual Rows": 16, + "Actual Loops": 14, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 218, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4778871310081631647, + "Planning Time": 38.451, + "Triggers": [ + ], + "Execution Time": 830.325, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 4778871310081631647, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(miidx.info) AS rating,
       MIN(t.title) AS movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it,
     info_type AS it2,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS miidx,
     title AS t
WHERE cn.country_code ='[us]'
  AND ct.kind ='production companies'
  AND it.info ='rating'
  AND it2.info ='release dates'
  AND kt.kind ='movie'
  AND mi.movie_id = t.id
  AND it2.id = mi.info_type_id
  AND kt.id = t.kind_id
  AND mc.movie_id = t.id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND miidx.movie_id = t.id
  AND it.id = miidx.info_type_id
  AND mi.movie_id = miidx.movie_id
  AND mi.movie_id = mc.movie_id
  AND miidx.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11177.86, + "Total Cost": 11177.87, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 7490.568, + "Actual Total Time": 7513.783, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(miidx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11177.79, + "Total Cost": 11177.80, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 7482.213, + "Actual Total Time": 7513.744, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(miidx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11176.79, + "Total Cost": 11176.80, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 7475.815, + "Actual Total Time": 7475.824, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(miidx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7472.611, + "Actual Total Time": 7472.618, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7472.788, + "Actual Total Time": 7472.794, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7474.674, + "Actual Total Time": 7474.680, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7482.127, + "Actual Total Time": 7482.136, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7473.226, + "Actual Total Time": 7473.233, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7468.932, + "Actual Total Time": 7468.939, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7480.892, + "Actual Total Time": 7480.902, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.51, + "Total Cost": 11176.68, + "Plan Rows": 15, + "Plan Width": 42, + "Actual Startup Time": 333.293, + "Actual Total Time": 7386.280, + "Actual Rows": 83799, + "Actual Loops": 8, + "Output": ["cn.name", "miidx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 335.210, + "Actual Total Time": 7381.567, + "Actual Rows": 86913, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 328.244, + "Actual Total Time": 7392.754, + "Actual Rows": 78562, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 331.124, + "Actual Total Time": 7384.206, + "Actual Rows": 89133, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 334.960, + "Actual Total Time": 7386.478, + "Actual Rows": 85692, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 339.021, + "Actual Total Time": 7378.231, + "Actual Rows": 85112, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 330.520, + "Actual Total Time": 7382.527, + "Actual Rows": 79374, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 331.125, + "Actual Total Time": 7388.145, + "Actual Rows": 84938, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.09, + "Total Cost": 11158.57, + "Plan Rows": 41, + "Plan Width": 27, + "Actual Startup Time": 332.148, + "Actual Total Time": 4920.697, + "Actual Rows": 239937, + "Actual Loops": 8, + "Output": ["mc.company_id", "miidx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 333.497, + "Actual Total Time": 4914.043, + "Actual Rows": 243107, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 328.058, + "Actual Total Time": 4891.780, + "Actual Rows": 241378, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 331.090, + "Actual Total Time": 4935.686, + "Actual Rows": 241930, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 334.594, + "Actual Total Time": 4873.573, + "Actual Rows": 249638, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 334.531, + "Actual Total Time": 4921.223, + "Actual Rows": 233932, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 330.402, + "Actual Total Time": 4906.262, + "Actual Rows": 239656, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 328.907, + "Actual Total Time": 4967.801, + "Actual Rows": 231362, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.05, + "Total Cost": 11156.50, + "Plan Rows": 190, + "Plan Width": 31, + "Actual Startup Time": 331.837, + "Actual Total Time": 4492.813, + "Actual Rows": 1015448, + "Actual Loops": 8, + "Output": ["miidx.info", "mc.company_id", "mc.company_type_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 333.201, + "Actual Total Time": 4475.875, + "Actual Rows": 1034293, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 327.762, + "Actual Total Time": 4466.506, + "Actual Rows": 1037150, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 330.780, + "Actual Total Time": 4499.408, + "Actual Rows": 1053604, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 334.315, + "Actual Total Time": 4437.855, + "Actual Rows": 1048612, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 334.229, + "Actual Total Time": 4500.678, + "Actual Rows": 1011440, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 330.122, + "Actual Total Time": 4473.551, + "Actual Rows": 985170, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 328.625, + "Actual Total Time": 4560.513, + "Actual Rows": 972530, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.62, + "Total Cost": 11133.74, + "Plan Rows": 42, + "Plan Width": 35, + "Actual Startup Time": 331.744, + "Actual Total Time": 2409.445, + "Actual Rows": 90591, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 333.120, + "Actual Total Time": 2438.783, + "Actual Rows": 90772, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 327.685, + "Actual Total Time": 2357.870, + "Actual Rows": 89501, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 330.732, + "Actual Total Time": 2392.031, + "Actual Rows": 94002, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 334.114, + "Actual Total Time": 2322.370, + "Actual Rows": 89398, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 334.170, + "Actual Total Time": 2407.431, + "Actual Rows": 90516, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 330.038, + "Actual Total Time": 2424.377, + "Actual Rows": 88646, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 328.572, + "Actual Total Time": 2498.896, + "Actual Rows": 90521, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.77, + "Total Cost": 11118.85, + "Plan Rows": 4792, + "Plan Width": 39, + "Actual Startup Time": 331.711, + "Actual Total Time": 2190.083, + "Actual Rows": 564339, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 333.096, + "Actual Total Time": 2221.935, + "Actual Rows": 562731, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 327.662, + "Actual Total Time": 2143.698, + "Actual Rows": 560299, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 330.716, + "Actual Total Time": 2173.610, + "Actual Rows": 582729, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 334.069, + "Actual Total Time": 2108.512, + "Actual Rows": 548006, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 334.122, + "Actual Total Time": 2188.038, + "Actual Rows": 563313, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 330.018, + "Actual Total Time": 2204.663, + "Actual Rows": 563016, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 328.561, + "Actual Total Time": 2276.015, + "Actual Rows": 567542, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.34, + "Total Cost": 10874.83, + "Plan Rows": 218, + "Plan Width": 31, + "Actual Startup Time": 330.080, + "Actual Total Time": 836.147, + "Actual Rows": 26235, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 327.885, + "Actual Total Time": 827.574, + "Actual Rows": 25893, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 327.553, + "Actual Total Time": 820.127, + "Actual Rows": 25645, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 330.630, + "Actual Total Time": 837.422, + "Actual Rows": 26969, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 330.622, + "Actual Total Time": 815.097, + "Actual Rows": 25321, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 330.181, + "Actual Total Time": 841.427, + "Actual Rows": 26229, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 329.956, + "Actual Total Time": 841.590, + "Actual Rows": 26564, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 328.467, + "Actual Total Time": 860.626, + "Actual Rows": 26825, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10867.33, + "Plan Rows": 1527, + "Plan Width": 35, + "Actual Startup Time": 0.106, + "Actual Total Time": 800.746, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.103, + "Actual Total Time": 792.483, + "Actual Rows": 58791, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.092, + "Actual Total Time": 786.526, + "Actual Rows": 54388, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.111, + "Actual Total Time": 800.148, + "Actual Rows": 62498, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.100, + "Actual Total Time": 782.345, + "Actual Rows": 52006, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.118, + "Actual Total Time": 806.281, + "Actual Rows": 58260, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.100, + "Actual Total Time": 804.605, + "Actual Rows": 56881, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.097, + "Actual Total Time": 824.437, + "Actual Rows": 56060, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1527, + "Plan Width": 10, + "Actual Startup Time": 0.042, + "Actual Total Time": 153.121, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(miidx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 154.665, + "Actual Rows": 58791, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 145.919, + "Actual Rows": 54388, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 152.249, + "Actual Rows": 62498, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 151.954, + "Actual Rows": 52006, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 157.697, + "Actual Rows": 58260, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.042, + "Actual Total Time": 153.143, + "Actual Rows": 56881, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.039, + "Actual Total Time": 162.612, + "Actual Rows": 56060, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "miidx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 14, + "Actual Startup Time": 0.016, + "Actual Total Time": 48.316, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["miidx.id", "miidx.movie_id", "miidx.info_type_id", "miidx.info", "miidx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 54.549, + "Actual Rows": 176363, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 46.799, + "Actual Rows": 163147, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 47.648, + "Actual Rows": 187479, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 45.389, + "Actual Rows": 156007, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 47.058, + "Actual Rows": 174790, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 49.565, + "Actual Rows": 170912, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 49.287, + "Actual Rows": 168198, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 459925, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 58791 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 54388 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 62498 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 52006 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 58260 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 56881 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 56060 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.90, + "Plan Rows": 22, + "Plan Width": 8, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.043, + "Actual Rows": 22, + "Actual Loops": 209880, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.045, + "Actual Rows": 22, + "Actual Loops": 25893 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.043, + "Actual Rows": 22, + "Actual Loops": 25645 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.040, + "Actual Rows": 22, + "Actual Loops": 26969 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.042, + "Actual Rows": 22, + "Actual Loops": 25321 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.042, + "Actual Rows": 21, + "Actual Loops": 26229 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.042, + "Actual Rows": 21, + "Actual Loops": 26564 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.044, + "Actual Rows": 21, + "Actual Loops": 26825 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.018, + "Actual Rows": 11, + "Actual Loops": 724731, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.018, + "Actual Rows": 11, + "Actual Loops": 90772 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.019, + "Actual Rows": 12, + "Actual Loops": 89501 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.018, + "Actual Rows": 11, + "Actual Loops": 94002 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.019, + "Actual Rows": 12, + "Actual Loops": 89398 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.018, + "Actual Rows": 11, + "Actual Loops": 90516 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.018, + "Actual Rows": 11, + "Actual Loops": 88646 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.018, + "Actual Rows": 11, + "Actual Loops": 90521 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1919495, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 243107 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 241378 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 241930 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 249638 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 233932 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 239656 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 231362 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2434959201386717317, + "Planning Time": 44.949, + "Triggers": [ + ], + "Execution Time": 7514.234, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 2434959201386717317, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS northern_dark_movie
FROM info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind = 'movie'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2010
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1403.15, + "Total Cost": 1403.16, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 383.260, + "Actual Total Time": 403.806, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1403.11, + "Total Cost": 1403.12, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 268.312, + "Actual Total Time": 403.785, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1402.11, + "Total Cost": 1402.12, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 123.180, + "Actual Total Time": 123.186, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.263, + "Actual Total Time": 16.268, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 260.825, + "Actual Total Time": 260.828, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 375.046, + "Actual Total Time": 375.051, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.219, + "Actual Total Time": 17.224, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.099, + "Actual Total Time": 16.105, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.726, + "Actual Total Time": 16.732, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.971, + "Actual Total Time": 15.977, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 1402.10, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 29.772, + "Actual Total Time": 123.065, + "Actual Rows": 95, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.259, + "Actual Total Time": 16.263, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 37.107, + "Actual Total Time": 260.506, + "Actual Rows": 235, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 73.463, + "Actual Total Time": 374.685, + "Actual Rows": 346, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.215, + "Actual Total Time": 17.219, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.094, + "Actual Total Time": 16.099, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.723, + "Actual Total Time": 16.728, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.967, + "Actual Total Time": 15.972, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.01, + "Total Cost": 1401.92, + "Plan Rows": 1, + "Plan Width": 27, + "Actual Startup Time": 29.519, + "Actual Total Time": 121.788, + "Actual Rows": 283, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.258, + "Actual Total Time": 16.262, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 37.071, + "Actual Total Time": 257.020, + "Actual Rows": 698, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 73.428, + "Actual Total Time": 370.545, + "Actual Rows": 1022, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.215, + "Actual Total Time": 17.218, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.093, + "Actual Total Time": 16.098, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.722, + "Actual Total Time": 16.727, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.967, + "Actual Total Time": 15.971, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.58, + "Total Cost": 1401.39, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 29.300, + "Actual Total Time": 111.235, + "Actual Rows": 160, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.258, + "Actual Total Time": 16.261, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 35.974, + "Actual Total Time": 228.217, + "Actual Rows": 366, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 73.243, + "Actual Total Time": 342.157, + "Actual Rows": 614, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.214, + "Actual Total Time": 17.217, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.093, + "Actual Total Time": 16.096, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.721, + "Actual Total Time": 16.726, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.966, + "Actual Total Time": 15.970, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.43, + "Total Cost": 1401.21, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 29.281, + "Actual Total Time": 110.831, + "Actual Rows": 181, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.257, + "Actual Total Time": 16.260, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 35.907, + "Actual Total Time": 227.154, + "Actual Rows": 414, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 73.190, + "Actual Total Time": 340.859, + "Actual Rows": 685, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.213, + "Actual Total Time": 17.215, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.092, + "Actual Total Time": 16.095, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.721, + "Actual Total Time": 16.724, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.966, + "Actual Total Time": 15.968, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.00, + "Total Cost": 1400.06, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 29.226, + "Actual Total Time": 94.240, + "Actual Rows": 246, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.256, + "Actual Total Time": 16.258, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 35.711, + "Actual Total Time": 182.272, + "Actual Rows": 573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 73.017, + "Actual Total Time": 287.364, + "Actual Rows": 903, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.212, + "Actual Total Time": 17.214, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.092, + "Actual Total Time": 16.094, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.720, + "Actual Total Time": 16.723, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.965, + "Actual Total Time": 15.967, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1399.58, + "Plan Rows": 3, + "Plan Width": 29, + "Actual Startup Time": 11.922, + "Actual Total Time": 92.867, + "Actual Rows": 323, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.256, + "Actual Total Time": 16.257, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.917, + "Actual Total Time": 178.916, + "Actual Rows": 710, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.518, + "Actual Total Time": 282.651, + "Actual Rows": 1236, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.211, + "Actual Total Time": 17.213, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.091, + "Actual Total Time": 16.093, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.720, + "Actual Total Time": 16.722, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.964, + "Actual Total Time": 15.966, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1390.83, + "Plan Rows": 19, + "Plan Width": 4, + "Actual Startup Time": 11.526, + "Actual Total Time": 44.365, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.255, + "Actual Total Time": 16.256, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.731, + "Actual Total Time": 80.755, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.971, + "Actual Total Time": 99.053, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.211, + "Actual Total Time": 17.212, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.090, + "Actual Total Time": 16.091, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.719, + "Actual Total Time": 16.721, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.964, + "Actual Total Time": 15.965, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 10.828, + "Actual Total Time": 10.834, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.254, + "Actual Total Time": 16.255, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.132, + "Actual Total Time": 0.141, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.487, + "Actual Total Time": 0.494, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.210, + "Actual Total Time": 17.210, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.090, + "Actual Total Time": 16.090, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.718, + "Actual Total Time": 16.719, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.963, + "Actual Total Time": 15.964, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.95, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 1.854, + "Actual Total Time": 86.088, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.593, + "Actual Total Time": 78.044, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.479, + "Actual Total Time": 93.894, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 2582, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 710 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 1236 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.067, + "Actual Rows": 1, + "Actual Loops": 1966, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 47, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.077, + "Actual Rows": 1, + "Actual Loops": 573 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 903 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1445, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 343, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 414, + "Cache Hits": 411, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 685, + "Cache Hits": 682, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 9, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.064, + "Actual Rows": 2, + "Actual Loops": 1281, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.077, + "Actual Rows": 2, + "Actual Loops": 366 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 2, + "Actual Loops": 614 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 2262, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 698 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1022 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 274192810335693858, + "Planning Time": 27.089, + "Triggers": [ + ], + "Execution Time": 404.250, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 274192810335693858, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_dark_production
FROM info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title')
  AND kt.kind = 'movie'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info > '6.0'
  AND t.production_year > 2010
  AND (t.title LIKE '%murder%'
       OR t.title LIKE '%Murder%'
       OR t.title LIKE '%Mord%')
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1351.94, + "Total Cost": 1351.95, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 230.790, + "Actual Total Time": 230.988, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1351.89, + "Total Cost": 1351.90, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 230.767, + "Actual Total Time": 230.975, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1350.89, + "Total Cost": 1350.90, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 35.574, + "Actual Total Time": 35.580, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.289, + "Actual Total Time": 8.294, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.896, + "Actual Total Time": 7.901, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.535, + "Actual Total Time": 8.540, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.335, + "Actual Total Time": 8.340, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.641, + "Actual Total Time": 7.646, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.245, + "Actual Total Time": 8.250, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.726, + "Actual Total Time": 7.733, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.14, + "Total Cost": 1350.89, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 26.341, + "Actual Total Time": 35.573, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.283, + "Actual Total Time": 8.287, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.892, + "Actual Total Time": 7.897, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.530, + "Actual Total Time": 8.535, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.330, + "Actual Total Time": 8.335, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.637, + "Actual Total Time": 7.642, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.241, + "Actual Total Time": 8.246, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.723, + "Actual Total Time": 7.730, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.01, + "Total Cost": 1350.71, + "Plan Rows": 1, + "Plan Width": 27, + "Actual Startup Time": 7.985, + "Actual Total Time": 35.568, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.282, + "Actual Total Time": 8.286, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.892, + "Actual Total Time": 7.895, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.529, + "Actual Total Time": 8.534, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.330, + "Actual Total Time": 8.334, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.637, + "Actual Total Time": 7.641, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.241, + "Actual Total Time": 8.245, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.722, + "Actual Total Time": 7.728, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.87, + "Total Cost": 1350.53, + "Plan Rows": 1, + "Plan Width": 31, + "Actual Startup Time": 7.981, + "Actual Total Time": 35.562, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.info_type_id", "t.title", "t.kind_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.282, + "Actual Total Time": 8.285, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.891, + "Actual Total Time": 7.894, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.529, + "Actual Total Time": 8.532, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.329, + "Actual Total Time": 8.333, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.636, + "Actual Total Time": 7.640, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.240, + "Actual Total Time": 8.243, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.721, + "Actual Total Time": 7.727, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.44, + "Total Cost": 1350.03, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 7.975, + "Actual Total Time": 35.014, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.282, + "Actual Total Time": 8.284, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.890, + "Actual Total Time": 7.892, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.528, + "Actual Total Time": 8.531, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.329, + "Actual Total Time": 8.332, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.636, + "Actual Total Time": 7.639, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.240, + "Actual Total Time": 8.242, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.720, + "Actual Total Time": 7.725, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1349.84, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 7.971, + "Actual Total Time": 35.002, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.281, + "Actual Total Time": 8.283, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.890, + "Actual Total Time": 7.892, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.528, + "Actual Total Time": 8.530, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.328, + "Actual Total Time": 8.331, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.635, + "Actual Total Time": 7.638, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.239, + "Actual Total Time": 8.241, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.720, + "Actual Total Time": 7.724, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1348.69, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 7.884, + "Actual Total Time": 34.734, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.281, + "Actual Total Time": 8.282, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.889, + "Actual Total Time": 7.891, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.527, + "Actual Total Time": 8.529, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.328, + "Actual Total Time": 8.330, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.635, + "Actual Total Time": 7.637, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.239, + "Actual Total Time": 8.240, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.719, + "Actual Total Time": 7.722, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.01, + "Plan Rows": 10, + "Plan Width": 4, + "Actual Startup Time": 7.565, + "Actual Total Time": 13.373, + "Actual Rows": 2441, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.280, + "Actual Total Time": 8.281, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.889, + "Actual Total Time": 7.889, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.526, + "Actual Total Time": 8.527, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.327, + "Actual Total Time": 8.328, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.634, + "Actual Total Time": 7.635, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.238, + "Actual Total Time": 8.239, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.718, + "Actual Total Time": 7.720, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 7.553, + "Actual Total Time": 7.555, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.280, + "Actual Total Time": 8.280, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.888, + "Actual Total Time": 7.888, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.525, + "Actual Total Time": 8.526, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.326, + "Actual Total Time": 8.326, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.633, + "Actual Total Time": 7.634, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.237, + "Actual Total Time": 8.238, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.718, + "Actual Total Time": 7.719, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.05, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.080, + "Actual Total Time": 42.136, + "Actual Rows": 19528, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 19528, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2010) AND ((t.title ~~ '%murder%'::text) OR (t.title ~~ '%Murder%'::text) OR (t.title ~~ '%Mord%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.136, + "Actual Total Time": 0.140, + "Actual Rows": 1, + "Actual Loops": 15, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 12, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.545, + "Actual Total Time": 0.545, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '6.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4506995590541967356, + "Planning Time": 23.218, + "Triggers": [ + ], + "Execution Time": 231.389, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -4506995590541967356, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS north_european_dark_production
FROM info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IS NOT NULL
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1405.10, + "Total Cost": 1405.11, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 601.755, + "Actual Total Time": 627.201, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1405.05, + "Total Cost": 1405.06, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 414.344, + "Actual Total Time": 627.175, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1404.05, + "Total Cost": 1404.06, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 192.443, + "Actual Total Time": 192.450, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 443.006, + "Actual Total Time": 443.010, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.850, + "Actual Total Time": 19.856, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.757, + "Actual Total Time": 19.765, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.649, + "Actual Total Time": 19.656, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 585.304, + "Actual Total Time": 585.309, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.069, + "Actual Total Time": 20.078, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.591, + "Actual Total Time": 21.599, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.08, + "Total Cost": 1404.05, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 13.676, + "Actual Total Time": 191.954, + "Actual Rows": 514, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.691, + "Actual Total Time": 441.640, + "Actual Rows": 1382, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.845, + "Actual Total Time": 19.851, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.753, + "Actual Total Time": 19.759, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.644, + "Actual Total Time": 19.650, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.187, + "Actual Total Time": 583.719, + "Actual Rows": 1772, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.062, + "Actual Total Time": 20.071, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.586, + "Actual Total Time": 21.593, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.94, + "Total Cost": 1403.87, + "Plan Rows": 1, + "Plan Width": 27, + "Actual Startup Time": 13.667, + "Actual Total Time": 188.906, + "Actual Rows": 589, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.660, + "Actual Total Time": 433.287, + "Actual Rows": 1574, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.844, + "Actual Total Time": 19.849, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.752, + "Actual Total Time": 19.758, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.644, + "Actual Total Time": 19.649, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.170, + "Actual Total Time": 573.738, + "Actual Rows": 2007, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.062, + "Actual Total Time": 20.069, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.585, + "Actual Total Time": 21.592, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.51, + "Total Cost": 1402.71, + "Plan Rows": 1, + "Plan Width": 35, + "Actual Startup Time": 13.354, + "Actual Total Time": 106.526, + "Actual Rows": 744, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.575, + "Actual Total Time": 201.742, + "Actual Rows": 1969, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.843, + "Actual Total Time": 19.847, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.751, + "Actual Total Time": 19.756, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.643, + "Actual Total Time": 19.648, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.091, + "Actual Total Time": 327.603, + "Actual Rows": 2608, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.061, + "Actual Total Time": 20.067, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.585, + "Actual Total Time": 21.590, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.35, + "Total Cost": 1401.73, + "Plan Rows": 6, + "Plan Width": 39, + "Actual Startup Time": 13.329, + "Actual Total Time": 103.874, + "Actual Rows": 2236, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.509, + "Actual Total Time": 194.543, + "Actual Rows": 5901, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.842, + "Actual Total Time": 19.846, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.751, + "Actual Total Time": 19.755, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.643, + "Actual Total Time": 19.646, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.018, + "Actual Total Time": 318.762, + "Actual Rows": 7869, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.061, + "Actual Total Time": 20.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.584, + "Actual Total Time": 21.588, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 1400.67, + "Plan Rows": 2, + "Plan Width": 25, + "Actual Startup Time": 13.305, + "Actual Total Time": 77.393, + "Actual Rows": 1009, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.450, + "Actual Total Time": 126.946, + "Actual Rows": 2502, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.841, + "Actual Total Time": 19.844, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.750, + "Actual Total Time": 19.753, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.642, + "Actual Total Time": 19.645, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.948, + "Actual Total Time": 247.488, + "Actual Rows": 3653, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.060, + "Actual Total Time": 20.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.583, + "Actual Total Time": 21.587, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1399.58, + "Plan Rows": 8, + "Plan Width": 29, + "Actual Startup Time": 13.108, + "Actual Total Time": 75.979, + "Actual Rows": 1217, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.251, + "Actual Total Time": 123.552, + "Actual Rows": 3009, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.770, + "Actual Total Time": 19.772, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.680, + "Actual Total Time": 19.682, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.568, + "Actual Total Time": 19.570, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.555, + "Actual Total Time": 243.178, + "Actual Rows": 4326, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.952, + "Actual Total Time": 19.953, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.510, + "Actual Total Time": 21.511, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1390.83, + "Plan Rows": 19, + "Plan Width": 4, + "Actual Startup Time": 13.084, + "Actual Total Time": 26.519, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.194, + "Actual Total Time": 27.781, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.769, + "Actual Total Time": 19.770, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.680, + "Actual Total Time": 19.681, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.568, + "Actual Total Time": 19.569, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.470, + "Actual Total Time": 49.990, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.951, + "Actual Total Time": 19.952, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.509, + "Actual Total Time": 21.510, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 13.044, + "Actual Total Time": 13.051, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "((k.keyword IS NOT NULL) AND (k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[])))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.091, + "Actual Total Time": 0.103, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.769, + "Actual Total Time": 19.769, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.679, + "Actual Total Time": 19.679, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.567, + "Actual Total Time": 19.567, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.342, + "Actual Total Time": 0.348, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.950, + "Actual Total Time": 19.950, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.508, + "Actual Total Time": 21.509, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.95, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.102, + "Actual Total Time": 32.409, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.099, + "Actual Total Time": 25.191, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.122, + "Actual Total Time": 44.308, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.030, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.025, + "Actual Rows": 2, + "Actual Loops": 8073, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.025, + "Actual Rows": 2, + "Actual Loops": 2502 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 2, + "Actual Loops": 3653 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 17891, + "Output": ["it2.id"], + "Cache Key": "mi_idx.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 4117, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5901, + "Cache Hits": 5896, + "Cache Misses": 5, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 7869, + "Cache Hits": 7865, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 13, + "Output": ["it2.id"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 5 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 4 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.110, + "Actual Rows": 1, + "Actual Loops": 5949, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 71, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.117, + "Actual Rows": 1, + "Actual Loops": 1969 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.093, + "Actual Rows": 1, + "Actual Loops": 2608 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 4709, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1574 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 2007 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 299267792258938541, + "Planning Time": 29.430, + "Triggers": [ + ], + "Execution Time": 627.816, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 299267792258938541, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi.info) AS release_date,
       MIN(t.title) AS internet_movie
FROM aka_title AS at,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND mc.note LIKE '%(200%)%'
  AND mc.note LIKE '%(worldwide)%'
  AND mi.note LIKE '%internet%'
  AND mi.info LIKE 'USA:% 200%'
  AND t.production_year > 2000
  AND t.id = at.movie_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = at.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = at.movie_id
  AND mc.movie_id = at.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24227.86, + "Total Cost": 24227.87, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 668.696, + "Actual Total Time": 698.676, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24227.81, + "Total Cost": 24227.82, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 664.949, + "Actual Total Time": 698.634, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24226.81, + "Total Cost": 24226.82, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 656.570, + "Actual Total Time": 656.577, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 654.553, + "Actual Total Time": 654.561, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 655.071, + "Actual Total Time": 655.080, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 656.081, + "Actual Total Time": 656.089, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 655.597, + "Actual Total Time": 655.605, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 656.131, + "Actual Total Time": 656.140, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 655.687, + "Actual Total Time": 655.694, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 655.661, + "Actual Total Time": 655.667, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 24226.80, + "Plan Rows": 2, + "Plan Width": 59, + "Actual Startup Time": 284.602, + "Actual Total Time": 656.502, + "Actual Rows": 41, + "Actual Loops": 8, + "Output": ["mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 654.548, + "Actual Total Time": 654.556, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 211.460, + "Actual Total Time": 655.028, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.178, + "Actual Total Time": 655.833, + "Actual Rows": 175, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 432.925, + "Actual Total Time": 655.578, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.496, + "Actual Total Time": 656.032, + "Actual Rows": 60, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 115.657, + "Actual Total Time": 655.662, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 178.786, + "Actual Total Time": 655.545, + "Actual Rows": 70, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.42, + "Total Cost": 24225.92, + "Plan Rows": 2, + "Plan Width": 63, + "Actual Startup Time": 284.367, + "Actual Total Time": 654.287, + "Actual Rows": 41, + "Actual Loops": 8, + "Output": ["mi.info", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 654.548, + "Actual Total Time": 654.554, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 211.398, + "Actual Total Time": 654.628, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.877, + "Actual Total Time": 646.678, + "Actual Rows": 175, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 432.836, + "Actual Total Time": 655.474, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.416, + "Actual Total Time": 651.714, + "Actual Rows": 60, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 115.555, + "Actual Total Time": 655.499, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 178.541, + "Actual Total Time": 651.975, + "Actual Rows": 70, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.99, + "Total Cost": 24224.64, + "Plan Rows": 1, + "Plan Width": 75, + "Actual Startup Time": 168.341, + "Actual Total Time": 652.801, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 228.324, + "Actual Total Time": 653.818, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 211.010, + "Actual Total Time": 652.784, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.279, + "Actual Total Time": 645.037, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 256.001, + "Actual Total Time": 654.959, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.399, + "Actual Total Time": 649.589, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 113.648, + "Actual Total Time": 653.116, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 178.112, + "Actual Total Time": 649.551, + "Actual Rows": 10, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.85, + "Total Cost": 24224.42, + "Plan Rows": 1, + "Plan Width": 79, + "Actual Startup Time": 168.294, + "Actual Total Time": 652.692, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 228.280, + "Actual Total Time": 653.739, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 210.967, + "Actual Total Time": 652.660, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.208, + "Actual Total Time": 644.903, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 255.956, + "Actual Total Time": 654.889, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.346, + "Actual Total Time": 649.423, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 113.598, + "Actual Total Time": 652.966, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 178.067, + "Actual Total Time": 649.416, + "Actual Rows": 10, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 24224.27, + "Plan Rows": 1, + "Plan Width": 83, + "Actual Startup Time": 168.225, + "Actual Total Time": 652.570, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 228.217, + "Actual Total Time": 653.648, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 210.895, + "Actual Total Time": 652.521, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.099, + "Actual Total Time": 644.742, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 255.889, + "Actual Total Time": 654.802, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.291, + "Actual Total Time": 649.268, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 113.517, + "Actual Total Time": 652.801, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 177.984, + "Actual Total Time": 649.268, + "Actual Rows": 10, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.28, + "Total Cost": 23954.10, + "Plan Rows": 249, + "Plan Width": 33, + "Actual Startup Time": 4.926, + "Actual Total Time": 586.512, + "Actual Rows": 642, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.251, + "Actual Total Time": 621.349, + "Actual Rows": 418, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.161, + "Actual Total Time": 575.857, + "Actual Rows": 734, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.408, + "Actual Total Time": 591.462, + "Actual Rows": 546, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.967, + "Actual Total Time": 596.614, + "Actual Rows": 804, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.177, + "Actual Total Time": 581.239, + "Actual Rows": 564, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.633, + "Actual Total Time": 618.649, + "Actual Rows": 430, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.886, + "Actual Total Time": 505.202, + "Actual Rows": 1025, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 23689.86, + "Plan Rows": 455, + "Plan Width": 12, + "Actual Startup Time": 4.451, + "Actual Total Time": 557.341, + "Actual Rows": 1712, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.188, + "Actual Total Time": 539.926, + "Actual Rows": 5974, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.076, + "Actual Total Time": 556.880, + "Actual Rows": 1009, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.340, + "Actual Total Time": 575.434, + "Actual Rows": 836, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.748, + "Actual Total Time": 573.206, + "Actual Rows": 1207, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.040, + "Actual Total Time": 555.484, + "Actual Rows": 771, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.537, + "Actual Total Time": 594.813, + "Actual Rows": 1451, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.817, + "Actual Total Time": 476.799, + "Actual Rows": 1703, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 23287.42, + "Plan Rows": 738, + "Plan Width": 8, + "Actual Startup Time": 0.561, + "Actual Total Time": 483.437, + "Actual Rows": 5480, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.273, + "Actual Total Time": 442.653, + "Actual Rows": 7877, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.652, + "Actual Total Time": 477.192, + "Actual Rows": 6219, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.214, + "Actual Total Time": 510.141, + "Actual Rows": 4734, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.131, + "Actual Total Time": 482.344, + "Actual Rows": 6377, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.654, + "Actual Total Time": 500.944, + "Actual Rows": 4766, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.483, + "Actual Total Time": 519.076, + "Actual Rows": 5228, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.567, + "Actual Total Time": 408.965, + "Actual Rows": 4780, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10610, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 18.519, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 18.161, + "Actual Rows": 10748, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 19.175, + "Actual Rows": 11338, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 19.917, + "Actual Rows": 10414, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 19.656, + "Actual Rows": 11611, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 20.732, + "Actual Rows": 10877, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 18.478, + "Actual Rows": 11020, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 16.064, + "Actual Rows": 9492, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.87, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(200%)%'::text) AND (mc.note ~~ '%(worldwide)%'::text))", + "Rows Removed by Filter": 13, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 10748 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 11338 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 10414 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 11611 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 10877 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 11020 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 9492 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_aka_title", + "Relation Name": "aka_title", + "Schema": "public", + "Alias": "at", + "Startup Cost": 0.42, + "Total Cost": 0.53, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 43837, + "Output": ["at.movie_id"], + "Index Cond": "(at.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 7877 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 6219 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 4734 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 6377 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 4766 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 5228 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 4780 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.58, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 13699, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = at.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 5974 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 1009 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 836 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 1207 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 771 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1451 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 1703 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.08, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.102, + "Actual Total Time": 0.102, + "Actual Rows": 0, + "Actual Loops": 5134, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.note ~~ '%internet%'::text) AND (mi.info ~~ 'USA:% 200%'::text))", + "Rows Removed by Filter": 72, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.076, + "Actual Rows": 0, + "Actual Loops": 418 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.103, + "Actual Total Time": 0.103, + "Actual Rows": 0, + "Actual Loops": 734 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.096, + "Actual Total Time": 0.096, + "Actual Rows": 0, + "Actual Loops": 546 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.071, + "Actual Rows": 0, + "Actual Loops": 804 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.119, + "Actual Total Time": 0.119, + "Actual Rows": 0, + "Actual Loops": 564 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.078, + "Actual Rows": 0, + "Actual Loops": 430 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.139, + "Actual Total Time": 0.140, + "Actual Rows": 0, + "Actual Loops": 1025 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 57, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 11 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 10 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 57, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 11 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 10 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.196, + "Actual Total Time": 0.202, + "Actual Rows": 6, + "Actual Loops": 57, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.182, + "Actual Total Time": 0.182, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.180, + "Actual Total Time": 0.182, + "Actual Rows": 2, + "Actual Loops": 10 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.221, + "Actual Total Time": 0.256, + "Actual Rows": 29, + "Actual Loops": 6 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.167, + "Actual Total Time": 0.168, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.160, + "Actual Total Time": 0.166, + "Actual Rows": 5, + "Actual Loops": 12 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.214, + "Actual Total Time": 0.214, + "Actual Rows": 0, + "Actual Loops": 11 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.230, + "Actual Total Time": 0.237, + "Actual Rows": 7, + "Actual Loops": 10 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 1, + "Actual Loops": 328, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 175 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.070, + "Actual Rows": 1, + "Actual Loops": 60 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 1, + "Actual Loops": 70 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -460740518707800565, + "Planning Time": 73.316, + "Triggers": [ + ], + "Execution Time": 699.131, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -460740518707800565, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi.info) AS release_date,
       MIN(t.title) AS youtube_movie
FROM aka_title AS at,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code = '[us]'
  AND cn.name = 'YouTube'
  AND it1.info = 'release dates'
  AND mc.note LIKE '%(200%)%'
  AND mc.note LIKE '%(worldwide)%'
  AND mi.note LIKE '%internet%'
  AND mi.info LIKE 'USA:% 200%'
  AND t.production_year BETWEEN 2005 AND 2010
  AND t.id = at.movie_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = at.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = at.movie_id
  AND mc.movie_id = at.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3480.41, + "Total Cost": 3480.42, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 47.678, + "Actual Total Time": 52.935, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3480.36, + "Total Cost": 3480.37, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 24.294, + "Actual Total Time": 52.913, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3479.36, + "Total Cost": 3479.37, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 18.246, + "Actual Total Time": 18.252, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 36.425, + "Actual Total Time": 36.429, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.547, + "Actual Total Time": 14.553, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.746, + "Actual Total Time": 14.753, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.826, + "Actual Total Time": 14.832, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.920, + "Actual Total Time": 14.925, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.690, + "Actual Total Time": 14.696, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.500, + "Actual Total Time": 12.507, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.85, + "Total Cost": 3479.36, + "Plan Rows": 1, + "Plan Width": 59, + "Actual Startup Time": 17.853, + "Actual Total Time": 18.242, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.320, + "Actual Total Time": 36.388, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.543, + "Actual Total Time": 14.549, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.741, + "Actual Total Time": 14.748, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.820, + "Actual Total Time": 14.825, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.915, + "Actual Total Time": 14.919, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.683, + "Actual Total Time": 14.689, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.495, + "Actual Total Time": 12.502, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.43, + "Total Cost": 3478.92, + "Plan Rows": 1, + "Plan Width": 63, + "Actual Startup Time": 17.844, + "Actual Total Time": 18.191, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mi.info", "mk.keyword_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.250, + "Actual Total Time": 35.991, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.543, + "Actual Total Time": 14.547, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.741, + "Actual Total Time": 14.746, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.819, + "Actual Total Time": 14.823, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.914, + "Actual Total Time": 14.918, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.683, + "Actual Total Time": 14.688, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.494, + "Actual Total Time": 12.500, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.28, + "Total Cost": 3478.72, + "Plan Rows": 1, + "Plan Width": 67, + "Actual Startup Time": 17.835, + "Actual Total Time": 18.176, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mi.info", "mi.info_type_id", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.185, + "Actual Total Time": 35.884, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.542, + "Actual Total Time": 14.546, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.740, + "Actual Total Time": 14.744, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.818, + "Actual Total Time": 14.822, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.913, + "Actual Total Time": 14.916, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.682, + "Actual Total Time": 14.686, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.494, + "Actual Total Time": 12.498, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.85, + "Total Cost": 3477.74, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 15.598, + "Actual Total Time": 17.348, + "Actual Rows": 36, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mk.movie_id", "mk.keyword_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.294, + "Actual Total Time": 29.267, + "Actual Rows": 292, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.542, + "Actual Total Time": 14.545, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.739, + "Actual Total Time": 14.743, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.818, + "Actual Total Time": 14.821, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.913, + "Actual Total Time": 14.915, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.681, + "Actual Total Time": 14.684, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.493, + "Actual Total Time": 12.497, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.41, + "Total Cost": 3476.43, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 13.896, + "Actual Total Time": 15.121, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.682, + "Actual Total Time": 11.463, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.541, + "Actual Total Time": 14.544, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.739, + "Actual Total Time": 14.742, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.817, + "Actual Total Time": 14.820, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.912, + "Actual Total Time": 14.915, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.681, + "Actual Total Time": 14.683, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.493, + "Actual Total Time": 12.495, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.98, + "Total Cost": 3475.84, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 13.887, + "Actual Total Time": 15.043, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.610, + "Actual Total Time": 10.842, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.541, + "Actual Total Time": 14.542, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.738, + "Actual Total Time": 14.741, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.817, + "Actual Total Time": 14.819, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.911, + "Actual Total Time": 14.913, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.680, + "Actual Total Time": 14.682, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.492, + "Actual Total Time": 12.494, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 3475.69, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 13.880, + "Actual Total Time": 15.025, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.562, + "Actual Total Time": 10.708, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.540, + "Actual Total Time": 14.541, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.737, + "Actual Total Time": 14.739, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.816, + "Actual Total Time": 14.817, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.911, + "Actual Total Time": 14.912, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.679, + "Actual Total Time": 14.681, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.491, + "Actual Total Time": 12.492, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 3475.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 13.723, + "Actual Total Time": 14.655, + "Actual Rows": 35, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.308, + "Actual Total Time": 7.759, + "Actual Rows": 278, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.539, + "Actual Total Time": 14.540, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.737, + "Actual Total Time": 14.738, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.816, + "Actual Total Time": 14.816, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.910, + "Actual Total Time": 14.911, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.678, + "Actual Total Time": 14.679, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.490, + "Actual Total Time": 12.491, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3435.62, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 13.702, + "Actual Total Time": 13.705, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "(((cn.country_code)::text = '[us]'::text) AND (cn.name = 'YouTube'::text))", + "Rows Removed by Filter": 29374, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.148, + "Actual Total Time": 0.165, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.538, + "Actual Total Time": 14.539, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.736, + "Actual Total Time": 14.736, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.815, + "Actual Total Time": 14.815, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.910, + "Actual Total Time": 14.910, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.678, + "Actual Total Time": 14.678, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.490, + "Actual Total Time": 12.490, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 39.52, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.156, + "Actual Total Time": 7.522, + "Actual Rows": 278, + "Actual Loops": 1, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(200%)%'::text) AND (mc.note ~~ '%(worldwide)%'::text))", + "Rows Removed by Filter": 1180, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.156, + "Actual Total Time": 7.522, + "Actual Rows": 278, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_aka_title", + "Relation Name": "aka_title", + "Schema": "public", + "Alias": "at", + "Startup Cost": 0.42, + "Total Cost": 0.53, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 278, + "Output": ["at.movie_id"], + "Index Cond": "(at.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 278 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 27, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 27 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.58, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 27, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = at.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 27 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 1.01, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.675, + "Actual Total Time": 0.680, + "Actual Rows": 11, + "Actual Loops": 26, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.675, + "Actual Total Time": 0.680, + "Actual Rows": 11, + "Actual Loops": 26 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 292, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.note ~~ '%internet%'::text) AND (mi.info ~~ 'USA:% 200%'::text))", + "Rows Removed by Filter": 29, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 292 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.19, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 37, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 37, + "Cache Hits": 36, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 37, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 37 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4209927756710409746, + "Planning Time": 64.347, + "Triggers": [ + ], + "Execution Time": 53.338, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -4209927756710409746, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi.info) AS release_date,
       MIN(t.title) AS modern_american_internet_movie
FROM aka_title AS at,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND mi.note LIKE '%internet%'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'USA:% 199%'
       OR mi.info LIKE 'USA:% 200%')
  AND t.production_year > 1990
  AND t.id = at.movie_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = at.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = at.movie_id
  AND mc.movie_id = at.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 73074.33, + "Total Cost": 73074.34, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1508.897, + "Actual Total Time": 1526.298, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 73074.29, + "Total Cost": 73074.30, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 1500.926, + "Actual Total Time": 1526.253, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 73073.29, + "Total Cost": 73073.30, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1498.332, + "Actual Total Time": 1498.340, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1497.834, + "Actual Total Time": 1497.842, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1493.907, + "Actual Total Time": 1493.912, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1499.690, + "Actual Total Time": 1499.697, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1499.367, + "Actual Total Time": 1499.374, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1499.003, + "Actual Total Time": 1499.008, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1498.359, + "Actual Total Time": 1498.365, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1498.432, + "Actual Total Time": 1498.438, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 73073.26, + "Plan Rows": 5, + "Plan Width": 59, + "Actual Startup Time": 206.452, + "Actual Total Time": 1498.040, + "Actual Rows": 284, + "Actual Loops": 8, + "Output": ["mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 134.040, + "Actual Total Time": 1497.686, + "Actual Rows": 139, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.041, + "Actual Total Time": 1493.834, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1228.297, + "Actual Total Time": 1499.666, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.883, + "Actual Total Time": 1499.180, + "Actual Rows": 134, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 49.861, + "Actual Total Time": 1498.422, + "Actual Rows": 658, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.269, + "Actual Total Time": 1497.650, + "Actual Rows": 684, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 148.514, + "Actual Total Time": 1497.899, + "Actual Rows": 536, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 73071.07, + "Plan Rows": 5, + "Plan Width": 63, + "Actual Startup Time": 206.382, + "Actual Total Time": 1490.574, + "Actual Rows": 284, + "Actual Loops": 8, + "Output": ["mi.info", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 133.941, + "Actual Total Time": 1496.193, + "Actual Rows": 139, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.982, + "Actual Total Time": 1492.397, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1228.242, + "Actual Total Time": 1499.501, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.806, + "Actual Total Time": 1495.679, + "Actual Rows": 134, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 49.780, + "Actual Total Time": 1491.702, + "Actual Rows": 658, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.191, + "Actual Total Time": 1460.494, + "Actual Rows": 684, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 148.437, + "Actual Total Time": 1490.191, + "Actual Rows": 536, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.41, + "Total Cost": 73069.79, + "Plan Rows": 1, + "Plan Width": 75, + "Actual Startup Time": 57.244, + "Actual Total Time": 1488.327, + "Actual Rows": 36, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.913, + "Actual Total Time": 1493.959, + "Actual Rows": 49, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.621, + "Actual Total Time": 1490.794, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 149.730, + "Actual Total Time": 1498.760, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.735, + "Actual Total Time": 1493.637, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 49.221, + "Actual Total Time": 1489.201, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.231, + "Actual Total Time": 1456.002, + "Actual Rows": 55, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 147.873, + "Actual Total Time": 1486.972, + "Actual Rows": 88, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.28, + "Total Cost": 73069.64, + "Plan Rows": 1, + "Plan Width": 79, + "Actual Startup Time": 57.189, + "Actual Total Time": 1488.100, + "Actual Rows": 36, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.844, + "Actual Total Time": 1493.679, + "Actual Rows": 49, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.576, + "Actual Total Time": 1490.660, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 149.684, + "Actual Total Time": 1498.671, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.685, + "Actual Total Time": 1493.476, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 49.122, + "Actual Total Time": 1488.980, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.188, + "Actual Total Time": 1455.655, + "Actual Rows": 55, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 147.816, + "Actual Total Time": 1486.527, + "Actual Rows": 88, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.86, + "Total Cost": 73069.20, + "Plan Rows": 1, + "Plan Width": 83, + "Actual Startup Time": 57.121, + "Actual Total Time": 1487.181, + "Actual Rows": 50, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.767, + "Actual Total Time": 1492.629, + "Actual Rows": 68, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.510, + "Actual Total Time": 1490.150, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 149.632, + "Actual Total Time": 1498.405, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.605, + "Actual Total Time": 1492.901, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 49.038, + "Actual Total Time": 1488.124, + "Actual Rows": 45, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.119, + "Actual Total Time": 1454.407, + "Actual Rows": 65, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 147.747, + "Actual Total Time": 1484.426, + "Actual Rows": 143, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.43, + "Total Cost": 73068.64, + "Plan Rows": 1, + "Plan Width": 71, + "Actual Startup Time": 56.776, + "Actual Total Time": 1485.956, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["at.movie_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 41.496, + "Actual Total Time": 1490.705, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.402, + "Actual Total Time": 1489.205, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 149.543, + "Actual Total Time": 1498.141, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.497, + "Actual Total Time": 1491.701, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 48.536, + "Actual Total Time": 1487.018, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.015, + "Actual Total Time": 1452.269, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 147.432, + "Actual Total Time": 1483.016, + "Actual Rows": 30, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 73066.31, + "Plan Rows": 13, + "Plan Width": 75, + "Actual Startup Time": 56.718, + "Actual Total Time": 1485.742, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["at.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 41.447, + "Actual Total Time": 1490.489, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.345, + "Actual Total Time": 1489.053, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 149.483, + "Actual Total Time": 1498.031, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.431, + "Actual Total Time": 1491.498, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 48.467, + "Actual Total Time": 1486.859, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.951, + "Actual Total Time": 1451.888, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 147.370, + "Actual Total Time": 1482.683, + "Actual Rows": 30, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 33422.65, + "Plan Rows": 35724, + "Plan Width": 25, + "Actual Startup Time": 0.285, + "Actual Total Time": 530.138, + "Actual Rows": 17622, + "Actual Loops": 8, + "Output": ["at.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.486, + "Actual Total Time": 540.671, + "Actual Rows": 17818, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.173, + "Actual Total Time": 530.167, + "Actual Rows": 17581, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.192, + "Actual Total Time": 519.613, + "Actual Rows": 17849, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.163, + "Actual Total Time": 547.075, + "Actual Rows": 17422, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.227, + "Actual Total Time": 530.382, + "Actual Rows": 17583, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.206, + "Actual Total Time": 526.010, + "Actual Rows": 17731, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.287, + "Actual Total Time": 528.688, + "Actual Rows": 17188, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_aka_title", + "Relation Name": "aka_title", + "Schema": "public", + "Alias": "at", + "Startup Cost": 0.42, + "Total Cost": 3432.97, + "Plan Rows": 51639, + "Plan Width": 4, + "Actual Startup Time": 0.075, + "Actual Total Time": 28.780, + "Actual Rows": 45184, + "Actual Loops": 8, + "Output": ["at.movie_id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.100, + "Actual Total Time": 29.225, + "Actual Rows": 46811, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.065, + "Actual Total Time": 28.480, + "Actual Rows": 45261, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.085, + "Actual Total Time": 28.180, + "Actual Rows": 44944, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.058, + "Actual Total Time": 30.191, + "Actual Rows": 44794, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.074, + "Actual Total Time": 28.102, + "Actual Rows": 44514, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.106, + "Actual Total Time": 29.509, + "Actual Rows": 44859, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.080, + "Actual Total Time": 28.263, + "Actual Rows": 45476, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.58, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 361472, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = at.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 46811 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 45261 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 44944 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 44794 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 44514 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 44859 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 45476 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.10, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 140974, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND (mi.note ~~ '%internet%'::text) AND ((mi.info ~~ 'USA:% 199%'::text) OR (mi.info ~~ 'USA:% 200%'::text)))", + "Rows Removed by Filter": 38, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 17818 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 17581 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 17849 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 17422 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 17583 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 17731 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 17188 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 120, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 19 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 14 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 9 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 25 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 30 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.078, + "Actual Rows": 3, + "Actual Loops": 120, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.097, + "Actual Rows": 4, + "Actual Loops": 19 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.106, + "Actual Total Time": 0.113, + "Actual Rows": 3, + "Actual Loops": 8 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.048, + "Actual Rows": 2, + "Actual Loops": 5 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.082, + "Actual Rows": 2, + "Actual Loops": 14 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.110, + "Actual Total Time": 0.117, + "Actual Rows": 5, + "Actual Loops": 9 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.082, + "Actual Rows": 3, + "Actual Loops": 25 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.043, + "Actual Rows": 5, + "Actual Loops": 30 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 400, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 68 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 22 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 23 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 45 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 65 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 143 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 284, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 49 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 17 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 21 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 26 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 55 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 88 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.059, + "Actual Rows": 8, + "Actual Loops": 284, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.044, + "Actual Rows": 3, + "Actual Loops": 49 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.092, + "Actual Rows": 3, + "Actual Loops": 17 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.102, + "Actual Total Time": 0.103, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.088, + "Actual Total Time": 0.093, + "Actual Rows": 6, + "Actual Loops": 21 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.087, + "Actual Rows": 25, + "Actual Loops": 26 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.076, + "Actual Rows": 12, + "Actual Loops": 55 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.033, + "Actual Rows": 6, + "Actual Loops": 88 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 2271, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 139 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 48 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 9 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 134 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 658 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 684 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 536 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4486446217020337985, + "Planning Time": 68.024, + "Triggers": [ + ], + "Execution Time": 1526.806, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 4486446217020337985, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(at.title) AS aka_title,
       MIN(t.title) AS internet_movie_title
FROM aka_title AS at,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND mi.note LIKE '%internet%'
  AND t.production_year > 1990
  AND t.id = at.movie_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = at.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = at.movie_id
  AND mc.movie_id = at.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 64211.55, + "Total Cost": 64211.56, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1495.935, + "Actual Total Time": 1526.061, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(at.title)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 64211.50, + "Total Cost": 64211.51, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 1495.123, + "Actual Total Time": 1526.033, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(at.title))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 64210.50, + "Total Cost": 64210.51, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1486.173, + "Actual Total Time": 1486.181, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(at.title)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1475.567, + "Actual Total Time": 1475.574, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1486.136, + "Actual Total Time": 1486.144, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1486.216, + "Actual Total Time": 1486.223, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1487.628, + "Actual Total Time": 1487.636, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1486.184, + "Actual Total Time": 1486.191, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1487.308, + "Actual Total Time": 1487.315, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1486.308, + "Actual Total Time": 1486.319, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.55, + "Total Cost": 64209.84, + "Plan Rows": 131, + "Plan Width": 38, + "Actual Startup Time": 55.029, + "Actual Total Time": 1485.029, + "Actual Rows": 1418, + "Actual Loops": 8, + "Output": ["at.title", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 80.994, + "Actual Total Time": 1474.153, + "Actual Rows": 1710, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 41.034, + "Actual Total Time": 1485.092, + "Actual Rows": 1207, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 79.923, + "Actual Total Time": 1485.554, + "Actual Rows": 779, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.525, + "Actual Total Time": 1485.852, + "Actual Rows": 2377, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.832, + "Actual Total Time": 1484.812, + "Actual Rows": 1800, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 103.143, + "Actual Total Time": 1486.670, + "Actual Rows": 742, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.090, + "Actual Total Time": 1485.079, + "Actual Rows": 1513, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.13, + "Total Cost": 64152.51, + "Plan Rows": 131, + "Plan Width": 42, + "Actual Startup Time": 54.953, + "Actual Total Time": 1470.584, + "Actual Rows": 1418, + "Actual Loops": 8, + "Output": ["at.title", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 80.926, + "Actual Total Time": 1455.581, + "Actual Rows": 1710, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 40.948, + "Actual Total Time": 1472.531, + "Actual Rows": 1207, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 79.836, + "Actual Total Time": 1478.075, + "Actual Rows": 779, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.452, + "Actual Total Time": 1463.070, + "Actual Rows": 2377, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.766, + "Actual Total Time": 1468.794, + "Actual Rows": 1800, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 103.068, + "Actual Total Time": 1476.494, + "Actual Rows": 742, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 90.986, + "Actual Total Time": 1470.829, + "Actual Rows": 1513, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.70, + "Total Cost": 64146.12, + "Plan Rows": 5, + "Plan Width": 54, + "Actual Startup Time": 23.285, + "Actual Total Time": 1460.834, + "Actual Rows": 109, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mc.movie_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.405, + "Actual Total Time": 1436.158, + "Actual Rows": 116, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 38.320, + "Actual Total Time": 1467.266, + "Actual Rows": 109, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 79.439, + "Actual Total Time": 1472.878, + "Actual Rows": 103, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.378, + "Actual Total Time": 1456.258, + "Actual Rows": 107, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.515, + "Actual Total Time": 1453.673, + "Actual Rows": 114, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.694, + "Actual Total Time": 1470.602, + "Actual Rows": 83, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.518, + "Actual Total Time": 1463.095, + "Actual Rows": 134, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.56, + "Total Cost": 64145.63, + "Plan Rows": 5, + "Plan Width": 58, + "Actual Startup Time": 23.219, + "Actual Total Time": 1460.362, + "Actual Rows": 109, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.331, + "Actual Total Time": 1435.633, + "Actual Rows": 116, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 38.261, + "Actual Total Time": 1466.807, + "Actual Rows": 109, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 79.361, + "Actual Total Time": 1472.431, + "Actual Rows": 103, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.310, + "Actual Total Time": 1455.823, + "Actual Rows": 107, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.448, + "Actual Total Time": 1453.145, + "Actual Rows": 114, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.633, + "Actual Total Time": 1470.198, + "Actual Rows": 83, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.424, + "Actual Total Time": 1462.558, + "Actual Rows": 134, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 64139.45, + "Plan Rows": 14, + "Plan Width": 62, + "Actual Startup Time": 15.274, + "Actual Total Time": 1453.871, + "Actual Rows": 262, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.267, + "Actual Total Time": 1428.870, + "Actual Rows": 250, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 38.205, + "Actual Total Time": 1459.809, + "Actual Rows": 251, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 40.009, + "Actual Total Time": 1467.396, + "Actual Rows": 239, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.250, + "Actual Total Time": 1448.691, + "Actual Rows": 316, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.371, + "Actual Total Time": 1445.406, + "Actual Rows": 297, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.568, + "Actual Total Time": 1465.128, + "Actual Rows": 221, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.682, + "Actual Total Time": 1456.112, + "Actual Rows": 293, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 64137.78, + "Plan Rows": 3, + "Plan Width": 50, + "Actual Startup Time": 13.981, + "Actual Total Time": 1448.900, + "Actual Rows": 73, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.703, + "Actual Total Time": 1423.096, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 38.088, + "Actual Total Time": 1454.650, + "Actual Rows": 74, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.417, + "Actual Total Time": 1463.511, + "Actual Rows": 70, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.161, + "Actual Total Time": 1443.058, + "Actual Rows": 71, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.083, + "Actual Total Time": 1439.479, + "Actual Rows": 80, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.444, + "Actual Total Time": 1461.111, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.162, + "Actual Total Time": 1450.724, + "Actual Rows": 74, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 64135.01, + "Plan Rows": 342, + "Plan Width": 54, + "Actual Startup Time": 13.836, + "Actual Total Time": 1448.366, + "Actual Rows": 83, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.581, + "Actual Total Time": 1422.547, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 38.008, + "Actual Total Time": 1454.192, + "Actual Rows": 80, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.336, + "Actual Total Time": 1463.039, + "Actual Rows": 79, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.080, + "Actual Total Time": 1442.594, + "Actual Rows": 87, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.998, + "Actual Total Time": 1438.979, + "Actual Rows": 87, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.348, + "Actual Total Time": 1460.640, + "Actual Rows": 81, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.066, + "Actual Total Time": 1450.239, + "Actual Rows": 84, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 32884.74, + "Plan Rows": 31259, + "Plan Width": 46, + "Actual Startup Time": 0.278, + "Actual Total Time": 630.661, + "Actual Rows": 17622, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.114, + "Actual Total Time": 620.860, + "Actual Rows": 17483, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.351, + "Actual Total Time": 627.623, + "Actual Rows": 18153, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.789, + "Actual Total Time": 645.289, + "Actual Rows": 17758, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.150, + "Actual Total Time": 627.993, + "Actual Rows": 18010, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.190, + "Actual Total Time": 624.931, + "Actual Rows": 17402, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.412, + "Actual Total Time": 631.042, + "Actual Rows": 17442, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.121, + "Actual Total Time": 628.254, + "Actual Rows": 17239, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "aka_title", + "Schema": "public", + "Alias": "at", + "Startup Cost": 0.00, + "Total Cost": 6643.84, + "Plan Rows": 45184, + "Plan Width": 25, + "Actual Startup Time": 0.146, + "Actual Total Time": 34.817, + "Actual Rows": 45184, + "Actual Loops": 8, + "Output": ["at.id", "at.movie_id", "at.title", "at.imdb_index", "at.kind_id", "at.production_year", "at.phonetic_code", "at.episode_of_id", "at.season_nr", "at.episode_nr", "at.note", "at.md5sum"],+ "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 36.026, + "Actual Rows": 44749, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 32.373, + "Actual Rows": 46085, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.710, + "Actual Total Time": 41.555, + "Actual Rows": 46072, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 34.589, + "Actual Rows": 46209, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 30.139, + "Actual Rows": 44605, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.246, + "Actual Total Time": 29.874, + "Actual Rows": 44527, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.041, + "Actual Total Time": 29.741, + "Actual Rows": 44486, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.58, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 361472, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"], + "Index Cond": "(t.id = at.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 44749 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 46085 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 46072 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 46209 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 44605 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 44527 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 44486 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.99, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 140974, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.note ~~ '%internet%'::text)", + "Rows Removed by Filter": 38, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 17483 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 18153 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 17758 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 18010 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 17402 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 17442 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 17239 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.057, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.063, + "Actual Rows": 4, + "Actual Loops": 584, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.069, + "Actual Rows": 3, + "Actual Loops": 78 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.065, + "Actual Rows": 3, + "Actual Loops": 74 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.051, + "Actual Rows": 3, + "Actual Loops": 70 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.074, + "Actual Rows": 4, + "Actual Loops": 71 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.069, + "Actual Rows": 4, + "Actual Loops": 80 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.051, + "Actual Rows": 3, + "Actual Loops": 72 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.068, + "Actual Rows": 4, + "Actual Loops": 74 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 2099, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 250 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 251 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 239 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 316 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 297 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 221 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 293 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 875, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 107, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 116, + "Cache Hits": 114, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 109, + "Cache Hits": 107, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 103, + "Cache Hits": 101, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 107, + "Cache Hits": 105, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 114, + "Cache Hits": 112, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 83, + "Cache Hits": 81, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 134, + "Cache Hits": 132, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.083, + "Actual Rows": 13, + "Actual Loops": 875, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.149, + "Actual Total Time": 0.161, + "Actual Rows": 15, + "Actual Loops": 116 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.043, + "Actual Rows": 11, + "Actual Loops": 109 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.046, + "Actual Rows": 8, + "Actual Loops": 103 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.055, + "Actual Rows": 22, + "Actual Loops": 107 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.114, + "Actual Total Time": 0.126, + "Actual Rows": 16, + "Actual Loops": 114 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.066, + "Actual Rows": 9, + "Actual Loops": 83 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.053, + "Actual Rows": 11, + "Actual Loops": 134 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 11347, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1710 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1207 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 779 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 2377 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1800 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 742 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1513 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -321921298358758659, + "Planning Time": 68.909, + "Triggers": [ + ], + "Execution Time": 1526.565, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -321921298358758659, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(an.name) AS cool_actor_pseudonym,
       MIN(t.title) AS series_named_after_char
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND t.episode_nr >= 50
  AND t.episode_nr < 100
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1354.25, + "Total Cost": 1354.26, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 605.177, + "Actual Total Time": 605.319, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1354.21, + "Total Cost": 1354.22, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 605.158, + "Actual Total Time": 605.308, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1353.21, + "Total Cost": 1353.22, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 81.809, + "Actual Total Time": 81.816, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.996, + "Actual Total Time": 6.002, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.494, + "Actual Total Time": 7.501, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.469, + "Actual Total Time": 7.475, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.468, + "Actual Total Time": 7.474, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.490, + "Actual Total Time": 7.497, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.471, + "Actual Total Time": 7.479, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.322, + "Actual Total Time": 7.327, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.01, + "Total Cost": 1353.16, + "Plan Rows": 9, + "Plan Width": 33, + "Actual Startup Time": 9.933, + "Actual Total Time": 81.766, + "Actual Rows": 48, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.991, + "Actual Total Time": 5.997, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.487, + "Actual Total Time": 7.494, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.461, + "Actual Total Time": 7.466, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.465, + "Actual Total Time": 7.470, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.479, + "Actual Total Time": 7.485, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.466, + "Actual Total Time": 7.473, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.316, + "Actual Total Time": 7.321, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 1351.23, + "Plan Rows": 4, + "Plan Width": 25, + "Actual Startup Time": 9.858, + "Actual Total Time": 75.813, + "Actual Rows": 40, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.990, + "Actual Total Time": 5.995, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.486, + "Actual Total Time": 7.491, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.460, + "Actual Total Time": 7.464, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.464, + "Actual Total Time": 7.468, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.477, + "Actual Total Time": 7.483, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.465, + "Actual Total Time": 7.472, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.316, + "Actual Total Time": 7.319, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 1349.44, + "Plan Rows": 4, + "Plan Width": 21, + "Actual Startup Time": 9.790, + "Actual Total Time": 71.204, + "Actual Rows": 40, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.989, + "Actual Total Time": 5.994, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.485, + "Actual Total Time": 7.490, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.459, + "Actual Total Time": 7.463, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.463, + "Actual Total Time": 7.467, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.477, + "Actual Total Time": 7.481, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.465, + "Actual Total Time": 7.470, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.315, + "Actual Total Time": 7.318, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 1347.87, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 9.748, + "Actual Total Time": 69.924, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.989, + "Actual Total Time": 5.993, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.484, + "Actual Total Time": 7.488, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.458, + "Actual Total Time": 7.462, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.463, + "Actual Total Time": 7.466, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.476, + "Actual Total Time": 7.479, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.464, + "Actual Total Time": 7.469, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.314, + "Actual Total Time": 7.317, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1347.43, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 9.693, + "Actual Total Time": 69.760, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.988, + "Actual Total Time": 5.991, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.484, + "Actual Total Time": 7.486, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.458, + "Actual Total Time": 7.460, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.462, + "Actual Total Time": 7.465, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.475, + "Actual Total Time": 7.477, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.463, + "Actual Total Time": 7.466, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.313, + "Actual Total Time": 7.315, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1346.88, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 9.100, + "Actual Total Time": 69.214, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.988, + "Actual Total Time": 5.989, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.483, + "Actual Total Time": 7.485, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.457, + "Actual Total Time": 7.459, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.461, + "Actual Total Time": 7.463, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.474, + "Actual Total Time": 7.476, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.462, + "Actual Total Time": 7.464, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.313, + "Actual Total Time": 7.314, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.56, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 7.739, + "Actual Total Time": 25.912, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.987, + "Actual Total Time": 5.988, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.482, + "Actual Total Time": 7.484, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.456, + "Actual Total Time": 7.458, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.461, + "Actual Total Time": 7.462, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.473, + "Actual Total Time": 7.474, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.462, + "Actual Total Time": 7.462, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.312, + "Actual Total Time": 7.313, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.575, + "Actual Total Time": 6.576, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.986, + "Actual Total Time": 5.987, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.481, + "Actual Total Time": 7.482, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.455, + "Actual Total Time": 7.456, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.460, + "Actual Total Time": 7.460, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.472, + "Actual Total Time": 7.472, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.461, + "Actual Total Time": 7.461, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.311, + "Actual Total Time": 7.312, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 9.291, + "Actual Total Time": 145.779, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 41840, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.episode_nr >= 50) AND (t.episode_nr < 100))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 146, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 54, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.195, + "Actual Total Time": 0.401, + "Actual Rows": 13, + "Actual Loops": 25, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.113, + "Actual Total Time": 0.113, + "Actual Rows": 1, + "Actual Loops": 323, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 0.131, + "Actual Total Time": 0.146, + "Actual Rows": 1, + "Actual Loops": 323, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 816913887554954199, + "Planning Time": 39.713, + "Triggers": [ + ], + "Execution Time": 605.772, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 816913887554954199, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS cool_actor_pseudonym,
       MIN(t.title) AS series_named_after_char
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1515.86, + "Total Cost": 1515.87, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 61921.378, + "Actual Total Time": 61921.536, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1515.81, + "Total Cost": 1515.82, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 61921.362, + "Actual Total Time": 61921.528, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1514.81, + "Total Cost": 1514.82, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 7745.485, + "Actual Total Time": 7745.489, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.964, + "Actual Total Time": 14.969, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.794, + "Actual Total Time": 8.799, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.229, + "Actual Total Time": 7.235, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.777, + "Actual Total Time": 8.782, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.675, + "Actual Total Time": 6.680, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.01, + "Total Cost": 1513.19, + "Plan Rows": 324, + "Plan Width": 33, + "Actual Startup Time": 7.621, + "Actual Total Time": 7531.056, + "Actual Rows": 463824, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.958, + "Actual Total Time": 14.962, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.790, + "Actual Total Time": 8.795, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.224, + "Actual Total Time": 7.229, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.771, + "Actual Total Time": 8.775, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.670, + "Actual Total Time": 6.675, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 1439.66, + "Plan Rows": 152, + "Plan Width": 25, + "Actual Startup Time": 7.552, + "Actual Total Time": 4546.165, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.957, + "Actual Total Time": 14.961, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.789, + "Actual Total Time": 8.793, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.224, + "Actual Total Time": 7.228, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.770, + "Actual Total Time": 8.774, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.669, + "Actual Total Time": 6.673, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 1371.59, + "Plan Rows": 152, + "Plan Width": 21, + "Actual Startup Time": 6.540, + "Actual Total Time": 1888.480, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.957, + "Actual Total Time": 14.960, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.788, + "Actual Total Time": 8.792, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.223, + "Actual Total Time": 7.226, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.769, + "Actual Total Time": 8.772, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.668, + "Actual Total Time": 6.672, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 1359.32, + "Plan Rows": 8, + "Plan Width": 29, + "Actual Startup Time": 6.373, + "Actual Total Time": 376.533, + "Actual Rows": 8540, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.956, + "Actual Total Time": 14.959, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.788, + "Actual Total Time": 8.790, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.223, + "Actual Total Time": 7.225, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.769, + "Actual Total Time": 8.771, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.668, + "Actual Total Time": 6.671, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1349.61, + "Plan Rows": 22, + "Plan Width": 33, + "Actual Startup Time": 6.056, + "Actual Total Time": 199.237, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.955, + "Actual Total Time": 14.958, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.787, + "Actual Total Time": 8.789, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.222, + "Actual Total Time": 7.224, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.768, + "Actual Total Time": 8.770, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.667, + "Actual Total Time": 6.669, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1346.85, + "Plan Rows": 5, + "Plan Width": 25, + "Actual Startup Time": 6.041, + "Actual Total Time": 106.181, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.955, + "Actual Total Time": 14.956, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.786, + "Actual Total Time": 8.787, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.222, + "Actual Total Time": 7.223, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.767, + "Actual Total Time": 8.769, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.667, + "Actual Total Time": 6.668, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.56, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 6.036, + "Actual Total Time": 26.030, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.954, + "Actual Total Time": 14.955, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.785, + "Actual Total Time": 8.786, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.221, + "Actual Total Time": 7.222, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.767, + "Actual Total Time": 8.768, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.666, + "Actual Total Time": 6.667, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.022, + "Actual Total Time": 6.023, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.953, + "Actual Total Time": 14.953, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.785, + "Actual Total Time": 8.785, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.220, + "Actual Total Time": 7.221, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.766, + "Actual Total Time": 8.767, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.665, + "Actual Total Time": 6.666, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.097, + "Actual Total Time": 145.586, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 41840, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.016, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 148552, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.18, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.166, + "Actual Rows": 41, + "Actual Loops": 68316, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 2832555, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 2832555, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3350265702090035455, + "Planning Time": 31.195, + "Triggers": [ + ], + "Execution Time": 61921.938, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 3350265702090035455, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS cool_actor_pseudonym,
       MIN(t.title) AS series_named_after_char
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND t.episode_nr < 100
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1410.95, + "Total Cost": 1410.96, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 4928.000, + "Actual Total Time": 4928.144, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1410.91, + "Total Cost": 1410.92, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 4927.980, + "Actual Total Time": 4928.133, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1409.91, + "Total Cost": 1409.92, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 622.662, + "Actual Total Time": 622.668, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.351, + "Actual Total Time": 9.357, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.378, + "Actual Total Time": 6.383, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.798, + "Actual Total Time": 10.803, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.286, + "Actual Total Time": 9.296, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.109, + "Actual Total Time": 9.115, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.200, + "Actual Total Time": 9.205, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.01, + "Total Cost": 1409.30, + "Plan Rows": 122, + "Plan Width": 33, + "Actual Startup Time": 7.327, + "Actual Total Time": 603.672, + "Actual Rows": 39992, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.346, + "Actual Total Time": 9.351, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.373, + "Actual Total Time": 6.378, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.792, + "Actual Total Time": 10.796, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.278, + "Actual Total Time": 9.287, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.104, + "Actual Total Time": 9.110, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.197, + "Actual Total Time": 9.202, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 1381.73, + "Plan Rows": 57, + "Plan Width": 25, + "Actual Startup Time": 7.321, + "Actual Total Time": 371.767, + "Actual Rows": 27701, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.344, + "Actual Total Time": 9.349, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.371, + "Actual Total Time": 6.376, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.791, + "Actual Total Time": 10.795, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.277, + "Actual Total Time": 9.283, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.103, + "Actual Total Time": 9.108, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.197, + "Actual Total Time": 9.200, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 1356.20, + "Plan Rows": 57, + "Plan Width": 21, + "Actual Startup Time": 7.314, + "Actual Total Time": 170.590, + "Actual Rows": 27701, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.344, + "Actual Total Time": 9.348, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.371, + "Actual Total Time": 6.375, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.790, + "Actual Total Time": 10.794, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.276, + "Actual Total Time": 9.281, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.103, + "Actual Total Time": 9.107, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.195, + "Actual Total Time": 9.199, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 1351.51, + "Plan Rows": 3, + "Plan Width": 29, + "Actual Startup Time": 7.304, + "Actual Total Time": 95.890, + "Actual Rows": 1067, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.343, + "Actual Total Time": 9.346, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.370, + "Actual Total Time": 6.373, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.790, + "Actual Total Time": 10.793, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.275, + "Actual Total Time": 9.280, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.102, + "Actual Total Time": 9.105, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.195, + "Actual Total Time": 9.198, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1347.98, + "Plan Rows": 8, + "Plan Width": 33, + "Actual Startup Time": 7.087, + "Actual Total Time": 84.285, + "Actual Rows": 1426, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.343, + "Actual Total Time": 9.345, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.369, + "Actual Total Time": 6.372, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.789, + "Actual Total Time": 10.792, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.274, + "Actual Total Time": 9.277, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.101, + "Actual Total Time": 9.104, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.194, + "Actual Total Time": 9.196, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1346.86, + "Plan Rows": 2, + "Plan Width": 25, + "Actual Startup Time": 7.062, + "Actual Total Time": 75.034, + "Actual Rows": 866, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.342, + "Actual Total Time": 9.344, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.368, + "Actual Total Time": 6.370, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.788, + "Actual Total Time": 10.790, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.273, + "Actual Total Time": 9.275, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.100, + "Actual Total Time": 9.102, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.193, + "Actual Total Time": 9.195, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.56, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 7.054, + "Actual Total Time": 18.628, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.341, + "Actual Total Time": 9.343, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.367, + "Actual Total Time": 6.369, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.788, + "Actual Total Time": 10.789, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.272, + "Actual Total Time": 9.273, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.099, + "Actual Total Time": 9.101, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.193, + "Actual Total Time": 9.193, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 7.037, + "Actual Total Time": 7.038, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.340, + "Actual Total Time": 9.341, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.366, + "Actual Total Time": 6.367, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.787, + "Actual Total Time": 10.787, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.271, + "Actual Total Time": 9.271, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.099, + "Actual Total Time": 9.099, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.192, + "Actual Total Time": 9.192, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.121, + "Actual Total Time": 83.493, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 41840, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.episode_nr < 100)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 2, + "Actual Loops": 6926, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 11406, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.061, + "Actual Rows": 26, + "Actual Loops": 8538, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 221609, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 221609, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 607840843579539521, + "Planning Time": 41.878, + "Triggers": [ + ], + "Execution Time": 4928.507, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 607840843579539521, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS cool_actor_pseudonym,
       MIN(t.title) AS series_named_after_char
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND t.episode_nr >= 5
  AND t.episode_nr < 100
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1393.83, + "Total Cost": 1393.84, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 3410.466, + "Actual Total Time": 3410.613, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1393.78, + "Total Cost": 1393.79, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 3410.447, + "Actual Total Time": 3410.604, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1392.78, + "Total Cost": 1392.79, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 431.992, + "Actual Total Time": 431.999, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.679, + "Actual Total Time": 6.686, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.869, + "Actual Total Time": 6.877, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.422, + "Actual Total Time": 6.428, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.689, + "Actual Total Time": 6.696, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.577, + "Actual Total Time": 6.584, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.677, + "Actual Total Time": 6.683, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.601, + "Actual Total Time": 6.608, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.01, + "Total Cost": 1392.34, + "Plan Rows": 89, + "Plan Width": 33, + "Actual Startup Time": 6.211, + "Actual Total Time": 418.441, + "Actual Rows": 31182, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.673, + "Actual Total Time": 6.679, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.852, + "Actual Total Time": 6.858, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.417, + "Actual Total Time": 6.422, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.684, + "Actual Total Time": 6.691, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.572, + "Actual Total Time": 6.578, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.673, + "Actual Total Time": 6.679, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.595, + "Actual Total Time": 6.601, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 1372.02, + "Plan Rows": 42, + "Plan Width": 25, + "Actual Startup Time": 6.206, + "Actual Total Time": 253.225, + "Actual Rows": 21159, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.672, + "Actual Total Time": 6.678, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.851, + "Actual Total Time": 6.857, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.416, + "Actual Total Time": 6.421, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.683, + "Actual Total Time": 6.689, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.571, + "Actual Total Time": 6.577, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.672, + "Actual Total Time": 6.677, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.594, + "Actual Total Time": 6.599, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 1353.21, + "Plan Rows": 42, + "Plan Width": 21, + "Actual Startup Time": 6.199, + "Actual Total Time": 110.551, + "Actual Rows": 21159, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.672, + "Actual Total Time": 6.676, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.850, + "Actual Total Time": 6.855, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.415, + "Actual Total Time": 6.419, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.682, + "Actual Total Time": 6.687, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.571, + "Actual Total Time": 6.576, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.671, + "Actual Total Time": 6.676, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.593, + "Actual Total Time": 6.598, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 1350.08, + "Plan Rows": 2, + "Plan Width": 29, + "Actual Startup Time": 6.193, + "Actual Total Time": 65.229, + "Actual Rows": 846, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.671, + "Actual Total Time": 6.674, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.849, + "Actual Total Time": 6.853, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.414, + "Actual Total Time": 6.417, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.681, + "Actual Total Time": 6.685, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.570, + "Actual Total Time": 6.574, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.671, + "Actual Total Time": 6.674, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.592, + "Actual Total Time": 6.596, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1347.43, + "Plan Rows": 6, + "Plan Width": 33, + "Actual Startup Time": 6.101, + "Actual Total Time": 57.193, + "Actual Rows": 1083, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.670, + "Actual Total Time": 6.673, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.848, + "Actual Total Time": 6.851, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.414, + "Actual Total Time": 6.416, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.680, + "Actual Total Time": 6.684, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.570, + "Actual Total Time": 6.573, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.670, + "Actual Total Time": 6.673, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.592, + "Actual Total Time": 6.595, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1346.88, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 6.080, + "Actual Total Time": 51.164, + "Actual Rows": 673, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.669, + "Actual Total Time": 6.671, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.847, + "Actual Total Time": 6.849, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.413, + "Actual Total Time": 6.415, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.680, + "Actual Total Time": 6.682, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.569, + "Actual Total Time": 6.572, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.669, + "Actual Total Time": 6.672, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.591, + "Actual Total Time": 6.593, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.56, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 6.073, + "Actual Total Time": 12.863, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.668, + "Actual Total Time": 6.669, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.846, + "Actual Total Time": 6.847, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.412, + "Actual Total Time": 6.413, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.679, + "Actual Total Time": 6.680, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.568, + "Actual Total Time": 6.570, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.669, + "Actual Total Time": 6.670, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.590, + "Actual Total Time": 6.592, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.056, + "Actual Total Time": 6.057, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.667, + "Actual Total Time": 6.667, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.845, + "Actual Total Time": 6.846, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.412, + "Actual Total Time": 6.412, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.678, + "Actual Total Time": 6.679, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.568, + "Actual Total Time": 6.568, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.668, + "Actual Total Time": 6.668, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.589, + "Actual Total Time": 6.590, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.120, + "Actual Total Time": 45.723, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 41840, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.episode_nr >= 5) AND (t.episode_nr < 100))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 2, + "Actual Loops": 5385, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 8661, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.045, + "Actual Rows": 25, + "Actual Loops": 6766, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 169273, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 169273, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 816913887554954199, + "Planning Time": 34.469, + "Triggers": [ + ], + "Execution Time": 3410.978, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 816913887554954199, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_american_movie,
       MIN(n.name) AS a1
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND n.name LIKE 'B%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1441.31, + "Total Cost": 1441.32, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 32649.734, + "Actual Total Time": 32649.875, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1441.29, + "Total Cost": 1441.30, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 32649.713, + "Actual Total Time": 32649.867, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1440.29, + "Total Cost": 1440.30, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 4086.950, + "Actual Total Time": 4086.954, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.620, + "Actual Total Time": 6.624, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.481, + "Actual Total Time": 6.486, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.723, + "Actual Total Time": 6.727, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.665, + "Actual Total Time": 6.669, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.567, + "Actual Total Time": 6.571, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.893, + "Actual Total Time": 6.897, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.891, + "Actual Total Time": 6.895, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 1440.26, + "Plan Rows": 12, + "Plan Width": 15, + "Actual Startup Time": 6.273, + "Actual Total Time": 4070.805, + "Actual Rows": 32286, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.616, + "Actual Total Time": 6.620, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.476, + "Actual Total Time": 6.480, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.719, + "Actual Total Time": 6.724, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.660, + "Actual Total Time": 6.664, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.564, + "Actual Total Time": 6.568, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.890, + "Actual Total Time": 6.893, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.886, + "Actual Total Time": 6.890, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 1371.55, + "Plan Rows": 152, + "Plan Width": 4, + "Actual Startup Time": 6.254, + "Actual Total Time": 1017.264, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["ci.person_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.615, + "Actual Total Time": 6.619, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.475, + "Actual Total Time": 6.479, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.719, + "Actual Total Time": 6.722, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.659, + "Actual Total Time": 6.662, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.563, + "Actual Total Time": 6.566, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.889, + "Actual Total Time": 6.892, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.885, + "Actual Total Time": 6.889, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 1359.28, + "Plan Rows": 8, + "Plan Width": 12, + "Actual Startup Time": 6.118, + "Actual Total Time": 276.348, + "Actual Rows": 8540, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.615, + "Actual Total Time": 6.617, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.475, + "Actual Total Time": 6.478, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.718, + "Actual Total Time": 6.721, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.659, + "Actual Total Time": 6.661, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.563, + "Actual Total Time": 6.565, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.888, + "Actual Total Time": 6.891, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.885, + "Actual Total Time": 6.887, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1349.56, + "Plan Rows": 22, + "Plan Width": 16, + "Actual Startup Time": 6.098, + "Actual Total Time": 118.597, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.614, + "Actual Total Time": 6.616, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.474, + "Actual Total Time": 6.477, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.718, + "Actual Total Time": 6.720, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.658, + "Actual Total Time": 6.660, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.562, + "Actual Total Time": 6.564, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.888, + "Actual Total Time": 6.889, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.884, + "Actual Total Time": 6.886, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1346.81, + "Plan Rows": 5, + "Plan Width": 8, + "Actual Startup Time": 6.082, + "Actual Total Time": 55.520, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.614, + "Actual Total Time": 6.615, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.474, + "Actual Total Time": 6.475, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.717, + "Actual Total Time": 6.719, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.658, + "Actual Total Time": 6.659, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.561, + "Actual Total Time": 6.563, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.887, + "Actual Total Time": 6.888, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.883, + "Actual Total Time": 6.885, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.56, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 6.076, + "Actual Total Time": 18.128, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.613, + "Actual Total Time": 6.614, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.473, + "Actual Total Time": 6.474, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.716, + "Actual Total Time": 6.717, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.657, + "Actual Total Time": 6.658, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.560, + "Actual Total Time": 6.561, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.886, + "Actual Total Time": 6.887, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.882, + "Actual Total Time": 6.883, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.059, + "Actual Total Time": 6.061, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.612, + "Actual Total Time": 6.613, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.472, + "Actual Total Time": 6.473, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.716, + "Actual Total Time": 6.716, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.657, + "Actual Total Time": 6.657, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.560, + "Actual Total Time": 6.560, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.885, + "Actual Total Time": 6.885, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.882, + "Actual Total Time": 6.882, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.114, + "Actual Total Time": 85.067, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840, + "Output": ["t.id"], + "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.011, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 148552, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.18, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.078, + "Actual Rows": 41, + "Actual Loops": 68316, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 2832555, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"],+ "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ 'B%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -917204397272063480, + "Planning Time": 25.001, + "Triggers": [ + ], + "Execution Time": 32650.188, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -917204397272063480, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie,
       MIN(n.name) AS a1
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword ='character-name-in-title'
  AND n.name LIKE 'Z%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1431.22, + "Total Cost": 1431.23, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 15758.514, + "Actual Total Time": 15758.651, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1431.19, + "Total Cost": 1431.20, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 15758.493, + "Actual Total Time": 15758.643, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1430.19, + "Total Cost": 1430.20, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1977.605, + "Actual Total Time": 1977.610, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.885, + "Actual Total Time": 8.890, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.129, + "Actual Total Time": 9.135, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.232, + "Actual Total Time": 6.238, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.407, + "Actual Total Time": 9.413, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.455, + "Actual Total Time": 11.462, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.912, + "Actual Total Time": 8.917, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.281, + "Actual Total Time": 9.286, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 1430.18, + "Plan Rows": 3, + "Plan Width": 15, + "Actual Startup Time": 11.391, + "Actual Total Time": 1973.876, + "Actual Rows": 6538, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.881, + "Actual Total Time": 8.886, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.124, + "Actual Total Time": 9.129, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.200, + "Actual Total Time": 6.205, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.402, + "Actual Total Time": 9.407, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.449, + "Actual Total Time": 11.454, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.907, + "Actual Total Time": 8.912, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.276, + "Actual Total Time": 9.279, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.16, + "Total Cost": 1428.87, + "Plan Rows": 3, + "Plan Width": 19, + "Actual Startup Time": 11.386, + "Actual Total Time": 1930.545, + "Actual Rows": 6538, + "Actual Loops": 8, + "Output": ["mc.company_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.881, + "Actual Total Time": 8.884, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.124, + "Actual Total Time": 9.128, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.199, + "Actual Total Time": 6.203, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.401, + "Actual Total Time": 9.405, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.448, + "Actual Total Time": 11.452, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.906, + "Actual Total Time": 8.910, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.275, + "Actual Total Time": 9.278, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1428.33, + "Plan Rows": 1, + "Plan Width": 27, + "Actual Startup Time": 11.379, + "Actual Total Time": 1913.816, + "Actual Rows": 830, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.880, + "Actual Total Time": 8.883, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.123, + "Actual Total Time": 9.127, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.198, + "Actual Total Time": 6.201, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.401, + "Actual Total Time": 9.404, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.448, + "Actual Total Time": 11.451, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.906, + "Actual Total Time": 8.909, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.274, + "Actual Total Time": 9.277, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1427.88, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 11.373, + "Actual Total Time": 1905.586, + "Actual Rows": 830, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.879, + "Actual Total Time": 8.882, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.122, + "Actual Total Time": 9.125, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.197, + "Actual Total Time": 6.200, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.400, + "Actual Total Time": 9.402, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.447, + "Actual Total Time": 11.450, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.905, + "Actual Total Time": 8.907, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.273, + "Actual Total Time": 9.275, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 1351.94, + "Plan Rows": 168, + "Plan Width": 12, + "Actual Startup Time": 8.583, + "Actual Total Time": 562.237, + "Actual Rows": 129799, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.878, + "Actual Total Time": 8.880, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.121, + "Actual Total Time": 9.123, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.196, + "Actual Total Time": 6.198, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.399, + "Actual Total Time": 9.401, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.446, + "Actual Total Time": 11.448, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.904, + "Actual Total Time": 8.906, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.272, + "Actual Total Time": 9.274, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.56, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 8.513, + "Actual Total Time": 19.510, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.878, + "Actual Total Time": 8.878, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.120, + "Actual Total Time": 9.122, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.195, + "Actual Total Time": 6.196, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.399, + "Actual Total Time": 9.400, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.445, + "Actual Total Time": 11.446, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.903, + "Actual Total Time": 8.904, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.272, + "Actual Total Time": 9.273, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 8.498, + "Actual Total Time": 8.500, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.877, + "Actual Total Time": 8.877, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.118, + "Actual Total Time": 9.119, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.194, + "Actual Total Time": 6.195, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.398, + "Actual Total Time": 9.398, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.444, + "Actual Total Time": 11.444, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.902, + "Actual Total Time": 8.903, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.271, + "Actual Total Time": 9.271, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.103, + "Actual Total Time": 76.618, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.097, + "Actual Rows": 25, + "Actual Loops": 41840, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 1038393, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"],+ "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ 'Z%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 6642, + "Output": ["t.id"], + "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.017, + "Actual Rows": 8, + "Actual Loops": 6642, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 52306, + "Output": ["cn.id"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5459870143170781696, + "Planning Time": 21.154, + "Triggers": [ + ], + "Execution Time": 15759.098, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -5459870143170781696, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie,
       MIN(n.name) AS a1
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword ='character-name-in-title'
  AND n.name LIKE 'X%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1430.31, + "Total Cost": 1430.32, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 13875.841, + "Actual Total Time": 13875.974, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(n.name)"], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 1430.31, + "Plan Rows": 1, + "Plan Width": 15, + "Actual Startup Time": 165.840, + "Actual Total Time": 13874.327, + "Actual Rows": 1918, + "Actual Loops": 1, + "Output": ["n.name"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.15, + "Total Cost": 1429.86, + "Plan Rows": 1, + "Plan Width": 27, + "Actual Startup Time": 165.807, + "Actual Total Time": 13861.790, + "Actual Rows": 1918, + "Actual Loops": 1, + "Output": ["ci.movie_id", "mc.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.73, + "Total Cost": 1429.42, + "Plan Rows": 1, + "Plan Width": 31, + "Actual Startup Time": 165.777, + "Actual Total Time": 13828.822, + "Actual Rows": 1918, + "Actual Loops": 1, + "Output": ["ci.movie_id", "mc.movie_id", "mc.company_id", "mk.movie_id", "n.name"], + "Inner Unique": false, + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.30, + "Total Cost": 1428.88, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 165.739, + "Actual Total Time": 13822.040, + "Actual Rows": 250, + "Actual Loops": 1, + "Output": ["ci.movie_id", "mk.movie_id", "n.name"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1427.88, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 26.102, + "Actual Total Time": 1733.099, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.581, + "Actual Total Time": 7.584, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.093, + "Actual Total Time": 8.097, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.081, + "Actual Total Time": 8.084, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.774, + "Actual Total Time": 6.777, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.965, + "Actual Total Time": 7.967, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.043, + "Actual Total Time": 2.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.484, + "Actual Total Time": 3.486, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 1351.94, + "Plan Rows": 168, + "Plan Width": 12, + "Actual Startup Time": 5.783, + "Actual Total Time": 495.483, + "Actual Rows": 129799, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.580, + "Actual Total Time": 7.583, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.092, + "Actual Total Time": 8.095, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.081, + "Actual Total Time": 8.082, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.773, + "Actual Total Time": 6.775, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.964, + "Actual Total Time": 7.965, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.042, + "Actual Total Time": 2.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.483, + "Actual Total Time": 3.484, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.56, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 5.774, + "Actual Total Time": 16.263, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.580, + "Actual Total Time": 7.581, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.092, + "Actual Total Time": 8.093, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.080, + "Actual Total Time": 8.081, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.773, + "Actual Total Time": 6.774, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.963, + "Actual Total Time": 7.964, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.041, + "Actual Total Time": 2.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.482, + "Actual Total Time": 3.483, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.760, + "Actual Total Time": 5.761, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.579, + "Actual Total Time": 7.580, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.091, + "Actual Total Time": 8.092, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.079, + "Actual Total Time": 8.080, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.772, + "Actual Total Time": 6.772, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.962, + "Actual Total Time": 7.963, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.041, + "Actual Total Time": 2.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.482, + "Actual Total Time": 3.482, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.102, + "Actual Total Time": 73.268, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.085, + "Actual Rows": 25, + "Actual Loops": 41840, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1038393, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"],+ "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ 'X%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.023, + "Actual Rows": 8, + "Actual Loops": 250, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0 + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 1918, + "Output": ["cn.id"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0 + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 1918, + "Output": ["t.id"], + "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0 + } + ] + } + ] + }, + "Query Identifier": -5459870143170781696, + "Planning Time": 20.208, + "Triggers": [ + ], + "Execution Time": 13876.526, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -5459870143170781696, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword ='character-name-in-title'
  AND n.name LIKE '%Bert%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1430.32, + "Total Cost": 1430.33, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 13914.689, + "Actual Total Time": 13914.845, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3.58, + "Total Cost": 1430.31, + "Plan Rows": 6, + "Plan Width": 15, + "Actual Startup Time": 102.630, + "Actual Total Time": 13905.697, + "Actual Rows": 11538, + "Actual Loops": 1, + "Output": ["n.name"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 1429.31, + "Plan Rows": 1, + "Plan Width": 15, + "Actual Startup Time": 18.435, + "Actual Total Time": 1743.464, + "Actual Rows": 1442, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.977, + "Actual Total Time": 8.982, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.522, + "Actual Total Time": 7.527, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.397, + "Actual Total Time": 7.402, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.258, + "Actual Total Time": 7.263, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.083, + "Actual Total Time": 0.084, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.398, + "Actual Total Time": 7.402, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.062, + "Actual Total Time": 7.066, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 1428.86, + "Plan Rows": 1, + "Plan Width": 27, + "Actual Startup Time": 18.430, + "Actual Total Time": 1734.185, + "Actual Rows": 1442, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.976, + "Actual Total Time": 8.980, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.521, + "Actual Total Time": 7.525, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.397, + "Actual Total Time": 7.401, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.257, + "Actual Total Time": 7.260, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.083, + "Actual Total Time": 0.084, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.397, + "Actual Total Time": 7.401, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.062, + "Actual Total Time": 7.065, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1428.42, + "Plan Rows": 1, + "Plan Width": 31, + "Actual Startup Time": 18.427, + "Actual Total Time": 1722.608, + "Actual Rows": 1442, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mc.company_id", "mk.movie_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.976, + "Actual Total Time": 8.979, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.521, + "Actual Total Time": 7.524, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.396, + "Actual Total Time": 7.399, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.257, + "Actual Total Time": 7.259, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.083, + "Actual Total Time": 0.083, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.397, + "Actual Total Time": 7.400, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.061, + "Actual Total Time": 7.064, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1427.88, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 18.422, + "Actual Total Time": 1717.145, + "Actual Rows": 246, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.975, + "Actual Total Time": 8.978, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.520, + "Actual Total Time": 7.523, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.395, + "Actual Total Time": 7.398, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.256, + "Actual Total Time": 7.258, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.083, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.396, + "Actual Total Time": 7.399, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.061, + "Actual Total Time": 7.063, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 1351.94, + "Plan Rows": 168, + "Plan Width": 12, + "Actual Startup Time": 5.978, + "Actual Total Time": 491.345, + "Actual Rows": 129799, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.975, + "Actual Total Time": 8.977, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.519, + "Actual Total Time": 7.521, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.395, + "Actual Total Time": 7.396, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.255, + "Actual Total Time": 7.256, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.083, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.396, + "Actual Total Time": 7.398, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.060, + "Actual Total Time": 7.062, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.56, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 5.970, + "Actual Total Time": 16.485, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.974, + "Actual Total Time": 8.975, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.519, + "Actual Total Time": 7.520, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.394, + "Actual Total Time": 7.395, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.254, + "Actual Total Time": 7.255, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.082, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.395, + "Actual Total Time": 7.396, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.060, + "Actual Total Time": 7.061, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.956, + "Actual Total Time": 5.957, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.974, + "Actual Total Time": 8.974, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.518, + "Actual Total Time": 7.518, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.393, + "Actual Total Time": 7.394, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.254, + "Actual Total Time": 7.254, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.082, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.394, + "Actual Total Time": 7.395, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.059, + "Actual Total Time": 7.060, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.099, + "Actual Total Time": 73.392, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.084, + "Actual Rows": 25, + "Actual Loops": 41840, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1038393, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"],+ "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Bert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.019, + "Actual Rows": 6, + "Actual Loops": 1972, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 11538, + "Output": ["cn.id"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 11538, + "Output": ["t.id"], + "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3199076743843001296, + "Planning Time": 36.302, + "Triggers": [ + ], + "Execution Time": 13915.211, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 3199076743843001296, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1441.28, + "Total Cost": 1441.29, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 30653.268, + "Actual Total Time": 30694.294, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1441.26, + "Total Cost": 1441.27, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 17.800, + "Actual Total Time": 30694.268, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1440.26, + "Total Cost": 1440.27, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 3839.089, + "Actual Total Time": 3839.094, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.189, + "Actual Total Time": 9.194, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.252, + "Actual Total Time": 8.257, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.230, + "Actual Total Time": 8.235, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.232, + "Actual Total Time": 9.237, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.635, + "Actual Total Time": 8.639, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30644.420, + "Actual Total Time": 30644.423, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.238, + "Actual Total Time": 8.244, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 1439.88, + "Plan Rows": 152, + "Plan Width": 15, + "Actual Startup Time": 8.755, + "Actual Total Time": 3721.909, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.183, + "Actual Total Time": 9.187, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.241, + "Actual Total Time": 8.246, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.227, + "Actual Total Time": 8.232, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.226, + "Actual Total Time": 9.231, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.629, + "Actual Total Time": 8.633, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.791, + "Actual Total Time": 29706.990, + "Actual Rows": 2832555, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.233, + "Actual Total Time": 8.239, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 1371.55, + "Plan Rows": 152, + "Plan Width": 4, + "Actual Startup Time": 8.742, + "Actual Total Time": 1030.866, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["ci.person_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.182, + "Actual Total Time": 9.186, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.240, + "Actual Total Time": 8.245, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.226, + "Actual Total Time": 8.230, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.225, + "Actual Total Time": 9.229, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.628, + "Actual Total Time": 8.632, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.696, + "Actual Total Time": 8178.656, + "Actual Rows": 2832555, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.232, + "Actual Total Time": 8.237, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 1359.28, + "Plan Rows": 8, + "Plan Width": 12, + "Actual Startup Time": 8.605, + "Actual Total Time": 275.488, + "Actual Rows": 8540, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.182, + "Actual Total Time": 9.185, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.239, + "Actual Total Time": 8.242, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.225, + "Actual Total Time": 8.229, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.224, + "Actual Total Time": 9.228, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.628, + "Actual Total Time": 8.630, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.607, + "Actual Total Time": 2135.644, + "Actual Rows": 68316, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.232, + "Actual Total Time": 8.236, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1349.56, + "Plan Rows": 22, + "Plan Width": 16, + "Actual Startup Time": 8.585, + "Actual Total Time": 119.375, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.181, + "Actual Total Time": 9.183, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.238, + "Actual Total Time": 8.241, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.225, + "Actual Total Time": 8.228, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.223, + "Actual Total Time": 9.226, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.627, + "Actual Total Time": 8.629, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.448, + "Actual Total Time": 886.755, + "Actual Rows": 148552, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.231, + "Actual Total Time": 8.234, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1346.81, + "Plan Rows": 5, + "Plan Width": 8, + "Actual Startup Time": 8.566, + "Actual Total Time": 57.835, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.180, + "Actual Total Time": 9.182, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.238, + "Actual Total Time": 8.239, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.224, + "Actual Total Time": 8.226, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.223, + "Actual Total Time": 9.225, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.626, + "Actual Total Time": 8.628, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.303, + "Actual Total Time": 394.437, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.230, + "Actual Total Time": 8.232, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.56, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 8.554, + "Actual Total Time": 20.855, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.180, + "Actual Total Time": 9.181, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.237, + "Actual Total Time": 8.238, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.223, + "Actual Total Time": 8.225, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.222, + "Actual Total Time": 9.223, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.625, + "Actual Total Time": 8.626, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.214, + "Actual Total Time": 98.615, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.230, + "Actual Total Time": 8.231, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 8.534, + "Actual Total Time": 8.536, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.178, + "Actual Total Time": 9.179, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.236, + "Actual Total Time": 8.236, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.222, + "Actual Total Time": 8.223, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.221, + "Actual Total Time": 9.222, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.624, + "Actual Total Time": 8.624, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.070, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.229, + "Actual Total Time": 8.229, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.146, + "Actual Total Time": 87.372, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.146, + "Actual Total Time": 87.372, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840, + "Output": ["t.id"], + "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.010, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.010, + "Actual Rows": 4, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 148552, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 148552 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.18, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.080, + "Actual Rows": 41, + "Actual Loops": 68316, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.080, + "Actual Rows": 41, + "Actual Loops": 68316 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 2832555, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"],+ "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 2832555 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1944885556475480423, + "Planning Time": 22.057, + "Triggers": [ + ], + "Execution Time": 30694.629, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -1944885556475480423, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword ='character-name-in-title'
  AND n.name LIKE '%B%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1468.98, + "Total Cost": 1468.99, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 22704.266, + "Actual Total Time": 22704.405, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1468.96, + "Total Cost": 1468.97, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 22704.246, + "Actual Total Time": 22704.397, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1467.96, + "Total Cost": 1467.97, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 2845.244, + "Actual Total Time": 2845.251, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.050, + "Actual Total Time": 9.056, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.242, + "Actual Total Time": 8.250, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.132, + "Actual Total Time": 8.139, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.302, + "Actual Total Time": 8.309, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.306, + "Actual Total Time": 8.312, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.272, + "Actual Total Time": 8.281, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.288, + "Actual Total Time": 8.295, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 1467.81, + "Plan Rows": 57, + "Plan Width": 15, + "Actual Startup Time": 8.060, + "Actual Total Time": 2798.401, + "Actual Rows": 139140, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.043, + "Actual Total Time": 9.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.234, + "Actual Total Time": 8.241, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.128, + "Actual Total Time": 8.135, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.297, + "Actual Total Time": 8.303, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.301, + "Actual Total Time": 8.307, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.264, + "Actual Total Time": 8.272, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.281, + "Actual Total Time": 8.288, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.16, + "Total Cost": 1442.85, + "Plan Rows": 57, + "Plan Width": 19, + "Actual Startup Time": 8.053, + "Actual Total Time": 2055.357, + "Actual Rows": 139140, + "Actual Loops": 8, + "Output": ["mc.company_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.043, + "Actual Total Time": 9.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.233, + "Actual Total Time": 8.239, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.127, + "Actual Total Time": 8.133, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.296, + "Actual Total Time": 8.301, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.301, + "Actual Total Time": 8.305, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.263, + "Actual Total Time": 8.269, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.281, + "Actual Total Time": 8.286, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1430.42, + "Plan Rows": 23, + "Plan Width": 27, + "Actual Startup Time": 7.606, + "Actual Total Time": 1816.219, + "Actual Rows": 18687, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.042, + "Actual Total Time": 9.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.232, + "Actual Total Time": 8.237, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.126, + "Actual Total Time": 8.131, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.295, + "Actual Total Time": 8.299, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.300, + "Actual Total Time": 8.304, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.263, + "Actual Total Time": 8.268, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.280, + "Actual Total Time": 8.284, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1354.47, + "Plan Rows": 168, + "Plan Width": 16, + "Actual Startup Time": 7.597, + "Actual Total Time": 543.596, + "Actual Rows": 129799, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "mk.movie_id", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.041, + "Actual Total Time": 9.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.231, + "Actual Total Time": 8.235, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.125, + "Actual Total Time": 8.128, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.294, + "Actual Total Time": 8.297, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.299, + "Actual Total Time": 8.302, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.262, + "Actual Total Time": 8.266, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.279, + "Actual Total Time": 8.282, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1346.81, + "Plan Rows": 5, + "Plan Width": 8, + "Actual Startup Time": 7.588, + "Actual Total Time": 54.026, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.041, + "Actual Total Time": 9.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.230, + "Actual Total Time": 8.233, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.124, + "Actual Total Time": 8.127, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.293, + "Actual Total Time": 8.295, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.298, + "Actual Total Time": 8.300, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.261, + "Actual Total Time": 8.264, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.278, + "Actual Total Time": 8.280, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.56, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 7.583, + "Actual Total Time": 18.449, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.040, + "Actual Total Time": 9.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.230, + "Actual Total Time": 8.232, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.123, + "Actual Total Time": 8.124, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.293, + "Actual Total Time": 8.294, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.296, + "Actual Total Time": 8.298, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.260, + "Actual Total Time": 8.262, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.277, + "Actual Total Time": 8.279, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 7.564, + "Actual Total Time": 7.566, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.039, + "Actual Total Time": 9.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.228, + "Actual Total Time": 8.229, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.122, + "Actual Total Time": 8.122, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.292, + "Actual Total Time": 8.292, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.296, + "Actual Total Time": 8.296, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.258, + "Actual Total Time": 8.258, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.268, + "Actual Total Time": 8.269, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.120, + "Actual Total Time": 75.994, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840, + "Output": ["t.id"], + "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.18, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.087, + "Actual Rows": 25, + "Actual Loops": 41840, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1038393, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"],+ "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%B%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.011, + "Actual Rows": 7, + "Actual Loops": 149494, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 1113120, + "Output": ["cn.id"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3199076743843001296, + "Planning Time": 21.531, + "Triggers": [ + ], + "Execution Time": 22704.775, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 3199076743843001296, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(t.title) AS movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     name AS n,
     title AS t
WHERE ci.note IN ('(producer)',
                  '(executive producer)')
  AND it1.info = 'budget'
  AND it2.info = 'votes'
  AND n.gender = 'm'
  AND n.name LIKE '%Tim%'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 12714.53, + "Total Cost": 12714.54, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 3997.730, + "Actual Total Time": 4032.810, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6.42, + "Total Cost": 12714.49, + "Plan Rows": 5, + "Plan Width": 65, + "Actual Startup Time": 291.362, + "Actual Total Time": 4031.119, + "Actual Rows": 410, + "Actual Loops": 1, + "Output": ["mi.info", "mi_idx.info", "t.title"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.42, + "Total Cost": 12713.49, + "Plan Rows": 1, + "Plan Width": 65, + "Actual Startup Time": 398.080, + "Actual Total Time": 3987.838, + "Actual Rows": 51, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 908.819, + "Actual Total Time": 3987.594, + "Actual Rows": 54, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 794.353, + "Actual Total Time": 3987.624, + "Actual Rows": 45, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 346.668, + "Actual Total Time": 3984.846, + "Actual Rows": 51, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 186.235, + "Actual Total Time": 3989.963, + "Actual Rows": 54, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.742, + "Actual Total Time": 3988.045, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 425.138, + "Actual Total Time": 3981.729, + "Actual Rows": 61, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 202.239, + "Actual Total Time": 3988.122, + "Actual Rows": 42, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.99, + "Total Cost": 12713.04, + "Plan Rows": 1, + "Plan Width": 60, + "Actual Startup Time": 397.969, + "Actual Total Time": 3985.645, + "Actual Rows": 51, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 908.676, + "Actual Total Time": 3985.127, + "Actual Rows": 54, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 794.243, + "Actual Total Time": 3985.923, + "Actual Rows": 45, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 346.578, + "Actual Total Time": 3982.359, + "Actual Rows": 51, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 186.105, + "Actual Total Time": 3987.872, + "Actual Rows": 54, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.639, + "Actual Total Time": 3985.673, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 424.995, + "Actual Total Time": 3979.506, + "Actual Rows": 61, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 202.137, + "Actual Total Time": 3986.190, + "Actual Rows": 42, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.56, + "Total Cost": 12386.16, + "Plan Rows": 676, + "Plan Width": 64, + "Actual Startup Time": 5.738, + "Actual Total Time": 3702.604, + "Actual Rows": 13417, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.843, + "Actual Total Time": 3708.683, + "Actual Rows": 13198, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.949, + "Actual Total Time": 3716.680, + "Actual Rows": 12964, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.353, + "Actual Total Time": 3699.519, + "Actual Rows": 13496, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.639, + "Actual Total Time": 3708.186, + "Actual Rows": 13676, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.499, + "Actual Total Time": 3696.339, + "Actual Rows": 13804, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.735, + "Actual Total Time": 3703.750, + "Actual Rows": 13286, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.576, + "Actual Total Time": 3694.310, + "Actual Rows": 13862, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.12, + "Total Cost": 12035.01, + "Plan Rows": 297, + "Plan Width": 56, + "Actual Startup Time": 4.286, + "Actual Total Time": 2406.716, + "Actual Rows": 5679, + "Actual Loops": 8, + "Output": ["mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.204, + "Actual Total Time": 2386.667, + "Actual Rows": 5628, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.782, + "Actual Total Time": 2414.814, + "Actual Rows": 5623, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.249, + "Actual Total Time": 2428.749, + "Actual Rows": 5639, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.501, + "Actual Total Time": 2412.289, + "Actual Rows": 5794, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.152, + "Actual Total Time": 2394.624, + "Actual Rows": 5780, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.545, + "Actual Total Time": 2402.733, + "Actual Rows": 5629, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.681, + "Actual Total Time": 2389.849, + "Actual Rows": 5807, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.28, + "Total Cost": 11941.81, + "Plan Rows": 33544, + "Plan Width": 60, + "Actual Startup Time": 2.556, + "Actual Total Time": 2131.902, + "Actual Rows": 866292, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.303, + "Actual Total Time": 2112.680, + "Actual Rows": 865301, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.076, + "Actual Total Time": 2134.639, + "Actual Rows": 875345, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.074, + "Actual Total Time": 2156.858, + "Actual Rows": 863226, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.122, + "Actual Total Time": 2138.927, + "Actual Rows": 874285, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.341, + "Actual Total Time": 2118.753, + "Actual Rows": 865229, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.125, + "Actual Total Time": 2133.727, + "Actual Rows": 849807, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.928, + "Actual Total Time": 2114.353, + "Actual Rows": 867853, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1527, + "Plan Width": 10, + "Actual Startup Time": 1.579, + "Actual Total Time": 194.670, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.042, + "Actual Total Time": 187.183, + "Actual Rows": 58264, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.055, + "Actual Total Time": 189.056, + "Actual Rows": 57566, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.991, + "Actual Total Time": 203.659, + "Actual Rows": 56866, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 198.155, + "Actual Rows": 58315, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.050, + "Actual Total Time": 183.839, + "Actual Rows": 56359, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.987, + "Actual Total Time": 213.641, + "Actual Rows": 56307, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.051, + "Actual Total Time": 185.650, + "Actual Rows": 56058, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 14, + "Actual Startup Time": 1.553, + "Actual Total Time": 85.563, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 80.480, + "Actual Rows": 174800, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 79.755, + "Actual Rows": 172713, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.968, + "Actual Total Time": 96.726, + "Actual Rows": 170709, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 90.725, + "Actual Rows": 174941, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 75.126, + "Actual Rows": 169063, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.964, + "Actual Total Time": 94.640, + "Actual Rows": 169071, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 81.096, + "Actual Rows": 168177, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 22, + "Plan Width": 50, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.027, + "Actual Rows": 15, + "Actual Loops": 459925, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.026, + "Actual Rows": 15, + "Actual Loops": 58264 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.027, + "Actual Rows": 15, + "Actual Loops": 57566 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.028, + "Actual Rows": 15, + "Actual Loops": 56866 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.027, + "Actual Rows": 15, + "Actual Loops": 58315 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.027, + "Actual Rows": 15, + "Actual Loops": 56359 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.027, + "Actual Rows": 15, + "Actual Loops": 56307 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.027, + "Actual Rows": 15, + "Actual Loops": 56058 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.244, + "Actual Total Time": 0.248, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'budget'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.16, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.140, + "Actual Total Time": 0.226, + "Actual Rows": 2, + "Actual Loops": 45431, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(producer),\"(executive producer)\"}'::text[]))", + "Rows Removed by Filter": 38, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.145, + "Actual Total Time": 0.232, + "Actual Rows": 2, + "Actual Loops": 5628 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.143, + "Actual Total Time": 0.229, + "Actual Rows": 2, + "Actual Loops": 5623 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.138, + "Actual Total Time": 0.223, + "Actual Rows": 2, + "Actual Loops": 5639 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.138, + "Actual Total Time": 0.221, + "Actual Rows": 2, + "Actual Loops": 5794 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.137, + "Actual Total Time": 0.223, + "Actual Rows": 2, + "Actual Loops": 5780 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.141, + "Actual Total Time": 0.228, + "Actual Rows": 2, + "Actual Loops": 5629 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.137, + "Actual Total Time": 0.222, + "Actual Rows": 2, + "Actual Loops": 5807 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 107339, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%Tim%'::text) AND ((n.gender)::text = 'm'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 13198 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 12964 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 13496 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 13676 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 13804 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 13286 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 13862 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 410, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 54 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 45 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 51 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 54 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 46 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 61 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 42 + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -3485514449383768787, + "Planning Time": 25.354, + "Triggers": [ + ], + "Execution Time": 4033.169, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -3485514449383768787, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(t.title) AS movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'rating'
  AND mi.info IN ('Horror',
                  'Thriller')
  AND mi.note IS NULL
  AND mi_idx.info > '8.0'
  AND n.gender IS NOT NULL
  AND n.gender = 'f'
  AND t.production_year BETWEEN 2008 AND 2014
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10206.72, + "Total Cost": 10206.73, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 211.287, + "Actual Total Time": 220.662, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10206.65, + "Total Cost": 10206.66, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 210.644, + "Actual Total Time": 220.624, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10205.65, + "Total Cost": 10205.66, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 202.322, + "Actual Total Time": 202.328, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 200.955, + "Actual Total Time": 200.959, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 201.381, + "Actual Total Time": 201.386, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 201.887, + "Actual Total Time": 201.894, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 200.895, + "Actual Total Time": 200.899, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 201.881, + "Actual Total Time": 201.888, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 201.006, + "Actual Total Time": 201.013, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 200.893, + "Actual Total Time": 200.899, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.72, + "Total Cost": 10205.64, + "Plan Rows": 1, + "Plan Width": 65, + "Actual Startup Time": 169.753, + "Actual Total Time": 202.311, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 164.217, + "Actual Total Time": 200.939, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 105.748, + "Actual Total Time": 201.370, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 105.297, + "Actual Total Time": 201.856, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 200.891, + "Actual Total Time": 200.895, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 181.084, + "Actual Total Time": 201.861, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 190.226, + "Actual Total Time": 200.990, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 200.887, + "Actual Total Time": 200.893, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.29, + "Total Cost": 10205.13, + "Plan Rows": 1, + "Plan Width": 69, + "Actual Startup Time": 80.120, + "Actual Total Time": 201.098, + "Actual Rows": 34, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi_idx.info", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 100.514, + "Actual Total Time": 199.778, + "Actual Rows": 38, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 38.397, + "Actual Total Time": 200.380, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 103.135, + "Actual Total Time": 200.363, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 102.731, + "Actual Total Time": 200.085, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 101.774, + "Actual Total Time": 200.739, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.950, + "Actual Total Time": 199.098, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 55.457, + "Actual Total Time": 199.788, + "Actual Rows": 32, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.85, + "Total Cost": 10203.43, + "Plan Rows": 1, + "Plan Width": 77, + "Actual Startup Time": 43.645, + "Actual Total Time": 186.878, + "Actual Rows": 45, + "Actual Loops": 8, + "Output": ["mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.864, + "Actual Total Time": 173.133, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.081, + "Actual Total Time": 186.448, + "Actual Rows": 45, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 45.456, + "Actual Total Time": 189.195, + "Actual Rows": 45, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 43.586, + "Actual Total Time": 192.306, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 91.325, + "Actual Total Time": 191.021, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.955, + "Actual Total Time": 183.449, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 37.023, + "Actual Total Time": 182.237, + "Actual Rows": 47, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 10203.09, + "Plan Rows": 2, + "Plan Width": 81, + "Actual Startup Time": 43.603, + "Actual Total Time": 186.300, + "Actual Rows": 45, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.818, + "Actual Total Time": 171.827, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.035, + "Actual Total Time": 185.969, + "Actual Rows": 45, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 45.412, + "Actual Total Time": 188.696, + "Actual Rows": 45, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 43.541, + "Actual Total Time": 191.945, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 91.275, + "Actual Total Time": 190.566, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.923, + "Actual Total Time": 182.811, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 36.979, + "Actual Total Time": 181.747, + "Actual Rows": 47, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10182.56, + "Plan Rows": 18, + "Plan Width": 31, + "Actual Startup Time": 2.548, + "Actual Total Time": 150.556, + "Actual Rows": 769, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.017, + "Actual Total Time": 131.746, + "Actual Rows": 819, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.933, + "Actual Total Time": 158.644, + "Actual Rows": 702, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.403, + "Actual Total Time": 151.369, + "Actual Rows": 678, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.499, + "Actual Total Time": 153.875, + "Actual Rows": 916, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.507, + "Actual Total Time": 158.818, + "Actual Rows": 740, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.409, + "Actual Total Time": 136.898, + "Actual Rows": 773, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.421, + "Actual Total Time": 149.139, + "Actual Rows": 842, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10111.16, + "Plan Rows": 58, + "Plan Width": 10, + "Actual Startup Time": 0.602, + "Actual Total Time": 90.302, + "Actual Rows": 1981, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.616, + "Actual Total Time": 77.050, + "Actual Rows": 1856, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.263, + "Actual Total Time": 92.123, + "Actual Rows": 1864, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.300, + "Actual Total Time": 94.439, + "Actual Rows": 1694, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.044, + "Actual Total Time": 88.041, + "Actual Rows": 2203, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.270, + "Actual Total Time": 92.191, + "Actual Rows": 2044, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.370, + "Actual Total Time": 82.833, + "Actual Rows": 2034, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.400, + "Actual Total Time": 95.716, + "Actual Rows": 2080, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 10091.30, + "Plan Rows": 6613, + "Plan Width": 14, + "Actual Startup Time": 0.059, + "Actual Total Time": 85.934, + "Actual Rows": 6706, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Filter": "(mi_idx.info > '8.0'::text)", + "Rows Removed by Filter": 165798, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.058, + "Actual Total Time": 73.574, + "Actual Rows": 5672, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 88.159, + "Actual Rows": 6955, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.053, + "Actual Total Time": 90.747, + "Actual Rows": 6352, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 82.318, + "Actual Rows": 6960, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 86.356, + "Actual Rows": 6664, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.162, + "Actual Total Time": 78.962, + "Actual Rows": 6750, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.040, + "Actual Total Time": 91.638, + "Actual Rows": 7460, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.077, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.23, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 15849, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2008) AND (t.production_year <= 2014))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1856 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1864 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1694 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 2203 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 2044 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2034 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2080 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 6152, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.note IS NULL) AND (mi.info = ANY ('{Horror,Thriller}'::text[])))", + "Rows Removed by Filter": 18, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 819 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 702 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 678 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 916 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 740 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 773 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 842 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 358, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 41 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 45 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 45 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 32 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 46 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 63 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 47 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.69, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.253, + "Actual Total Time": 0.315, + "Actual Rows": 1, + "Actual Loops": 358, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 34, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.455, + "Actual Total Time": 0.647, + "Actual Rows": 1, + "Actual Loops": 41 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.283, + "Actual Total Time": 0.307, + "Actual Rows": 1, + "Actual Loops": 45 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.209, + "Actual Total Time": 0.246, + "Actual Rows": 1, + "Actual Loops": 45 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.202, + "Actual Total Time": 0.240, + "Actual Rows": 1, + "Actual Loops": 32 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.142, + "Actual Total Time": 0.209, + "Actual Rows": 1, + "Actual Loops": 46 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.192, + "Actual Total Time": 0.246, + "Actual Rows": 1, + "Actual Loops": 63 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.326, + "Actual Total Time": 0.371, + "Actual Rows": 1, + "Actual Loops": 47 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 268, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender IS NOT NULL) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 38 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 28 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 32 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 21 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 30 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 59 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 32 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2924466581088026648, + "Planning Time": 16.007, + "Triggers": [ + ], + "Execution Time": 221.058, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -2924466581088026648, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(t.title) AS movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND mi.info IN ('Horror',
                  'Action',
                  'Sci-Fi',
                  'Thriller',
                  'Crime',
                  'War')
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11886.80, + "Total Cost": 11886.81, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 4394.441, + "Actual Total Time": 4435.927, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11886.73, + "Total Cost": 11886.74, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 4390.111, + "Actual Total Time": 4435.887, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11885.73, + "Total Cost": 11885.74, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 4382.620, + "Actual Total Time": 4382.626, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4385.176, + "Actual Total Time": 4385.181, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4379.551, + "Actual Total Time": 4379.558, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4372.711, + "Actual Total Time": 4372.718, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4385.259, + "Actual Total Time": 4385.264, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4383.232, + "Actual Total Time": 4383.238, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4382.955, + "Actual Total Time": 4382.960, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4382.988, + "Actual Total Time": 4382.993, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.42, + "Total Cost": 11885.72, + "Plan Rows": 2, + "Plan Width": 65, + "Actual Startup Time": 30.103, + "Actual Total Time": 4373.681, + "Actual Rows": 3509, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 63.425, + "Actual Total Time": 4376.377, + "Actual Rows": 3673, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.639, + "Actual Total Time": 4370.636, + "Actual Rows": 3331, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.764, + "Actual Total Time": 4363.904, + "Actual Rows": 3675, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.267, + "Actual Total Time": 4375.974, + "Actual Rows": 3562, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.935, + "Actual Total Time": 4374.614, + "Actual Rows": 3609, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.602, + "Actual Total Time": 4375.016, + "Actual Rows": 3309, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.649, + "Actual Total Time": 4373.881, + "Actual Rows": 3598, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.99, + "Total Cost": 11884.73, + "Plan Rows": 2, + "Plan Width": 60, + "Actual Startup Time": 29.941, + "Actual Total Time": 4301.294, + "Actual Rows": 3509, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 63.326, + "Actual Total Time": 4301.984, + "Actual Rows": 3673, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.576, + "Actual Total Time": 4299.854, + "Actual Rows": 3331, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.684, + "Actual Total Time": 4294.321, + "Actual Rows": 3675, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.584, + "Actual Total Time": 4305.359, + "Actual Rows": 3562, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.839, + "Actual Total Time": 4306.447, + "Actual Rows": 3609, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.489, + "Actual Total Time": 4296.168, + "Actual Rows": 3309, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.527, + "Actual Total Time": 4297.360, + "Actual Rows": 3598, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.56, + "Total Cost": 11882.19, + "Plan Rows": 5, + "Plan Width": 64, + "Actual Startup Time": 13.389, + "Actual Total Time": 4159.433, + "Actual Rows": 6769, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.175, + "Actual Total Time": 4159.719, + "Actual Rows": 7011, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.527, + "Actual Total Time": 4164.475, + "Actual Rows": 6493, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.519, + "Actual Total Time": 4152.571, + "Actual Rows": 6938, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.432, + "Actual Total Time": 4160.070, + "Actual Rows": 6935, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.055, + "Actual Total Time": 4164.504, + "Actual Rows": 6798, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.541, + "Actual Total Time": 4157.854, + "Actual Rows": 6643, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.834, + "Actual Total Time": 4153.644, + "Actual Rows": 6770, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.12, + "Total Cost": 11876.10, + "Plan Rows": 4, + "Plan Width": 56, + "Actual Startup Time": 1.636, + "Actual Total Time": 2049.300, + "Actual Rows": 12814, + "Actual Loops": 8, + "Output": ["mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.633, + "Actual Total Time": 2038.802, + "Actual Rows": 12968, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.975, + "Actual Total Time": 2064.403, + "Actual Rows": 12673, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.552, + "Actual Total Time": 2030.917, + "Actual Rows": 13374, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.428, + "Actual Total Time": 2075.295, + "Actual Rows": 13082, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.143, + "Actual Total Time": 2080.297, + "Actual Rows": 12771, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.418, + "Actual Total Time": 2028.222, + "Actual Rows": 12621, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.471, + "Actual Total Time": 2024.994, + "Actual Rows": 12621, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.28, + "Total Cost": 11873.09, + "Plan Rows": 425, + "Plan Width": 60, + "Actual Startup Time": 1.349, + "Actual Total Time": 2030.788, + "Actual Rows": 13112, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.372, + "Actual Total Time": 2020.899, + "Actual Rows": 13227, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.656, + "Actual Total Time": 2044.170, + "Actual Rows": 13032, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.302, + "Actual Total Time": 2011.988, + "Actual Rows": 13733, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.182, + "Actual Total Time": 2057.440, + "Actual Rows": 13428, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.936, + "Actual Total Time": 2061.587, + "Actual Rows": 13052, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.136, + "Actual Total Time": 2010.664, + "Actual Rows": 12845, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.207, + "Actual Total Time": 2006.340, + "Actual Rows": 12912, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1527, + "Plan Width": 10, + "Actual Startup Time": 0.034, + "Actual Total Time": 163.014, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 160.785, + "Actual Rows": 57052, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 175.446, + "Actual Rows": 57517, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 158.815, + "Actual Rows": 57911, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 160.634, + "Actual Rows": 58728, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 164.611, + "Actual Rows": 59831, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.034, + "Actual Total Time": 162.968, + "Actual Rows": 57051, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.033, + "Actual Total Time": 158.747, + "Actual Rows": 56926, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 14, + "Actual Startup Time": 0.011, + "Actual Total Time": 48.823, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 48.070, + "Actual Rows": 171147, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 50.508, + "Actual Rows": 172530, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 47.610, + "Actual Rows": 173845, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 48.036, + "Actual Rows": 176207, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 49.732, + "Actual Rows": 179487, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 47.408, + "Actual Rows": 171159, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 47.732, + "Actual Rows": 170771, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 459925, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Action,Sci-Fi,Thriller,Crime,War}'::text[]))", + "Rows Removed by Filter": 15, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 57052 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 57517 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 57911 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 58728 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 59831 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 57051 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 56926 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.060, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.51, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.140, + "Actual Total Time": 0.163, + "Actual Rows": 1, + "Actual Loops": 102516, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 39, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.140, + "Actual Total Time": 0.162, + "Actual Rows": 1, + "Actual Loops": 12968 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.142, + "Actual Total Time": 0.164, + "Actual Rows": 1, + "Actual Loops": 12673 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.136, + "Actual Total Time": 0.157, + "Actual Rows": 1, + "Actual Loops": 13374 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.136, + "Actual Total Time": 0.158, + "Actual Rows": 1, + "Actual Loops": 13082 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.139, + "Actual Total Time": 0.162, + "Actual Rows": 1, + "Actual Loops": 12771 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.143, + "Actual Total Time": 0.167, + "Actual Rows": 1, + "Actual Loops": 12621 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.143, + "Actual Total Time": 0.167, + "Actual Rows": 1, + "Actual Loops": 12621 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 54155, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 7011 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 6493 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 6938 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 6935 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 6798 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 6643 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 6770 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 28073, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 3673 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 3331 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 3675 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 3562 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 3609 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 3309 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 3598 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1168076528610430802, + "Planning Time": 14.645, + "Triggers": [ + ], + "Execution Time": 4436.278, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 1168076528610430802, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS voicing_actress,
       MIN(t.title) AS voiced_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND mc.note IS NOT NULL
  AND (mc.note LIKE '%(USA)%'
       OR mc.note LIKE '%(worldwide)%')
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%200%'
       OR mi.info LIKE 'USA:%200%')
  AND n.gender ='f'
  AND n.name LIKE '%Ang%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2005 AND 2009
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mi.movie_id = ci.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 35756.78, + "Total Cost": 35756.79, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 5079.765, + "Actual Total Time": 5110.944, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 35756.73, + "Total Cost": 35756.74, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 4611.192, + "Actual Total Time": 5110.900, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 35755.73, + "Total Cost": 35755.74, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 4689.226, + "Actual Total Time": 4689.235, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5069.432, + "Actual Total Time": 5069.438, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4603.508, + "Actual Total Time": 4603.516, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4600.833, + "Actual Total Time": 4600.841, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4595.979, + "Actual Total Time": 4595.988, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4602.312, + "Actual Total Time": 4602.320, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4829.362, + "Actual Total Time": 4829.368, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4602.173, + "Actual Total Time": 4602.181, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.96, + "Total Cost": 35755.73, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1690.990, + "Actual Total Time": 4689.161, + "Actual Rows": 23, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3037.075, + "Actual Total Time": 5069.386, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2640.652, + "Actual Total Time": 4603.474, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2124.931, + "Actual Total Time": 4600.793, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 20.815, + "Actual Total Time": 4595.882, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 554.300, + "Actual Total Time": 4602.166, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2465.301, + "Actual Total Time": 4829.295, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 361.641, + "Actual Total Time": 4602.098, + "Actual Rows": 24, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.53, + "Total Cost": 35755.18, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 50.145, + "Actual Total Time": 4580.551, + "Actual Rows": 8378, + "Actual Loops": 8, + "Output": ["an.person_id", "ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 116.071, + "Actual Total Time": 4971.110, + "Actual Rows": 7879, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.989, + "Actual Total Time": 4461.193, + "Actual Rows": 10232, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 57.616, + "Actual Total Time": 4383.650, + "Actual Rows": 18033, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.312, + "Actual Total Time": 4498.288, + "Actual Rows": 6943, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.171, + "Actual Total Time": 4472.205, + "Actual Rows": 10791, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 73.107, + "Actual Total Time": 4760.140, + "Actual Rows": 4562, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.044, + "Actual Total Time": 4542.240, + "Actual Rows": 4626, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.11, + "Total Cost": 35754.70, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 20.321, + "Actual Total Time": 4521.174, + "Actual Rows": 4450, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.833, + "Actual Total Time": 4916.973, + "Actual Rows": 4381, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 49.776, + "Actual Total Time": 4386.604, + "Actual Rows": 5595, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.967, + "Actual Total Time": 4318.980, + "Actual Rows": 3142, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.774, + "Actual Total Time": 4412.992, + "Actual Rows": 6939, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.435, + "Actual Total Time": 4410.931, + "Actual Rows": 4716, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.550, + "Actual Total Time": 4706.800, + "Actual Rows": 4417, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.451, + "Actual Total Time": 4504.624, + "Actual Rows": 2872, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.68, + "Total Cost": 35754.24, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 18.754, + "Actual Total Time": 4396.534, + "Actual Rows": 5034, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.person_role_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.663, + "Actual Total Time": 4772.929, + "Actual Rows": 5024, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 49.508, + "Actual Total Time": 4234.676, + "Actual Rows": 5922, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.626, + "Actual Total Time": 4243.935, + "Actual Rows": 3364, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.773, + "Actual Total Time": 4229.970, + "Actual Rows": 8431, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.143, + "Actual Total Time": 4284.422, + "Actual Rows": 5589, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.844, + "Actual Total Time": 4599.319, + "Actual Rows": 4672, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.140, + "Actual Total Time": 4417.911, + "Actual Rows": 3131, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 35753.09, + "Plan Rows": 16, + "Plan Width": 29, + "Actual Startup Time": 11.659, + "Actual Total Time": 4384.893, + "Actual Rows": 16260, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.role_id", "ci.person_role_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.144, + "Actual Total Time": 4761.648, + "Actual Rows": 18896, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 26.647, + "Actual Total Time": 4221.048, + "Actual Rows": 19723, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.834, + "Actual Total Time": 4236.405, + "Actual Rows": 10555, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.806, + "Actual Total Time": 4215.111, + "Actual Rows": 22091, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.137, + "Actual Total Time": 4272.974, + "Actual Rows": 17701, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.283, + "Actual Total Time": 4588.655, + "Actual Rows": 15791, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.345, + "Actual Total Time": 4410.480, + "Actual Rows": 10967, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 35716.78, + "Plan Rows": 20, + "Plan Width": 29, + "Actual Startup Time": 0.733, + "Actual Total Time": 2012.391, + "Actual Rows": 14535, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.395, + "Actual Total Time": 2136.053, + "Actual Rows": 18195, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.449, + "Actual Total Time": 1867.689, + "Actual Rows": 13851, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.645, + "Actual Total Time": 2111.498, + "Actual Rows": 14130, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.659, + "Actual Total Time": 2164.946, + "Actual Rows": 14775, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.506, + "Actual Total Time": 1683.534, + "Actual Rows": 12306, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.847, + "Actual Total Time": 2044.231, + "Actual Rows": 13244, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.257, + "Actual Total Time": 2008.545, + "Actual Rows": 14281, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 35708.65, + "Plan Rows": 2307, + "Plan Width": 33, + "Actual Startup Time": 0.642, + "Actual Total Time": 1989.037, + "Actual Rows": 14536, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.372, + "Actual Total Time": 2108.248, + "Actual Rows": 18196, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.334, + "Actual Total Time": 1844.414, + "Actual Rows": 13852, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.623, + "Actual Total Time": 2089.303, + "Actual Rows": 14133, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.637, + "Actual Total Time": 2142.336, + "Actual Rows": 14775, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.486, + "Actual Total Time": 1662.955, + "Actual Rows": 12308, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.714, + "Actual Total Time": 2022.841, + "Actual Rows": 13245, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.236, + "Actual Total Time": 1985.548, + "Actual Rows": 14282, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 31878.23, + "Plan Rows": 2969, + "Plan Width": 25, + "Actual Startup Time": 0.522, + "Actual Total Time": 1482.063, + "Actual Rows": 10872, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.261, + "Actual Total Time": 1515.288, + "Actual Rows": 14082, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.210, + "Actual Total Time": 1337.486, + "Actual Rows": 9870, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.514, + "Actual Total Time": 1657.778, + "Actual Rows": 11432, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.427, + "Actual Total Time": 1684.034, + "Actual Rows": 11274, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.355, + "Actual Total Time": 1111.024, + "Actual Rows": 8284, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.620, + "Actual Total Time": 1521.126, + "Actual Rows": 10110, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.108, + "Actual Total Time": 1472.275, + "Actual Rows": 10420, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 23817.92, + "Plan Rows": 13097, + "Plan Width": 4, + "Actual Startup Time": 0.165, + "Actual Total Time": 545.228, + "Actual Rows": 67762, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.154, + "Actual Total Time": 435.739, + "Actual Rows": 90328, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.122, + "Actual Total Time": 573.138, + "Actual Rows": 49503, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.400, + "Actual Total Time": 620.844, + "Actual Rows": 78025, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.141, + "Actual Total Time": 712.339, + "Actual Rows": 68393, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.134, + "Actual Total Time": 373.887, + "Actual Rows": 49134, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.118, + "Actual Total Time": 357.716, + "Actual Rows": 88643, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.157, + "Actual Total Time": 616.658, + "Actual Rows": 57853, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10610, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 19.700, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.046, + "Actual Total Time": 9.356, + "Actual Rows": 4122, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 23.459, + "Actual Rows": 13457, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.046, + "Actual Total Time": 25.356, + "Actual Rows": 14224, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.050, + "Actual Total Time": 31.980, + "Actual Rows": 15723, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 13.108, + "Actual Rows": 7468, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 3.953, + "Actual Rows": 1746, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.042, + "Actual Total Time": 23.621, + "Actual Rows": 12779, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.87, + "Plan Rows": 6, + "Plan Width": 8, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.047, + "Actual Rows": 6, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note IS NOT NULL) AND ((mc.note ~~ '%(USA)%'::text) OR (mc.note ~~ '%(worldwide)%'::text)))", + "Rows Removed by Filter": 7, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.096, + "Actual Rows": 22, + "Actual Loops": 4122 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.039, + "Actual Rows": 4, + "Actual Loops": 13457 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.039, + "Actual Rows": 5, + "Actual Loops": 14224 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.041, + "Actual Rows": 4, + "Actual Loops": 15723 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.045, + "Actual Rows": 7, + "Actual Loops": 7468 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.183, + "Actual Rows": 51, + "Actual Loops": 1746 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.044, + "Actual Rows": 5, + "Actual Loops": 12779 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.62, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 542096, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2009))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 90328 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 49503 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 78025 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 68393 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 49134 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 88643 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 57853 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.28, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 86979, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%200%'::text) OR (mi.info ~~ 'USA:%200%'::text)))", + "Rows Removed by Filter": 20, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 14082 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.050, + "Actual Rows": 1, + "Actual Loops": 9870 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 11432 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 11274 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.065, + "Actual Rows": 1, + "Actual Loops": 8284 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 10110 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 10420 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.093, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.087, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 3, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 37, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.064, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.81, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.134, + "Actual Total Time": 0.162, + "Actual Rows": 1, + "Actual Loops": 116277, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 46, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.119, + "Actual Total Time": 0.143, + "Actual Rows": 1, + "Actual Loops": 18195 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.133, + "Actual Total Time": 0.168, + "Actual Rows": 1, + "Actual Loops": 13851 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.129, + "Actual Total Time": 0.149, + "Actual Rows": 1, + "Actual Loops": 14130 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.114, + "Actual Total Time": 0.137, + "Actual Rows": 1, + "Actual Loops": 14775 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.166, + "Actual Total Time": 0.209, + "Actual Rows": 1, + "Actual Loops": 12306 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.154, + "Actual Total Time": 0.190, + "Actual Rows": 1, + "Actual Loops": 13244 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.140, + "Actual Total Time": 0.167, + "Actual Rows": 1, + "Actual Loops": 14281 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.895, + "Actual Total Time": 0.896, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.161, + "Actual Total Time": 0.161, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 3.366, + "Actual Total Time": 3.368, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 40272, + "Output": ["chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 5024 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 5922 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 3364 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 8431 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 5589 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 4672 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 3131 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 35604, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 4381 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 5595 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.018, + "Actual Rows": 6, + "Actual Loops": 3142 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 6939 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 4716 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 4417 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 2872 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 67025, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%Ang%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 7879 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 10232 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 18033 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 6943 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 10791 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 4562 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 4626 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2080431693778951356, + "Planning Time": 88.542, + "Triggers": [ + ], + "Execution Time": 5111.542, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -2080431693778951356, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(n.name) AS voicing_actress,
       MIN(t.title) AS kung_fu_panda
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note = '(voice)'
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND mc.note LIKE '%(200%)%'
  AND (mc.note LIKE '%(USA)%'
       OR mc.note LIKE '%(worldwide)%')
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%2007%'
       OR mi.info LIKE 'USA:%2008%')
  AND n.gender ='f'
  AND n.name LIKE '%Angel%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2007 AND 2008
  AND t.title LIKE '%Kung%Fu%Panda%'
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mi.movie_id = ci.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 28841.32, + "Total Cost": 28841.33, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 710.840, + "Actual Total Time": 738.874, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 28841.27, + "Total Cost": 28841.28, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 710.448, + "Actual Total Time": 738.855, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 28840.27, + "Total Cost": 28840.28, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 701.826, + "Actual Total Time": 701.833, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 701.185, + "Actual Total Time": 701.190, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 700.503, + "Actual Total Time": 700.508, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 700.589, + "Actual Total Time": 700.596, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 700.289, + "Actual Total Time": 700.294, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 701.225, + "Actual Total Time": 701.230, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 700.802, + "Actual Total Time": 700.811, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 700.478, + "Actual Total Time": 700.485, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.30, + "Total Cost": 28840.27, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 629.108, + "Actual Total Time": 701.820, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 701.181, + "Actual Total Time": 701.186, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 700.500, + "Actual Total Time": 700.505, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 700.583, + "Actual Total Time": 700.590, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 700.276, + "Actual Total Time": 700.281, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 701.220, + "Actual Total Time": 701.225, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 489.825, + "Actual Total Time": 700.785, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 329.744, + "Actual Total Time": 700.445, + "Actual Rows": 10, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.16, + "Total Cost": 28840.09, + "Plan Rows": 1, + "Plan Width": 36, + "Actual Startup Time": 629.093, + "Actual Total Time": 701.794, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["ci.role_id", "n.name", "t.title"], + "Inner Unique": true, + "Join Filter": "(ci.person_id = n.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 701.180, + "Actual Total Time": 701.184, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 700.499, + "Actual Total Time": 700.504, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 700.583, + "Actual Total Time": 700.588, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 700.275, + "Actual Total Time": 700.280, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 701.220, + "Actual Total Time": 701.224, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 489.783, + "Actual Total Time": 700.721, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 329.665, + "Actual Total Time": 700.308, + "Actual Rows": 10, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.73, + "Total Cost": 28839.54, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 619.639, + "Actual Total Time": 701.333, + "Actual Rows": 34, + "Actual Loops": 8, + "Output": ["an.person_id", "ci.person_id", "ci.role_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 701.179, + "Actual Total Time": 701.183, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 700.499, + "Actual Total Time": 700.503, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 700.582, + "Actual Total Time": 700.587, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 700.275, + "Actual Total Time": 700.279, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 701.219, + "Actual Total Time": 701.223, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 443.768, + "Actual Total Time": 699.046, + "Actual Rows": 133, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 300.053, + "Actual Total Time": 698.302, + "Actual Rows": 142, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.59, + "Total Cost": 28839.36, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 619.631, + "Actual Total Time": 701.111, + "Actual Rows": 34, + "Actual Loops": 8, + "Output": ["an.person_id", "ci.person_id", "ci.role_id", "mi.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 701.178, + "Actual Total Time": 701.182, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 700.498, + "Actual Total Time": 700.501, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 700.582, + "Actual Total Time": 700.586, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 700.274, + "Actual Total Time": 700.278, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 701.218, + "Actual Total Time": 701.222, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 443.743, + "Actual Total Time": 698.243, + "Actual Rows": 133, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 300.016, + "Actual Total Time": 697.338, + "Actual Rows": 142, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.16, + "Total Cost": 28838.12, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 619.606, + "Actual Total Time": 689.329, + "Actual Rows": 34, + "Actual Loops": 8, + "Output": ["an.person_id", "ci.movie_id", "ci.person_id", "ci.role_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 701.178, + "Actual Total Time": 701.181, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 700.497, + "Actual Total Time": 700.500, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 700.581, + "Actual Total Time": 700.585, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 700.274, + "Actual Total Time": 700.277, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 701.218, + "Actual Total Time": 701.221, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 443.666, + "Actual Total Time": 663.373, + "Actual Rows": 133, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 299.897, + "Actual Total Time": 637.956, + "Actual Rows": 142, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 28837.66, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 619.593, + "Actual Total Time": 688.664, + "Actual Rows": 34, + "Actual Loops": 8, + "Output": ["an.person_id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 701.177, + "Actual Total Time": 701.179, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 700.497, + "Actual Total Time": 700.499, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 700.581, + "Actual Total Time": 700.584, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 700.273, + "Actual Total Time": 700.276, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 701.217, + "Actual Total Time": 701.220, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 443.625, + "Actual Total Time": 661.263, + "Actual Rows": 133, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 299.838, + "Actual Total Time": 634.756, + "Actual Rows": 142, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 28837.17, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 619.576, + "Actual Total Time": 688.423, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 701.176, + "Actual Total Time": 701.178, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 700.496, + "Actual Total Time": 700.498, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 700.580, + "Actual Total Time": 700.583, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 700.273, + "Actual Total Time": 700.275, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 701.216, + "Actual Total Time": 701.219, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 443.556, + "Actual Total Time": 660.408, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 299.773, + "Actual Total Time": 633.686, + "Actual Rows": 52, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 28832.54, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 619.553, + "Actual Total Time": 688.076, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 701.176, + "Actual Total Time": 701.177, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 700.495, + "Actual Total Time": 700.497, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 700.580, + "Actual Total Time": 700.581, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 700.272, + "Actual Total Time": 700.274, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 701.216, + "Actual Total Time": 701.217, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 443.491, + "Actual Total Time": 659.255, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 299.662, + "Actual Total Time": 632.075, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 24746.29, + "Plan Rows": 4291, + "Plan Width": 4, + "Actual Startup Time": 0.178, + "Actual Total Time": 411.816, + "Actual Rows": 22133, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.210, + "Actual Total Time": 415.338, + "Actual Rows": 24428, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.099, + "Actual Total Time": 427.149, + "Actual Rows": 22103, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.156, + "Actual Total Time": 382.697, + "Actual Rows": 26071, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.110, + "Actual Total Time": 420.995, + "Actual Rows": 22816, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.491, + "Actual Total Time": 402.967, + "Actual Rows": 23221, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.112, + "Actual Total Time": 392.238, + "Actual Rows": 21413, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.174, + "Actual Total Time": 399.242, + "Actual Rows": 16760, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10610, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 16.320, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 14.221, + "Actual Rows": 9682, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.036, + "Actual Total Time": 17.754, + "Actual Rows": 11557, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.042, + "Actual Total Time": 15.032, + "Actual Rows": 10212, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 17.731, + "Actual Rows": 11840, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 13.191, + "Actual Rows": 8391, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 16.964, + "Actual Rows": 11263, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.039, + "Actual Total Time": 17.823, + "Actual Rows": 9986, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 2.00, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.036, + "Actual Rows": 2, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(200%)%'::text) AND ((mc.note ~~ '%(USA)%'::text) OR (mc.note ~~ '%(worldwide)%'::text)))", + "Rows Removed by Filter": 12, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.040, + "Actual Rows": 3, + "Actual Loops": 9682 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.034, + "Actual Rows": 2, + "Actual Loops": 11557 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.035, + "Actual Rows": 3, + "Actual Loops": 10212 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.033, + "Actual Rows": 2, + "Actual Loops": 11840 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.045, + "Actual Rows": 3, + "Actual Loops": 8391 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.032, + "Actual Rows": 2, + "Actual Loops": 11263 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.037, + "Actual Rows": 2, + "Actual Loops": 9986 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.95, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 177065, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2007) AND (t.production_year <= 2008) AND (t.title ~~ '%Kung%Fu%Panda%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 24428 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 22103 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 26071 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 22816 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 23221 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 21413 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 16760 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 4.62, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.666, + "Actual Rows": 25, + "Actual Loops": 4, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = '(voice)'::text)", + "Rows Removed by Filter": 127, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.554, + "Actual Rows": 24, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.779, + "Actual Rows": 26, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 100, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 48 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 52 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 275, + "Output": ["chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 133 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 142 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.23, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.341, + "Actual Rows": 1, + "Actual Loops": 275, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%2007%'::text) OR (mi.info ~~ 'USA:%2008%'::text)))", + "Rows Removed by Filter": 295, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.261, + "Actual Rows": 1, + "Actual Loops": 133 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.417, + "Actual Rows": 1, + "Actual Loops": 142 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 275, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 133 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 142 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 275, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%Angel%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 133 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 142 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 15, + "Output": ["rt.id", "rt.role"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 10 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2216088972165640435, + "Planning Time": 66.341, + "Triggers": [ + ], + "Execution Time": 739.284, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -2216088972165640435, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(n.name) AS voicing_actress,
       MIN(t.title) AS jap_engl_voiced_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%200%'
       OR mi.info LIKE 'USA:%200%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.production_year > 2000
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mi.movie_id = ci.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 70186.24, + "Total Cost": 70186.25, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 576.848, + "Actual Total Time": 582.229, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 70186.19, + "Total Cost": 70186.20, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 576.791, + "Actual Total Time": 582.190, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 70185.19, + "Total Cost": 70185.20, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 562.592, + "Actual Total Time": 562.602, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 563.648, + "Actual Total Time": 563.657, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 558.123, + "Actual Total Time": 558.132, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 556.512, + "Actual Total Time": 556.522, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 559.530, + "Actual Total Time": 559.539, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 563.769, + "Actual Total Time": 563.778, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 563.765, + "Actual Total Time": 563.774, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 559.444, + "Actual Total Time": 559.456, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.95, + "Total Cost": 70185.18, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 124.806, + "Actual Total Time": 562.111, + "Actual Rows": 447, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 114.098, + "Actual Total Time": 563.088, + "Actual Rows": 433, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 118.044, + "Actual Total Time": 557.228, + "Actual Rows": 965, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 117.276, + "Actual Total Time": 556.108, + "Actual Rows": 345, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 127.264, + "Actual Total Time": 559.178, + "Actual Rows": 300, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 142.610, + "Actual Total Time": 563.468, + "Actual Rows": 285, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 111.014, + "Actual Total Time": 563.411, + "Actual Rows": 318, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 120.021, + "Actual Total Time": 558.899, + "Actual Rows": 489, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.53, + "Total Cost": 70184.74, + "Plan Rows": 1, + "Plan Width": 36, + "Actual Startup Time": 124.710, + "Actual Total Time": 545.520, + "Actual Rows": 1462, + "Actual Loops": 8, + "Output": ["mc.company_id", "n.name", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 113.954, + "Actual Total Time": 549.355, + "Actual Rows": 1163, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 117.897, + "Actual Total Time": 536.518, + "Actual Rows": 1954, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 117.226, + "Actual Total Time": 541.526, + "Actual Rows": 1196, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 127.165, + "Actual Total Time": 548.648, + "Actual Rows": 811, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 142.548, + "Actual Total Time": 552.599, + "Actual Rows": 953, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 110.853, + "Actual Total Time": 547.580, + "Actual Rows": 1278, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 119.957, + "Actual Total Time": 535.509, + "Actual Rows": 2036, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.10, + "Total Cost": 70184.18, + "Plan Rows": 1, + "Plan Width": 44, + "Actual Startup Time": 122.714, + "Actual Total Time": 538.384, + "Actual Rows": 454, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 112.846, + "Actual Total Time": 543.653, + "Actual Rows": 328, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 117.797, + "Actual Total Time": 528.043, + "Actual Rows": 526, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 117.153, + "Actual Total Time": 536.647, + "Actual Rows": 215, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 112.815, + "Actual Total Time": 542.034, + "Actual Rows": 498, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 142.444, + "Actual Total Time": 549.375, + "Actual Rows": 124, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 110.758, + "Actual Total Time": 540.493, + "Actual Rows": 525, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 119.876, + "Actual Total Time": 518.903, + "Actual Rows": 1285, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 70182.28, + "Plan Rows": 21, + "Plan Width": 48, + "Actual Startup Time": 122.346, + "Actual Total Time": 537.476, + "Actual Rows": 454, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.movie_id", "mi.info_type_id", "n.name", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 112.604, + "Actual Total Time": 542.991, + "Actual Rows": 328, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 117.413, + "Actual Total Time": 527.041, + "Actual Rows": 526, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 116.843, + "Actual Total Time": 536.039, + "Actual Rows": 215, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 112.244, + "Actual Total Time": 540.863, + "Actual Rows": 498, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 142.162, + "Actual Total Time": 548.907, + "Actual Rows": 124, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 110.482, + "Actual Total Time": 539.612, + "Actual Rows": 525, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 119.362, + "Actual Total Time": 517.009, + "Actual Rows": 1285, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 70135.63, + "Plan Rows": 43, + "Plan Width": 40, + "Actual Startup Time": 113.768, + "Actual Total Time": 518.987, + "Actual Rows": 588, + "Actual Loops": 8, + "Output": ["ci.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 112.501, + "Actual Total Time": 525.566, + "Actual Rows": 455, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 117.286, + "Actual Total Time": 508.962, + "Actual Rows": 514, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 116.737, + "Actual Total Time": 527.178, + "Actual Rows": 246, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 110.727, + "Actual Total Time": 512.782, + "Actual Rows": 1088, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 120.971, + "Actual Total Time": 536.272, + "Actual Rows": 343, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 110.345, + "Actual Total Time": 518.472, + "Actual Rows": 611, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 103.307, + "Actual Total Time": 489.921, + "Actual Rows": 1277, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 70096.08, + "Plan Rows": 78, + "Plan Width": 19, + "Actual Startup Time": 109.481, + "Actual Total Time": 506.004, + "Actual Rows": 966, + "Actual Loops": 8, + "Output": ["ci.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 112.177, + "Actual Total Time": 511.395, + "Actual Rows": 980, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 108.896, + "Actual Total Time": 495.515, + "Actual Rows": 1095, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 102.102, + "Actual Total Time": 519.031, + "Actual Rows": 442, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 110.665, + "Actual Total Time": 493.885, + "Actual Rows": 1584, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 110.314, + "Actual Total Time": 526.387, + "Actual Rows": 659, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 110.269, + "Actual Total Time": 507.357, + "Actual Rows": 840, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 103.214, + "Actual Total Time": 468.570, + "Actual Rows": 1693, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.97, + "Total Cost": 70021.74, + "Plan Rows": 162, + "Plan Width": 23, + "Actual Startup Time": 109.325, + "Actual Total Time": 491.146, + "Actual Rows": 1026, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_role_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 112.087, + "Actual Total Time": 495.094, + "Actual Rows": 1052, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 108.813, + "Actual Total Time": 481.314, + "Actual Rows": 1151, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 101.993, + "Actual Total Time": 508.159, + "Actual Rows": 491, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 110.586, + "Actual Total Time": 472.566, + "Actual Rows": 1661, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 110.247, + "Actual Total Time": 514.743, + "Actual Rows": 712, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 110.142, + "Actual Total Time": 494.912, + "Actual Rows": 895, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 102.563, + "Actual Total Time": 445.475, + "Actual Rows": 1786, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 70013.72, + "Plan Rows": 1949, + "Plan Width": 27, + "Actual Startup Time": 109.303, + "Actual Total Time": 489.976, + "Actual Rows": 1026, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.role_id", "ci.person_role_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(n.id = ci.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 112.067, + "Actual Total Time": 493.837, + "Actual Rows": 1052, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 108.792, + "Actual Total Time": 480.088, + "Actual Rows": 1151, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 101.973, + "Actual Total Time": 507.437, + "Actual Rows": 491, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 110.565, + "Actual Total Time": 470.812, + "Actual Rows": 1661, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 110.231, + "Actual Total Time": 513.814, + "Actual Rows": 712, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 110.123, + "Actual Total Time": 493.932, + "Actual Rows": 895, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 102.539, + "Actual Total Time": 443.684, + "Actual Rows": 1786, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.42, + "Total Cost": 66067.81, + "Plan Rows": 992, + "Plan Width": 23, + "Actual Startup Time": 104.481, + "Actual Total Time": 336.268, + "Actual Rows": 1316, + "Actual Loops": 8, + "Output": ["an.person_id", "n.name", "n.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 105.882, + "Actual Total Time": 339.636, + "Actual Rows": 1501, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 100.308, + "Actual Total Time": 328.693, + "Actual Rows": 1083, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 99.153, + "Actual Total Time": 348.341, + "Actual Rows": 1746, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 101.212, + "Actual Total Time": 330.222, + "Actual Rows": 1354, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 106.220, + "Actual Total Time": 355.811, + "Actual Rows": 1303, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 106.411, + "Actual Total Time": 342.806, + "Actual Rows": 1110, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 101.595, + "Actual Total Time": 290.310, + "Actual Rows": 1148, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 63478.05, + "Plan Rows": 4589, + "Plan Width": 19, + "Actual Startup Time": 104.278, + "Actual Total Time": 280.579, + "Actual Rows": 6251, + "Actual Loops": 8, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 514685, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 105.626, + "Actual Total Time": 279.872, + "Actual Rows": 7095, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 100.169, + "Actual Total Time": 278.929, + "Actual Rows": 5010, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 99.054, + "Actual Total Time": 281.754, + "Actual Rows": 7874, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 100.967, + "Actual Total Time": 274.555, + "Actual Rows": 6603, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 105.964, + "Actual Total Time": 298.261, + "Actual Rows": 6053, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 106.218, + "Actual Total Time": 293.105, + "Actual Rows": 5636, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 101.467, + "Actual Total Time": 239.343, + "Actual Rows": 5386, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.54, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 50011, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 7095 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 5010 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 7874 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 6603 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6053 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 5636 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 5386 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 3.94, + "Plan Rows": 3, + "Plan Width": 16, + "Actual Startup Time": 0.108, + "Actual Total Time": 0.115, + "Actual Rows": 1, + "Actual Loops": 10525, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.person_id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.101, + "Actual Rows": 1, + "Actual Loops": 1501 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.132, + "Actual Total Time": 0.138, + "Actual Rows": 1, + "Actual Loops": 1083 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.084, + "Actual Total Time": 0.090, + "Actual Rows": 0, + "Actual Loops": 1746 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.097, + "Actual Total Time": 0.102, + "Actual Rows": 1, + "Actual Loops": 1354 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.112, + "Actual Total Time": 0.120, + "Actual Rows": 1, + "Actual Loops": 1303 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.129, + "Actual Total Time": 0.135, + "Actual Rows": 1, + "Actual Loops": 1110 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.120, + "Actual Total Time": 0.132, + "Actual Rows": 2, + "Actual Loops": 1148 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 8204, + "Output": ["chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 1052 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1151 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 491 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1661 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 712 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 895 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1786 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 7726, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 980 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 1095 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 442 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1584 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 659 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 840 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1693 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.08, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 4703, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%200%'::text) OR (mi.info ~~ 'USA:%200%'::text)))", + "Rows Removed by Filter": 14, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 455 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 514 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 246 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1088 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 343 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 611 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 1277 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.076, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 3628, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.015, + "Actual Rows": 4, + "Actual Loops": 328 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.014, + "Actual Rows": 4, + "Actual Loops": 526 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.020, + "Actual Rows": 6, + "Actual Loops": 215 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 498 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.022, + "Actual Rows": 8, + "Actual Loops": 124 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 525 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 1285 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 11692, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 1163 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 1954 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 1196 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 811 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 953 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1278 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 2036 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5068614643165729469, + "Planning Time": 80.659, + "Triggers": [ + ], + "Execution Time": 582.703, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 5068614643165729469, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(n.name) AS voicing_actress,
       MIN(t.title) AS jap_engl_voiced_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND n.gender ='f'
  AND rt.role ='actress'
  AND t.production_year > 2000
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mi.movie_id = ci.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 129156.27, + "Total Cost": 129156.28, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 21090.504, + "Actual Total Time": 21116.770, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 129156.22, + "Total Cost": 129156.23, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 21059.072, + "Actual Total Time": 21116.738, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 129155.22, + "Total Cost": 129155.23, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 20060.501, + "Actual Total Time": 20060.509, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19640.006, + "Actual Total Time": 19640.017, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19718.757, + "Actual Total Time": 19718.764, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19712.590, + "Actual Total Time": 19712.596, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19642.244, + "Actual Total Time": 19642.251, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 19575.367, + "Actual Total Time": 19575.374, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20071.959, + "Actual Total Time": 20071.965, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21065.023, + "Actual Total Time": 21065.030, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 106254.56, + "Total Cost": 129154.22, + "Plan Rows": 200, + "Plan Width": 32, + "Actual Startup Time": 7426.265, + "Actual Total Time": 19891.965, + "Actual Rows": 220081, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7413.738, + "Actual Total Time": 19465.671, + "Actual Rows": 227166, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7421.878, + "Actual Total Time": 19518.642, + "Actual Rows": 258717, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7428.072, + "Actual Total Time": 19552.547, + "Actual Rows": 208749, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7427.437, + "Actual Total Time": 19499.082, + "Actual Rows": 182030, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7424.735, + "Actual Total Time": 19430.672, + "Actual Rows": 184015, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7429.360, + "Actual Total Time": 19937.893, + "Actual Rows": 167419, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7424.890, + "Actual Total Time": 20856.371, + "Actual Rows": 288348, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 106254.14, + "Total Cost": 128910.00, + "Plan Rows": 553, + "Plan Width": 36, + "Actual Startup Time": 7425.851, + "Actual Total Time": 12445.520, + "Actual Rows": 752961, + "Actual Loops": 8, + "Output": ["mc.company_id", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7413.634, + "Actual Total Time": 12287.367, + "Actual Rows": 715847, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7421.830, + "Actual Total Time": 12669.632, + "Actual Rows": 675494, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7427.917, + "Actual Total Time": 12092.741, + "Actual Rows": 758564, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7427.403, + "Actual Total Time": 11680.063, + "Actual Rows": 783895, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7424.313, + "Actual Total Time": 12426.715, + "Actual Rows": 690019, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7429.330, + "Actual Total Time": 13068.069, + "Actual Rows": 668475, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7424.825, + "Actual Total Time": 12150.630, + "Actual Rows": 926082, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 106253.71, + "Total Cost": 128831.63, + "Plan Rows": 142, + "Plan Width": 44, + "Actual Startup Time": 7425.685, + "Actual Total Time": 10581.662, + "Actual Rows": 87874, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7413.568, + "Actual Total Time": 10464.948, + "Actual Rows": 85283, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7421.579, + "Actual Total Time": 10734.803, + "Actual Rows": 99828, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7427.524, + "Actual Total Time": 10277.834, + "Actual Rows": 83261, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7427.351, + "Actual Total Time": 9960.784, + "Actual Rows": 66463, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7423.897, + "Actual Total Time": 10720.903, + "Actual Rows": 78068, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7429.286, + "Actual Total Time": 11280.157, + "Actual Rows": 88506, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7424.773, + "Actual Total Time": 10105.097, + "Actual Rows": 90528, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 106251.86, + "Total Cost": 128786.19, + "Plan Rows": 16005, + "Plan Width": 48, + "Actual Startup Time": 7424.441, + "Actual Total Time": 10383.018, + "Actual Rows": 433925, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.movie_id", "mi.info_type_id", "n.name", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7413.190, + "Actual Total Time": 10270.800, + "Actual Rows": 429990, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7421.263, + "Actual Total Time": 10499.498, + "Actual Rows": 512940, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7427.181, + "Actual Total Time": 10095.583, + "Actual Rows": 385398, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7420.415, + "Actual Total Time": 9806.307, + "Actual Rows": 317099, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7422.995, + "Actual Total Time": 10539.952, + "Actual Rows": 376589, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7428.965, + "Actual Total Time": 11090.764, + "Actual Rows": 392655, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7424.441, + "Actual Total Time": 9895.680, + "Actual Rows": 513437, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 106251.43, + "Total Cost": 127451.87, + "Plan Rows": 1126, + "Plan Width": 40, + "Actual Startup Time": 7424.358, + "Actual Total Time": 9515.319, + "Actual Rows": 36287, + "Actual Loops": 8, + "Output": ["ci.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7413.069, + "Actual Total Time": 9429.540, + "Actual Rows": 32888, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7421.178, + "Actual Total Time": 9537.593, + "Actual Rows": 36354, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7427.003, + "Actual Total Time": 9309.700, + "Actual Rows": 33336, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7420.357, + "Actual Total Time": 9144.002, + "Actual Rows": 26940, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7422.946, + "Actual Total Time": 9713.491, + "Actual Rows": 35290, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7428.909, + "Actual Total Time": 10111.320, + "Actual Rows": 48489, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7424.391, + "Actual Total Time": 9117.251, + "Actual Rows": 24246, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 106251.00, + "Total Cost": 126408.56, + "Plan Rows": 2058, + "Plan Width": 19, + "Actual Startup Time": 7424.288, + "Actual Total Time": 8854.718, + "Actual Rows": 60355, + "Actual Loops": 8, + "Output": ["ci.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7412.996, + "Actual Total Time": 8792.743, + "Actual Rows": 57210, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7420.983, + "Actual Total Time": 8859.379, + "Actual Rows": 62161, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7426.949, + "Actual Total Time": 8708.211, + "Actual Rows": 54832, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7420.328, + "Actual Total Time": 8608.134, + "Actual Rows": 47774, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7422.919, + "Actual Total Time": 8991.276, + "Actual Rows": 64675, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7428.813, + "Actual Total Time": 9263.056, + "Actual Rows": 74988, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7424.354, + "Actual Total Time": 8590.975, + "Actual Rows": 52156, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 106250.57, + "Total Cost": 124450.83, + "Plan Rows": 4266, + "Plan Width": 23, + "Actual Startup Time": 7424.222, + "Actual Total Time": 8247.457, + "Actual Rows": 62878, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_role_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7412.853, + "Actual Total Time": 8203.453, + "Actual Rows": 59251, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7420.897, + "Actual Total Time": 8251.569, + "Actual Rows": 63309, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7426.867, + "Actual Total Time": 8175.602, + "Actual Rows": 56893, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7420.255, + "Actual Total Time": 8110.042, + "Actual Rows": 50715, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7422.884, + "Actual Total Time": 8330.495, + "Actual Rows": 67444, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7428.765, + "Actual Total Time": 8472.449, + "Actual Rows": 78663, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7424.326, + "Actual Total Time": 8094.096, + "Actual Rows": 55258, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Merge Join", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 106250.14, + "Total Cost": 114514.06, + "Plan Rows": 18438, + "Plan Width": 16, + "Actual Startup Time": 7371.736, + "Actual Total Time": 7574.429, + "Actual Rows": 62938, + "Actual Loops": 8, + "Output": ["an.person_id", "ci.movie_id", "ci.person_id", "ci.person_role_id"], + "Inner Unique": false, + "Merge Cond": "(an.person_id = ci.person_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7412.723, + "Actual Total Time": 7560.780, + "Actual Rows": 59251, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7366.236, + "Actual Total Time": 7569.596, + "Actual Rows": 63325, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7328.123, + "Actual Total Time": 7570.183, + "Actual Rows": 56899, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7339.919, + "Actual Total Time": 7569.159, + "Actual Rows": 50732, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7399.666, + "Actual Total Time": 7579.510, + "Actual Rows": 67468, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7354.483, + "Actual Total Time": 7608.048, + "Actual Rows": 79083, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7424.259, + "Actual Total Time": 7542.676, + "Actual Rows": 55258, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 8730.32, + "Plan Rows": 112668, + "Plan Width": 4, + "Actual Startup Time": 3.904, + "Actual Total Time": 107.066, + "Actual Rows": 72354, + "Actual Loops": 8, + "Output": ["an.person_id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.427, + "Actual Total Time": 101.217, + "Actual Rows": 64491, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.914, + "Actual Total Time": 109.666, + "Actual Rows": 59616, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.239, + "Actual Total Time": 103.481, + "Actual Rows": 72600, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.752, + "Actual Total Time": 121.289, + "Actual Rows": 80949, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.229, + "Actual Total Time": 108.611, + "Actual Rows": 76156, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.336, + "Actual Total Time": 113.449, + "Actual Rows": 92260, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.302, + "Actual Total Time": 94.806, + "Actual Rows": 61330, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Sort", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 106249.63, + "Total Cost": 106422.53, + "Plan Rows": 69159, + "Plan Width": 12, + "Actual Startup Time": 7322.372, + "Actual Total Time": 7363.910, + "Actual Rows": 319310, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id"], + "Sort Key": ["ci.person_id"], + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7314.558, + "Actual Total Time": 7356.690, + "Actual Rows": 318995, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 1, + "Actual Startup Time": 7309.383, + "Actual Total Time": 7352.017, + "Actual Rows": 327381, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 2, + "Actual Startup Time": 7327.774, + "Actual Total Time": 7368.118, + "Actual Rows": 315011, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 3, + "Actual Startup Time": 7307.666, + "Actual Total Time": 7346.304, + "Actual Rows": 303402, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 4, + "Actual Startup Time": 7320.818, + "Actual Total Time": 7364.540, + "Actual Rows": 319391, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 5, + "Actual Startup Time": 7328.957, + "Actual Total Time": 7374.732, + "Actual Rows": 323415, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 6, + "Actual Startup Time": 7330.109, + "Actual Total Time": 7364.781, + "Actual Rows": 321192, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.44, + "Total Cost": 100690.07, + "Plan Rows": 69159, + "Plan Width": 12, + "Actual Startup Time": 0.719, + "Actual Total Time": 7113.541, + "Actual Rows": 276166, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.582, + "Actual Total Time": 7110.801, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.559, + "Actual Total Time": 7104.671, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.640, + "Actual Total Time": 7118.003, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.827, + "Actual Total Time": 7111.707, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.563, + "Actual Total Time": 7080.882, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.569, + "Actual Total Time": 7131.822, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.567, + "Actual Total Time": 7126.079, + "Actual Rows": 276166, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["rt.id", "rt.role"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 99934.46, + "Plan Rows": 75446, + "Plan Width": 16, + "Actual Startup Time": 0.685, + "Actual Total Time": 7035.596, + "Actual Rows": 276166, + "Actual Loops": 8, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.role_id = rt.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 7175807, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.545, + "Actual Total Time": 7035.590, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.529, + "Actual Total Time": 7028.683, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.603, + "Actual Total Time": 7040.371, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.789, + "Actual Total Time": 7033.628, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.529, + "Actual Total Time": 6996.255, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.531, + "Actual Total Time": 7054.719, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.531, + "Actual Total Time": 7047.755, + "Actual Rows": 276166, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 503508, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'f'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 59251 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 63325 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 56899 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 50732 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 67468 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 79083 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 55258 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 503022, + "Output": ["chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 59251 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 63309 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 56893 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 50715 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 67444 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 78663 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 55258 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 482841, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 57210 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 62161 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 54832 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 47774 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 64675 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 74988 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 52156 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 22, + "Plan Width": 8, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.019, + "Actual Rows": 12, + "Actual Loops": 290297, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.020, + "Actual Rows": 13, + "Actual Loops": 32888 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.021, + "Actual Rows": 14, + "Actual Loops": 36354 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.019, + "Actual Rows": 12, + "Actual Loops": 33336 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.020, + "Actual Rows": 12, + "Actual Loops": 26940 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.019, + "Actual Rows": 11, + "Actual Loops": 35290 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.017, + "Actual Rows": 8, + "Actual Loops": 48489 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.024, + "Actual Rows": 21, + "Actual Loops": 24246 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.016, + "Actual Rows": 9, + "Actual Loops": 702993, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.016, + "Actual Rows": 8, + "Actual Loops": 85283 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.015, + "Actual Rows": 7, + "Actual Loops": 99828 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.017, + "Actual Rows": 9, + "Actual Loops": 83261 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.019, + "Actual Rows": 12, + "Actual Loops": 66463 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.017, + "Actual Rows": 9, + "Actual Loops": 78068 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.016, + "Actual Rows": 8, + "Actual Loops": 88506 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.017, + "Actual Rows": 10, + "Actual Loops": 90528 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6023690, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 715847 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 675494 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 758564 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 783895 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 690019 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 668475 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 926082 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7915967579038312663, + "Planning Time": 93.926, + "Triggers": [ + ], + "Execution Time": 21130.683, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 7915967579038312663, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_title,
       MIN(t.production_year) AS movie_year
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info_idx AS mi_idx,
     title AS t
WHERE ct.kind = 'production companies'
  AND it.info = 'top 250 rank'
  AND mc.note NOT LIKE '%(as Metro-Goldwyn-Mayer Pictures)%'
  AND (mc.note LIKE '%(co-production)%'
       OR mc.note LIKE '%(presents)%')
  AND ct.id = mc.company_type_id
  AND t.id = mc.movie_id
  AND t.id = mi_idx.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10994.03, + "Total Cost": 10994.04, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 140.087, + "Actual Total Time": 144.417, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mc.note)", "min(t.title)", "min(t.production_year)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10993.96, + "Total Cost": 10993.97, + "Plan Rows": 8, + "Plan Width": 68, + "Actual Startup Time": 113.930, + "Actual Total Time": 144.381, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mc.note))", "(PARTIAL min(t.title))", "(PARTIAL min(t.production_year))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10992.96, + "Total Cost": 10992.97, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 109.823, + "Actual Total Time": 109.829, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mc.note)", "PARTIAL min(t.title)", "PARTIAL min(t.production_year)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 105.951, + "Actual Total Time": 105.957, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 106.504, + "Actual Total Time": 106.513, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 117.610, + "Actual Total Time": 117.614, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 108.137, + "Actual Total Time": 108.143, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 106.368, + "Actual Total Time": 106.374, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 103.614, + "Actual Total Time": 103.622, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 117.438, + "Actual Total Time": 117.443, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.75, + "Total Cost": 10992.90, + "Plan Rows": 9, + "Plan Width": 45, + "Actual Startup Time": 105.229, + "Actual Total Time": 109.786, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["mc.note", "t.title", "t.production_year"], + "Inner Unique": true, + "Join Filter": "(mc.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 105.945, + "Actual Total Time": 105.951, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 106.497, + "Actual Total Time": 106.505, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 106.507, + "Actual Total Time": 117.509, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 108.131, + "Actual Total Time": 108.136, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 106.364, + "Actual Total Time": 106.369, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 103.609, + "Actual Total Time": 103.615, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.827, + "Actual Total Time": 117.241, + "Actual Rows": 95, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.32, + "Total Cost": 10988.45, + "Plan Rows": 9, + "Plan Width": 32, + "Actual Startup Time": 105.205, + "Actual Total Time": 109.321, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["mc.note", "mc.movie_id", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 105.944, + "Actual Total Time": 105.950, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 106.496, + "Actual Total Time": 106.502, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 106.412, + "Actual Total Time": 116.177, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 108.130, + "Actual Total Time": 108.135, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 106.364, + "Actual Total Time": 106.367, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 103.608, + "Actual Total Time": 103.613, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.740, + "Actual Total Time": 114.867, + "Actual Rows": 95, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10987.21, + "Plan Rows": 36, + "Plan Width": 36, + "Actual Startup Time": 104.885, + "Actual Total Time": 108.973, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "mc.note", "mc.company_type_id", "mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 105.689, + "Actual Total Time": 105.692, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 106.259, + "Actual Total Time": 106.263, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 106.149, + "Actual Total Time": 115.845, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 107.893, + "Actual Total Time": 107.896, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 106.105, + "Actual Total Time": 106.108, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 103.307, + "Actual Total Time": 103.310, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.432, + "Actual Total Time": 114.415, + "Actual Rows": 95, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1527, + "Plan Width": 4, + "Actual Startup Time": 104.827, + "Actual Total Time": 104.890, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 105.688, + "Actual Total Time": 105.690, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 106.258, + "Actual Total Time": 106.262, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 105.960, + "Actual Total Time": 106.138, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 107.892, + "Actual Total Time": 107.894, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 106.104, + "Actual Total Time": 106.106, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 103.306, + "Actual Total Time": 103.309, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.161, + "Actual Total Time": 91.465, + "Actual Rows": 162, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.033, + "Actual Total Time": 45.364, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 44.801, + "Actual Rows": 172184, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 44.748, + "Actual Rows": 191331, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 41.515, + "Actual Rows": 148968, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.035, + "Actual Total Time": 58.534, + "Actual Rows": 160020, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 42.830, + "Actual Rows": 171308, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.034, + "Actual Total Time": 45.783, + "Actual Rows": 176187, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 38.110, + "Actual Rows": 162800, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.050, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'top 250 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.55, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 0.128, + "Actual Total Time": 0.129, + "Actual Rows": 1, + "Actual Loops": 250, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(as Metro-Goldwyn-Mayer Pictures)%'::text) AND ((mc.note ~~ '%(co-production)%'::text) OR (mc.note ~~ '%(presents)%'::text)))", + "Rows Removed by Filter": 33, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.106, + "Actual Total Time": 0.109, + "Actual Rows": 1, + "Actual Loops": 88 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.139, + "Actual Total Time": 0.140, + "Actual Rows": 1, + "Actual Loops": 162 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.256, + "Actual Total Time": 0.259, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 142, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 47 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 95 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1116224040252844741, + "Planning Time": 9.895, + "Triggers": [ + ], + "Execution Time": 144.811, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -1116224040252844741, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_title,
       MIN(t.production_year) AS movie_year
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info_idx AS mi_idx,
     title AS t
WHERE ct.kind = 'production companies'
  AND it.info = 'bottom 10 rank'
  AND mc.note NOT LIKE '%(as Metro-Goldwyn-Mayer Pictures)%'
  AND t.production_year BETWEEN 2005 AND 2010
  AND ct.id = mc.company_type_id
  AND t.id = mc.movie_id
  AND t.id = mi_idx.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11124.10, + "Total Cost": 11124.11, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 98.678, + "Actual Total Time": 101.247, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mc.note)", "min(t.title)", "min(t.production_year)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11124.03, + "Total Cost": 11124.04, + "Plan Rows": 8, + "Plan Width": 68, + "Actual Startup Time": 93.656, + "Actual Total Time": 101.207, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mc.note))", "(PARTIAL min(t.title))", "(PARTIAL min(t.production_year))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11123.03, + "Total Cost": 11123.04, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 87.371, + "Actual Total Time": 87.378, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mc.note)", "PARTIAL min(t.title)", "PARTIAL min(t.production_year)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 86.691, + "Actual Total Time": 86.696, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 88.027, + "Actual Total Time": 88.033, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 86.715, + "Actual Total Time": 86.719, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 88.811, + "Actual Total Time": 88.817, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 86.675, + "Actual Total Time": 86.680, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 86.499, + "Actual Total Time": 86.505, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 84.505, + "Actual Total Time": 84.511, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.75, + "Total Cost": 11121.19, + "Plan Rows": 245, + "Plan Width": 45, + "Actual Startup Time": 87.361, + "Actual Total Time": 87.369, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.note", "t.title", "t.production_year"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 86.687, + "Actual Total Time": 86.691, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 87.987, + "Actual Total Time": 88.004, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 86.711, + "Actual Total Time": 86.715, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 88.803, + "Actual Total Time": 88.809, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 86.668, + "Actual Total Time": 86.673, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 86.494, + "Actual Total Time": 86.499, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 84.499, + "Actual Total Time": 84.504, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 11114.84, + "Plan Rows": 982, + "Plan Width": 49, + "Actual Startup Time": 86.954, + "Actual Total Time": 87.079, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_type_id", "t.title", "t.production_year"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 86.449, + "Actual Total Time": 86.452, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 86.775, + "Actual Total Time": 87.739, + "Actual Rows": 66, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 86.463, + "Actual Total Time": 86.466, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 88.533, + "Actual Total Time": 88.537, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 86.454, + "Actual Total Time": 86.458, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 86.248, + "Actual Total Time": 86.251, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 84.269, + "Actual Total Time": 84.272, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10874.96, + "Plan Rows": 432, + "Plan Width": 29, + "Actual Startup Time": 86.941, + "Actual Total Time": 86.969, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "t.title", "t.production_year", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 86.448, + "Actual Total Time": 86.450, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 86.673, + "Actual Total Time": 86.872, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 86.462, + "Actual Total Time": 86.464, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 88.532, + "Actual Total Time": 88.535, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 86.453, + "Actual Total Time": 86.456, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 86.247, + "Actual Total Time": 86.250, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 84.268, + "Actual Total Time": 84.271, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1527, + "Plan Width": 4, + "Actual Startup Time": 86.895, + "Actual Total Time": 86.901, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 86.447, + "Actual Total Time": 86.449, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 86.310, + "Actual Total Time": 86.339, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 86.461, + "Actual Total Time": 86.463, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 88.531, + "Actual Total Time": 88.534, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 86.452, + "Actual Total Time": 86.454, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 86.246, + "Actual Total Time": 86.248, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 84.268, + "Actual Total Time": 84.270, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.017, + "Actual Total Time": 32.691, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 34.005, + "Actual Rows": 167652, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 32.558, + "Actual Rows": 179237, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 33.290, + "Actual Rows": 182972, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 32.351, + "Actual Rows": 177407, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 28.208, + "Actual Rows": 154442, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 32.872, + "Actual Rows": 177432, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 33.624, + "Actual Rows": 152168, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'bottom 10 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 10, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 10 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 2, + "Plan Width": 32, + "Actual Startup Time": 0.170, + "Actual Total Time": 0.207, + "Actual Rows": 16, + "Actual Loops": 4, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note !~~ '%(as Metro-Goldwyn-Mayer Pictures)%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.170, + "Actual Total Time": 0.207, + "Actual Rows": 16, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4074774145614403639, + "Planning Time": 7.582, + "Triggers": [ + ], + "Execution Time": 101.582, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -4074774145614403639, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_title,
       MIN(t.production_year) AS movie_year
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info_idx AS mi_idx,
     title AS t
WHERE ct.kind = 'production companies'
  AND it.info = 'top 250 rank'
  AND mc.note NOT LIKE '%(as Metro-Goldwyn-Mayer Pictures)%'
  AND (mc.note LIKE '%(co-production)%')
  AND t.production_year >2010
  AND ct.id = mc.company_type_id
  AND t.id = mc.movie_id
  AND t.id = mi_idx.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10977.01, + "Total Cost": 10977.02, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 123.473, + "Actual Total Time": 129.488, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mc.note)", "min(t.title)", "min(t.production_year)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10976.94, + "Total Cost": 10976.95, + "Plan Rows": 8, + "Plan Width": 68, + "Actual Startup Time": 106.634, + "Actual Total Time": 129.457, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mc.note))", "(PARTIAL min(t.title))", "(PARTIAL min(t.production_year))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10975.94, + "Total Cost": 10975.95, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 101.054, + "Actual Total Time": 101.059, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mc.note)", "PARTIAL min(t.title)", "PARTIAL min(t.production_year)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 107.286, + "Actual Total Time": 107.293, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 103.165, + "Actual Total Time": 103.171, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 99.441, + "Actual Total Time": 99.445, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 99.371, + "Actual Total Time": 99.376, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 87.653, + "Actual Total Time": 87.658, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 99.391, + "Actual Total Time": 99.395, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 106.371, + "Actual Total Time": 106.377, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 10975.93, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 99.871, + "Actual Total Time": 101.050, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.note", "t.title", "t.production_year"], + "Inner Unique": true, + "Join Filter": "(mc.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.871, + "Actual Total Time": 107.263, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 103.157, + "Actual Total Time": 103.162, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 99.437, + "Actual Total Time": 99.440, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 99.364, + "Actual Total Time": 99.369, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 87.647, + "Actual Total Time": 87.651, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 99.387, + "Actual Total Time": 99.390, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 106.365, + "Actual Total Time": 106.370, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.41, + "Total Cost": 10972.95, + "Plan Rows": 6, + "Plan Width": 32, + "Actual Startup Time": 98.768, + "Actual Total Time": 100.966, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["mc.note", "mc.movie_id", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.341, + "Actual Total Time": 106.758, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 103.156, + "Actual Total Time": 103.160, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 99.436, + "Actual Total Time": 99.439, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 99.363, + "Actual Total Time": 99.367, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 87.646, + "Actual Total Time": 87.649, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 99.386, + "Actual Total Time": 99.389, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 104.075, + "Actual Total Time": 106.209, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10971.94, + "Plan Rows": 23, + "Plan Width": 36, + "Actual Startup Time": 98.750, + "Actual Total Time": 100.937, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "mc.note", "mc.company_type_id", "mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.280, + "Actual Total Time": 106.618, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 103.156, + "Actual Total Time": 103.159, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 99.435, + "Actual Total Time": 99.437, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 99.363, + "Actual Total Time": 99.366, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 87.645, + "Actual Total Time": 87.648, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 99.385, + "Actual Total Time": 99.386, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 103.996, + "Actual Total Time": 106.128, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1527, + "Plan Width": 4, + "Actual Startup Time": 98.058, + "Actual Total Time": 98.119, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 90.621, + "Actual Total Time": 90.941, + "Actual Rows": 162, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 103.155, + "Actual Total Time": 103.158, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 99.435, + "Actual Total Time": 99.436, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 99.362, + "Actual Total Time": 99.365, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 87.645, + "Actual Total Time": 87.647, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 99.384, + "Actual Total Time": 99.385, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 99.121, + "Actual Total Time": 99.275, + "Actual Rows": 88, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.017, + "Actual Total Time": 36.008, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 28.992, + "Actual Rows": 157601, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 36.437, + "Actual Rows": 198292, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 38.182, + "Actual Rows": 219126, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 48.769, + "Actual Rows": 155852, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 28.136, + "Actual Rows": 148341, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 48.289, + "Actual Rows": 176705, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 29.888, + "Actual Rows": 166033, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.070, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.066, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'top 250 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 0.088, + "Actual Total Time": 0.089, + "Actual Rows": 0, + "Actual Loops": 250, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(as Metro-Goldwyn-Mayer Pictures)%'::text) AND (mc.note ~~ '%(co-production)%'::text))", + "Rows Removed by Filter": 33, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.095, + "Actual Total Time": 0.095, + "Actual Rows": 0, + "Actual Loops": 162 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.077, + "Actual Rows": 0, + "Actual Loops": 88 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 23, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 22, + "Cache Hits": 21, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.074, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.062, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 23, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 22 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.156, + "Actual Total Time": 0.156, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 946838174961328458, + "Planning Time": 8.218, + "Triggers": [ + ], + "Execution Time": 129.815, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 946838174961328458, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_title,
       MIN(t.production_year) AS movie_year
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info_idx AS mi_idx,
     title AS t
WHERE ct.kind = 'production companies'
  AND it.info = 'bottom 10 rank'
  AND mc.note NOT LIKE '%(as Metro-Goldwyn-Mayer Pictures)%'
  AND t.production_year >2000
  AND ct.id = mc.company_type_id
  AND t.id = mc.movie_id
  AND t.id = mi_idx.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11347.04, + "Total Cost": 11347.05, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 101.139, + "Actual Total Time": 102.172, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mc.note)", "min(t.title)", "min(t.production_year)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11346.97, + "Total Cost": 11346.98, + "Plan Rows": 8, + "Plan Width": 68, + "Actual Startup Time": 96.074, + "Actual Total Time": 102.130, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mc.note))", "(PARTIAL min(t.title))", "(PARTIAL min(t.production_year))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11345.97, + "Total Cost": 11345.98, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 89.675, + "Actual Total Time": 89.682, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mc.note)", "PARTIAL min(t.title)", "PARTIAL min(t.production_year)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 87.609, + "Actual Total Time": 87.614, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 89.176, + "Actual Total Time": 89.180, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 89.148, + "Actual Total Time": 89.154, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 89.167, + "Actual Total Time": 89.173, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 89.126, + "Actual Total Time": 89.133, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 89.143, + "Actual Total Time": 89.148, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 88.852, + "Actual Total Time": 88.859, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.75, + "Total Cost": 11342.41, + "Plan Rows": 474, + "Plan Width": 45, + "Actual Startup Time": 89.647, + "Actual Total Time": 89.673, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.note", "t.title", "t.production_year"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 87.425, + "Actual Total Time": 87.590, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 89.171, + "Actual Total Time": 89.176, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 89.144, + "Actual Total Time": 89.149, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 89.161, + "Actual Total Time": 89.167, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 89.121, + "Actual Total Time": 89.127, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 89.135, + "Actual Total Time": 89.139, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 88.847, + "Actual Total Time": 88.853, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 11331.12, + "Plan Rows": 1897, + "Plan Width": 49, + "Actual Startup Time": 89.308, + "Actual Total Time": 89.400, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_type_id", "t.title", "t.production_year"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 86.591, + "Actual Total Time": 87.297, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 88.927, + "Actual Total Time": 88.930, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 88.899, + "Actual Total Time": 88.902, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 88.922, + "Actual Total Time": 88.926, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 88.878, + "Actual Total Time": 88.882, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 88.893, + "Actual Total Time": 88.896, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 88.619, + "Actual Total Time": 88.623, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10871.15, + "Plan Rows": 836, + "Plan Width": 29, + "Actual Startup Time": 89.291, + "Actual Total Time": 89.335, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "t.title", "t.production_year", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 86.470, + "Actual Total Time": 86.792, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 88.925, + "Actual Total Time": 88.928, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 88.898, + "Actual Total Time": 88.901, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 88.921, + "Actual Total Time": 88.924, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 88.877, + "Actual Total Time": 88.881, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 88.892, + "Actual Total Time": 88.894, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 88.619, + "Actual Total Time": 88.622, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1527, + "Plan Width": 4, + "Actual Startup Time": 89.272, + "Actual Total Time": 89.281, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 86.323, + "Actual Total Time": 86.367, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 88.924, + "Actual Total Time": 88.926, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 88.897, + "Actual Total Time": 88.899, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 88.920, + "Actual Total Time": 88.923, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 88.876, + "Actual Total Time": 88.880, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 88.891, + "Actual Total Time": 88.893, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 88.618, + "Actual Total Time": 88.621, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.017, + "Actual Total Time": 34.641, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 33.377, + "Actual Rows": 160066, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 33.790, + "Actual Rows": 151852, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 34.198, + "Actual Rows": 185575, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 34.397, + "Actual Rows": 157935, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 34.285, + "Actual Rows": 185762, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 36.729, + "Actual Rows": 154814, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 34.083, + "Actual Rows": 184175, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'bottom 10 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 10 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 2, + "Plan Width": 32, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.078, + "Actual Rows": 13, + "Actual Loops": 6, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note !~~ '%(as Metro-Goldwyn-Mayer Pictures)%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.078, + "Actual Rows": 13, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6885312641126422993, + "Planning Time": 7.323, + "Triggers": [ + ], + "Execution Time": 102.466, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -6885312641126422993, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS complete_downey_ironman_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     keyword AS k,
     kind_type AS kt,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name NOT LIKE '%Sherlock%'
  AND (chn.name LIKE '%Tony%Stark%'
       OR chn.name LIKE '%Iron%Man%')
  AND k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND kt.kind = 'movie'
  AND t.production_year > 1950
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND ci.movie_id = cc.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1509.04, + "Total Cost": 1509.05, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 3624.590, + "Actual Total Time": 3659.368, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4.90, + "Total Cost": 1509.03, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 446.911, + "Actual Total Time": 3659.277, + "Actual Rows": 33, + "Actual Loops": 1, + "Output": ["t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.90, + "Total Cost": 1508.03, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 795.530, + "Actual Total Time": 1421.605, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 277.403, + "Actual Total Time": 277.408, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 187.794, + "Actual Total Time": 383.444, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1255.387, + "Actual Total Time": 2763.590, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2060.591, + "Actual Total Time": 3615.246, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.734, + "Actual Total Time": 90.740, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 396.218, + "Actual Total Time": 797.872, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1650.514, + "Actual Total Time": 2635.681, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.47, + "Total Cost": 1507.59, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 795.462, + "Actual Total Time": 1421.433, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 277.402, + "Actual Total Time": 277.407, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 187.665, + "Actual Total Time": 382.970, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1255.273, + "Actual Total Time": 2763.475, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2060.514, + "Actual Total Time": 3614.933, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.733, + "Actual Total Time": 90.738, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 396.113, + "Actual Total Time": 797.643, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1650.433, + "Actual Total Time": 2635.550, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.04, + "Total Cost": 1507.13, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 90.362, + "Actual Total Time": 511.042, + "Actual Rows": 66601, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 277.401, + "Actual Total Time": 277.406, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.884, + "Actual Total Time": 90.075, + "Actual Rows": 5570, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 101.990, + "Actual Total Time": 914.343, + "Actual Rows": 133462, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 56.826, + "Actual Total Time": 1205.699, + "Actual Rows": 256740, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.733, + "Actual Total Time": 90.738, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.445, + "Actual Total Time": 264.863, + "Actual Rows": 19934, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 57.132, + "Actual Total Time": 936.087, + "Actual Rows": 99182, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.60, + "Total Cost": 1505.58, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 90.290, + "Actual Total Time": 226.381, + "Actual Rows": 752, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 277.401, + "Actual Total Time": 277.405, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.763, + "Actual Total Time": 37.496, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 101.931, + "Actual Total Time": 314.574, + "Actual Rows": 1396, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 56.704, + "Actual Total Time": 321.487, + "Actual Rows": 2989, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.732, + "Actual Total Time": 90.737, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.357, + "Actual Total Time": 140.296, + "Actual Rows": 148, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 57.006, + "Actual Total Time": 438.987, + "Actual Rows": 1290, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.46, + "Total Cost": 1505.26, + "Plan Rows": 2, + "Plan Width": 33, + "Actual Startup Time": 16.238, + "Actual Total Time": 220.867, + "Actual Rows": 920, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.595, + "Actual Total Time": 276.225, + "Actual Rows": 136, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.526, + "Actual Total Time": 37.089, + "Actual Rows": 38, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.047, + "Actual Total Time": 304.473, + "Actual Rows": 1604, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.687, + "Actual Total Time": 304.487, + "Actual Rows": 3358, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.732, + "Actual Total Time": 90.736, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.896, + "Actual Total Time": 138.300, + "Actual Rows": 229, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.979, + "Actual Total Time": 427.563, + "Actual Rows": 1784, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.03, + "Total Cost": 1504.34, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 16.056, + "Actual Total Time": 201.844, + "Actual Rows": 1096, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.690, + "Actual Total Time": 270.470, + "Actual Rows": 136, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.423, + "Actual Total Time": 35.740, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.958, + "Actual Total Time": 265.695, + "Actual Rows": 2119, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.596, + "Actual Total Time": 251.015, + "Actual Rows": 3737, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.731, + "Actual Total Time": 90.735, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.795, + "Actual Total Time": 131.684, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.866, + "Actual Total Time": 387.885, + "Actual Rows": 2225, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.89, + "Total Cost": 1503.70, + "Plan Rows": 9, + "Plan Width": 12, + "Actual Startup Time": 15.996, + "Actual Total Time": 199.009, + "Actual Rows": 1096, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.609, + "Actual Total Time": 269.821, + "Actual Rows": 136, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.338, + "Actual Total Time": 35.435, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.868, + "Actual Total Time": 260.195, + "Actual Rows": 2119, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.530, + "Actual Total Time": 243.080, + "Actual Rows": 3737, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.731, + "Actual Total Time": 90.733, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.739, + "Actual Total Time": 130.544, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.809, + "Actual Total Time": 381.904, + "Actual Rows": 2225, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 1502.48, + "Plan Rows": 34, + "Plan Width": 16, + "Actual Startup Time": 15.669, + "Actual Total Time": 196.077, + "Actual Rows": 1601, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.425, + "Actual Total Time": 269.069, + "Actual Rows": 276, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.161, + "Actual Total Time": 35.070, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.658, + "Actual Total Time": 254.691, + "Actual Rows": 3248, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.329, + "Actual Total Time": 235.498, + "Actual Rows": 5294, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.545, + "Actual Total Time": 90.546, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.523, + "Actual Total Time": 129.365, + "Actual Rows": 331, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.639, + "Actual Total Time": 376.259, + "Actual Rows": 3266, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1485.02, + "Plan Rows": 39, + "Plan Width": 4, + "Actual Startup Time": 13.443, + "Actual Total Time": 140.717, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.177, + "Actual Total Time": 203.327, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.856, + "Actual Total Time": 21.038, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.445, + "Actual Total Time": 181.149, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.014, + "Actual Total Time": 135.781, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.544, + "Actual Total Time": 90.545, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.191, + "Actual Total Time": 88.115, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.236, + "Actual Total Time": 273.481, + "Actual Rows": 10544, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1332.34, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 12.745, + "Actual Total Time": 12.778, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.555, + "Actual Total Time": 1.574, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.290, + "Actual Total Time": 3.315, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.689, + "Actual Total Time": 0.754, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.446, + "Actual Total Time": 0.495, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.543, + "Actual Total Time": 90.544, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.610, + "Actual Total Time": 0.648, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.725, + "Actual Total Time": 1.744, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.30, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.740, + "Actual Total Time": 126.159, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.614, + "Actual Total Time": 199.865, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.555, + "Actual Total Time": 17.548, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.749, + "Actual Total Time": 177.789, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.480, + "Actual Total Time": 65.844, + "Actual Rows": 5412, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.575, + "Actual Total Time": 86.668, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.502, + "Actual Total Time": 267.718, + "Actual Rows": 10544, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 35548, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 4196 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 248 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 6011 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 10824 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 10544 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.122, + "Actual Total Time": 0.123, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.710, + "Actual Total Time": 0.729, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 8765, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 259, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 136, + "Cache Hits": 135, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 39, + "Cache Hits": 37, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 2119, + "Cache Hits": 2117, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 3737, + "Cache Hits": 3735, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 248, + "Cache Hits": 246, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 2225, + "Cache Hits": 2223, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 13, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.068, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 8765, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1950)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 136 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 39 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 2119 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3737 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 248 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 2225 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 7363, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 136 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 38 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 1604 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 3358 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 229 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 1784 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.20, + "Plan Rows": 35, + "Plan Width": 12, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.352, + "Actual Rows": 89, + "Actual Loops": 6016, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.045, + "Actual Total Time": 1.854, + "Actual Rows": 206, + "Actual Loops": 27 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.400, + "Actual Rows": 96, + "Actual Loops": 1396 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.272, + "Actual Rows": 86, + "Actual Loops": 2989 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.792, + "Actual Rows": 135, + "Actual Loops": 148 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.360, + "Actual Rows": 77, + "Actual Loops": 1290 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 532809, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name !~~ '%Sherlock%'::text) AND ((chn.name ~~ '%Tony%Stark%'::text) OR (chn.name ~~ '%Iron%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 5570 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 133462 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 256740 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 19934 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 99182 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 33, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.064, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.111, + "Actual Total Time": 0.111, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2202723705874175045, + "Planning Time": 73.781, + "Triggers": [ + ], + "Execution Time": 3660.032, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -2202723705874175045, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(t.title) AS complete_downey_ironman_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     keyword AS k,
     kind_type AS kt,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name NOT LIKE '%Sherlock%'
  AND (chn.name LIKE '%Tony%Stark%'
       OR chn.name LIKE '%Iron%Man%')
  AND k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND kt.kind = 'movie'
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND ci.movie_id = cc.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1508.93, + "Total Cost": 1508.94, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 999.836, + "Actual Total Time": 1032.813, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1508.90, + "Total Cost": 1508.91, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 161.099, + "Actual Total Time": 1032.768, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1507.90, + "Total Cost": 1507.91, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 345.013, + "Actual Total Time": 345.021, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 989.552, + "Actual Total Time": 989.557, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 74.234, + "Actual Total Time": 74.242, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 740.455, + "Actual Total Time": 740.461, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 469.140, + "Actual Total Time": 469.147, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 162.533, + "Actual Total Time": 162.538, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 82.269, + "Actual Total Time": 82.279, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 81.707, + "Actual Total Time": 81.718, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.91, + "Total Cost": 1507.90, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 221.554, + "Actual Total Time": 345.001, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 435.449, + "Actual Total Time": 989.528, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 74.232, + "Actual Total Time": 74.239, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 740.451, + "Actual Total Time": 740.457, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 232.958, + "Actual Total Time": 469.129, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 86.237, + "Actual Total Time": 162.499, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 82.266, + "Actual Total Time": 82.275, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.263, + "Actual Total Time": 81.685, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.48, + "Total Cost": 1507.45, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 158.679, + "Actual Total Time": 344.871, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 435.394, + "Actual Total Time": 989.392, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 74.231, + "Actual Total Time": 74.237, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 237.795, + "Actual Total Time": 740.362, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 232.907, + "Actual Total Time": 468.996, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 86.151, + "Actual Total Time": 162.257, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 82.265, + "Actual Total Time": 82.273, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.159, + "Actual Total Time": 81.420, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.05, + "Total Cost": 1506.99, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 29.896, + "Actual Total Time": 199.256, + "Actual Rows": 27815, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "ci.person_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.680, + "Actual Total Time": 516.812, + "Actual Rows": 97010, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 74.230, + "Actual Total Time": 74.236, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.101, + "Actual Total Time": 391.561, + "Actual Rows": 68955, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.706, + "Actual Total Time": 295.899, + "Actual Rows": 31168, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.287, + "Actual Total Time": 93.387, + "Actual Rows": 11233, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 82.264, + "Actual Total Time": 82.272, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.702, + "Actual Total Time": 43.602, + "Actual Rows": 4647, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.61, + "Total Cost": 1505.43, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 29.827, + "Actual Total Time": 89.630, + "Actual Rows": 184, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.579, + "Actual Total Time": 184.992, + "Actual Rows": 675, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 74.230, + "Actual Total Time": 74.235, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.954, + "Actual Total Time": 124.872, + "Actual Rows": 472, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.625, + "Actual Total Time": 163.329, + "Actual Rows": 194, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.204, + "Actual Total Time": 31.485, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 82.264, + "Actual Total Time": 82.271, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.620, + "Actual Total Time": 12.159, + "Actual Rows": 20, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.46, + "Total Cost": 1505.26, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 12.759, + "Actual Total Time": 89.042, + "Actual Rows": 234, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.756, + "Actual Total Time": 183.437, + "Actual Rows": 777, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 74.229, + "Actual Total Time": 74.234, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.017, + "Actual Total Time": 123.600, + "Actual Rows": 591, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.691, + "Actual Total Time": 162.521, + "Actual Rows": 264, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.860, + "Actual Total Time": 31.136, + "Actual Rows": 74, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.281, + "Actual Total Time": 82.017, + "Actual Rows": 87, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.559, + "Actual Total Time": 11.986, + "Actual Rows": 22, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.03, + "Total Cost": 1504.34, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 11.025, + "Actual Total Time": 72.996, + "Actual Rows": 1096, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.590, + "Actual Total Time": 135.565, + "Actual Rows": 3737, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 74.229, + "Actual Total Time": 74.233, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.926, + "Actual Total Time": 91.980, + "Actual Rows": 2119, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.268, + "Actual Total Time": 129.208, + "Actual Rows": 2225, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.904, + "Actual Total Time": 26.180, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.199, + "Actual Total Time": 78.468, + "Actual Rows": 136, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.411, + "Actual Total Time": 10.855, + "Actual Rows": 39, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.89, + "Total Cost": 1503.70, + "Plan Rows": 9, + "Plan Width": 12, + "Actual Startup Time": 10.987, + "Actual Total Time": 71.126, + "Actual Rows": 1096, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.556, + "Actual Total Time": 129.850, + "Actual Rows": 3737, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 74.228, + "Actual Total Time": 74.231, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.879, + "Actual Total Time": 88.410, + "Actual Rows": 2119, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.230, + "Actual Total Time": 125.439, + "Actual Rows": 2225, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.855, + "Actual Total Time": 25.559, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.164, + "Actual Total Time": 78.109, + "Actual Rows": 136, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.372, + "Actual Total Time": 10.661, + "Actual Rows": 39, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 1502.48, + "Plan Rows": 34, + "Plan Width": 16, + "Actual Startup Time": 10.848, + "Actual Total Time": 69.468, + "Actual Rows": 1601, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.483, + "Actual Total Time": 125.168, + "Actual Rows": 5294, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 74.143, + "Actual Total Time": 74.144, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.779, + "Actual Total Time": 85.292, + "Actual Rows": 3248, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.153, + "Actual Total Time": 122.364, + "Actual Rows": 3266, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.749, + "Actual Total Time": 24.966, + "Actual Rows": 331, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.092, + "Actual Total Time": 77.678, + "Actual Rows": 276, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.250, + "Actual Total Time": 10.422, + "Actual Rows": 47, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1485.02, + "Plan Rows": 39, + "Plan Width": 4, + "Actual Startup Time": 10.420, + "Actual Total Time": 34.312, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.580, + "Actual Total Time": 44.786, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 74.142, + "Actual Total Time": 74.143, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.774, + "Actual Total Time": 34.989, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.019, + "Actual Total Time": 43.223, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.593, + "Actual Total Time": 10.832, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.824, + "Actual Total Time": 43.590, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.015, + "Actual Total Time": 7.493, + "Actual Rows": 248, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1332.34, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 10.301, + "Actual Total Time": 13.334, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.427, + "Actual Total Time": 0.481, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 74.141, + "Actual Total Time": 74.142, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.640, + "Actual Total Time": 0.721, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.899, + "Actual Total Time": 1.920, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.460, + "Actual Total Time": 0.487, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.680, + "Actual Total Time": 22.903, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.893, + "Actual Total Time": 5.731, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.30, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.118, + "Actual Total Time": 19.559, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.094, + "Actual Total Time": 20.586, + "Actual Rows": 5412, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.129, + "Actual Total Time": 32.254, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.115, + "Actual Total Time": 38.024, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.128, + "Actual Total Time": 9.795, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.134, + "Actual Total Time": 19.279, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.114, + "Actual Total Time": 1.637, + "Actual Rows": 248, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 35548, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 10824 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 6011 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 10544 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 4196 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 248 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 8765, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 259, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 3737, + "Cache Hits": 3735, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 2119, + "Cache Hits": 2117, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 2225, + "Cache Hits": 2223, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 248, + "Cache Hits": 246, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 136, + "Cache Hits": 135, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 39, + "Cache Hits": 37, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 13, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 8765, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 3737 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2119 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2225 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 248 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 136 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 39 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1872, + "Output": ["kt.id"], + "Cache Key": "t.kind_id", + "Cache Mode": "logical", + "Cache Hits": 53, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 777, + "Cache Hits": 771, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 591, + "Cache Hits": 587, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 264, + "Cache Hits": 258, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 74, + "Cache Hits": 68, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 87, + "Cache Hits": 83, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 22, + "Cache Hits": 19, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 33, + "Output": ["kt.id"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 12, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.529, + "Actual Rows": 151, + "Actual Loops": 1472, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.431, + "Actual Rows": 144, + "Actual Loops": 675 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.502, + "Actual Rows": 146, + "Actual Loops": 472 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.608, + "Actual Rows": 161, + "Actual Loops": 194 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.959, + "Actual Rows": 190, + "Actual Loops": 59 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.044, + "Actual Total Time": 1.436, + "Actual Rows": 232, + "Actual Loops": 20 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 222518, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name !~~ '%Sherlock%'::text) AND ((chn.name ~~ '%Tony%Stark%'::text) OR (chn.name ~~ '%Iron%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 97010 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 68955 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 31168 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 11233 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 4647 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 33, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.092, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 7 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -310926232940389306, + "Planning Time": 54.248, + "Triggers": [ + ], + "Execution Time": 1033.443, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -310926232940389306, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(n.name) AS cast_member,
       MIN(t.title) AS complete_dynamic_hero_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     keyword AS k,
     kind_type AS kt,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name IS NOT NULL
  AND (chn.name LIKE '%man%'
       OR chn.name LIKE '%Man%')
  AND k.keyword IN ('superhero',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence',
                    'magnet',
                    'web',
                    'claw',
                    'laser')
  AND kt.kind = 'movie'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND ci.movie_id = cc.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1416.97, + "Total Cost": 1416.98, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 773.864, + "Actual Total Time": 804.542, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1416.92, + "Total Cost": 1416.93, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 159.751, + "Actual Total Time": 804.502, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1415.92, + "Total Cost": 1415.93, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 261.950, + "Actual Total Time": 261.959, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 84.192, + "Actual Total Time": 84.201, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 90.156, + "Actual Total Time": 90.167, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 91.310, + "Actual Total Time": 91.320, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 118.166, + "Actual Total Time": 118.173, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 764.121, + "Actual Total Time": 764.126, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 635.320, + "Actual Total Time": 635.325, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 153.532, + "Actual Total Time": 153.537, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.93, + "Total Cost": 1415.92, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 20.988, + "Actual Total Time": 261.275, + "Actual Rows": 676, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.350, + "Actual Total Time": 83.959, + "Actual Rows": 143, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 90.151, + "Actual Total Time": 90.161, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.034, + "Actual Total Time": 91.170, + "Actual Rows": 68, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.866, + "Actual Total Time": 117.948, + "Actual Rows": 96, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.977, + "Actual Total Time": 762.017, + "Actual Rows": 2557, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.186, + "Actual Total Time": 633.549, + "Actual Rows": 1885, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.452, + "Actual Total Time": 153.057, + "Actual Rows": 365, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.50, + "Total Cost": 1415.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 20.915, + "Actual Total Time": 247.864, + "Actual Rows": 676, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.286, + "Actual Total Time": 79.440, + "Actual Rows": 143, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 90.150, + "Actual Total Time": 90.160, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.949, + "Actual Total Time": 88.569, + "Actual Rows": 68, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.759, + "Actual Total Time": 114.528, + "Actual Rows": 96, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.846, + "Actual Total Time": 719.979, + "Actual Rows": 2557, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.118, + "Actual Total Time": 595.202, + "Actual Rows": 1885, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.381, + "Actual Total Time": 145.074, + "Actual Rows": 365, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.07, + "Total Cost": 1415.02, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 20.002, + "Actual Total Time": 134.192, + "Actual Rows": 23730, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "ci.person_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.831, + "Actual Total Time": 46.463, + "Actual Rows": 4647, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 90.149, + "Actual Total Time": 90.158, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.833, + "Actual Total Time": 63.212, + "Actual Rows": 3250, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.555, + "Actual Total Time": 67.608, + "Actual Rows": 6145, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.770, + "Actual Total Time": 353.809, + "Actual Rows": 86109, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.968, + "Actual Total Time": 288.542, + "Actual Rows": 68955, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.932, + "Actual Total Time": 77.004, + "Actual Rows": 11233, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.63, + "Total Cost": 1413.45, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 19.932, + "Actual Total Time": 56.819, + "Actual Rows": 158, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.755, + "Actual Total Time": 19.330, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 90.148, + "Actual Total Time": 90.156, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.705, + "Actual Total Time": 40.365, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.494, + "Actual Total Time": 23.867, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.686, + "Actual Total Time": 125.279, + "Actual Rows": 612, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.881, + "Actual Total Time": 92.676, + "Actual Rows": 472, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.854, + "Actual Total Time": 26.487, + "Actual Rows": 59, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.49, + "Total Cost": 1413.28, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 2.353, + "Actual Total Time": 56.390, + "Actual Rows": 199, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.702, + "Actual Total Time": 19.170, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.404, + "Actual Total Time": 89.938, + "Actual Rows": 87, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.648, + "Actual Total Time": 40.220, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.693, + "Actual Total Time": 23.659, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.772, + "Actual Total Time": 124.222, + "Actual Rows": 699, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.482, + "Actual Total Time": 91.683, + "Actual Rows": 591, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.417, + "Actual Total Time": 26.123, + "Actual Rows": 74, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.06, + "Total Cost": 1411.90, + "Plan Rows": 3, + "Plan Width": 8, + "Actual Startup Time": 1.718, + "Actual Total Time": 47.160, + "Actual Rows": 800, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.640, + "Actual Total Time": 18.233, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.353, + "Actual Total Time": 87.157, + "Actual Rows": 136, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.437, + "Actual Total Time": 37.610, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.627, + "Actual Total Time": 20.707, + "Actual Rows": 118, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.625, + "Actual Total Time": 91.378, + "Actual Rows": 3371, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.415, + "Actual Total Time": 68.802, + "Actual Rows": 2119, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.655, + "Actual Total Time": 21.882, + "Actual Rows": 248, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.92, + "Total Cost": 1411.21, + "Plan Rows": 11, + "Plan Width": 12, + "Actual Startup Time": 1.679, + "Actual Total Time": 45.920, + "Actual Rows": 800, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.601, + "Actual Total Time": 18.056, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.318, + "Actual Total Time": 86.822, + "Actual Rows": 136, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.398, + "Actual Total Time": 37.299, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.587, + "Actual Total Time": 20.305, + "Actual Rows": 118, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.582, + "Actual Total Time": 86.989, + "Actual Rows": 3371, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.369, + "Actual Total Time": 65.785, + "Actual Rows": 2119, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.608, + "Actual Total Time": 21.260, + "Actual Rows": 248, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.88, + "Total Cost": 1409.93, + "Plan Rows": 43, + "Plan Width": 16, + "Actual Startup Time": 1.561, + "Actual Total Time": 44.828, + "Actual Rows": 1174, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.491, + "Actual Total Time": 17.845, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.239, + "Actual Total Time": 86.467, + "Actual Rows": 276, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.289, + "Actual Total Time": 36.948, + "Actual Rows": 190, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.520, + "Actual Total Time": 19.949, + "Actual Rows": 167, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.501, + "Actual Total Time": 83.481, + "Actual Rows": 4785, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.301, + "Actual Total Time": 63.251, + "Actual Rows": 3248, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.542, + "Actual Total Time": 20.735, + "Actual Rows": 331, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.46, + "Total Cost": 1388.43, + "Plan Rows": 48, + "Plan Width": 4, + "Actual Startup Time": 1.232, + "Actual Total Time": 21.230, + "Actual Rows": 3011, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.248, + "Actual Total Time": 14.954, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.032, + "Actual Total Time": 51.008, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.183, + "Actual Total Time": 32.055, + "Actual Rows": 276, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.409, + "Actual Total Time": 13.492, + "Actual Rows": 409, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.818, + "Actual Total Time": 22.828, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.539, + "Actual Total Time": 18.602, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.380, + "Actual Total Time": 6.953, + "Actual Rows": 1573, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.03, + "Total Cost": 1236.53, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.624, + "Actual Total Time": 9.110, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,marvel-comics,based-on-comic,tv-special,fight,violence,magnet,web,claw,laser}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.174, + "Actual Total Time": 13.638, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.937, + "Actual Total Time": 36.065, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.257, + "Actual Total Time": 21.370, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.109, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.698, + "Actual Total Time": 0.729, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.450, + "Actual Total Time": 0.491, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.279, + "Actual Total Time": 0.297, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 150.53, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.584, + "Actual Total Time": 8.966, + "Actual Rows": 2409, + "Actual Loops": 10, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.070, + "Actual Total Time": 1.205, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.092, + "Actual Total Time": 13.419, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.246, + "Actual Total Time": 5.272, + "Actual Rows": 138, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.410, + "Actual Total Time": 6.593, + "Actual Rows": 204, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.114, + "Actual Total Time": 19.796, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.083, + "Actual Total Time": 16.454, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.095, + "Actual Total Time": 6.103, + "Actual Rows": 1573, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 24091, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 248 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 4196 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 276 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 409 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 9226 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 6011 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 1573 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 6396, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 259, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 39, + "Cache Hits": 37, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 136, + "Cache Hits": 135, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 104, + "Cache Hits": 102, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 118, + "Cache Hits": 116, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 3371, + "Cache Hits": 3369, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 2119, + "Cache Hits": 2117, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 248, + "Cache Hits": 246, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 15, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 6396, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 39 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 136 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 104 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 118 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 3371 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 2119 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 248 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1595, + "Output": ["kt.id"], + "Cache Key": "t.kind_id", + "Cache Mode": "logical", + "Cache Hits": 53, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 22, + "Cache Hits": 19, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 87, + "Cache Hits": 83, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 24, + "Cache Hits": 22, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 41, + "Cache Hits": 38, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 699, + "Cache Hits": 693, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 591, + "Cache Hits": 587, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 74, + "Cache Hits": 68, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 32, + "Output": ["kt.id"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 6 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 12, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.428, + "Actual Rows": 150, + "Actual Loops": 1267, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.038, + "Actual Total Time": 1.218, + "Actual Rows": 232, + "Actual Loops": 20 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 1.100, + "Actual Rows": 171, + "Actual Loops": 19 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 1.199, + "Actual Rows": 186, + "Actual Loops": 33 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.323, + "Actual Rows": 141, + "Actual Loops": 612 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.360, + "Actual Rows": 146, + "Actual Loops": 472 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.764, + "Actual Rows": 190, + "Actual Loops": 59 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 189844, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name IS NOT NULL) AND ((chn.name ~~ '%man%'::text) OR (chn.name ~~ '%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 4647 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 3250 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 6145 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 86109 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 68955 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 11233 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 5406, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 143 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 68 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 96 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 2557 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 1885 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 365 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6387362809141986757, + "Planning Time": 55.430, + "Triggers": [ + ], + "Execution Time": 805.223, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -6387362809141986757, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(cn.name) AS company_name,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS western_follow_up
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German')
  AND t.production_year BETWEEN 1950 AND 2000
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1350.66, + "Total Cost": 1350.67, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 121.334, + "Actual Total Time": 121.560, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1350.59, + "Total Cost": 1350.60, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 121.311, + "Actual Total Time": 121.551, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1349.59, + "Total Cost": 1349.60, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 20.742, + "Actual Total Time": 20.747, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.850, + "Actual Total Time": 6.856, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.953, + "Actual Total Time": 0.956, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.569, + "Actual Total Time": 7.575, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.715, + "Actual Total Time": 8.721, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.542, + "Actual Total Time": 7.547, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.801, + "Actual Total Time": 7.807, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.063, + "Actual Total Time": 6.071, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 1349.59, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 6.550, + "Actual Total Time": 20.614, + "Actual Rows": 176, + "Actual Loops": 8, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.845, + "Actual Total Time": 6.850, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.948, + "Actual Total Time": 0.951, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.566, + "Actual Total Time": 7.571, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.710, + "Actual Total Time": 8.716, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.537, + "Actual Total Time": 7.542, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.795, + "Actual Total Time": 7.801, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.056, + "Actual Total Time": 6.063, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.28, + "Total Cost": 1349.11, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 6.543, + "Actual Total Time": 19.054, + "Actual Rows": 227, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mi.movie_id", "mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.844, + "Actual Total Time": 6.849, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.947, + "Actual Total Time": 0.950, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.565, + "Actual Total Time": 7.570, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.709, + "Actual Total Time": 8.714, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.536, + "Actual Total Time": 7.541, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.795, + "Actual Total Time": 7.799, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.055, + "Actual Total Time": 6.061, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.85, + "Total Cost": 1348.01, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 6.534, + "Actual Total Time": 17.722, + "Actual Rows": 50, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.844, + "Actual Total Time": 6.848, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.946, + "Actual Total Time": 0.949, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.564, + "Actual Total Time": 7.568, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.709, + "Actual Total Time": 8.713, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.536, + "Actual Total Time": 7.539, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.794, + "Actual Total Time": 7.798, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.054, + "Actual Total Time": 6.060, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 1347.84, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 6.530, + "Actual Total Time": 17.533, + "Actual Rows": 53, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.843, + "Actual Total Time": 6.846, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.946, + "Actual Total Time": 0.949, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.563, + "Actual Total Time": 7.567, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.708, + "Actual Total Time": 8.711, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.535, + "Actual Total Time": 7.538, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.793, + "Actual Total Time": 7.797, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.054, + "Actual Total Time": 6.058, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1347.40, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 6.266, + "Actual Total Time": 16.522, + "Actual Rows": 128, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "ml.movie_id", "lt.link"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.842, + "Actual Total Time": 6.845, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.946, + "Actual Total Time": 0.948, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.563, + "Actual Total Time": 7.566, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.708, + "Actual Total Time": 8.710, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.534, + "Actual Total Time": 7.537, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.793, + "Actual Total Time": 7.796, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.053, + "Actual Total Time": 6.057, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 1346.86, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 6.256, + "Actual Total Time": 16.066, + "Actual Rows": 25, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.842, + "Actual Total Time": 6.844, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.945, + "Actual Total Time": 0.947, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.562, + "Actual Total Time": 7.565, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.707, + "Actual Total Time": 8.709, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.534, + "Actual Total Time": 7.536, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.792, + "Actual Total Time": 7.795, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.052, + "Actual Total Time": 6.055, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 1346.69, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 6.221, + "Actual Total Time": 15.967, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.841, + "Actual Total Time": 6.843, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.945, + "Actual Total Time": 0.946, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.561, + "Actual Total Time": 7.563, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.706, + "Actual Total Time": 8.708, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.533, + "Actual Total Time": 7.534, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.792, + "Actual Total Time": 7.793, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.051, + "Actual Total Time": 6.053, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.56, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 5.947, + "Actual Total Time": 10.034, + "Actual Rows": 1318, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.841, + "Actual Total Time": 6.841, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.945, + "Actual Total Time": 0.945, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.561, + "Actual Total Time": 7.562, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.705, + "Actual Total Time": 8.706, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.532, + "Actual Total Time": 7.533, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.791, + "Actual Total Time": 7.792, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.050, + "Actual Total Time": 6.052, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.933, + "Actual Total Time": 5.935, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.840, + "Actual Total Time": 6.840, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.944, + "Actual Total Time": 0.944, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.560, + "Actual Total Time": 7.561, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.704, + "Actual Total Time": 8.705, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.532, + "Actual Total Time": 7.532, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.790, + "Actual Total Time": 7.791, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.050, + "Actual Total Time": 6.050, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.097, + "Actual Total Time": 30.639, + "Actual Rows": 10544, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 0.38, + "Plan Rows": 5, + "Plan Width": 8, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 10544, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 251, + "Output": ["lt.link", "lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 240, + "Cache Misses": 11, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 11, + "Output": ["lt.link", "lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 2, + "Plan Width": 12, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.016, + "Actual Rows": 5, + "Actual Loops": 199, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 1021, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 422, + "Output": ["ct.id", "ct.kind"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.08, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.025, + "Actual Rows": 5, + "Actual Loops": 402, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German}'::text[]))", + "Rows Removed by Filter": 16, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 1816, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2000))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1038524182031953798, + "Planning Time": 63.615, + "Triggers": [ + ], + "Execution Time": 121.942, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 1038524182031953798, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS company_name,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS german_follow_up
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Germany',
                  'German')
  AND t.production_year BETWEEN 2000 AND 2010
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1350.49, + "Total Cost": 1350.50, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 104.322, + "Actual Total Time": 104.486, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1350.43, + "Total Cost": 1350.44, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 104.297, + "Actual Total Time": 104.476, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1349.43, + "Total Cost": 1349.44, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 18.296, + "Actual Total Time": 18.303, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.884, + "Actual Total Time": 8.890, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.607, + "Actual Total Time": 4.614, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.941, + "Actual Total Time": 8.948, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.002, + "Actual Total Time": 9.009, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.607, + "Actual Total Time": 4.614, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.238, + "Actual Total Time": 7.245, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 1349.42, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 7.472, + "Actual Total Time": 18.287, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.879, + "Actual Total Time": 8.885, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.601, + "Actual Total Time": 4.607, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.938, + "Actual Total Time": 8.945, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.997, + "Actual Total Time": 9.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.601, + "Actual Total Time": 4.608, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.233, + "Actual Total Time": 7.240, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.28, + "Total Cost": 1348.95, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 5.973, + "Actual Total Time": 17.959, + "Actual Rows": 38, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mi.movie_id", "mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.878, + "Actual Total Time": 8.883, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.600, + "Actual Total Time": 4.606, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.937, + "Actual Total Time": 8.943, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.996, + "Actual Total Time": 9.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.601, + "Actual Total Time": 4.606, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.232, + "Actual Total Time": 7.238, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.85, + "Total Cost": 1348.01, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 5.965, + "Actual Total Time": 16.773, + "Actual Rows": 50, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.877, + "Actual Total Time": 8.882, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.600, + "Actual Total Time": 4.605, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.937, + "Actual Total Time": 8.942, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.996, + "Actual Total Time": 9.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.600, + "Actual Total Time": 4.605, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.231, + "Actual Total Time": 7.237, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 1347.84, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 5.961, + "Actual Total Time": 16.552, + "Actual Rows": 53, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.877, + "Actual Total Time": 8.881, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.599, + "Actual Total Time": 4.604, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.936, + "Actual Total Time": 8.940, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.995, + "Actual Total Time": 8.999, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.600, + "Actual Total Time": 4.604, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.231, + "Actual Total Time": 7.235, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1347.40, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 5.846, + "Actual Total Time": 14.841, + "Actual Rows": 128, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "ml.movie_id", "lt.link"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.876, + "Actual Total Time": 8.879, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.599, + "Actual Total Time": 4.603, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.935, + "Actual Total Time": 8.939, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.994, + "Actual Total Time": 8.998, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.599, + "Actual Total Time": 4.603, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.231, + "Actual Total Time": 7.234, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 1346.86, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 5.840, + "Actual Total Time": 13.785, + "Actual Rows": 25, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.876, + "Actual Total Time": 8.878, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.599, + "Actual Total Time": 4.601, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.935, + "Actual Total Time": 8.938, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.994, + "Actual Total Time": 8.997, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.599, + "Actual Total Time": 4.601, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.230, + "Actual Total Time": 7.233, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 1346.69, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 5.836, + "Actual Total Time": 13.721, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.875, + "Actual Total Time": 8.876, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.598, + "Actual Total Time": 4.600, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.934, + "Actual Total Time": 8.936, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.993, + "Actual Total Time": 8.994, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.598, + "Actual Total Time": 4.600, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.229, + "Actual Total Time": 7.231, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.56, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 5.833, + "Actual Total Time": 9.496, + "Actual Rows": 1318, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.874, + "Actual Total Time": 8.875, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.598, + "Actual Total Time": 4.599, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.933, + "Actual Total Time": 8.934, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.992, + "Actual Total Time": 8.993, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.597, + "Actual Total Time": 4.598, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.229, + "Actual Total Time": 7.230, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.822, + "Actual Total Time": 5.823, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.874, + "Actual Total Time": 8.874, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.597, + "Actual Total Time": 4.597, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.933, + "Actual Total Time": 8.933, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.992, + "Actual Total Time": 8.992, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.597, + "Actual Total Time": 4.597, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.228, + "Actual Total Time": 7.228, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.074, + "Actual Total Time": 27.320, + "Actual Rows": 10544, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 0.38, + "Plan Rows": 5, + "Plan Width": 8, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 10544, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 251, + "Output": ["lt.link", "lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 240, + "Cache Misses": 11, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 11, + "Output": ["lt.link", "lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 2, + "Plan Width": 12, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.014, + "Actual Rows": 5, + "Actual Loops": 199, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 1021, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 422, + "Output": ["ct.id", "ct.kind"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 402, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Germany,German}'::text[]))", + "Rows Removed by Filter": 20, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 308, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4184495773567888797, + "Planning Time": 67.281, + "Triggers": [ + ], + "Execution Time": 104.948, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 4184495773567888797, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS company_name,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS western_follow_up
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'English')
  AND t.production_year BETWEEN 1950 AND 2010
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1350.57, + "Total Cost": 1350.58, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 121.974, + "Actual Total Time": 122.145, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1350.51, + "Total Cost": 1350.52, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 121.943, + "Actual Total Time": 122.128, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1349.51, + "Total Cost": 1349.52, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 21.371, + "Actual Total Time": 21.377, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.017, + "Actual Total Time": 7.023, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.926, + "Actual Total Time": 6.932, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.238, + "Actual Total Time": 7.244, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.215, + "Actual Total Time": 7.221, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.258, + "Actual Total Time": 7.265, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.134, + "Actual Total Time": 7.141, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.209, + "Actual Total Time": 7.216, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.73, + "Total Cost": 1349.50, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 6.706, + "Actual Total Time": 21.150, + "Actual Rows": 234, + "Actual Loops": 8, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.011, + "Actual Total Time": 7.017, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.920, + "Actual Total Time": 6.926, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.233, + "Actual Total Time": 7.239, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.209, + "Actual Total Time": 7.215, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.253, + "Actual Total Time": 7.259, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.130, + "Actual Total Time": 7.137, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.203, + "Actual Total Time": 7.209, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.30, + "Total Cost": 1349.02, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 6.700, + "Actual Total Time": 19.032, + "Actual Rows": 234, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mi.movie_id", "mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.010, + "Actual Total Time": 7.016, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.920, + "Actual Total Time": 6.925, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.232, + "Actual Total Time": 7.237, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.208, + "Actual Total Time": 7.214, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.252, + "Actual Total Time": 7.257, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.130, + "Actual Total Time": 7.136, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.203, + "Actual Total Time": 7.208, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.85, + "Total Cost": 1348.01, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 6.693, + "Actual Total Time": 17.478, + "Actual Rows": 50, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.009, + "Actual Total Time": 7.014, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.919, + "Actual Total Time": 6.924, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.232, + "Actual Total Time": 7.236, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.207, + "Actual Total Time": 7.213, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.251, + "Actual Total Time": 7.256, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.129, + "Actual Total Time": 7.134, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.202, + "Actual Total Time": 7.207, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 1347.84, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 6.688, + "Actual Total Time": 17.240, + "Actual Rows": 53, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.009, + "Actual Total Time": 7.013, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.918, + "Actual Total Time": 6.922, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.231, + "Actual Total Time": 7.235, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.206, + "Actual Total Time": 7.211, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.251, + "Actual Total Time": 7.255, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.128, + "Actual Total Time": 7.132, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.201, + "Actual Total Time": 7.205, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1347.40, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 6.548, + "Actual Total Time": 16.021, + "Actual Rows": 128, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "ml.movie_id", "lt.link"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.008, + "Actual Total Time": 7.012, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.918, + "Actual Total Time": 6.921, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.231, + "Actual Total Time": 7.234, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.206, + "Actual Total Time": 7.209, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.250, + "Actual Total Time": 7.254, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.127, + "Actual Total Time": 7.131, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.201, + "Actual Total Time": 7.204, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 1346.86, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 6.541, + "Actual Total Time": 15.562, + "Actual Rows": 25, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.007, + "Actual Total Time": 7.010, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.917, + "Actual Total Time": 6.920, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.230, + "Actual Total Time": 7.233, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.205, + "Actual Total Time": 7.208, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.250, + "Actual Total Time": 7.253, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.126, + "Actual Total Time": 7.129, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.200, + "Actual Total Time": 7.203, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 1346.69, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 6.536, + "Actual Total Time": 15.490, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.006, + "Actual Total Time": 7.007, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.917, + "Actual Total Time": 6.918, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.229, + "Actual Total Time": 7.231, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.204, + "Actual Total Time": 7.206, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.249, + "Actual Total Time": 7.251, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.126, + "Actual Total Time": 7.128, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.199, + "Actual Total Time": 7.201, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.56, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 6.532, + "Actual Total Time": 10.605, + "Actual Rows": 1318, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.005, + "Actual Total Time": 7.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.916, + "Actual Total Time": 6.917, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.229, + "Actual Total Time": 7.230, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.203, + "Actual Total Time": 7.204, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.248, + "Actual Total Time": 7.250, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.125, + "Actual Total Time": 7.126, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.199, + "Actual Total Time": 7.200, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.518, + "Actual Total Time": 6.520, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.004, + "Actual Total Time": 7.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.915, + "Actual Total Time": 6.916, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.228, + "Actual Total Time": 7.229, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.202, + "Actual Total Time": 7.203, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.248, + "Actual Total Time": 7.249, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.124, + "Actual Total Time": 7.125, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.198, + "Actual Total Time": 7.198, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.092, + "Actual Total Time": 30.216, + "Actual Rows": 10544, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 0.38, + "Plan Rows": 5, + "Plan Width": 8, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 10544, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 251, + "Output": ["lt.link", "lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 240, + "Cache Misses": 11, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 11, + "Output": ["lt.link", "lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 2, + "Plan Width": 12, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.016, + "Actual Rows": 5, + "Actual Loops": 199, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1021, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 422, + "Output": ["ct.id", "ct.kind"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.46, + "Total Cost": 1.00, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.029, + "Actual Rows": 5, + "Actual Loops": 402, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,English}'::text[]))", + "Rows Removed by Filter": 16, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1874, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7971004576533452411, + "Planning Time": 66.568, + "Triggers": [ + ], + "Execution Time": 122.576, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -7971004576533452411, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_violent_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Germany',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '7.0'
  AND t.production_year > 2008
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1404.45, + "Total Cost": 1404.46, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 690.255, + "Actual Total Time": 715.443, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1404.39, + "Total Cost": 1404.40, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 474.333, + "Actual Total Time": 715.414, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1403.39, + "Total Cost": 1403.40, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 222.656, + "Actual Total Time": 222.664, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 679.856, + "Actual Total Time": 679.862, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.099, + "Actual Total Time": 14.108, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.522, + "Actual Total Time": 14.531, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.294, + "Actual Total Time": 14.303, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 557.217, + "Actual Total Time": 557.221, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.902, + "Actual Total Time": 13.910, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.965, + "Actual Total Time": 13.974, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.13, + "Total Cost": 1403.38, + "Plan Rows": 1, + "Plan Width": 42, + "Actual Startup Time": 29.852, + "Actual Total Time": 222.365, + "Actual Rows": 356, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 122.439, + "Actual Total Time": 679.019, + "Actual Rows": 1040, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.095, + "Actual Total Time": 14.103, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.517, + "Actual Total Time": 14.525, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.289, + "Actual Total Time": 14.297, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.249, + "Actual Total Time": 556.294, + "Actual Rows": 1173, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.898, + "Actual Total Time": 13.905, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.959, + "Actual Total Time": 13.967, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.99, + "Total Cost": 1403.20, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 16.191, + "Actual Total Time": 217.313, + "Actual Rows": 1322, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.411, + "Actual Total Time": 664.671, + "Actual Rows": 3807, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.094, + "Actual Total Time": 14.101, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.516, + "Actual Total Time": 14.524, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.288, + "Actual Total Time": 14.295, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.217, + "Actual Total Time": 540.762, + "Actual Rows": 4144, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.897, + "Actual Total Time": 13.903, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.958, + "Actual Total Time": 13.965, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.56, + "Total Cost": 1402.67, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 16.102, + "Actual Total Time": 208.409, + "Actual Rows": 499, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.157, + "Actual Total Time": 643.422, + "Actual Rows": 1469, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.093, + "Actual Total Time": 14.100, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.516, + "Actual Total Time": 14.522, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.287, + "Actual Total Time": 14.294, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.141, + "Actual Total Time": 514.150, + "Actual Rows": 1541, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.896, + "Actual Total Time": 13.902, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.950, + "Actual Total Time": 13.956, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.43, + "Total Cost": 1402.52, + "Plan Rows": 1, + "Plan Width": 56, + "Actual Startup Time": 16.087, + "Actual Total Time": 206.896, + "Actual Rows": 499, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.113, + "Actual Total Time": 638.997, + "Actual Rows": 1469, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.093, + "Actual Total Time": 14.098, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.515, + "Actual Total Time": 14.521, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.287, + "Actual Total Time": 14.293, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.094, + "Actual Total Time": 509.623, + "Actual Rows": 1541, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.896, + "Actual Total Time": 13.901, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.949, + "Actual Total Time": 13.955, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.01, + "Total Cost": 1402.05, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 16.062, + "Actual Total Time": 200.915, + "Actual Rows": 553, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.032, + "Actual Total Time": 622.148, + "Actual Rows": 1649, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.092, + "Actual Total Time": 14.097, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.515, + "Actual Total Time": 14.520, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.287, + "Actual Total Time": 14.292, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.024, + "Actual Total Time": 491.872, + "Actual Rows": 1684, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.895, + "Actual Total Time": 13.900, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.949, + "Actual Total Time": 13.954, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.86, + "Total Cost": 1401.87, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 16.037, + "Actual Total Time": 200.007, + "Actual Rows": 602, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.971, + "Actual Total Time": 619.510, + "Actual Rows": 1782, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.092, + "Actual Total Time": 14.095, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.514, + "Actual Total Time": 14.518, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.286, + "Actual Total Time": 14.290, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.924, + "Actual Total Time": 489.221, + "Actual Rows": 1826, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.894, + "Actual Total Time": 13.898, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.948, + "Actual Total Time": 13.952, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.43, + "Total Cost": 1400.88, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 12.996, + "Actual Total Time": 117.800, + "Actual Rows": 601, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.516, + "Actual Total Time": 403.762, + "Actual Rows": 1802, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.091, + "Actual Total Time": 14.093, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.513, + "Actual Total Time": 14.517, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.286, + "Actual Total Time": 14.289, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.193, + "Actual Total Time": 237.305, + "Actual Rows": 1827, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.894, + "Actual Total Time": 13.896, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.947, + "Actual Total Time": 13.951, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.00, + "Total Cost": 1400.34, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 9.701, + "Actual Total Time": 94.198, + "Actual Rows": 604, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.373, + "Actual Total Time": 333.538, + "Actual Rows": 2254, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.090, + "Actual Total Time": 14.092, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.513, + "Actual Total Time": 14.516, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.285, + "Actual Total Time": 14.288, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.715, + "Actual Total Time": 181.191, + "Actual Rows": 1434, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.893, + "Actual Total Time": 13.895, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.947, + "Actual Total Time": 13.949, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1399.58, + "Plan Rows": 5, + "Plan Width": 29, + "Actual Startup Time": 9.685, + "Actual Total Time": 91.188, + "Actual Rows": 701, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.331, + "Actual Total Time": 322.866, + "Actual Rows": 2577, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.089, + "Actual Total Time": 14.090, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.512, + "Actual Total Time": 14.514, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.284, + "Actual Total Time": 14.286, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.669, + "Actual Total Time": 174.024, + "Actual Rows": 1659, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.892, + "Actual Total Time": 13.893, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.946, + "Actual Total Time": 13.948, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1390.83, + "Plan Rows": 19, + "Plan Width": 4, + "Actual Startup Time": 9.396, + "Actual Total Time": 35.800, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.933, + "Actual Total Time": 104.712, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.088, + "Actual Total Time": 14.089, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.511, + "Actual Total Time": 14.513, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.284, + "Actual Total Time": 14.285, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.463, + "Actual Total Time": 72.316, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.891, + "Actual Total Time": 13.892, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.945, + "Actual Total Time": 13.947, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 9.291, + "Actual Total Time": 9.297, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.565, + "Actual Total Time": 0.570, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.087, + "Actual Total Time": 14.088, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.510, + "Actual Total Time": 14.511, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.283, + "Actual Total Time": 14.283, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.088, + "Actual Total Time": 0.100, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.890, + "Actual Total Time": 13.890, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.944, + "Actual Total Time": 13.945, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.95, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.273, + "Actual Total Time": 67.517, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.365, + "Actual Total Time": 99.415, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.370, + "Actual Total Time": 69.940, + "Actual Rows": 8337, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2008)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 19528 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 8337 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 5606, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 2577 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 1659 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 4832, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 8, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 2254 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 1434 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.136, + "Actual Rows": 1, + "Actual Loops": 4808, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Germany,German,USA,American}'::text[]))", + "Rows Removed by Filter": 175, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.119, + "Actual Rows": 1, + "Actual Loops": 1802 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.137, + "Actual Rows": 1, + "Actual Loops": 1827 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 4816, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 1205, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1782, + "Cache Hits": 1779, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1826, + "Cache Hits": 1823, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 9, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 4424, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1649 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1684 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 3994, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 1469 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 1541 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 3994, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '7.0'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 1469 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 1541 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 10580, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 3807 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 4144 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7110568913434103698, + "Planning Time": 125.686, + "Triggers": [ + ], + "Execution Time": 715.961, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -7110568913434103698, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_violent_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Germany',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '7.0'
  AND t.production_year > 2009
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1404.30, + "Total Cost": 1404.31, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 361.952, + "Actual Total Time": 388.237, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1404.24, + "Total Cost": 1404.25, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 241.134, + "Actual Total Time": 388.199, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1403.24, + "Total Cost": 1403.25, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 113.375, + "Actual Total Time": 113.383, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.242, + "Actual Total Time": 14.250, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 243.031, + "Actual Total Time": 243.037, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.053, + "Actual Total Time": 14.062, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.017, + "Actual Total Time": 14.026, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 352.556, + "Actual Total Time": 352.561, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.331, + "Actual Total Time": 14.338, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.556, + "Actual Total Time": 14.563, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.13, + "Total Cost": 1403.23, + "Plan Rows": 1, + "Plan Width": 42, + "Actual Startup Time": 26.103, + "Actual Total Time": 113.366, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.236, + "Actual Total Time": 14.243, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 39.188, + "Actual Total Time": 243.006, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.049, + "Actual Total Time": 14.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.013, + "Actual Total Time": 14.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 67.788, + "Actual Total Time": 352.519, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.326, + "Actual Total Time": 14.333, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.550, + "Actual Total Time": 14.557, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.99, + "Total Cost": 1403.05, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 26.093, + "Actual Total Time": 113.308, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.236, + "Actual Total Time": 14.242, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 39.167, + "Actual Total Time": 242.885, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.048, + "Actual Total Time": 14.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.012, + "Actual Total Time": 14.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 67.769, + "Actual Total Time": 352.362, + "Actual Rows": 35, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.326, + "Actual Total Time": 14.332, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.550, + "Actual Total Time": 14.556, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.56, + "Total Cost": 1402.52, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 26.073, + "Actual Total Time": 113.224, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.235, + "Actual Total Time": 14.241, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 39.105, + "Actual Total Time": 242.703, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.048, + "Actual Total Time": 14.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.012, + "Actual Total Time": 14.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 67.716, + "Actual Total Time": 352.134, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.325, + "Actual Total Time": 14.331, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.549, + "Actual Total Time": 14.555, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.43, + "Total Cost": 1402.37, + "Plan Rows": 1, + "Plan Width": 56, + "Actual Startup Time": 26.056, + "Actual Total Time": 113.188, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.235, + "Actual Total Time": 14.239, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 39.045, + "Actual Total Time": 242.605, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.047, + "Actual Total Time": 14.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.011, + "Actual Total Time": 14.018, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 67.667, + "Actual Total Time": 352.030, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.325, + "Actual Total Time": 14.330, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.549, + "Actual Total Time": 14.554, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.01, + "Total Cost": 1401.90, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 26.037, + "Actual Total Time": 113.084, + "Actual Rows": 6, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.235, + "Actual Total Time": 14.238, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 38.980, + "Actual Total Time": 242.353, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.047, + "Actual Total Time": 14.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.011, + "Actual Total Time": 14.017, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 67.614, + "Actual Total Time": 351.733, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.324, + "Actual Total Time": 14.329, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.548, + "Actual Total Time": 14.552, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.58, + "Total Cost": 1401.36, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 9.436, + "Actual Total Time": 106.676, + "Actual Rows": 258, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.234, + "Actual Total Time": 14.237, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.446, + "Actual Total Time": 224.962, + "Actual Rows": 607, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.046, + "Actual Total Time": 14.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.010, + "Actual Total Time": 14.015, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.981, + "Actual Total Time": 330.674, + "Actual Rows": 986, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.324, + "Actual Total Time": 14.328, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.547, + "Actual Total Time": 14.551, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.43, + "Total Cost": 1401.17, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 9.418, + "Actual Total Time": 106.149, + "Actual Rows": 282, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.233, + "Actual Total Time": 14.236, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.396, + "Actual Total Time": 223.591, + "Actual Rows": 663, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.046, + "Actual Total Time": 14.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.009, + "Actual Total Time": 14.014, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.937, + "Actual Total Time": 328.894, + "Actual Rows": 1067, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.324, + "Actual Total Time": 14.327, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.546, + "Actual Total Time": 14.549, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.00, + "Total Cost": 1400.19, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 9.390, + "Actual Total Time": 71.384, + "Actual Rows": 440, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.233, + "Actual Total Time": 14.235, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.331, + "Actual Total Time": 135.330, + "Actual Rows": 1017, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.045, + "Actual Total Time": 14.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.009, + "Actual Total Time": 14.012, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.867, + "Actual Total Time": 223.354, + "Actual Rows": 1644, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.323, + "Actual Total Time": 14.325, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.546, + "Actual Total Time": 14.547, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1399.58, + "Plan Rows": 4, + "Plan Width": 29, + "Actual Startup Time": 9.378, + "Actual Total Time": 69.284, + "Actual Rows": 505, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.232, + "Actual Total Time": 14.233, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.296, + "Actual Total Time": 129.971, + "Actual Rows": 1167, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.044, + "Actual Total Time": 14.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.008, + "Actual Total Time": 14.010, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.831, + "Actual Total Time": 216.379, + "Actual Rows": 1858, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.322, + "Actual Total Time": 14.324, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.545, + "Actual Total Time": 14.546, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1390.83, + "Plan Rows": 19, + "Plan Width": 4, + "Actual Startup Time": 9.307, + "Actual Total Time": 23.974, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.231, + "Actual Total Time": 14.232, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.136, + "Actual Total Time": 34.311, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.044, + "Actual Total Time": 14.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.007, + "Actual Total Time": 14.009, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.537, + "Actual Total Time": 49.900, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.322, + "Actual Total Time": 14.323, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.544, + "Actual Total Time": 14.545, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 9.271, + "Actual Total Time": 9.277, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.230, + "Actual Total Time": 14.231, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.071, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.043, + "Actual Total Time": 14.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.006, + "Actual Total Time": 14.007, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.432, + "Actual Total Time": 0.437, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.321, + "Actual Total Time": 14.321, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.543, + "Actual Total Time": 14.543, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.95, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.090, + "Actual Total Time": 36.167, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.071, + "Actual Total Time": 31.888, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.101, + "Actual Total Time": 45.176, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2009)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 4040, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1167 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 1858 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.078, + "Actual Rows": 1, + "Actual Loops": 3517, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Germany,German,USA,American}'::text[]))", + "Rows Removed by Filter": 45, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.086, + "Actual Rows": 1, + "Actual Loops": 1017 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.063, + "Actual Rows": 1, + "Actual Loops": 1644 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 2256, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 523, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 663, + "Cache Hits": 660, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1067, + "Cache Hits": 1064, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 9, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 2061, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 11, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 607 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 986 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 47, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 19 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 34, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 9 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 13 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 34, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '7.0'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 9 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 13 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 92, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 24 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 35 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7110568913434103698, + "Planning Time": 123.817, + "Triggers": [ + ], + "Execution Time": 388.865, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -7110568913434103698, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_violent_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1405.49, + "Total Cost": 1405.50, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 2120.971, + "Actual Total Time": 2148.810, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1405.43, + "Total Cost": 1405.44, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 1637.823, + "Actual Total Time": 2148.774, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1404.43, + "Total Cost": 1404.44, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 732.794, + "Actual Total Time": 732.803, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.779, + "Actual Total Time": 20.788, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2110.733, + "Actual Total Time": 2110.738, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2001.879, + "Actual Total Time": 2001.885, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.542, + "Actual Total Time": 21.551, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.684, + "Actual Total Time": 21.692, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.285, + "Actual Total Time": 27.294, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.532, + "Actual Total Time": 21.540, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.06, + "Total Cost": 1404.42, + "Plan Rows": 1, + "Plan Width": 42, + "Actual Startup Time": 16.438, + "Actual Total Time": 730.926, + "Actual Rows": 2686, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.775, + "Actual Total Time": 20.783, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.575, + "Actual Total Time": 2105.356, + "Actual Rows": 7733, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.552, + "Actual Total Time": 1996.292, + "Actual Rows": 7787, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.538, + "Actual Total Time": 21.546, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.678, + "Actual Total Time": 21.686, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.280, + "Actual Total Time": 27.288, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.527, + "Actual Total Time": 21.535, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.92, + "Total Cost": 1404.24, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 16.196, + "Actual Total Time": 700.846, + "Actual Rows": 8078, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.774, + "Actual Total Time": 20.782, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.546, + "Actual Total Time": 2019.522, + "Actual Rows": 23180, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.527, + "Actual Total Time": 1908.544, + "Actual Rows": 23391, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.537, + "Actual Total Time": 21.545, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.677, + "Actual Total Time": 21.685, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.279, + "Actual Total Time": 27.286, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.526, + "Actual Total Time": 21.533, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.49, + "Total Cost": 1403.71, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 15.955, + "Actual Total Time": 663.398, + "Actual Rows": 2728, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.774, + "Actual Total Time": 20.781, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.467, + "Actual Total Time": 1923.295, + "Actual Rows": 7883, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.300, + "Actual Total Time": 1800.516, + "Actual Rows": 7896, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.537, + "Actual Total Time": 21.543, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.677, + "Actual Total Time": 21.683, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.278, + "Actual Total Time": 27.285, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.525, + "Actual Total Time": 21.532, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.34, + "Total Cost": 1403.53, + "Plan Rows": 1, + "Plan Width": 56, + "Actual Startup Time": 15.936, + "Actual Total Time": 659.439, + "Actual Rows": 3128, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mi.movie_id", "mi.info_type_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.773, + "Actual Total Time": 20.779, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.416, + "Actual Total Time": 1911.892, + "Actual Rows": 9145, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.240, + "Actual Total Time": 1788.840, + "Actual Rows": 8962, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.536, + "Actual Total Time": 21.541, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.676, + "Actual Total Time": 21.682, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.278, + "Actual Total Time": 27.283, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.525, + "Actual Total Time": 21.530, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.91, + "Total Cost": 1402.38, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 15.616, + "Actual Total Time": 138.926, + "Actual Rows": 2988, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.772, + "Actual Total Time": 20.777, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.348, + "Actual Total Time": 424.657, + "Actual Rows": 8859, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.867, + "Actual Total Time": 304.568, + "Actual Rows": 8661, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.535, + "Actual Total Time": 21.539, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.675, + "Actual Total Time": 21.681, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.277, + "Actual Total Time": 27.282, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.524, + "Actual Total Time": 21.529, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.78, + "Total Cost": 1402.22, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 15.600, + "Actual Total Time": 130.845, + "Actual Rows": 2988, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.771, + "Actual Total Time": 20.776, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.296, + "Actual Total Time": 400.862, + "Actual Rows": 8859, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.813, + "Actual Total Time": 280.809, + "Actual Rows": 8661, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.534, + "Actual Total Time": 21.538, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.675, + "Actual Total Time": 21.679, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.277, + "Actual Total Time": 27.281, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.523, + "Actual Total Time": 21.527, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.36, + "Total Cost": 1401.75, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 15.579, + "Actual Total Time": 100.862, + "Actual Rows": 3232, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.771, + "Actual Total Time": 20.774, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.234, + "Actual Total Time": 313.434, + "Actual Rows": 9616, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.757, + "Actual Total Time": 192.821, + "Actual Rows": 9384, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.533, + "Actual Total Time": 21.536, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.674, + "Actual Total Time": 21.678, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.276, + "Actual Total Time": 27.279, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.522, + "Actual Total Time": 21.526, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 1400.67, + "Plan Rows": 2, + "Plan Width": 25, + "Actual Startup Time": 14.660, + "Actual Total Time": 72.720, + "Actual Rows": 1009, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.770, + "Actual Total Time": 20.773, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.763, + "Actual Total Time": 226.222, + "Actual Rows": 3653, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.473, + "Actual Total Time": 117.205, + "Actual Rows": 2502, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.532, + "Actual Total Time": 21.535, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.673, + "Actual Total Time": 21.677, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.275, + "Actual Total Time": 27.278, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.522, + "Actual Total Time": 21.525, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1399.58, + "Plan Rows": 8, + "Plan Width": 29, + "Actual Startup Time": 14.464, + "Actual Total Time": 71.499, + "Actual Rows": 1217, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.602, + "Actual Total Time": 20.604, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.427, + "Actual Total Time": 222.501, + "Actual Rows": 4326, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.269, + "Actual Total Time": 114.313, + "Actual Rows": 3009, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.388, + "Actual Total Time": 21.389, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.519, + "Actual Total Time": 21.520, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.196, + "Actual Total Time": 27.197, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.381, + "Actual Total Time": 21.383, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1390.83, + "Plan Rows": 19, + "Plan Width": 4, + "Actual Startup Time": 14.441, + "Actual Total Time": 28.177, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.601, + "Actual Total Time": 20.602, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.363, + "Actual Total Time": 50.534, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.185, + "Actual Total Time": 29.858, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.387, + "Actual Total Time": 21.388, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.517, + "Actual Total Time": 21.519, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.195, + "Actual Total Time": 27.196, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.380, + "Actual Total Time": 21.381, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 14.400, + "Actual Total Time": 14.406, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.600, + "Actual Total Time": 20.601, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.254, + "Actual Total Time": 0.259, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.089, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.386, + "Actual Total Time": 21.387, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.517, + "Actual Total Time": 21.517, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.194, + "Actual Total Time": 27.195, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.379, + "Actual Total Time": 21.380, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.95, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.100, + "Actual Total Time": 33.807, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.105, + "Actual Total Time": 45.826, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.101, + "Actual Total Time": 27.683, + "Actual Rows": 8337, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 19528 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 8337 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.025, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.026, + "Actual Rows": 3, + "Actual Loops": 8073, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 7, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.022, + "Actual Rows": 3, + "Actual Loops": 3653 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.028, + "Actual Rows": 4, + "Actual Loops": 2502 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 25853, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 9616 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 9384 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 23902, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 8859 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 8661 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.173, + "Actual Rows": 1, + "Actual Loops": 23902, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 184, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.167, + "Actual Rows": 1, + "Actual Loops": 8859 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.170, + "Actual Rows": 1, + "Actual Loops": 8661 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 25020, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 6910, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 9145, + "Cache Hits": 9142, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 8962, + "Cache Hits": 8959, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 9, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 21827, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 3, + "Actual Loops": 7883 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 7896 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 64628, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 23180 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 23391 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5949668645089970217, + "Planning Time": 115.275, + "Triggers": [ + ], + "Execution Time": 2149.447, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -5949668645089970217, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_violent_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1406.27, + "Total Cost": 1406.28, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 3914.189, + "Actual Total Time": 3942.870, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1406.21, + "Total Cost": 1406.22, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 2804.665, + "Actual Total Time": 3942.835, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1405.21, + "Total Cost": 1405.22, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 1281.787, + "Actual Total Time": 1281.796, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.493, + "Actual Total Time": 19.502, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.227, + "Actual Total Time": 13.234, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3470.480, + "Actual Total Time": 3470.485, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.824, + "Actual Total Time": 13.834, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.496, + "Actual Total Time": 14.505, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3903.715, + "Actual Total Time": 3903.721, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.302, + "Actual Total Time": 15.310, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.06, + "Total Cost": 1405.20, + "Plan Rows": 1, + "Plan Width": 42, + "Actual Startup Time": 11.440, + "Actual Total Time": 1277.742, + "Actual Rows": 5785, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.487, + "Actual Total Time": 19.496, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.222, + "Actual Total Time": 13.229, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.739, + "Actual Total Time": 3459.098, + "Actual Rows": 16022, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.820, + "Actual Total Time": 13.828, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.490, + "Actual Total Time": 14.498, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.660, + "Actual Total Time": 3891.160, + "Actual Rows": 18079, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.297, + "Actual Total Time": 15.304, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.92, + "Total Cost": 1405.02, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 11.434, + "Actual Total Time": 1250.217, + "Actual Rows": 6822, + "Actual Loops": 8, + "Output": ["cn.name", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.486, + "Actual Total Time": 19.495, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.222, + "Actual Total Time": 13.228, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.724, + "Actual Total Time": 3383.347, + "Actual Rows": 18840, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.819, + "Actual Total Time": 13.827, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.490, + "Actual Total Time": 14.497, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.644, + "Actual Total Time": 3804.798, + "Actual Rows": 21362, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.296, + "Actual Total Time": 15.303, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.49, + "Total Cost": 1403.87, + "Plan Rows": 1, + "Plan Width": 58, + "Actual Startup Time": 11.404, + "Actual Total Time": 221.727, + "Actual Rows": 7056, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.486, + "Actual Total Time": 19.494, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.222, + "Actual Total Time": 13.228, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.638, + "Actual Total Time": 536.452, + "Actual Rows": 19546, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.819, + "Actual Total Time": 13.826, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.489, + "Actual Total Time": 14.496, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.540, + "Actual Total Time": 694.143, + "Actual Rows": 22415, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.296, + "Actual Total Time": 15.302, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.36, + "Total Cost": 1403.71, + "Plan Rows": 1, + "Plan Width": 62, + "Actual Startup Time": 11.386, + "Actual Total Time": 202.844, + "Actual Rows": 7056, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.485, + "Actual Total Time": 19.492, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.221, + "Actual Total Time": 13.227, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.585, + "Actual Total Time": 484.235, + "Actual Rows": 19546, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.818, + "Actual Total Time": 13.825, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.488, + "Actual Total Time": 14.494, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.472, + "Actual Total Time": 634.217, + "Actual Rows": 22415, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.295, + "Actual Total Time": 15.301, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.94, + "Total Cost": 1403.27, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 10.268, + "Actual Total Time": 117.251, + "Actual Rows": 9450, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.484, + "Actual Total Time": 19.491, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.221, + "Actual Total Time": 13.225, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.639, + "Actual Total Time": 246.376, + "Actual Rows": 26397, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.817, + "Actual Total Time": 13.823, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.487, + "Actual Total Time": 14.493, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.652, + "Actual Total Time": 365.537, + "Actual Rows": 30221, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.295, + "Actual Total Time": 15.300, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.51, + "Total Cost": 1402.71, + "Plan Rows": 1, + "Plan Width": 35, + "Actual Startup Time": 10.246, + "Actual Total Time": 97.190, + "Actual Rows": 744, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.484, + "Actual Total Time": 19.490, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.220, + "Actual Total Time": 13.224, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.571, + "Actual Total Time": 191.209, + "Actual Rows": 1969, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.817, + "Actual Total Time": 13.822, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.487, + "Actual Total Time": 14.492, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.587, + "Actual Total Time": 300.819, + "Actual Rows": 2608, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.294, + "Actual Total Time": 15.299, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.35, + "Total Cost": 1401.73, + "Plan Rows": 6, + "Plan Width": 39, + "Actual Startup Time": 10.219, + "Actual Total Time": 94.747, + "Actual Rows": 2236, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.483, + "Actual Total Time": 19.488, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.220, + "Actual Total Time": 13.223, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.500, + "Actual Total Time": 184.719, + "Actual Rows": 5901, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.816, + "Actual Total Time": 13.820, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.486, + "Actual Total Time": 14.490, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.510, + "Actual Total Time": 292.617, + "Actual Rows": 7869, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.293, + "Actual Total Time": 15.297, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 1400.67, + "Plan Rows": 2, + "Plan Width": 25, + "Actual Startup Time": 10.165, + "Actual Total Time": 67.679, + "Actual Rows": 1009, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.483, + "Actual Total Time": 19.486, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.219, + "Actual Total Time": 13.222, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.427, + "Actual Total Time": 114.603, + "Actual Rows": 2502, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.815, + "Actual Total Time": 13.819, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.485, + "Actual Total Time": 14.488, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.441, + "Actual Total Time": 222.919, + "Actual Rows": 3653, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.293, + "Actual Total Time": 15.296, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1399.58, + "Plan Rows": 8, + "Plan Width": 29, + "Actual Startup Time": 10.001, + "Actual Total Time": 66.248, + "Actual Rows": 1217, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.408, + "Actual Total Time": 19.410, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.162, + "Actual Total Time": 13.163, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.255, + "Actual Total Time": 111.127, + "Actual Rows": 3009, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.746, + "Actual Total Time": 13.748, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.339, + "Actual Total Time": 14.340, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.097, + "Actual Total Time": 218.439, + "Actual Rows": 4326, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.213, + "Actual Total Time": 15.214, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1390.83, + "Plan Rows": 19, + "Plan Width": 4, + "Actual Startup Time": 9.961, + "Actual Total Time": 23.503, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.407, + "Actual Total Time": 19.408, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.161, + "Actual Total Time": 13.162, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.190, + "Actual Total Time": 28.904, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.745, + "Actual Total Time": 13.747, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.338, + "Actual Total Time": 14.339, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.880, + "Actual Total Time": 50.244, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.213, + "Actual Total Time": 15.213, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 9.921, + "Actual Total Time": 9.927, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.406, + "Actual Total Time": 19.407, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.161, + "Actual Total Time": 13.161, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.091, + "Actual Total Time": 0.101, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.745, + "Actual Total Time": 13.745, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.336, + "Actual Total Time": 14.336, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.760, + "Actual Total Time": 0.765, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.212, + "Actual Total Time": 15.212, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.95, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.098, + "Actual Total Time": 33.187, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.096, + "Actual Total Time": 26.605, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.114, + "Actual Total Time": 45.003, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.027, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.026, + "Actual Rows": 2, + "Actual Loops": 8073, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.027, + "Actual Rows": 2, + "Actual Loops": 2502 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 2, + "Actual Loops": 3653 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 17891, + "Output": ["it2.id"], + "Cache Key": "mi_idx.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 4117, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5901, + "Cache Hits": 5896, + "Cache Misses": 5, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 7869, + "Cache Hits": 7865, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 13, + "Output": ["it2.id"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 5 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 4 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.021, + "Actual Rows": 13, + "Actual Loops": 5949, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.021, + "Actual Rows": 13, + "Actual Loops": 1969 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.019, + "Actual Rows": 12, + "Actual Loops": 2608 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 75603, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 26397 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 30221 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 56448, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 19546 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 22415 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.145, + "Actual Rows": 1, + "Actual Loops": 56448, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 154, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.145, + "Actual Rows": 1, + "Actual Loops": 19546 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.138, + "Actual Rows": 1, + "Actual Loops": 22415 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 54578, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 18840 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 21362 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1524343667767028728, + "Planning Time": 127.368, + "Triggers": [ + ], + "Execution Time": 3943.501, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 1524343667767028728, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(kt.kind) AS movie_kind,
       MIN(t.title) AS complete_us_internet_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'complete+verified'
  AND cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND kt.kind IN ('movie')
  AND mi.note LIKE '%internet%'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'USA:% 199%'
       OR mi.info LIKE 'USA:% 200%')
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND cct1.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5334.89, + "Total Cost": 5334.90, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 118.061, + "Actual Total Time": 118.371, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((kt.kind)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5334.85, + "Total Cost": 5334.86, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 118.035, + "Actual Total Time": 118.358, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((kt.kind)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5333.85, + "Total Cost": 5333.86, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 99.252, + "Actual Total Time": 99.260, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((kt.kind)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.633, + "Actual Total Time": 91.641, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 99.456, + "Actual Total Time": 99.465, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 98.169, + "Actual Total Time": 98.178, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 98.502, + "Actual Total Time": 98.509, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 92.532, + "Actual Total Time": 92.541, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.322, + "Actual Total Time": 98.329, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.236, + "Actual Total Time": 98.243, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.96, + "Total Cost": 5333.84, + "Plan Rows": 1, + "Plan Width": 27, + "Actual Startup Time": 87.553, + "Actual Total Time": 99.168, + "Actual Rows": 77, + "Actual Loops": 8, + "Output": ["kt.kind", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.628, + "Actual Total Time": 91.635, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 99.451, + "Actual Total Time": 99.460, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 59.114, + "Actual Total Time": 97.813, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 98.499, + "Actual Total Time": 98.506, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.400, + "Actual Total Time": 92.519, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.318, + "Actual Total Time": 98.325, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.232, + "Actual Total Time": 98.238, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.54, + "Total Cost": 5333.41, + "Plan Rows": 1, + "Plan Width": 31, + "Actual Startup Time": 87.477, + "Actual Total Time": 96.761, + "Actual Rows": 77, + "Actual Loops": 8, + "Output": ["mk.keyword_id", "t.title", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.627, + "Actual Total Time": 91.634, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 99.451, + "Actual Total Time": 99.459, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 58.863, + "Actual Total Time": 83.439, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 98.498, + "Actual Total Time": 98.504, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.074, + "Actual Total Time": 91.963, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.317, + "Actual Total Time": 98.323, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.231, + "Actual Total Time": 98.237, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.41, + "Total Cost": 5333.25, + "Plan Rows": 1, + "Plan Width": 35, + "Actual Startup Time": 87.465, + "Actual Total Time": 96.308, + "Actual Rows": 77, + "Actual Loops": 8, + "Output": ["mc.company_type_id", "mk.keyword_id", "t.title", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.627, + "Actual Total Time": 91.633, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 99.451, + "Actual Total Time": 99.458, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 58.815, + "Actual Total Time": 82.201, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 98.498, + "Actual Total Time": 98.503, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.042, + "Actual Total Time": 91.914, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.317, + "Actual Total Time": 98.322, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.231, + "Actual Total Time": 98.236, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.99, + "Total Cost": 5332.81, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 87.446, + "Actual Total Time": 95.456, + "Actual Rows": 77, + "Actual Loops": 8, + "Output": ["mc.company_id", "mc.company_type_id", "mk.keyword_id", "t.title", "kt.kind"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.626, + "Actual Total Time": 91.632, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 99.450, + "Actual Total Time": 99.456, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 58.754, + "Actual Total Time": 78.873, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 98.497, + "Actual Total Time": 98.502, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 52.996, + "Actual Total Time": 91.800, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.316, + "Actual Total Time": 98.321, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.230, + "Actual Total Time": 98.235, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.56, + "Total Cost": 5332.25, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 87.423, + "Actual Total Time": 94.527, + "Actual Rows": 77, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mi.movie_id", "mk.movie_id", "mk.keyword_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.626, + "Actual Total Time": 91.631, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 99.449, + "Actual Total Time": 99.455, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 58.696, + "Actual Total Time": 75.278, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 98.497, + "Actual Total Time": 98.501, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 52.918, + "Actual Total Time": 91.679, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.316, + "Actual Total Time": 98.320, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.230, + "Actual Total Time": 98.233, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.40, + "Total Cost": 5332.06, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 87.408, + "Actual Total Time": 94.367, + "Actual Rows": 77, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mi.movie_id", "mi.info_type_id", "mk.movie_id", "mk.keyword_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.626, + "Actual Total Time": 91.629, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 99.449, + "Actual Total Time": 99.454, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 58.646, + "Actual Total Time": 74.654, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 98.496, + "Actual Total Time": 98.499, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 52.879, + "Actual Total Time": 91.632, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.315, + "Actual Total Time": 98.319, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.229, + "Actual Total Time": 98.232, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.97, + "Total Cost": 5330.77, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 87.329, + "Actual Total Time": 94.151, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.625, + "Actual Total Time": 91.628, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 99.448, + "Actual Total Time": 99.452, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 58.299, + "Actual Total Time": 73.798, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 98.495, + "Actual Total Time": 98.497, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 52.648, + "Actual Total Time": 91.394, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.314, + "Actual Total Time": 98.317, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.229, + "Actual Total Time": 98.231, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.54, + "Total Cost": 4900.99, + "Plan Rows": 377, + "Plan Width": 35, + "Actual Startup Time": 0.955, + "Actual Total Time": 60.866, + "Actual Rows": 129, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.549, + "Actual Total Time": 57.255, + "Actual Rows": 129, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.656, + "Actual Total Time": 66.162, + "Actual Rows": 129, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.561, + "Actual Total Time": 50.509, + "Actual Rows": 90, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.458, + "Actual Total Time": 62.779, + "Actual Rows": 137, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.607, + "Actual Total Time": 60.946, + "Actual Rows": 114, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.961, + "Actual Total Time": 62.814, + "Actual Rows": 142, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.359, + "Actual Total Time": 63.214, + "Actual Rows": 151, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 4888.80, + "Plan Rows": 2640, + "Plan Width": 29, + "Actual Startup Time": 0.580, + "Actual Total Time": 60.490, + "Actual Rows": 260, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.482, + "Actual Total Time": 56.960, + "Actual Rows": 221, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.579, + "Actual Total Time": 65.818, + "Actual Rows": 323, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.293, + "Actual Total Time": 50.073, + "Actual Rows": 192, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.385, + "Actual Total Time": 62.446, + "Actual Rows": 316, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.483, + "Actual Total Time": 60.620, + "Actual Rows": 230, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.972, + "Actual Total Time": 62.493, + "Actual Rows": 294, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.295, + "Actual Total Time": 62.876, + "Actual Rows": 246, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 1029.35, + "Plan Rows": 4825, + "Plan Width": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 11.336, + "Actual Rows": 3074, + "Actual Loops": 8, + "Output": ["cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.055, + "Actual Total Time": 11.596, + "Actual Rows": 2981, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.043, + "Actual Total Time": 12.353, + "Actual Rows": 3354, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 9.766, + "Actual Rows": 2556, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.034, + "Actual Total Time": 11.080, + "Actual Rows": 3184, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 11.041, + "Actual Rows": 3192, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 11.856, + "Actual Rows": 3164, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 11.601, + "Actual Rows": 3065, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 8, + "Actual Startup Time": 0.019, + "Actual Total Time": 3.866, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 4.096, + "Actual Rows": 17205, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 4.212, + "Actual Rows": 18685, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 3.333, + "Actual Rows": 15355, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 3.662, + "Actual Rows": 16465, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 3.647, + "Actual Rows": 16650, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 4.146, + "Actual Rows": 18166, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 4.160, + "Actual Rows": 16835, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.80, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 24592, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2981 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 3354 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 2556 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 3184 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 3192 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 3164 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 3065 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.kind", "kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.186, + "Actual Total Time": 0.186, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.kind", "kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.257, + "Actual Total Time": 0.257, + "Actual Rows": 0, + "Actual Loops": 1033, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND (mi.note ~~ '%internet%'::text) AND ((mi.info ~~ 'USA:% 199%'::text) OR (mi.info ~~ 'USA:% 200%'::text)))", + "Rows Removed by Filter": 211, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.265, + "Actual Total Time": 0.265, + "Actual Rows": 0, + "Actual Loops": 129 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.257, + "Actual Total Time": 0.257, + "Actual Rows": 0, + "Actual Loops": 129 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.257, + "Actual Total Time": 0.258, + "Actual Rows": 0, + "Actual Loops": 90 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.260, + "Actual Total Time": 0.260, + "Actual Rows": 0, + "Actual Loops": 137 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.266, + "Actual Total Time": 0.266, + "Actual Rows": 0, + "Actual Loops": 114 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.249, + "Actual Total Time": 0.249, + "Actual Rows": 0, + "Actual Loops": 142 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.231, + "Actual Total Time": 0.231, + "Actual Rows": 0, + "Actual Loops": 151 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.131, + "Actual Total Time": 0.273, + "Actual Rows": 123, + "Actual Loops": 5, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.180, + "Actual Total Time": 0.345, + "Actual Rows": 153, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.226, + "Actual Total Time": 0.230, + "Actual Rows": 3, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.19, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 615, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 305, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 306, + "Cache Hits": 305, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3, + "Cache Hits": 2, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 615, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 306 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.036, + "Actual Rows": 2, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 618, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 306 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 618, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 306 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 618, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 306 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.091, + "Actual Total Time": 0.091, + "Actual Rows": 1, + "Actual Loops": 6 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4445581228366823766, + "Planning Time": 113.141, + "Triggers": [ + ], + "Execution Time": 118.825, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 4445581228366823766, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(kt.kind) AS movie_kind,
       MIN(t.title) AS complete_nerdy_internet_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'complete+verified'
  AND cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND k.keyword IN ('nerd',
                    'loner',
                    'alienation',
                    'dignity')
  AND kt.kind IN ('movie')
  AND mi.note LIKE '%internet%'
  AND mi.info LIKE 'USA:% 200%'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND cct1.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1405.16, + "Total Cost": 1405.17, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 54.866, + "Actual Total Time": 59.892, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((kt.kind)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1405.12, + "Total Cost": 1405.13, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 52.660, + "Actual Total Time": 59.880, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((kt.kind)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1404.12, + "Total Cost": 1404.13, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 27.930, + "Actual Total Time": 27.938, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((kt.kind)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 45.510, + "Actual Total Time": 45.516, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.309, + "Actual Total Time": 22.318, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.608, + "Actual Total Time": 20.617, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.362, + "Actual Total Time": 15.370, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.582, + "Actual Total Time": 20.592, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.246, + "Actual Total Time": 31.253, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.098, + "Actual Total Time": 16.107, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.04, + "Total Cost": 1404.11, + "Plan Rows": 1, + "Plan Width": 27, + "Actual Startup Time": 25.513, + "Actual Total Time": 27.925, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["kt.kind", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 37.142, + "Actual Total Time": 45.501, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.388, + "Actual Total Time": 22.293, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.604, + "Actual Total Time": 20.613, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.358, + "Actual Total Time": 15.366, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.578, + "Actual Total Time": 20.587, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.140, + "Actual Total Time": 31.233, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.093, + "Actual Total Time": 16.101, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.90, + "Total Cost": 1403.90, + "Plan Rows": 1, + "Plan Width": 31, + "Actual Startup Time": 25.493, + "Actual Total Time": 27.898, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mi.info_type_id", "t.title", "kt.kind"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 37.106, + "Actual Total Time": 45.451, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.336, + "Actual Total Time": 22.219, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.603, + "Actual Total Time": 20.612, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.357, + "Actual Total Time": 15.364, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.577, + "Actual Total Time": 20.585, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.097, + "Actual Total Time": 31.176, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.092, + "Actual Total Time": 16.100, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.47, + "Total Cost": 1402.91, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 13.482, + "Actual Total Time": 20.557, + "Actual Rows": 39, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mk.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.482, + "Actual Total Time": 26.589, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.420, + "Actual Total Time": 15.669, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.602, + "Actual Total Time": 20.611, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.357, + "Actual Total Time": 15.363, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.576, + "Actual Total Time": 20.583, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.618, + "Actual Total Time": 15.955, + "Actual Rows": 77, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.091, + "Actual Total Time": 16.098, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.34, + "Total Cost": 1402.76, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 13.462, + "Actual Total Time": 20.389, + "Actual Rows": 39, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mc.company_type_id", "mk.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.441, + "Actual Total Time": 26.209, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.363, + "Actual Total Time": 15.460, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.602, + "Actual Total Time": 20.609, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.356, + "Actual Total Time": 15.362, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.575, + "Actual Total Time": 20.582, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.576, + "Actual Total Time": 15.625, + "Actual Rows": 77, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.091, + "Actual Total Time": 16.097, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.92, + "Total Cost": 1402.32, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 13.378, + "Actual Total Time": 18.125, + "Actual Rows": 152, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mk.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.254, + "Actual Total Time": 20.578, + "Actual Rows": 443, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.074, + "Actual Total Time": 12.461, + "Actual Rows": 164, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.601, + "Actual Total Time": 20.608, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.355, + "Actual Total Time": 15.360, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.575, + "Actual Total Time": 20.581, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.520, + "Actual Total Time": 11.181, + "Actual Rows": 284, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.090, + "Actual Total Time": 16.095, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.49, + "Total Cost": 1401.76, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 13.317, + "Actual Total Time": 17.541, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.999, + "Actual Total Time": 19.139, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.993, + "Actual Total Time": 11.673, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.600, + "Actual Total Time": 20.607, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.354, + "Actual Total Time": 15.359, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.574, + "Actual Total Time": 20.579, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.426, + "Actual Total Time": 10.323, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.089, + "Actual Total Time": 16.094, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.35, + "Total Cost": 1401.59, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 12.945, + "Actual Total Time": 17.481, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id", "mk.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.723, + "Actual Total Time": 19.014, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.364, + "Actual Total Time": 11.589, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.599, + "Actual Total Time": 20.604, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.354, + "Actual Total Time": 15.357, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.573, + "Actual Total Time": 20.577, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.391, + "Actual Total Time": 10.203, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.088, + "Actual Total Time": 16.092, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 1400.69, + "Plan Rows": 2, + "Plan Width": 35, + "Actual Startup Time": 12.862, + "Actual Total Time": 16.728, + "Actual Rows": 50, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.674, + "Actual Total Time": 17.378, + "Actual Rows": 115, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.241, + "Actual Total Time": 10.882, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.599, + "Actual Total Time": 20.602, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.353, + "Actual Total Time": 15.356, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.573, + "Actual Total Time": 20.576, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.242, + "Actual Total Time": 8.814, + "Actual Rows": 86, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.088, + "Actual Total Time": 16.091, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1399.58, + "Plan Rows": 11, + "Plan Width": 29, + "Actual Startup Time": 11.369, + "Actual Total Time": 16.523, + "Actual Rows": 70, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.558, + "Actual Total Time": 17.118, + "Actual Rows": 126, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.996, + "Actual Total Time": 10.733, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.534, + "Actual Total Time": 20.536, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.228, + "Actual Total Time": 15.230, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.506, + "Actual Total Time": 20.507, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.848, + "Actual Total Time": 8.620, + "Actual Rows": 98, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.946, + "Actual Total Time": 15.948, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1390.83, + "Plan Rows": 19, + "Plan Width": 4, + "Actual Startup Time": 11.276, + "Actual Total Time": 13.389, + "Actual Rows": 142, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.490, + "Actual Total Time": 11.015, + "Actual Rows": 302, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.523, + "Actual Total Time": 7.951, + "Actual Rows": 109, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.533, + "Actual Total Time": 20.534, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.228, + "Actual Total Time": 15.229, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.505, + "Actual Total Time": 20.506, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.737, + "Actual Total Time": 4.219, + "Actual Rows": 195, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.945, + "Actual Total Time": 15.946, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 10.777, + "Actual Total Time": 10.794, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{nerd,loner,alienation,dignity}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.998, + "Actual Total Time": 6.018, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.108, + "Actual Total Time": 6.175, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.532, + "Actual Total Time": 20.532, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.227, + "Actual Total Time": 15.227, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.504, + "Actual Total Time": 20.504, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.570, + "Actual Total Time": 0.592, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.944, + "Actual Total Time": 15.944, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.95, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.990, + "Actual Total Time": 5.075, + "Actual Rows": 283, + "Actual Loops": 4, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.486, + "Actual Total Time": 4.885, + "Actual Rows": 302, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.411, + "Actual Total Time": 1.729, + "Actual Rows": 109, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.162, + "Actual Total Time": 3.553, + "Actual Rows": 195, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1133, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 302 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 109 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 195 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.kind", "kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.kind", "kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 401, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 115 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 33 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 86 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 141, + "Output": ["cct1.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 54, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 36, + "Cache Hits": 34, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 19, + "Cache Hits": 17, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 30, + "Cache Hits": 28, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Index Cond": "(cct1.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.064, + "Actual Rows": 20, + "Actual Loops": 60, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.066, + "Actual Rows": 25, + "Actual Loops": 18 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.081, + "Actual Rows": 20, + "Actual Loops": 8 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.048, + "Actual Rows": 20, + "Actual Loops": 14 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1218, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 443 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 164 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 284 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 315, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 93 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 36 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 77 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.185, + "Actual Total Time": 0.186, + "Actual Rows": 0, + "Actual Loops": 315, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.note ~~ '%internet%'::text) AND (mi.info ~~ 'USA:% 200%'::text))", + "Rows Removed by Filter": 268, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.202, + "Actual Total Time": 0.202, + "Actual Rows": 0, + "Actual Loops": 93 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.180, + "Actual Total Time": 0.181, + "Actual Rows": 0, + "Actual Loops": 36 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.197, + "Actual Total Time": 0.197, + "Actual Rows": 0, + "Actual Loops": 77 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7994933085961275538, + "Planning Time": 112.379, + "Triggers": [ + ], + "Execution Time": 60.345, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -7994933085961275538, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(kt.kind) AS movie_kind,
       MIN(t.title) AS complete_us_internet_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'complete+verified'
  AND cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND kt.kind IN ('movie',
                  'tv movie',
                  'video movie',
                  'video game')
  AND mi.note LIKE '%internet%'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'USA:% 199%'
       OR mi.info LIKE 'USA:% 200%')
  AND t.production_year > 1990
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND cct1.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7024.31, + "Total Cost": 7024.32, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 212.963, + "Actual Total Time": 225.099, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((kt.kind)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7024.26, + "Total Cost": 7024.27, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 212.077, + "Actual Total Time": 225.073, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((kt.kind)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7023.26, + "Total Cost": 7023.27, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 198.415, + "Actual Total Time": 198.424, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((kt.kind)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 195.933, + "Actual Total Time": 195.942, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 198.016, + "Actual Total Time": 198.023, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 200.891, + "Actual Total Time": 200.900, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 193.781, + "Actual Total Time": 193.788, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 196.863, + "Actual Total Time": 196.871, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 196.475, + "Actual Total Time": 196.483, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 194.222, + "Actual Total Time": 194.230, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.98, + "Total Cost": 7023.26, + "Plan Rows": 1, + "Plan Width": 27, + "Actual Startup Time": 162.632, + "Actual Total Time": 198.353, + "Actual Rows": 78, + "Actual Loops": 8, + "Output": ["kt.kind", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.498, + "Actual Total Time": 195.655, + "Actual Rows": 316, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 198.012, + "Actual Total Time": 198.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 200.886, + "Actual Total Time": 200.894, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 193.777, + "Actual Total Time": 193.783, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 196.858, + "Actual Total Time": 196.865, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 133.070, + "Actual Total Time": 196.458, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 133.817, + "Actual Total Time": 194.003, + "Actual Rows": 306, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.56, + "Total Cost": 7022.82, + "Plan Rows": 1, + "Plan Width": 31, + "Actual Startup Time": 162.606, + "Actual Total Time": 197.505, + "Actual Rows": 78, + "Actual Loops": 8, + "Output": ["mk.keyword_id", "t.title", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.428, + "Actual Total Time": 192.124, + "Actual Rows": 316, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 198.011, + "Actual Total Time": 198.018, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 200.886, + "Actual Total Time": 200.893, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 193.776, + "Actual Total Time": 193.782, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 196.857, + "Actual Total Time": 196.864, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 133.008, + "Actual Total Time": 196.329, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 133.746, + "Actual Total Time": 190.882, + "Actual Rows": 306, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.13, + "Total Cost": 7021.54, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 162.551, + "Actual Total Time": 197.355, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mi.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.115, + "Actual Total Time": 191.401, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 198.011, + "Actual Total Time": 198.017, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 200.886, + "Actual Total Time": 200.892, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 193.775, + "Actual Total Time": 193.781, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 196.857, + "Actual Total Time": 196.863, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 132.953, + "Actual Total Time": 196.252, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 133.678, + "Actual Total Time": 190.488, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.00, + "Total Cost": 7021.39, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 162.528, + "Actual Total Time": 197.327, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.064, + "Actual Total Time": 191.332, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 198.010, + "Actual Total Time": 198.015, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 200.885, + "Actual Total Time": 200.891, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 193.775, + "Actual Total Time": 193.780, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 196.856, + "Actual Total Time": 196.861, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 132.885, + "Actual Total Time": 196.178, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 133.614, + "Actual Total Time": 190.415, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 7020.95, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 162.504, + "Actual Total Time": 197.289, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mi.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.970, + "Actual Total Time": 191.184, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 198.010, + "Actual Total Time": 198.014, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 200.885, + "Actual Total Time": 200.890, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 193.774, + "Actual Total Time": 193.778, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 196.855, + "Actual Total Time": 196.860, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 132.843, + "Actual Total Time": 196.100, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 133.563, + "Actual Total Time": 190.343, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.15, + "Total Cost": 7020.39, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 162.480, + "Actual Total Time": 197.252, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mi.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.866, + "Actual Total Time": 191.020, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 198.009, + "Actual Total Time": 198.014, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 200.884, + "Actual Total Time": 200.888, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 193.773, + "Actual Total Time": 193.777, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 196.854, + "Actual Total Time": 196.858, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 132.799, + "Actual Total Time": 196.046, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 133.516, + "Actual Total Time": 190.271, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.99, + "Total Cost": 7020.19, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 162.456, + "Actual Total Time": 197.225, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.794, + "Actual Total Time": 190.930, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 198.009, + "Actual Total Time": 198.012, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 200.884, + "Actual Total Time": 200.887, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 193.773, + "Actual Total Time": 193.776, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 196.854, + "Actual Total Time": 196.857, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 132.747, + "Actual Total Time": 195.993, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 133.457, + "Actual Total Time": 190.203, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.56, + "Total Cost": 4903.96, + "Plan Rows": 1907, + "Plan Width": 35, + "Actual Startup Time": 0.324, + "Actual Total Time": 59.825, + "Actual Rows": 632, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.439, + "Actual Total Time": 57.551, + "Actual Rows": 587, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.178, + "Actual Total Time": 63.583, + "Actual Rows": 690, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.558, + "Actual Total Time": 61.136, + "Actual Rows": 647, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.186, + "Actual Total Time": 57.808, + "Actual Rows": 626, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.341, + "Actual Total Time": 55.714, + "Actual Rows": 588, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.204, + "Actual Total Time": 60.547, + "Actual Rows": 619, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.216, + "Actual Total Time": 56.187, + "Actual Rows": 615, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 4888.80, + "Plan Rows": 3338, + "Plan Width": 29, + "Actual Startup Time": 0.197, + "Actual Total Time": 58.858, + "Actual Rows": 803, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.308, + "Actual Total Time": 56.618, + "Actual Rows": 774, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.095, + "Actual Total Time": 62.635, + "Actual Rows": 830, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.466, + "Actual Total Time": 60.188, + "Actual Rows": 843, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.112, + "Actual Total Time": 56.872, + "Actual Rows": 847, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.219, + "Actual Total Time": 54.761, + "Actual Rows": 729, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.144, + "Actual Total Time": 59.725, + "Actual Rows": 704, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.117, + "Actual Total Time": 55.256, + "Actual Rows": 720, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 1029.35, + "Plan Rows": 4825, + "Plan Width": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 12.332, + "Actual Rows": 3074, + "Actual Loops": 8, + "Output": ["cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.066, + "Actual Total Time": 12.764, + "Actual Rows": 2744, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 12.460, + "Actual Rows": 3462, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 13.182, + "Actual Rows": 3194, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.041, + "Actual Total Time": 11.065, + "Actual Rows": 3013, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.071, + "Actual Total Time": 11.545, + "Actual Rows": 2756, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.039, + "Actual Total Time": 13.692, + "Actual Rows": 2989, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.034, + "Actual Total Time": 11.293, + "Actual Rows": 2869, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 8, + "Actual Startup Time": 0.022, + "Actual Total Time": 4.186, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 4.232, + "Actual Rows": 17020, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 4.063, + "Actual Rows": 17760, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 4.396, + "Actual Rows": 19276, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 3.567, + "Actual Rows": 15355, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 3.633, + "Actual Rows": 14800, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 5.586, + "Actual Rows": 17020, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 3.764, + "Actual Rows": 16465, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.80, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 24592, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 2744 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 3462 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 3194 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 3013 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 2756 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2989 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2869 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.06, + "Total Cost": 1.06, + "Plan Rows": 2, + "Plan Width": 14, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.kind", "kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.06, + "Plan Rows": 2, + "Plan Width": 14, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.037, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["kt.kind", "kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,\"tv movie\",\"video movie\",\"video game\"}'::text[]))", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.10, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.217, + "Actual Total Time": 0.217, + "Actual Rows": 0, + "Actual Loops": 5053, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND (mi.note ~~ '%internet%'::text) AND ((mi.info ~~ 'USA:% 199%'::text) OR (mi.info ~~ 'USA:% 200%'::text)))", + "Rows Removed by Filter": 123, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.226, + "Actual Total Time": 0.226, + "Actual Rows": 0, + "Actual Loops": 587 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.194, + "Actual Total Time": 0.194, + "Actual Rows": 0, + "Actual Loops": 690 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.215, + "Actual Total Time": 0.215, + "Actual Rows": 0, + "Actual Loops": 647 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.216, + "Actual Total Time": 0.216, + "Actual Rows": 0, + "Actual Loops": 626 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.239, + "Actual Total Time": 0.239, + "Actual Rows": 0, + "Actual Loops": 588 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.218, + "Actual Total Time": 0.218, + "Actual Rows": 0, + "Actual Loops": 619 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.217, + "Actual Total Time": 0.217, + "Actual Rows": 0, + "Actual Loops": 615 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.19, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 3, + "Cache Hits": 2, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.061, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.049, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.138, + "Actual Rows": 90, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.119, + "Actual Total Time": 0.201, + "Actual Rows": 105, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.034, + "Actual Rows": 3, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.147, + "Actual Rows": 153, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 628, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 316 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 306 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1076878163750528468, + "Planning Time": 122.908, + "Triggers": [ + ], + "Execution Time": 225.569, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 1076878163750528468, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char_name,
       MIN(n.name) AS voicing_actress_name,
       MIN(t.title) AS voiced_action_movie_jap_eng
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND k.keyword IN ('hero',
                    'martial-arts',
                    'hand-to-hand-combat')
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%201%'
       OR mi.info LIKE 'USA:%201%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.production_year > 2010
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND ci.movie_id = mk.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1381.13, + "Total Cost": 1381.14, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 681.824, + "Actual Total Time": 705.574, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1381.06, + "Total Cost": 1381.07, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 325.815, + "Actual Total Time": 705.536, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1380.06, + "Total Cost": 1380.07, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 206.485, + "Actual Total Time": 206.494, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.973, + "Actual Total Time": 28.984, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.883, + "Actual Total Time": 28.891, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.163, + "Actual Total Time": 29.173, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 672.617, + "Actual Total Time": 672.623, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.720, + "Actual Total Time": 29.728, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.142, + "Actual Total Time": 30.150, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 507.533, + "Actual Total Time": 507.539, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.15, + "Total Cost": 1380.06, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 53.639, + "Actual Total Time": 206.453, + "Actual Rows": 34, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.967, + "Actual Total Time": 28.977, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.879, + "Actual Total Time": 28.887, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.155, + "Actual Total Time": 29.164, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 62.284, + "Actual Total Time": 672.487, + "Actual Rows": 138, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.714, + "Actual Total Time": 29.722, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.135, + "Actual Total Time": 30.142, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 48.705, + "Actual Total Time": 507.435, + "Actual Rows": 128, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.73, + "Total Cost": 1379.57, + "Plan Rows": 1, + "Plan Width": 56, + "Actual Startup Time": 41.798, + "Actual Total Time": 206.275, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "n.name", "n.id", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.966, + "Actual Total Time": 28.975, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.878, + "Actual Total Time": 28.885, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.154, + "Actual Total Time": 29.163, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 57.614, + "Actual Total Time": 671.834, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.713, + "Actual Total Time": 29.720, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.134, + "Actual Total Time": 30.141, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 44.961, + "Actual Total Time": 506.831, + "Actual Rows": 65, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.30, + "Total Cost": 1379.06, + "Plan Rows": 1, + "Plan Width": 44, + "Actual Startup Time": 41.778, + "Actual Total Time": 206.091, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.965, + "Actual Total Time": 28.974, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.877, + "Actual Total Time": 28.884, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.153, + "Actual Total Time": 29.161, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 57.559, + "Actual Total Time": 671.195, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.713, + "Actual Total Time": 29.719, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.133, + "Actual Total Time": 30.140, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 44.896, + "Actual Total Time": 506.203, + "Actual Rows": 65, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.87, + "Total Cost": 1378.52, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 22.368, + "Actual Total Time": 202.900, + "Actual Rows": 347, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.964, + "Actual Total Time": 28.972, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.877, + "Actual Total Time": 28.882, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.152, + "Actual Total Time": 29.160, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.978, + "Actual Total Time": 660.819, + "Actual Rows": 1156, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.712, + "Actual Total Time": 29.718, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.132, + "Actual Total Time": 30.138, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.403, + "Actual Total Time": 498.180, + "Actual Rows": 911, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.73, + "Total Cost": 1378.34, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 22.289, + "Actual Total Time": 196.744, + "Actual Rows": 1720, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.963, + "Actual Total Time": 28.970, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.876, + "Actual Total Time": 28.881, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.151, + "Actual Total Time": 29.158, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.595, + "Actual Total Time": 638.013, + "Actual Rows": 6205, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.711, + "Actual Total Time": 29.716, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.132, + "Actual Total Time": 30.136, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.251, + "Actual Total Time": 483.698, + "Actual Rows": 4179, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.29, + "Total Cost": 1377.03, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 18.884, + "Actual Total Time": 74.071, + "Actual Rows": 426, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mc.movie_id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.962, + "Actual Total Time": 28.969, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.875, + "Actual Total Time": 28.880, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.151, + "Actual Total Time": 29.156, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.803, + "Actual Total Time": 198.316, + "Actual Rows": 1542, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.710, + "Actual Total Time": 29.715, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.131, + "Actual Total Time": 30.135, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.257, + "Actual Total Time": 139.959, + "Actual Rows": 1174, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 1376.85, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 18.863, + "Actual Total Time": 71.866, + "Actual Rows": 426, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mc.movie_id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.962, + "Actual Total Time": 28.967, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.875, + "Actual Total Time": 28.878, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.150, + "Actual Total Time": 29.155, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.758, + "Actual Total Time": 190.423, + "Actual Rows": 1542, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.710, + "Actual Total Time": 29.714, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.130, + "Actual Total Time": 30.134, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.171, + "Actual Total Time": 133.978, + "Actual Rows": 1174, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 1375.86, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 18.831, + "Actual Total Time": 50.252, + "Actual Rows": 197, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.961, + "Actual Total Time": 28.965, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.874, + "Actual Total Time": 28.877, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.149, + "Actual Total Time": 29.153, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.680, + "Actual Total Time": 107.993, + "Actual Rows": 721, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.709, + "Actual Total Time": 29.712, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.130, + "Actual Total Time": 30.133, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.055, + "Actual Total Time": 72.200, + "Actual Rows": 508, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1374.98, + "Plan Rows": 2, + "Plan Width": 33, + "Actual Startup Time": 18.803, + "Actual Total Time": 42.548, + "Actual Rows": 696, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mc.movie_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.960, + "Actual Total Time": 28.964, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.873, + "Actual Total Time": 28.875, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.148, + "Actual Total Time": 29.151, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.617, + "Actual Total Time": 80.064, + "Actual Rows": 2636, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.708, + "Actual Total Time": 29.711, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.129, + "Actual Total Time": 30.132, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.941, + "Actual Total Time": 50.737, + "Actual Rows": 1952, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1373.87, + "Plan Rows": 2, + "Plan Width": 25, + "Actual Startup Time": 18.769, + "Actual Total Time": 40.363, + "Actual Rows": 62, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.959, + "Actual Total Time": 28.961, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.872, + "Actual Total Time": 28.874, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.147, + "Actual Total Time": 29.150, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.530, + "Actual Total Time": 72.328, + "Actual Rows": 244, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.707, + "Actual Total Time": 29.710, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.128, + "Actual Total Time": 30.130, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.809, + "Actual Total Time": 45.450, + "Actual Rows": 113, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1367.42, + "Plan Rows": 14, + "Plan Width": 4, + "Actual Startup Time": 18.693, + "Actual Total Time": 25.315, + "Actual Rows": 1212, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.958, + "Actual Total Time": 28.959, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.871, + "Actual Total Time": 28.872, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.146, + "Actual Total Time": 29.147, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.402, + "Actual Total Time": 20.643, + "Actual Rows": 4400, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.707, + "Actual Total Time": 29.708, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.127, + "Actual Total Time": 30.129, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.668, + "Actual Total Time": 13.770, + "Actual Rows": 2373, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1212.55, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 18.367, + "Actual Total Time": 18.381, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{hero,martial-arts,hand-to-hand-combat}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.957, + "Actual Total Time": 28.957, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.871, + "Actual Total Time": 28.871, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.144, + "Actual Total Time": 29.145, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.070, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.706, + "Actual Total Time": 29.707, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.126, + "Actual Total Time": 30.127, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.107, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 153.50, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.862, + "Actual Total Time": 17.599, + "Actual Rows": 3232, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.367, + "Actual Total Time": 19.416, + "Actual Rows": 4400, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.591, + "Actual Total Time": 12.955, + "Actual Rows": 2373, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 9696, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 4400 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 2373 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.029, + "Actual Rows": 11, + "Actual Loops": 495, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.026, + "Actual Rows": 11, + "Actual Loops": 244 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.038, + "Actual Rows": 17, + "Actual Loops": 113 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 5566, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 2636 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 1952 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.108, + "Actual Rows": 2, + "Actual Loops": 1576, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%201%'::text) OR (mi.info ~~ 'USA:%201%'::text)))", + "Rows Removed by Filter": 131, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.113, + "Actual Rows": 2, + "Actual Loops": 721 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.120, + "Actual Rows": 2, + "Actual Loops": 508 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 3406, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1542 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1174 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.30, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.190, + "Actual Total Time": 0.286, + "Actual Rows": 4, + "Actual Loops": 3406, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 169, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.178, + "Actual Total Time": 0.283, + "Actual Rows": 4, + "Actual Loops": 1542 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.199, + "Actual Total Time": 0.291, + "Actual Rows": 4, + "Actual Loops": 1174 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 13758, + "Output": ["rt.id", "rt.role"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 6205 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 4179 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 2778, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 1156 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 911 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 143, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 59 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 65 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 2, + "Actual Loops": 141, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 2, + "Actual Loops": 59 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 2, + "Actual Loops": 65 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6624959997497422723, + "Planning Time": 239.180, + "Triggers": [ + ], + "Execution Time": 706.088, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 6624959997497422723, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char_name,
       MIN(n.name) AS voicing_actress_name,
       MIN(t.title) AS kung_fu_panda
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND cn.name = 'DreamWorks Animation'
  AND it.info = 'release dates'
  AND k.keyword IN ('hero',
                    'martial-arts',
                    'hand-to-hand-combat',
                    'computer-animated-movie')
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%201%'
       OR mi.info LIKE 'USA:%201%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.production_year > 2010
  AND t.title LIKE 'Kung Fu Panda%'
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND ci.movie_id = mk.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1405.91, + "Total Cost": 1405.92, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 197.146, + "Actual Total Time": 210.938, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1405.85, + "Total Cost": 1405.86, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 64.164, + "Actual Total Time": 210.911, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1404.85, + "Total Cost": 1404.86, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 71.846, + "Actual Total Time": 71.855, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.763, + "Actual Total Time": 30.774, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 186.607, + "Actual Total Time": 186.615, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.102, + "Actual Total Time": 32.112, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.853, + "Actual Total Time": 31.861, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.070, + "Actual Total Time": 32.081, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 165.965, + "Actual Total Time": 165.972, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.240, + "Actual Total Time": 32.248, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.15, + "Total Cost": 1404.84, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 64.622, + "Actual Total Time": 71.840, + "Actual Rows": 6, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.757, + "Actual Total Time": 30.767, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 150.893, + "Actual Total Time": 186.573, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.094, + "Actual Total Time": 32.104, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.846, + "Actual Total Time": 31.854, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.062, + "Actual Total Time": 32.072, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 143.925, + "Actual Total Time": 165.935, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.236, + "Actual Total Time": 32.243, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.73, + "Total Cost": 1404.37, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 38.953, + "Actual Total Time": 71.112, + "Actual Rows": 97, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "mc.company_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.757, + "Actual Total Time": 30.766, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.386, + "Actual Total Time": 183.630, + "Actual Rows": 395, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.094, + "Actual Total Time": 32.103, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.846, + "Actual Total Time": 31.852, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.061, + "Actual Total Time": 32.071, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 42.086, + "Actual Total Time": 163.066, + "Actual Rows": 380, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.235, + "Actual Total Time": 32.241, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.30, + "Total Cost": 1403.83, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 38.942, + "Actual Total Time": 69.220, + "Actual Rows": 254, + "Actual Loops": 8, + "Output": ["chn.name", "an.person_id", "t.title", "mc.company_id", "ci.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.756, + "Actual Total Time": 30.764, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.346, + "Actual Total Time": 175.836, + "Actual Rows": 1045, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.093, + "Actual Total Time": 32.101, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.845, + "Actual Total Time": 31.851, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.061, + "Actual Total Time": 32.069, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 42.044, + "Actual Total Time": 155.727, + "Actual Rows": 988, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.234, + "Actual Total Time": 32.240, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.16, + "Total Cost": 1403.65, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 38.934, + "Actual Total Time": 68.186, + "Actual Rows": 254, + "Actual Loops": 8, + "Output": ["chn.name", "an.person_id", "t.title", "mc.company_id", "ci.person_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.755, + "Actual Total Time": 30.762, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.314, + "Actual Total Time": 171.561, + "Actual Rows": 1045, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.092, + "Actual Total Time": 32.100, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.844, + "Actual Total Time": 31.850, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.060, + "Actual Total Time": 32.067, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 42.012, + "Actual Total Time": 151.741, + "Actual Rows": 988, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.233, + "Actual Total Time": 32.239, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.72, + "Total Cost": 1402.66, + "Plan Rows": 1, + "Plan Width": 61, + "Actual Startup Time": 38.918, + "Actual Total Time": 54.775, + "Actual Rows": 92, + "Actual Loops": 8, + "Output": ["chn.name", "an.person_id", "mk.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_id", "ci.movie_id", "ci.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.754, + "Actual Total Time": 30.761, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.253, + "Actual Total Time": 116.699, + "Actual Rows": 395, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.092, + "Actual Total Time": 32.098, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.844, + "Actual Total Time": 31.849, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.059, + "Actual Total Time": 32.065, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 41.954, + "Actual Total Time": 99.329, + "Actual Rows": 338, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.233, + "Actual Total Time": 32.237, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.59, + "Total Cost": 1402.49, + "Plan Rows": 1, + "Plan Width": 65, + "Actual Startup Time": 38.426, + "Actual Total Time": 52.645, + "Actual Rows": 619, + "Actual Loops": 8, + "Output": ["chn.name", "an.person_id", "mk.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_id", "ci.movie_id", "ci.person_id", "ci.role_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.754, + "Actual Total Time": 30.759, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 44.993, + "Actual Total Time": 107.788, + "Actual Rows": 2547, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.091, + "Actual Total Time": 32.097, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.843, + "Actual Total Time": 31.847, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.058, + "Actual Total Time": 32.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 40.282, + "Actual Total Time": 91.200, + "Actual Rows": 2403, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.232, + "Actual Total Time": 32.236, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.16, + "Total Cost": 1401.98, + "Plan Rows": 1, + "Plan Width": 53, + "Actual Startup Time": 38.415, + "Actual Total Time": 48.012, + "Actual Rows": 621, + "Actual Loops": 8, + "Output": ["an.person_id", "mk.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.753, + "Actual Total Time": 30.758, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 44.940, + "Actual Total Time": 88.697, + "Actual Rows": 2568, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.090, + "Actual Total Time": 32.095, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.843, + "Actual Total Time": 31.846, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.057, + "Actual Total Time": 32.062, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 40.249, + "Actual Total Time": 73.242, + "Actual Rows": 2403, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.231, + "Actual Total Time": 32.235, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1401.50, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 38.389, + "Actual Total Time": 46.113, + "Actual Rows": 222, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.752, + "Actual Total Time": 30.756, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 44.799, + "Actual Total Time": 80.893, + "Actual Rows": 912, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.089, + "Actual Total Time": 32.093, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.842, + "Actual Total Time": 31.845, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.057, + "Actual Total Time": 32.061, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 40.187, + "Actual Total Time": 65.863, + "Actual Rows": 867, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.231, + "Actual Total Time": 32.233, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1400.18, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 33.304, + "Actual Total Time": 44.063, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.751, + "Actual Total Time": 30.754, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.164, + "Actual Total Time": 72.552, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.088, + "Actual Total Time": 32.092, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.841, + "Actual Total Time": 31.843, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.056, + "Actual Total Time": 32.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 40.143, + "Actual Total Time": 57.810, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.230, + "Actual Total Time": 32.232, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1399.63, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 33.287, + "Actual Total Time": 44.017, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.750, + "Actual Total Time": 30.752, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.083, + "Actual Total Time": 72.326, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.087, + "Actual Total Time": 32.090, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.841, + "Actual Total Time": 31.842, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.055, + "Actual Total Time": 32.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 40.096, + "Actual Total Time": 57.683, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.229, + "Actual Total Time": 32.230, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1390.83, + "Plan Rows": 19, + "Plan Width": 4, + "Actual Startup Time": 19.963, + "Actual Total Time": 26.167, + "Actual Rows": 1212, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.748, + "Actual Total Time": 30.750, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.158, + "Actual Total Time": 18.169, + "Actual Rows": 4400, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.086, + "Actual Total Time": 32.088, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.840, + "Actual Total Time": 31.841, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.054, + "Actual Total Time": 32.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.492, + "Actual Total Time": 14.878, + "Actual Rows": 2373, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.228, + "Actual Total Time": 32.229, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 19.913, + "Actual Total Time": 19.931, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{hero,martial-arts,hand-to-hand-combat,computer-animated-movie}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.748, + "Actual Total Time": 30.748, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.081, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.085, + "Actual Total Time": 32.086, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.839, + "Actual Total Time": 31.839, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.053, + "Actual Total Time": 32.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.278, + "Actual Total Time": 0.319, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.228, + "Actual Total Time": 32.228, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.95, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.127, + "Actual Total Time": 15.532, + "Actual Rows": 3232, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.115, + "Actual Total Time": 16.845, + "Actual Rows": 4400, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.207, + "Actual Total Time": 13.552, + "Actual Rows": 2373, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 9696, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2010) AND (t.title ~~ 'Kung Fu Panda%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 4400 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 2373 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.040, + "Actual Rows": 9, + "Actual Loops": 7, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.036, + "Actual Rows": 7, + "Actual Loops": 5 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.048, + "Actual Rows": 13, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.30, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.252, + "Actual Rows": 29, + "Actual Loops": 62, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 104, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.221, + "Actual Rows": 25, + "Actual Loops": 36 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.296, + "Actual Rows": 33, + "Actual Loops": 26 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 3, + "Actual Loops": 1779, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 3, + "Actual Loops": 912 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 3, + "Actual Loops": 867 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 4971, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 2568 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 2403 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 4950, + "Output": ["rt.id", "rt.role"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 2547 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 2403 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.145, + "Actual Rows": 3, + "Actual Loops": 733, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%201%'::text) OR (mi.info ~~ 'USA:%201%'::text)))", + "Rows Removed by Filter": 211, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.137, + "Actual Rows": 3, + "Actual Loops": 395 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.154, + "Actual Rows": 3, + "Actual Loops": 338 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 2033, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 1045 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 988 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 2033, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 1045 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 988 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 775, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text = '[us]'::text) AND (cn.name = 'DreamWorks Animation'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 395 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 380 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1322643491423167220, + "Planning Time": 231.326, + "Triggers": [ + ], + "Execution Time": 211.328, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 1322643491423167220, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS male_writer,
       MIN(t.title) AS violent_movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity')
  AND mi.info = 'Horror'
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1433.36, + "Total Cost": 1433.37, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 4177.533, + "Actual Total Time": 4216.655, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1433.28, + "Total Cost": 1433.29, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 2451.971, + "Actual Total Time": 4216.601, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1432.28, + "Total Cost": 1432.29, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1703.878, + "Actual Total Time": 1703.886, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4169.199, + "Actual Total Time": 4169.206, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1217.145, + "Actual Total Time": 1217.151, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.362, + "Actual Total Time": 27.371, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3290.569, + "Actual Total Time": 3290.575, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2422.058, + "Actual Total Time": 2422.063, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.158, + "Actual Total Time": 27.167, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.418, + "Actual Total Time": 26.426, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.58, + "Total Cost": 1432.27, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 128.346, + "Actual Total Time": 1702.006, + "Actual Rows": 551, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 585.252, + "Actual Total Time": 4165.441, + "Actual Rows": 1133, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.563, + "Actual Total Time": 1214.144, + "Actual Rows": 831, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.354, + "Actual Total Time": 27.362, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 85.573, + "Actual Total Time": 3287.989, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 164.755, + "Actual Total Time": 2418.603, + "Actual Rows": 1091, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.152, + "Actual Total Time": 27.159, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.410, + "Actual Total Time": 26.418, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.15, + "Total Cost": 1431.80, + "Plan Rows": 1, + "Plan Width": 79, + "Actual Startup Time": 128.299, + "Actual Total Time": 1692.470, + "Actual Rows": 551, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 585.209, + "Actual Total Time": 4145.492, + "Actual Rows": 1133, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.448, + "Actual Total Time": 1197.769, + "Actual Rows": 831, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.353, + "Actual Total Time": 27.360, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 85.505, + "Actual Total Time": 3274.825, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 164.657, + "Actual Total Time": 2400.612, + "Actual Rows": 1091, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.151, + "Actual Total Time": 27.158, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.410, + "Actual Total Time": 26.417, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.72, + "Total Cost": 1431.29, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 36.009, + "Actual Total Time": 1674.136, + "Actual Rows": 889, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 92.292, + "Actual Total Time": 4104.991, + "Actual Rows": 1974, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.441, + "Actual Total Time": 1166.205, + "Actual Rows": 1231, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.352, + "Actual Total Time": 27.358, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.726, + "Actual Total Time": 3251.104, + "Actual Rows": 1192, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.232, + "Actual Total Time": 2366.577, + "Actual Rows": 1740, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.150, + "Actual Total Time": 27.157, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.409, + "Actual Total Time": 26.415, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 1431.11, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 35.978, + "Actual Total Time": 1667.331, + "Actual Rows": 968, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi_idx.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 92.241, + "Actual Total Time": 4090.437, + "Actual Rows": 2126, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.384, + "Actual Total Time": 1155.292, + "Actual Rows": 1366, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.351, + "Actual Total Time": 27.357, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.667, + "Actual Total Time": 3242.133, + "Actual Rows": 1256, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.177, + "Actual Total Time": 2354.058, + "Actual Rows": 1893, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.150, + "Actual Total Time": 27.155, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.408, + "Actual Total Time": 26.414, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 1430.17, + "Plan Rows": 1, + "Plan Width": 22, + "Actual Startup Time": 12.405, + "Actual Total Time": 1364.412, + "Actual Rows": 3784, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi_idx.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.934, + "Actual Total Time": 3365.399, + "Actual Rows": 10431, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.723, + "Actual Total Time": 915.940, + "Actual Rows": 1938, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.350, + "Actual Total Time": 27.355, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.623, + "Actual Total Time": 2705.700, + "Actual Rows": 7406, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.078, + "Actual Total Time": 1878.740, + "Actual Rows": 5314, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.149, + "Actual Total Time": 27.154, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.407, + "Actual Total Time": 26.412, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 1428.82, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 11.198, + "Actual Total Time": 172.182, + "Actual Rows": 6345, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.946, + "Actual Total Time": 369.172, + "Actual Rows": 16466, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.768, + "Actual Total Time": 112.236, + "Actual Rows": 2914, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.350, + "Actual Total Time": 27.353, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.792, + "Actual Total Time": 376.538, + "Actual Rows": 14995, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.611, + "Actual Total Time": 196.768, + "Actual Rows": 7601, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.147, + "Actual Total Time": 27.151, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.406, + "Actual Total Time": 26.411, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1426.77, + "Plan Rows": 73, + "Plan Width": 18, + "Actual Startup Time": 10.875, + "Actual Total Time": 159.882, + "Actual Rows": 19090, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.651, + "Actual Total Time": 337.816, + "Actual Rows": 49537, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.482, + "Actual Total Time": 104.664, + "Actual Rows": 8782, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.961, + "Actual Total Time": 26.963, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.391, + "Actual Total Time": 349.194, + "Actual Rows": 45033, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.281, + "Actual Total Time": 181.836, + "Actual Rows": 22907, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.889, + "Actual Total Time": 26.891, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.153, + "Actual Total Time": 26.155, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1414.46, + "Plan Rows": 24, + "Plan Width": 4, + "Actual Startup Time": 10.786, + "Actual Total Time": 49.215, + "Actual Rows": 7762, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.572, + "Actual Total Time": 82.370, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.426, + "Actual Total Time": 23.408, + "Actual Rows": 3402, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.960, + "Actual Total Time": 26.961, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.169, + "Actual Total Time": 98.629, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.221, + "Actual Total Time": 41.812, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.888, + "Actual Total Time": 26.889, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.152, + "Actual Total Time": 26.153, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1260.47, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 10.340, + "Actual Total Time": 10.353, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,blood,gore,death,female-nudity}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.464, + "Actual Total Time": 0.471, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.162, + "Actual Total Time": 0.198, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.959, + "Actual Total Time": 26.959, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.172, + "Actual Total Time": 0.197, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.139, + "Actual Total Time": 0.151, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.887, + "Actual Total Time": 26.888, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.151, + "Actual Total Time": 26.152, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.62, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.706, + "Actual Total Time": 57.827, + "Actual Rows": 12419, + "Actual Loops": 5, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.102, + "Actual Total Time": 75.212, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.260, + "Actual Total Time": 21.653, + "Actual Rows": 3402, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.991, + "Actual Total Time": 91.628, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.078, + "Actual Total Time": 38.504, + "Actual Rows": 8337, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 62096, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 3, + "Actual Loops": 19528 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 3, + "Actual Loops": 3402 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 20522 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 8337 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.155, + "Actual Total Time": 0.187, + "Actual Rows": 1, + "Actual Loops": 50760, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 52, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.151, + "Actual Total Time": 0.181, + "Actual Rows": 1, + "Actual Loops": 16466 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.222, + "Actual Total Time": 0.274, + "Actual Rows": 1, + "Actual Loops": 2914 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.132, + "Actual Total Time": 0.154, + "Actual Rows": 0, + "Actual Loops": 14995 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.176, + "Actual Total Time": 0.220, + "Actual Rows": 1, + "Actual Loops": 7601 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.079, + "Actual Rows": 0, + "Actual Loops": 30276, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = 'Horror'::text)", + "Rows Removed by Filter": 71, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.068, + "Actual Rows": 0, + "Actual Loops": 10431 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.097, + "Actual Total Time": 0.121, + "Actual Rows": 1, + "Actual Loops": 1938 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.071, + "Actual Rows": 0, + "Actual Loops": 7406 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.088, + "Actual Rows": 0, + "Actual Loops": 5314 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 7740, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 2126 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 1366 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 1256 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 1893 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 7112, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 1974 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 1231 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 1192 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 1740 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 4407, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 1133 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 831 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 753 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 1091 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5845388691995996195, + "Planning Time": 50.918, + "Triggers": [ + ], + "Execution Time": 4217.072, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -5845388691995996195, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS male_writer,
       MIN(t.title) AS violent_movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity')
  AND mi.info = 'Horror'
  AND n.gender = 'm'
  AND t.production_year > 2010
  AND t.title LIKE 'Vampire%'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1430.34, + "Total Cost": 1430.35, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 364.247, + "Actual Total Time": 389.228, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1430.26, + "Total Cost": 1430.27, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 50.916, + "Actual Total Time": 389.153, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1429.26, + "Total Cost": 1429.27, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 171.101, + "Actual Total Time": 171.107, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 308.517, + "Actual Total Time": 308.522, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 354.455, + "Actual Total Time": 354.459, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 41.267, + "Actual Total Time": 41.273, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 252.243, + "Actual Total Time": 252.249, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.383, + "Actual Total Time": 31.389, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 225.583, + "Actual Total Time": 225.590, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 106.022, + "Actual Total Time": 106.028, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.88, + "Total Cost": 1429.25, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 167.509, + "Actual Total Time": 171.090, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 308.512, + "Actual Total Time": 308.515, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 354.450, + "Actual Total Time": 354.453, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 41.261, + "Actual Total Time": 41.267, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 241.997, + "Actual Total Time": 252.226, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.375, + "Actual Total Time": 31.381, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 212.813, + "Actual Total Time": 225.552, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 100.337, + "Actual Total Time": 105.990, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.45, + "Total Cost": 1428.75, + "Plan Rows": 1, + "Plan Width": 69, + "Actual Startup Time": 167.481, + "Actual Total Time": 171.054, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 308.511, + "Actual Total Time": 308.514, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 354.449, + "Actual Total Time": 354.452, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 41.260, + "Actual Total Time": 41.265, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 241.950, + "Actual Total Time": 252.178, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.375, + "Actual Total Time": 31.380, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 212.728, + "Actual Total Time": 225.425, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 100.242, + "Actual Total Time": 105.878, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.31, + "Total Cost": 1428.56, + "Plan Rows": 1, + "Plan Width": 73, + "Actual Startup Time": 167.471, + "Actual Total Time": 171.034, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 308.510, + "Actual Total Time": 308.513, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 354.449, + "Actual Total Time": 354.451, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 41.259, + "Actual Total Time": 41.264, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 241.929, + "Actual Total Time": 252.150, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.374, + "Actual Total Time": 31.379, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 212.706, + "Actual Total Time": 225.359, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 100.215, + "Actual Total Time": 105.820, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.88, + "Total Cost": 1428.04, + "Plan Rows": 1, + "Plan Width": 79, + "Actual Startup Time": 167.450, + "Actual Total Time": 171.003, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 308.510, + "Actual Total Time": 308.512, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 354.448, + "Actual Total Time": 354.450, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 41.259, + "Actual Total Time": 41.263, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 241.885, + "Actual Total Time": 252.102, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.374, + "Actual Total Time": 31.377, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 212.652, + "Actual Total Time": 225.258, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 100.148, + "Actual Total Time": 105.727, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.74, + "Total Cost": 1427.86, + "Plan Rows": 1, + "Plan Width": 83, + "Actual Startup Time": 167.435, + "Actual Total Time": 170.983, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 308.509, + "Actual Total Time": 308.511, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 354.448, + "Actual Total Time": 354.449, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 41.258, + "Actual Total Time": 41.262, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 241.855, + "Actual Total Time": 252.071, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.374, + "Actual Total Time": 31.377, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 212.611, + "Actual Total Time": 225.204, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 100.095, + "Actual Total Time": 105.663, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1426.93, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 167.403, + "Actual Total Time": 170.931, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 308.509, + "Actual Total Time": 308.510, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 354.447, + "Actual Total Time": 354.448, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 41.257, + "Actual Total Time": 41.260, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 241.808, + "Actual Total Time": 252.006, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.373, + "Actual Total Time": 31.375, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 212.511, + "Actual Total Time": 225.008, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 99.991, + "Actual Total Time": 105.513, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1425.57, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 166.039, + "Actual Total Time": 170.740, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 298.290, + "Actual Total Time": 308.352, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 354.446, + "Actual Total Time": 354.447, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 41.257, + "Actual Total Time": 41.258, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 241.657, + "Actual Total Time": 251.818, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.372, + "Actual Total Time": 31.374, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 212.211, + "Actual Total Time": 224.154, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 99.757, + "Actual Total Time": 105.187, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1414.46, + "Plan Rows": 24, + "Plan Width": 4, + "Actual Startup Time": 15.748, + "Actual Total Time": 58.421, + "Actual Rows": 7762, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.620, + "Actual Total Time": 85.359, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.657, + "Actual Total Time": 88.755, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 41.256, + "Actual Total Time": 41.257, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.275, + "Actual Total Time": 68.526, + "Actual Rows": 10307, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.372, + "Actual Total Time": 31.373, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.251, + "Actual Total Time": 72.165, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.227, + "Actual Total Time": 30.603, + "Actual Rows": 3402, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1260.47, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 15.653, + "Actual Total Time": 15.668, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,blood,gore,death,female-nudity}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.447, + "Actual Total Time": 0.454, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.526, + "Actual Total Time": 0.549, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 41.255, + "Actual Total Time": 41.256, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.106, + "Actual Total Time": 0.132, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.371, + "Actual Total Time": 31.371, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.106, + "Actual Total Time": 1.124, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.086, + "Actual Total Time": 1.134, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.62, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.147, + "Actual Total Time": 64.275, + "Actual Rows": 12419, + "Actual Loops": 5, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.168, + "Actual Total Time": 79.273, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.127, + "Actual Total Time": 81.605, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.164, + "Actual Total Time": 64.825, + "Actual Rows": 10307, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.139, + "Actual Total Time": 67.654, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.136, + "Actual Total Time": 28.019, + "Actual Rows": 3402, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 62096, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2010) AND (t.title ~~ 'Vampire%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 19528 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 20522 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 10307 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 3402 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.143, + "Actual Total Time": 0.166, + "Actual Rows": 1, + "Actual Loops": 9, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 21, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.154, + "Actual Total Time": 0.155, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.146, + "Actual Total Time": 0.182, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.145, + "Actual Total Time": 0.169, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.130, + "Actual Total Time": 0.158, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.064, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = 'Horror'::text)", + "Rows Removed by Filter": 20, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.060, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.062, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.070, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.035, + "Actual Rows": 3, + "Actual Loops": 6, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.041, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.029, + "Actual Rows": 3, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.040, + "Actual Rows": 3, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 18, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 9 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4983731566966487840, + "Planning Time": 73.082, + "Triggers": [ + ], + "Execution Time": 389.769, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -4983731566966487840, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS male_writer,
       MIN(t.title) AS violent_movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Action',
                  'Sci-Fi',
                  'Thriller',
                  'Crime',
                  'War')
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1485.74, + "Total Cost": 1485.75, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 4499.861, + "Actual Total Time": 4500.162, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1485.66, + "Total Cost": 1485.67, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 4499.831, + "Actual Total Time": 4500.143, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1484.66, + "Total Cost": 1484.67, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 2357.842, + "Actual Total Time": 2357.855, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2671.395, + "Actual Total Time": 2671.400, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3272.497, + "Actual Total Time": 3272.503, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3738.886, + "Actual Total Time": 3738.891, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.095, + "Actual Total Time": 48.103, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2663.381, + "Actual Total Time": 2663.437, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1921.637, + "Actual Total Time": 1921.645, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 48.094, + "Actual Total Time": 48.102, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.59, + "Total Cost": 1484.65, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 28.056, + "Actual Total Time": 2351.332, + "Actual Rows": 3269, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.069, + "Actual Total Time": 2664.581, + "Actual Rows": 3261, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.972, + "Actual Total Time": 3265.570, + "Actual Rows": 3244, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.412, + "Actual Total Time": 3725.591, + "Actual Rows": 6963, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.090, + "Actual Total Time": 48.098, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.612, + "Actual Total Time": 2654.680, + "Actual Rows": 4673, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 89.027, + "Actual Total Time": 1918.436, + "Actual Rows": 1326, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 48.086, + "Actual Total Time": 48.093, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.16, + "Total Cost": 1484.18, + "Plan Rows": 1, + "Plan Width": 79, + "Actual Startup Time": 28.015, + "Actual Total Time": 2309.027, + "Actual Rows": 3269, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.004, + "Actual Total Time": 2623.740, + "Actual Rows": 3261, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.913, + "Actual Total Time": 3223.161, + "Actual Rows": 3244, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.367, + "Actual Total Time": 3638.036, + "Actual Rows": 6963, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.089, + "Actual Total Time": 48.096, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.571, + "Actual Total Time": 2595.603, + "Actual Rows": 4673, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 88.944, + "Actual Total Time": 1897.675, + "Actual Rows": 1326, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 48.085, + "Actual Total Time": 48.092, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.73, + "Total Cost": 1483.67, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 27.933, + "Actual Total Time": 2227.727, + "Actual Rows": 5362, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.916, + "Actual Total Time": 2547.975, + "Actual Rows": 5235, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.613, + "Actual Total Time": 3141.725, + "Actual Rows": 5274, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.319, + "Actual Total Time": 3478.042, + "Actual Rows": 10987, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.088, + "Actual Total Time": 48.094, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.520, + "Actual Total Time": 2486.421, + "Actual Rows": 7383, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 88.829, + "Actual Total Time": 1859.339, + "Actual Rows": 2186, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 48.085, + "Actual Total Time": 48.091, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 1483.49, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 27.638, + "Actual Total Time": 2214.849, + "Actual Rows": 5837, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi_idx.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.853, + "Actual Total Time": 2534.944, + "Actual Rows": 5791, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.549, + "Actual Total Time": 3128.790, + "Actual Rows": 5652, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.280, + "Actual Total Time": 3452.285, + "Actual Rows": 12057, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.087, + "Actual Total Time": 48.092, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.470, + "Actual Total Time": 2469.513, + "Actual Rows": 8144, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 88.744, + "Actual Total Time": 1852.995, + "Actual Rows": 2375, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 48.084, + "Actual Total Time": 48.089, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 1482.45, + "Plan Rows": 1, + "Plan Width": 22, + "Actual Startup Time": 15.680, + "Actual Total Time": 1749.209, + "Actual Rows": 4874, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi_idx.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.693, + "Actual Total Time": 1984.626, + "Actual Rows": 5187, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.428, + "Actual Total Time": 2625.020, + "Actual Rows": 7406, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.202, + "Actual Total Time": 2540.895, + "Actual Rows": 7298, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.086, + "Actual Total Time": 48.090, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.373, + "Actual Total Time": 1919.692, + "Actual Rows": 5314, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.942, + "Actual Total Time": 1473.983, + "Actual Rows": 3355, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 48.083, + "Actual Total Time": 48.088, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 1481.09, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 14.343, + "Actual Total Time": 209.139, + "Actual Rows": 7963, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.685, + "Actual Total Time": 209.380, + "Actual Rows": 8784, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.629, + "Actual Total Time": 339.416, + "Actual Rows": 14995, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.652, + "Actual Total Time": 276.241, + "Actual Rows": 11112, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.085, + "Actual Total Time": 48.089, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.140, + "Actual Total Time": 191.493, + "Actual Rows": 7601, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.404, + "Actual Total Time": 177.473, + "Actual Rows": 4743, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 48.082, + "Actual Total Time": 48.086, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1478.97, + "Plan Rows": 102, + "Plan Width": 18, + "Actual Startup Time": 14.200, + "Actual Total Time": 193.305, + "Actual Rows": 23961, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.604, + "Actual Total Time": 191.764, + "Actual Rows": 26461, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.560, + "Actual Total Time": 312.765, + "Actual Rows": 45033, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.532, + "Actual Total Time": 253.335, + "Actual Rows": 33482, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 47.969, + "Actual Total Time": 47.971, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.063, + "Actual Total Time": 175.516, + "Actual Rows": 22907, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.320, + "Actual Total Time": 165.238, + "Actual Rows": 14269, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 47.965, + "Actual Total Time": 47.967, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1461.53, + "Plan Rows": 34, + "Plan Width": 4, + "Actual Startup Time": 14.112, + "Actual Total Time": 59.202, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.463, + "Actual Total Time": 47.359, + "Actual Rows": 10307, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.455, + "Actual Total Time": 71.991, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.463, + "Actual Total Time": 60.683, + "Actual Rows": 12628, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 47.968, + "Actual Total Time": 47.969, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.005, + "Actual Total Time": 44.500, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.035, + "Actual Total Time": 61.295, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 47.964, + "Actual Total Time": 47.966, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1308.38, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 13.878, + "Actual Total Time": 13.895, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.356, + "Actual Total Time": 0.379, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.366, + "Actual Total Time": 0.395, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.337, + "Actual Total Time": 1.385, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 47.967, + "Actual Total Time": 47.967, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.903, + "Actual Total Time": 0.914, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.668, + "Actual Total Time": 2.693, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 47.963, + "Actual Total Time": 47.964, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.77, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.270, + "Actual Total Time": 47.612, + "Actual Rows": 10959, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.101, + "Actual Total Time": 42.947, + "Actual Rows": 10307, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.084, + "Actual Total Time": 64.796, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.088, + "Actual Total Time": 27.074, + "Actual Rows": 6314, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.094, + "Actual Total Time": 40.115, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.360, + "Actual Total Time": 56.164, + "Actual Rows": 5392, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 76714, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 10307 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 2, + "Actual Loops": 20522 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 12628 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 8337 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 5392 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.062, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.158, + "Actual Total Time": 0.192, + "Actual Rows": 1, + "Actual Loops": 63701, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 54, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.164, + "Actual Total Time": 0.201, + "Actual Rows": 1, + "Actual Loops": 8784 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.129, + "Actual Total Time": 0.151, + "Actual Rows": 0, + "Actual Loops": 14995 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.164, + "Actual Total Time": 0.202, + "Actual Rows": 1, + "Actual Loops": 11112 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.181, + "Actual Total Time": 0.226, + "Actual Rows": 1, + "Actual Loops": 7601 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.219, + "Actual Total Time": 0.272, + "Actual Rows": 1, + "Actual Loops": 4743 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.094, + "Actual Rows": 1, + "Actual Loops": 38991, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Action,Sci-Fi,Thriller,Crime,War}'::text[]))", + "Rows Removed by Filter": 73, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.104, + "Actual Rows": 1, + "Actual Loops": 5187 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.066, + "Actual Rows": 1, + "Actual Loops": 7406 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.123, + "Actual Rows": 2, + "Actual Loops": 7298 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.101, + "Actual Rows": 2, + "Actual Loops": 5314 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.084, + "Actual Total Time": 0.111, + "Actual Rows": 1, + "Actual Loops": 3355 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 46694, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 12673, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 5791, + "Cache Hits": 5789, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 5652, + "Cache Hits": 5650, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 12057, + "Cache Hits": 12055, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 8144, + "Cache Hits": 8142, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 2375, + "Cache Hits": 2373, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.195, + "Actual Total Time": 0.195, + "Actual Rows": 0, + "Actual Loops": 12, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 42900, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 5235 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 5274 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 10987 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 7383 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 2186 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 26153, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 3261 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 3244 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 6963 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 4673 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1326 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 9105500078934324812, + "Planning Time": 49.939, + "Triggers": [ + ], + "Execution Time": 4500.622, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 9105500078934324812, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(chn.name) AS character_name,
       MIN(mi_idx.info) AS rating,
       MIN(n.name) AS playing_actor,
       MIN(t.title) AS complete_hero_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name IS NOT NULL
  AND (chn.name LIKE '%man%'
       OR chn.name LIKE '%Man%')
  AND it2.info = 'rating'
  AND k.keyword IN ('superhero',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence',
                    'magnet',
                    'web',
                    'claw',
                    'laser')
  AND kt.kind = 'movie'
  AND mi_idx.info > '7.0'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND ci.movie_id = cc.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND cc.movie_id = mi_idx.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1418.07, + "Total Cost": 1418.08, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 482.939, + "Actual Total Time": 513.620, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.50, + "Total Cost": 1418.06, + "Plan Rows": 1, + "Plan Width": 54, + "Actual Startup Time": 16.069, + "Actual Total Time": 511.170, + "Actual Rows": 1728, + "Actual Loops": 1, + "Output": ["chn.name", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5.07, + "Total Cost": 1417.61, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 15.960, + "Actual Total Time": 475.093, + "Actual Rows": 1728, + "Actual Loops": 1, + "Output": ["chn.name", "t.title", "mi_idx.info", "ci.person_id"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.07, + "Total Cost": 1416.61, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 23.944, + "Actual Total Time": 158.572, + "Actual Rows": 216, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "mi_idx.info", "ci.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.351, + "Actual Total Time": 98.642, + "Actual Rows": 124, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.998, + "Actual Total Time": 59.412, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 34.663, + "Actual Total Time": 345.468, + "Actual Rows": 509, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.544, + "Actual Total Time": 465.046, + "Actual Rows": 847, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 64.999, + "Actual Total Time": 65.008, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.407, + "Actual Total Time": 59.382, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.514, + "Actual Total Time": 59.945, + "Actual Rows": 26, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.64, + "Total Cost": 1415.70, + "Plan Rows": 2, + "Plan Width": 31, + "Actual Startup Time": 22.418, + "Actual Total Time": 109.226, + "Actual Rows": 7368, + "Actual Loops": 8, + "Output": ["t.title", "mi_idx.info", "ci.person_role_id", "ci.person_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.289, + "Actual Total Time": 65.610, + "Actual Rows": 3483, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.791, + "Actual Total Time": 56.164, + "Actual Rows": 245, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 34.291, + "Actual Total Time": 224.086, + "Actual Rows": 19337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.879, + "Actual Total Time": 301.823, + "Actual Rows": 28478, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 64.998, + "Actual Total Time": 65.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.612, + "Actual Total Time": 42.276, + "Actual Rows": 1708, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.445, + "Actual Total Time": 43.725, + "Actual Rows": 1614, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.20, + "Total Cost": 1414.14, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 22.331, + "Actual Total Time": 73.319, + "Actual Rows": 41, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.214, + "Actual Total Time": 41.831, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.708, + "Actual Total Time": 53.973, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 34.210, + "Actual Total Time": 135.607, + "Actual Rows": 113, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.796, + "Actual Total Time": 183.316, + "Actual Rows": 169, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 64.997, + "Actual Total Time": 65.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.508, + "Actual Total Time": 28.563, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.241, + "Actual Total Time": 30.358, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.06, + "Total Cost": 1413.96, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 21.443, + "Actual Total Time": 72.847, + "Actual Rows": 63, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.159, + "Actual Total Time": 41.572, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.640, + "Actual Total Time": 53.903, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.335, + "Actual Total Time": 134.398, + "Actual Rows": 194, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.746, + "Actual Total Time": 181.676, + "Actual Rows": 250, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 64.996, + "Actual Total Time": 65.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.954, + "Actual Total Time": 28.399, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.375, + "Actual Total Time": 30.212, + "Actual Rows": 9, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.63, + "Total Cost": 1413.45, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 19.497, + "Actual Total Time": 69.636, + "Actual Rows": 158, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.392, + "Actual Total Time": 39.835, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.082, + "Actual Total Time": 53.115, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.197, + "Actual Total Time": 125.459, + "Actual Rows": 472, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.240, + "Actual Total Time": 171.054, + "Actual Rows": 612, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 64.995, + "Actual Total Time": 65.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.450, + "Actual Total Time": 27.682, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.332, + "Actual Total Time": 28.980, + "Actual Rows": 33, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.49, + "Total Cost": 1413.28, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 3.460, + "Actual Total Time": 69.188, + "Actual Rows": 199, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.546, + "Actual Total Time": 39.507, + "Actual Rows": 74, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.574, + "Actual Total Time": 52.978, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.960, + "Actual Total Time": 124.489, + "Actual Rows": 591, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.159, + "Actual Total Time": 169.811, + "Actual Rows": 699, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.257, + "Actual Total Time": 64.704, + "Actual Rows": 87, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.393, + "Actual Total Time": 27.527, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.658, + "Actual Total Time": 28.798, + "Actual Rows": 41, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.06, + "Total Cost": 1411.90, + "Plan Rows": 3, + "Plan Width": 8, + "Actual Startup Time": 2.680, + "Actual Total Time": 56.618, + "Actual Rows": 800, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.829, + "Actual Total Time": 33.784, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.386, + "Actual Total Time": 49.892, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.880, + "Actual Total Time": 92.311, + "Actual Rows": 2119, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.735, + "Actual Total Time": 124.705, + "Actual Rows": 3371, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.156, + "Actual Total Time": 61.029, + "Actual Rows": 136, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.408, + "Actual Total Time": 26.502, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.574, + "Actual Total Time": 24.892, + "Actual Rows": 118, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.92, + "Total Cost": 1411.21, + "Plan Rows": 11, + "Plan Width": 12, + "Actual Startup Time": 2.623, + "Actual Total Time": 55.261, + "Actual Rows": 800, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.778, + "Actual Total Time": 33.179, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.333, + "Actual Total Time": 49.610, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.828, + "Actual Total Time": 88.572, + "Actual Rows": 2119, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.640, + "Actual Total Time": 120.021, + "Actual Rows": 3371, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.099, + "Actual Total Time": 60.633, + "Actual Rows": 136, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.351, + "Actual Total Time": 26.327, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.522, + "Actual Total Time": 24.564, + "Actual Rows": 118, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.88, + "Total Cost": 1409.93, + "Plan Rows": 43, + "Plan Width": 16, + "Actual Startup Time": 2.258, + "Actual Total Time": 53.931, + "Actual Rows": 1174, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.587, + "Actual Total Time": 32.539, + "Actual Rows": 331, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.965, + "Actual Total Time": 49.045, + "Actual Rows": 190, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.352, + "Actual Total Time": 85.761, + "Actual Rows": 3248, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.208, + "Actual Total Time": 115.959, + "Actual Rows": 4785, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.723, + "Actual Total Time": 59.936, + "Actual Rows": 276, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.991, + "Actual Total Time": 25.886, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.285, + "Actual Total Time": 24.116, + "Actual Rows": 167, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.46, + "Total Cost": 1388.43, + "Plan Rows": 48, + "Plan Width": 4, + "Actual Startup Time": 1.614, + "Actual Total Time": 28.190, + "Actual Rows": 3011, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.428, + "Actual Total Time": 13.194, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.873, + "Actual Total Time": 43.511, + "Actual Rows": 276, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.528, + "Actual Total Time": 37.414, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.390, + "Actual Total Time": 49.178, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.450, + "Actual Total Time": 24.962, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.736, + "Actual Total Time": 22.920, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.167, + "Actual Total Time": 17.529, + "Actual Rows": 409, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.03, + "Total Cost": 1236.53, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 1.465, + "Actual Total Time": 9.893, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,marvel-comics,based-on-comic,tv-special,fight,violence,magnet,web,claw,laser}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.312, + "Actual Total Time": 1.329, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.785, + "Actual Total Time": 40.301, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.278, + "Actual Total Time": 0.320, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.142, + "Actual Total Time": 1.173, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.313, + "Actual Total Time": 1.329, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.610, + "Actual Total Time": 21.144, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.062, + "Actual Total Time": 13.314, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 150.53, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.122, + "Actual Total Time": 13.868, + "Actual Rows": 2409, + "Actual Loops": 10, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.112, + "Actual Total Time": 11.262, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.065, + "Actual Total Time": 1.543, + "Actual Rows": 138, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.242, + "Actual Total Time": 35.389, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.237, + "Actual Total Time": 45.407, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.132, + "Actual Total Time": 22.126, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.119, + "Actual Total Time": 1.664, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.071, + "Actual Total Time": 2.023, + "Actual Rows": 204, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 24091, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 276 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 6011 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 9226 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 4196 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 248 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 409 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.072, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.172, + "Actual Total Time": 0.172, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.073, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.073, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.065, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 6396, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 259, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 248, + "Cache Hits": 246, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 104, + "Cache Hits": 102, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 2119, + "Cache Hits": 2117, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 3371, + "Cache Hits": 3369, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 136, + "Cache Hits": 135, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 39, + "Cache Hits": 37, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 118, + "Cache Hits": 116, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 15, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 6396, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 248 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 104 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 2119 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 3371 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 136 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 39 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 118 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1595, + "Output": ["kt.id"], + "Cache Key": "t.kind_id", + "Cache Mode": "logical", + "Cache Hits": 53, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 74, + "Cache Hits": 68, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 24, + "Cache Hits": 22, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 591, + "Cache Hits": 587, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 699, + "Cache Hits": 693, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 87, + "Cache Hits": 83, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 22, + "Cache Hits": 19, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 41, + "Cache Hits": 38, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 32, + "Output": ["kt.id"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1267, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '7.0'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 59 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 19 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 472 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 612 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 20 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 33 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 507, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 21 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.064, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 194 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 250 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 9 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 12, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.807, + "Actual Rows": 181, + "Actual Loops": 326, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.039, + "Actual Total Time": 1.565, + "Actual Rows": 249, + "Actual Loops": 14 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.077, + "Actual Total Time": 2.037, + "Actual Rows": 245, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.721, + "Actual Rows": 171, + "Actual Loops": 113 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.636, + "Actual Rows": 169, + "Actual Loops": 169 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.052, + "Actual Total Time": 2.116, + "Actual Rows": 285, + "Actual Loops": 6 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.068, + "Actual Total Time": 2.080, + "Actual Rows": 269, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 58947, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name IS NOT NULL) AND ((chn.name ~~ '%man%'::text) OR (chn.name ~~ '%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 3483 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 245 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 19337 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 28478 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1708 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1614 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 1728, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0 + } + ] + } + ] + }, + "Query Identifier": 1025902338300761143, + "Planning Time": 232.530, + "Triggers": [ + ], + "Execution Time": 514.118, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 1025902338300761143, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(chn.name) AS character_name,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_hero_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name IS NOT NULL
  AND (chn.name LIKE '%man%'
       OR chn.name LIKE '%Man%')
  AND it2.info = 'rating'
  AND k.keyword IN ('superhero',
                    'marvel-comics',
                    'based-on-comic',
                    'fight')
  AND kt.kind = 'movie'
  AND mi_idx.info > '8.0'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND ci.movie_id = cc.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND cc.movie_id = mi_idx.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1405.90, + "Total Cost": 1405.91, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 145.165, + "Actual Total Time": 162.955, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.56, + "Total Cost": 1405.89, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 36.177, + "Actual Total Time": 162.779, + "Actual Rows": 93, + "Actual Loops": 1, + "Output": ["chn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4.13, + "Total Cost": 1405.45, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 36.140, + "Actual Total Time": 160.878, + "Actual Rows": 93, + "Actual Loops": 1, + "Output": ["chn.name", "mi_idx.info", "t.title", "ci.person_id"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 1404.45, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 34.039, + "Actual Total Time": 45.935, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["chn.name", "mi_idx.info", "t.title", "ci.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.042, + "Actual Total Time": 38.525, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.616, + "Actual Total Time": 30.624, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.470, + "Actual Total Time": 29.479, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.608, + "Actual Total Time": 29.619, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.514, + "Actual Total Time": 29.524, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.545, + "Actual Total Time": 29.555, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 62.253, + "Actual Total Time": 131.244, + "Actual Rows": 47, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 1403.54, + "Plan Rows": 2, + "Plan Width": 31, + "Actual Startup Time": 33.976, + "Actual Total Time": 44.122, + "Actual Rows": 288, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title", "ci.person_role_id", "ci.person_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.873, + "Actual Total Time": 34.605, + "Actual Rows": 483, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.615, + "Actual Total Time": 30.622, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.469, + "Actual Total Time": 29.477, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.607, + "Actual Total Time": 29.617, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.513, + "Actual Total Time": 29.522, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.544, + "Actual Total Time": 29.552, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 62.060, + "Actual Total Time": 124.462, + "Actual Rows": 1334, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 1401.98, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 33.950, + "Actual Total Time": 42.416, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.800, + "Actual Total Time": 30.983, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.615, + "Actual Total Time": 30.622, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.468, + "Actual Total Time": 29.476, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.607, + "Actual Total Time": 29.616, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.512, + "Actual Total Time": 29.520, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.543, + "Actual Total Time": 29.551, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 61.993, + "Actual Total Time": 117.676, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.13, + "Total Cost": 1401.80, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 26.467, + "Actual Total Time": 42.379, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "mi_idx.info", "mi_idx.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.741, + "Actual Total Time": 30.923, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.614, + "Actual Total Time": 30.621, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.468, + "Actual Total Time": 29.475, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.606, + "Actual Total Time": 29.614, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.512, + "Actual Total Time": 29.519, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.543, + "Actual Total Time": 29.550, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.217, + "Actual Total Time": 117.470, + "Actual Rows": 27, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.70, + "Total Cost": 1401.34, + "Plan Rows": 1, + "Plan Width": 18, + "Actual Startup Time": 19.185, + "Actual Total Time": 42.156, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.994, + "Actual Total Time": 30.763, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.614, + "Actual Total Time": 30.620, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.467, + "Actual Total Time": 29.473, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.605, + "Actual Total Time": 29.613, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.511, + "Actual Total Time": 29.518, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.542, + "Actual Total Time": 29.548, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.763, + "Actual Total Time": 116.054, + "Actual Rows": 74, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.56, + "Total Cost": 1401.16, + "Plan Rows": 1, + "Plan Width": 22, + "Actual Startup Time": 15.828, + "Actual Total Time": 41.939, + "Actual Rows": 37, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.954, + "Actual Total Time": 30.546, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.872, + "Actual Total Time": 30.563, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.466, + "Actual Total Time": 29.471, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.604, + "Actual Total Time": 29.611, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.510, + "Actual Total Time": 29.516, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.541, + "Actual Total Time": 29.547, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.724, + "Actual Total Time": 114.813, + "Actual Rows": 245, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.13, + "Total Cost": 1400.66, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 15.532, + "Actual Total Time": 35.592, + "Actual Rows": 333, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.406, + "Actual Total Time": 24.995, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.553, + "Actual Total Time": 29.499, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.465, + "Actual Total Time": 29.470, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.603, + "Actual Total Time": 29.608, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.509, + "Actual Total Time": 29.514, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.541, + "Actual Total Time": 29.545, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.377, + "Actual Total Time": 79.232, + "Actual Rows": 2119, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.99, + "Total Cost": 1400.19, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 15.520, + "Actual Total Time": 35.244, + "Actual Rows": 333, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.381, + "Actual Total Time": 24.654, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.532, + "Actual Total Time": 29.420, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.464, + "Actual Total Time": 29.468, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.602, + "Actual Total Time": 29.606, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.508, + "Actual Total Time": 29.512, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.540, + "Actual Total Time": 29.543, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.353, + "Actual Total Time": 77.258, + "Actual Rows": 2119, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 1399.34, + "Plan Rows": 17, + "Plan Width": 16, + "Actual Startup Time": 15.497, + "Actual Total Time": 34.579, + "Actual Rows": 497, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.330, + "Actual Total Time": 24.061, + "Actual Rows": 331, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.479, + "Actual Total Time": 29.243, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.463, + "Actual Total Time": 29.466, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.601, + "Actual Total Time": 29.603, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.507, + "Actual Total Time": 29.509, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.539, + "Actual Total Time": 29.541, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.307, + "Actual Total Time": 73.404, + "Actual Rows": 3248, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1390.83, + "Plan Rows": 19, + "Plan Width": 4, + "Actual Startup Time": 15.302, + "Actual Total Time": 24.096, + "Actual Rows": 1248, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.208, + "Actual Total Time": 9.299, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.234, + "Actual Total Time": 25.972, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.462, + "Actual Total Time": 29.464, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.600, + "Actual Total Time": 29.601, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.507, + "Actual Total Time": 29.508, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.538, + "Actual Total Time": 29.540, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.512, + "Actual Total Time": 27.429, + "Actual Rows": 6011, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 15.258, + "Actual Total Time": 18.084, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,marvel-comics,based-on-comic,fight}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.105, + "Actual Total Time": 1.132, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.163, + "Actual Total Time": 24.657, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.461, + "Actual Total Time": 29.462, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.599, + "Actual Total Time": 29.600, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.506, + "Actual Total Time": 29.506, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.537, + "Actual Total Time": 29.538, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.426, + "Actual Total Time": 0.473, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.95, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.083, + "Actual Total Time": 11.235, + "Actual Rows": 2496, + "Actual Loops": 4, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.099, + "Actual Total Time": 7.629, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.068, + "Actual Total Time": 1.228, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.081, + "Actual Total Time": 25.258, + "Actual Rows": 6011, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 9984, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 248 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 6011 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 3974, + "Output": ["cct1.id"], + "Cache Key": "cc.subject_id", + "Cache Mode": "logical", + "Cache Hits": 346, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 331, + "Cache Hits": 329, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 47, + "Cache Hits": 45, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 3248, + "Cache Hits": 3246, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 1, + "Actual Loops": 2667, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 259, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 248, + "Cache Hits": 246, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 39, + "Cache Hits": 37, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 1, + "Actual Loops": 2119, + "Cache Hits": 2117, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2667, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '8.0'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 248 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 39 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 2119 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 298, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 26 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 245 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 84, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 74 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 29, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 27 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 12, + "Actual Startup Time": 0.046, + "Actual Total Time": 2.100, + "Actual Rows": 383, + "Actual Loops": 6, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.067, + "Actual Total Time": 3.349, + "Actual Rows": 483, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 1.574, + "Actual Rows": 334, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 2300, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name IS NOT NULL) AND ((chn.name ~~ '%man%'::text) OR (chn.name ~~ '%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 483 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1334 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 93, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0 + } + ] + } + ] + }, + "Query Identifier": -3475685009172437784, + "Planning Time": 229.137, + "Triggers": [ + ], + "Execution Time": 163.575, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -3475685009172437784, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(chn.name) AS character_name,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_hero_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name IS NOT NULL
  AND (chn.name LIKE '%man%'
       OR chn.name LIKE '%Man%')
  AND it2.info = 'rating'
  AND k.keyword IN ('superhero',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence',
                    'magnet',
                    'web',
                    'claw',
                    'laser')
  AND kt.kind = 'movie'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND ci.movie_id = cc.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND cc.movie_id = mi_idx.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1418.30, + "Total Cost": 1418.31, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 4355.405, + "Actual Total Time": 4387.272, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1418.24, + "Total Cost": 1418.25, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 680.563, + "Actual Total Time": 4387.218, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1417.24, + "Total Cost": 1417.25, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 1331.078, + "Actual Total Time": 1331.087, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3697.297, + "Actual Total Time": 3697.304, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 729.771, + "Actual Total Time": 729.777, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 359.213, + "Actual Total Time": 359.222, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 192.551, + "Actual Total Time": 192.562, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 434.067, + "Actual Total Time": 434.073, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 213.878, + "Actual Total Time": 213.886, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4342.195, + "Actual Total Time": 4342.201, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.50, + "Total Cost": 1417.23, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 37.959, + "Actual Total Time": 1329.958, + "Actual Rows": 675, + "Actual Loops": 8, + "Output": ["chn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 57.183, + "Actual Total Time": 3694.106, + "Actual Rows": 1884, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 35.062, + "Actual Total Time": 728.998, + "Actual Rows": 361, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.090, + "Actual Total Time": 358.926, + "Actual Rows": 143, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.507, + "Actual Total Time": 192.454, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.629, + "Actual Total Time": 433.808, + "Actual Rows": 96, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 58.475, + "Actual Total Time": 213.752, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 35.801, + "Actual Total Time": 4338.471, + "Actual Rows": 2556, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.07, + "Total Cost": 1416.78, + "Plan Rows": 1, + "Plan Width": 27, + "Actual Startup Time": 31.272, + "Actual Total Time": 1203.979, + "Actual Rows": 23717, + "Actual Loops": 8, + "Output": ["t.title", "mi_idx.info", "ci.person_role_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 43.338, + "Actual Total Time": 3329.453, + "Actual Rows": 68923, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.396, + "Actual Total Time": 660.876, + "Actual Rows": 11208, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.429, + "Actual Total Time": 326.049, + "Actual Rows": 4647, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.335, + "Actual Total Time": 182.332, + "Actual Rows": 1298, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.323, + "Actual Total Time": 397.446, + "Actual Rows": 6145, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 57.110, + "Actual Total Time": 196.401, + "Actual Rows": 1952, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.316, + "Actual Total Time": 3922.926, + "Actual Rows": 86060, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.93, + "Total Cost": 1416.43, + "Plan Rows": 2, + "Plan Width": 31, + "Actual Startup Time": 14.506, + "Actual Total Time": 898.006, + "Actual Rows": 72678, + "Actual Loops": 8, + "Output": ["t.title", "mi_idx.info", "mi_idx.info_type_id", "ci.person_role_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.557, + "Actual Total Time": 2453.754, + "Actual Rows": 211050, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.439, + "Actual Total Time": 498.730, + "Actual Rows": 34432, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.951, + "Actual Total Time": 249.252, + "Actual Rows": 13941, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.009, + "Actual Total Time": 159.739, + "Actual Rows": 3894, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.690, + "Actual Total Time": 305.939, + "Actual Rows": 18917, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 53.377, + "Actual Total Time": 163.613, + "Actual Rows": 5856, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.554, + "Actual Total Time": 2882.038, + "Actual Rows": 263630, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.50, + "Total Cost": 1415.54, + "Plan Rows": 2, + "Plan Width": 35, + "Actual Startup Time": 14.429, + "Actual Total Time": 265.010, + "Actual Rows": 72678, + "Actual Loops": 8, + "Output": ["t.title", "mi_idx.info", "mi_idx.info_type_id", "ci.person_role_id", "ci.person_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.492, + "Actual Total Time": 693.628, + "Actual Rows": 211050, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.384, + "Actual Total Time": 144.839, + "Actual Rows": 34432, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.825, + "Actual Total Time": 70.343, + "Actual Rows": 13941, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.886, + "Actual Total Time": 90.216, + "Actual Rows": 3894, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.614, + "Actual Total Time": 86.290, + "Actual Rows": 18917, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 53.325, + "Actual Total Time": 84.774, + "Actual Rows": 5856, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.481, + "Actual Total Time": 805.415, + "Actual Rows": 263630, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.06, + "Total Cost": 1413.97, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 14.312, + "Actual Total Time": 59.831, + "Actual Rows": 479, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.376, + "Actual Total Time": 114.892, + "Actual Rows": 1426, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.282, + "Actual Total Time": 27.676, + "Actual Rows": 176, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.689, + "Actual Total Time": 10.200, + "Actual Rows": 60, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.669, + "Actual Total Time": 69.334, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.490, + "Actual Total Time": 11.956, + "Actual Rows": 101, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 53.224, + "Actual Total Time": 56.664, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.416, + "Actual Total Time": 153.683, + "Actual Rows": 1851, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.63, + "Total Cost": 1413.45, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 14.199, + "Actual Total Time": 56.635, + "Actual Rows": 158, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.302, + "Actual Total Time": 105.917, + "Actual Rows": 472, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.235, + "Actual Total Time": 26.099, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.593, + "Actual Total Time": 9.487, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.551, + "Actual Total Time": 69.027, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.419, + "Actual Total Time": 10.882, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 53.148, + "Actual Total Time": 56.177, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.041, + "Actual Total Time": 142.815, + "Actual Rows": 612, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.49, + "Total Cost": 1413.28, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 2.151, + "Actual Total Time": 56.044, + "Actual Rows": 199, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.439, + "Actual Total Time": 104.363, + "Actual Rows": 591, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.493, + "Actual Total Time": 25.764, + "Actual Rows": 74, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.497, + "Actual Total Time": 9.293, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.203, + "Actual Total Time": 68.878, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.643, + "Actual Total Time": 10.681, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.224, + "Actual Total Time": 55.887, + "Actual Rows": 102, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.436, + "Actual Total Time": 141.074, + "Actual Rows": 699, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.06, + "Total Cost": 1411.90, + "Plan Rows": 3, + "Plan Width": 8, + "Actual Startup Time": 1.448, + "Actual Total Time": 46.027, + "Actual Rows": 800, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.381, + "Actual Total Time": 77.776, + "Actual Rows": 2119, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.854, + "Actual Total Time": 21.684, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.517, + "Actual Total Time": 8.232, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.902, + "Actual Total Time": 67.325, + "Actual Rows": 56, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.569, + "Actual Total Time": 8.306, + "Actual Rows": 118, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.172, + "Actual Total Time": 52.195, + "Actual Rows": 184, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.294, + "Actual Total Time": 104.476, + "Actual Rows": 3371, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.92, + "Total Cost": 1411.21, + "Plan Rows": 11, + "Plan Width": 12, + "Actual Startup Time": 1.401, + "Actual Total Time": 44.130, + "Actual Rows": 1174, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.335, + "Actual Total Time": 72.575, + "Actual Rows": 3248, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.812, + "Actual Total Time": 20.964, + "Actual Rows": 331, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.441, + "Actual Total Time": 7.960, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.823, + "Actual Total Time": 66.969, + "Actual Rows": 123, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.524, + "Actual Total Time": 7.889, + "Actual Rows": 167, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.141, + "Actual Total Time": 51.523, + "Actual Rows": 343, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.254, + "Actual Total Time": 97.658, + "Actual Rows": 4785, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.88, + "Total Cost": 1409.93, + "Plan Rows": 43, + "Plan Width": 16, + "Actual Startup Time": 1.255, + "Actual Total Time": 42.585, + "Actual Rows": 1174, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.229, + "Actual Total Time": 68.577, + "Actual Rows": 3248, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.716, + "Actual Total Time": 20.349, + "Actual Rows": 331, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.255, + "Actual Total Time": 7.630, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.645, + "Actual Total Time": 66.607, + "Actual Rows": 123, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.435, + "Actual Total Time": 7.512, + "Actual Rows": 167, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.053, + "Actual Total Time": 50.966, + "Actual Rows": 343, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.153, + "Actual Total Time": 92.417, + "Actual Rows": 4785, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.46, + "Total Cost": 1388.43, + "Plan Rows": 48, + "Plan Width": 4, + "Actual Startup Time": 0.893, + "Actual Total Time": 19.100, + "Actual Rows": 3011, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.415, + "Actual Total Time": 20.711, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.624, + "Actual Total Time": 6.902, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.753, + "Actual Total Time": 4.200, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.495, + "Actual Total Time": 63.214, + "Actual Rows": 150, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.346, + "Actual Total Time": 2.732, + "Actual Rows": 409, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.851, + "Actual Total Time": 17.243, + "Actual Rows": 4322, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.406, + "Actual Total Time": 29.036, + "Actual Rows": 9226, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.03, + "Total Cost": 1236.53, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.794, + "Actual Total Time": 8.580, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,marvel-comics,based-on-comic,tv-special,fight,violence,magnet,web,claw,laser}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.306, + "Actual Total Time": 0.352, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.541, + "Actual Total Time": 0.558, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.615, + "Actual Total Time": 2.637, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.380, + "Actual Total Time": 61.755, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.268, + "Actual Total Time": 0.315, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.757, + "Actual Total Time": 1.495, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.315, + "Actual Total Time": 1.346, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 150.53, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.080, + "Actual Total Time": 7.649, + "Actual Rows": 2409, + "Actual Loops": 10, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.104, + "Actual Total Time": 18.412, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.078, + "Actual Total Time": 5.800, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.132, + "Actual Total Time": 1.424, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.107, + "Actual Total Time": 1.362, + "Actual Rows": 150, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 1.127, + "Actual Rows": 204, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.062, + "Actual Total Time": 7.131, + "Actual Rows": 2161, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.086, + "Actual Total Time": 25.153, + "Actual Rows": 9226, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 24091, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 6011 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 248 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 150 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 409 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 4322 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 9226 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.066, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.026, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 9392, + "Output": ["cct1.id"], + "Cache Key": "cc.subject_id", + "Cache Mode": "logical", + "Cache Hits": 346, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 3248, + "Cache Hits": 3246, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 331, + "Cache Hits": 329, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 47, + "Cache Hits": 45, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 123, + "Cache Hits": 121, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 167, + "Cache Hits": 165, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 343, + "Cache Hits": 341, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 4785, + "Cache Hits": 4783, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 16, + "Output": ["cct1.id"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 6396, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 2119 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 248 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 39 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 56 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 118 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 184 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 3371 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 1595, + "Output": ["kt.id"], + "Cache Key": "t.kind_id", + "Cache Mode": "logical", + "Cache Hits": 53, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 591, + "Cache Hits": 587, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 74, + "Cache Hits": 68, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 22, + "Cache Hits": 19, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 9, + "Cache Hits": 7, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 41, + "Cache Hits": 38, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 102, + "Cache Hits": 97, + "Cache Misses": 5, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 699, + "Cache Hits": 693, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 33, + "Output": ["kt.id"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 6 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 1267, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 472 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.022, + "Actual Rows": 3, + "Actual Loops": 59 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.030, + "Actual Rows": 3, + "Actual Loops": 20 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.045, + "Actual Rows": 3, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.028, + "Actual Rows": 3, + "Actual Loops": 33 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.032, + "Actual Rows": 3, + "Actual Loops": 13 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 612 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 12, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.364, + "Actual Rows": 152, + "Actual Loops": 3831, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.344, + "Actual Rows": 148, + "Actual Loops": 1426 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.571, + "Actual Rows": 196, + "Actual Loops": 176 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.868, + "Actual Rows": 232, + "Actual Loops": 60 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 1.027, + "Actual Rows": 216, + "Actual Loops": 18 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.644, + "Actual Rows": 187, + "Actual Loops": 101 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.631, + "Actual Rows": 150, + "Actual Loops": 39 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.295, + "Actual Rows": 142, + "Actual Loops": 1851 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 581428, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 211050 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 34432 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 13941 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 3894 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 18917 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 5856 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 263630 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 581428, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 211050 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 34432 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 13941 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 3894 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 18917 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 5856 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 263630 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 189738, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name IS NOT NULL) AND ((chn.name ~~ '%man%'::text) OR (chn.name ~~ '%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 68923 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 11208 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 4647 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 1298 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 6145 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 1952 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 86060 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6841805925482126349, + "Planning Time": 229.350, + "Triggers": [ + ], + "Execution Time": 4387.914, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 6841805925482126349, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS complete_western_sequel
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cct1.kind IN ('cast',
                    'crew')
  AND cct2.kind = 'complete'
  AND cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Germany',
                  'Swedish',
                  'German')
  AND t.production_year BETWEEN 1950 AND 2000
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND t.id = cc.movie_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id
  AND ml.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = cc.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 497.76, + "Total Cost": 497.77, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 86.518, + "Actual Total Time": 86.777, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 320.81, + "Total Cost": 497.75, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 11.175, + "Actual Total Time": 86.315, + "Actual Rows": 477, + "Actual Loops": 1, + "Output": ["cn.name", "lt.link", "t.title"], + "Workers Planned": 6, + "Workers Launched": 6, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 319.81, + "Total Cost": 496.75, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 11.981, + "Actual Total Time": 22.677, + "Actual Rows": 68, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.884, + "Actual Total Time": 11.899, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.245, + "Actual Total Time": 10.254, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.219, + "Actual Total Time": 14.235, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.443, + "Actual Total Time": 11.455, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.743, + "Actual Total Time": 12.758, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.079, + "Actual Total Time": 13.093, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 319.39, + "Total Cost": 490.57, + "Plan Rows": 14, + "Plan Width": 52, + "Actual Startup Time": 11.969, + "Actual Total Time": 16.525, + "Actual Rows": 926, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "t.title", "mk.keyword_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.883, + "Actual Total Time": 11.897, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.245, + "Actual Total Time": 10.253, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.218, + "Actual Total Time": 14.233, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.442, + "Actual Total Time": 11.453, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.742, + "Actual Total Time": 12.756, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.078, + "Actual Total Time": 13.091, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 318.96, + "Total Cost": 489.21, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 11.934, + "Actual Total Time": 15.004, + "Actual Rows": 101, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "t.title", "t.id", "mc.movie_id", "mi.movie_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.883, + "Actual Total Time": 11.895, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.244, + "Actual Total Time": 10.252, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.217, + "Actual Total Time": 14.231, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.442, + "Actual Total Time": 11.452, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.741, + "Actual Total Time": 12.754, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.077, + "Actual Total Time": 13.090, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 318.52, + "Total Cost": 487.01, + "Plan Rows": 2, + "Plan Width": 64, + "Actual Startup Time": 11.141, + "Actual Total Time": 13.854, + "Actual Rows": 38, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "t.title", "t.id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.882, + "Actual Total Time": 11.894, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.751, + "Actual Total Time": 10.025, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.217, + "Actual Total Time": 14.230, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.441, + "Actual Total Time": 11.451, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.740, + "Actual Total Time": 12.753, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.077, + "Actual Total Time": 13.088, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 318.10, + "Total Cost": 482.52, + "Plan Rows": 10, + "Plan Width": 49, + "Actual Startup Time": 9.711, + "Actual Total Time": 12.868, + "Actual Rows": 99, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.881, + "Actual Total Time": 11.892, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.583, + "Actual Total Time": 9.335, + "Actual Rows": 49, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.755, + "Actual Total Time": 13.904, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.009, + "Actual Total Time": 11.051, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.740, + "Actual Total Time": 12.751, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.224, + "Actual Total Time": 12.873, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 317.06, + "Total Cost": 481.27, + "Plan Rows": 39, + "Plan Width": 53, + "Actual Startup Time": 9.055, + "Actual Total Time": 12.127, + "Actual Rows": 111, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.079, + "Actual Total Time": 11.089, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.175, + "Actual Total Time": 8.876, + "Actual Rows": 67, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.990, + "Actual Total Time": 13.124, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.331, + "Actual Total Time": 10.354, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.973, + "Actual Total Time": 11.982, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.379, + "Actual Total Time": 12.054, + "Actual Rows": 5, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 316.63, + "Total Cost": 471.26, + "Plan Rows": 18, + "Plan Width": 41, + "Actual Startup Time": 8.894, + "Actual Total Time": 11.399, + "Actual Rows": 26, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.078, + "Actual Total Time": 11.087, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.088, + "Actual Total Time": 8.089, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.584, + "Actual Total Time": 12.417, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.929, + "Actual Total Time": 9.652, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.971, + "Actual Total Time": 11.980, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.223, + "Actual Total Time": 11.739, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 316.20, + "Total Cost": 430.52, + "Plan Rows": 50, + "Plan Width": 20, + "Actual Startup Time": 8.432, + "Actual Total Time": 10.663, + "Actual Rows": 27, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.077, + "Actual Total Time": 11.085, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.990, + "Actual Total Time": 7.208, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.353, + "Actual Total Time": 11.956, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.760, + "Actual Total Time": 9.321, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.829, + "Actual Total Time": 11.782, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.698, + "Actual Total Time": 11.312, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 315.16, + "Total Cost": 428.40, + "Plan Rows": 200, + "Plan Width": 24, + "Actual Startup Time": 8.352, + "Actual Total Time": 10.620, + "Actual Rows": 37, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.066, + "Actual Total Time": 11.071, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.983, + "Actual Total Time": 7.169, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.322, + "Actual Total Time": 11.928, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.611, + "Actual Total Time": 9.300, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.645, + "Actual Total Time": 11.762, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.563, + "Actual Total Time": 11.276, + "Actual Rows": 17, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Merge Join", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 314.12, + "Total Cost": 425.19, + "Plan Rows": 401, + "Plan Width": 28, + "Actual Startup Time": 8.321, + "Actual Total Time": 10.545, + "Actual Rows": 37, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Merge Cond": "(cc.movie_id = ml.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.049, + "Actual Total Time": 11.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.963, + "Actual Total Time": 7.103, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.286, + "Actual Total Time": 11.866, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.578, + "Actual Total Time": 9.249, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.609, + "Actual Total Time": 11.716, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.528, + "Actual Total Time": 11.203, + "Actual Rows": 17, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 2187.57, + "Plan Rows": 22514, + "Plan Width": 12, + "Actual Startup Time": 0.081, + "Actual Total Time": 1.661, + "Actual Rows": 857, + "Actual Loops": 7, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.085, + "Actual Total Time": 1.039, + "Actual Rows": 308, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 2.267, + "Actual Rows": 1667, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.081, + "Actual Total Time": 1.478, + "Actual Rows": 386, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.079, + "Actual Total Time": 1.008, + "Actual Rows": 386, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.103, + "Actual Total Time": 1.277, + "Actual Rows": 358, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.142, + "Actual Total Time": 0.800, + "Actual Rows": 268, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Sort", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 313.68, + "Total Cost": 317.85, + "Plan Rows": 1666, + "Plan Width": 16, + "Actual Startup Time": 7.263, + "Actual Total Time": 7.716, + "Actual Rows": 2319, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id"], + "Sort Key": ["ml.movie_id"], + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.199, + "Actual Total Time": 8.759, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.702, + "Actual Total Time": 3.954, + "Actual Rows": 2316, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.427, + "Actual Total Time": 9.023, + "Actual Rows": 2317, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.855, + "Actual Total Time": 7.259, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.585, + "Actual Total Time": 9.142, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.599, + "Actual Total Time": 9.147, + "Actual Rows": 2316, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 18.12, + "Total Cost": 224.53, + "Plan Rows": 1666, + "Plan Width": 16, + "Actual Startup Time": 0.439, + "Actual Total Time": 4.823, + "Actual Rows": 2315, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.504, + "Actual Total Time": 5.216, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.258, + "Actual Total Time": 2.448, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.520, + "Actual Total Time": 5.352, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.447, + "Actual Total Time": 4.512, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.555, + "Actual Total Time": 5.575, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.542, + "Actual Total Time": 5.533, + "Actual Rows": 2315, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.23, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.066, + "Actual Rows": 2, + "Actual Loops": 7, + "Output": ["lt.id", "lt.link"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.074, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.041, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.072, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.073, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.090, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.076, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Bitmap Heap Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 18.12, + "Total Cost": 204.56, + "Plan Rows": 1875, + "Plan Width": 8, + "Actual Startup Time": 0.379, + "Actual Total Time": 1.797, + "Actual Rows": 1158, + "Actual Loops": 14, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Recheck Cond": "(ml.link_type_id = lt.id)", + "Rows Removed by Index Recheck": 0, + "Exact Heap Blocks": 191, + "Lossy Heap Blocks": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.425, + "Actual Total Time": 1.856, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.186, + "Actual Total Time": 0.914, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.451, + "Actual Total Time": 1.916, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.401, + "Actual Total Time": 1.660, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.457, + "Actual Total Time": 2.031, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.459, + "Actual Total Time": 2.006, + "Actual Rows": 1158, + "Actual Loops": 2 + } + ], + "Plans": [ + { + "Node Type": "Bitmap Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Index Name": "link_type_id_movie_link", + "Startup Cost": 0.00, + "Total Cost": 17.65, + "Plan Rows": 1875, + "Plan Width": 0, + "Actual Startup Time": 0.312, + "Actual Total Time": 0.312, + "Actual Rows": 1158, + "Actual Loops": 14, + "Index Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.348, + "Actual Total Time": 0.348, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.152, + "Actual Total Time": 0.152, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.372, + "Actual Total Time": 0.372, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.326, + "Actual Total Time": 0.326, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.373, + "Actual Total Time": 0.373, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.375, + "Actual Total Time": 0.375, + "Actual Rows": 1158, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 7, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.007, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = ANY ('{cast,crew}'::text[]))", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 7, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text = 'complete'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.80, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 189, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2000))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 44 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.071, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.191, + "Actual Total Time": 0.191, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 8 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 2, + "Plan Width": 12, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.026, + "Actual Rows": 4, + "Actual Loops": 179, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.016, + "Actual Rows": 2, + "Actual Loops": 44 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.108, + "Actual Total Time": 0.113, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.099, + "Actual Total Time": 0.113, + "Actual Rows": 2, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.084, + "Actual Total Time": 0.099, + "Actual Rows": 2, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 7, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 691, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 49 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 5 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 8 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.069, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.028, + "Actual Rows": 3, + "Actual Loops": 269, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Germany,Swedish,German}'::text[]))", + "Rows Removed by Filter": 23, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.99, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.011, + "Actual Rows": 9, + "Actual Loops": 705, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 6483, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5323664899700589841, + "Planning Time": 257.967, + "Triggers": [ + ], + "Execution Time": 87.291, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -5323664899700589841, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS complete_western_sequel
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cct1.kind IN ('cast',
                    'crew')
  AND cct2.kind = 'complete'
  AND cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Germany',
                  'Swedish',
                  'German')
  AND t.production_year = 1998
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND t.id = cc.movie_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id
  AND ml.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = cc.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 478.33, + "Total Cost": 478.34, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 35.734, + "Actual Total Time": 37.367, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 319.90, + "Total Cost": 478.32, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 30.730, + "Actual Total Time": 37.126, + "Actual Rows": 247, + "Actual Loops": 1, + "Output": ["cn.name", "lt.link", "t.title"], + "Workers Planned": 6, + "Workers Launched": 6, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 318.90, + "Total Cost": 477.32, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 9.030, + "Actual Total Time": 12.073, + "Actual Rows": 35, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.191, + "Actual Total Time": 25.422, + "Actual Rows": 247, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.672, + "Actual Total Time": 10.685, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.703, + "Actual Total Time": 10.715, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.002, + "Actual Total Time": 11.016, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.449, + "Actual Total Time": 4.455, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.032, + "Actual Total Time": 11.044, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 318.48, + "Total Cost": 475.10, + "Plan Rows": 5, + "Plan Width": 52, + "Actual Startup Time": 9.013, + "Actual Total Time": 10.237, + "Actual Rows": 274, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "t.title", "mk.keyword_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.078, + "Actual Total Time": 12.580, + "Actual Rows": 1919, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.670, + "Actual Total Time": 10.682, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.702, + "Actual Total Time": 10.713, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.001, + "Actual Total Time": 11.013, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.449, + "Actual Total Time": 4.454, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.031, + "Actual Total Time": 11.042, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 318.04, + "Total Cost": 473.74, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 9.007, + "Actual Total Time": 9.769, + "Actual Rows": 35, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "t.title", "t.id", "mc.movie_id", "mi.movie_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.039, + "Actual Total Time": 9.312, + "Actual Rows": 247, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.670, + "Actual Total Time": 10.681, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.701, + "Actual Total Time": 10.711, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.000, + "Actual Total Time": 11.012, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.449, + "Actual Total Time": 4.453, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.030, + "Actual Total Time": 11.041, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 317.61, + "Total Cost": 472.64, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 8.998, + "Actual Total Time": 9.518, + "Actual Rows": 14, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "t.title", "t.id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.984, + "Actual Total Time": 7.563, + "Actual Rows": 95, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.669, + "Actual Total Time": 10.680, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.700, + "Actual Total Time": 10.710, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.999, + "Actual Total Time": 11.010, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.448, + "Actual Total Time": 4.452, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.029, + "Actual Total Time": 11.039, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 317.19, + "Total Cost": 472.19, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 8.992, + "Actual Total Time": 9.307, + "Actual Rows": 27, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.943, + "Actual Total Time": 6.092, + "Actual Rows": 190, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.668, + "Actual Total Time": 10.678, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.699, + "Actual Total Time": 10.708, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.998, + "Actual Total Time": 11.009, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.448, + "Actual Total Time": 4.452, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.028, + "Actual Total Time": 11.038, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 317.06, + "Total Cost": 471.87, + "Plan Rows": 2, + "Plan Width": 53, + "Actual Startup Time": 8.988, + "Actual Total Time": 9.200, + "Actual Rows": 27, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.918, + "Actual Total Time": 5.354, + "Actual Rows": 190, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.667, + "Actual Total Time": 10.676, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.699, + "Actual Total Time": 10.706, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.998, + "Actual Total Time": 11.007, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.447, + "Actual Total Time": 4.451, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.027, + "Actual Total Time": 11.036, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 316.63, + "Total Cost": 471.14, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 8.979, + "Actual Total Time": 9.120, + "Actual Rows": 5, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.863, + "Actual Total Time": 4.799, + "Actual Rows": 38, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.666, + "Actual Total Time": 10.674, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.698, + "Actual Total Time": 10.705, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.997, + "Actual Total Time": 11.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.447, + "Actual Total Time": 4.450, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.026, + "Actual Total Time": 11.034, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 316.20, + "Total Cost": 430.52, + "Plan Rows": 50, + "Plan Width": 20, + "Actual Startup Time": 7.704, + "Actual Total Time": 8.854, + "Actual Rows": 27, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.198, + "Actual Total Time": 4.035, + "Actual Rows": 94, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.665, + "Actual Total Time": 10.672, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.697, + "Actual Total Time": 10.703, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.996, + "Actual Total Time": 11.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.748, + "Actual Total Time": 4.132, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.026, + "Actual Total Time": 11.033, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 315.16, + "Total Cost": 428.40, + "Plan Rows": 200, + "Plan Width": 24, + "Actual Startup Time": 7.107, + "Actual Total Time": 8.240, + "Actual Rows": 37, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.902, + "Actual Total Time": 3.681, + "Actual Rows": 128, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.891, + "Actual Total Time": 9.896, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.905, + "Actual Total Time": 9.909, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.173, + "Actual Total Time": 10.179, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.407, + "Actual Total Time": 3.776, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.175, + "Actual Total Time": 10.181, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Merge Join", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 314.12, + "Total Cost": 425.19, + "Plan Rows": 401, + "Plan Width": 28, + "Actual Startup Time": 7.092, + "Actual Total Time": 8.196, + "Actual Rows": 37, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Merge Cond": "(cc.movie_id = ml.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.886, + "Actual Total Time": 3.566, + "Actual Rows": 128, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.880, + "Actual Total Time": 9.883, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.894, + "Actual Total Time": 9.897, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.160, + "Actual Total Time": 10.163, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.395, + "Actual Total Time": 3.741, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.163, + "Actual Total Time": 10.166, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 2187.57, + "Plan Rows": 22514, + "Plan Width": 12, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.945, + "Actual Rows": 857, + "Actual Loops": 7, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.386, + "Actual Rows": 353, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.083, + "Actual Total Time": 0.084, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.091, + "Actual Total Time": 0.092, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.342, + "Actual Rows": 314, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.142, + "Actual Total Time": 0.142, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Sort", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 313.68, + "Total Cost": 317.85, + "Plan Rows": 1666, + "Plan Width": 16, + "Actual Startup Time": 5.940, + "Actual Total Time": 6.324, + "Actual Rows": 2319, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id"], + "Sort Key": ["ml.movie_id"], + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.608, + "Actual Total Time": 2.775, + "Actual Rows": 2335, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.235, + "Actual Total Time": 8.770, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.210, + "Actual Total Time": 8.746, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.460, + "Actual Total Time": 9.000, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.915, + "Actual Total Time": 3.059, + "Actual Rows": 2316, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.419, + "Actual Total Time": 8.955, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 18.12, + "Total Cost": 224.53, + "Plan Rows": 1666, + "Plan Width": 16, + "Actual Startup Time": 0.381, + "Actual Total Time": 3.826, + "Actual Rows": 2315, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.181, + "Actual Total Time": 1.743, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.526, + "Actual Total Time": 5.240, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.509, + "Actual Total Time": 5.205, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.534, + "Actual Total Time": 5.441, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.221, + "Actual Total Time": 1.887, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.528, + "Actual Total Time": 5.406, + "Actual Rows": 2315, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.23, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.059, + "Actual Rows": 2, + "Actual Loops": 7, + "Output": ["lt.id", "lt.link"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.033, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.076, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.071, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.092, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.034, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.084, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Bitmap Heap Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 18.12, + "Total Cost": 204.56, + "Plan Rows": 1875, + "Plan Width": 8, + "Actual Startup Time": 0.310, + "Actual Total Time": 1.375, + "Actual Rows": 1158, + "Actual Loops": 14, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Recheck Cond": "(ml.link_type_id = lt.id)", + "Rows Removed by Index Recheck": 0, + "Exact Heap Blocks": 191, + "Lossy Heap Blocks": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.139, + "Actual Total Time": 0.642, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.435, + "Actual Total Time": 1.864, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.427, + "Actual Total Time": 1.842, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.431, + "Actual Total Time": 1.960, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.157, + "Actual Total Time": 0.679, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.438, + "Actual Total Time": 1.940, + "Actual Rows": 1158, + "Actual Loops": 2 + } + ], + "Plans": [ + { + "Node Type": "Bitmap Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Index Name": "link_type_id_movie_link", + "Startup Cost": 0.00, + "Total Cost": 17.65, + "Plan Rows": 1875, + "Plan Width": 0, + "Actual Startup Time": 0.252, + "Actual Total Time": 0.253, + "Actual Rows": 1158, + "Actual Loops": 14, + "Index Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.112, + "Actual Total Time": 0.112, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.357, + "Actual Total Time": 0.357, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.350, + "Actual Total Time": 0.350, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.349, + "Actual Total Time": 0.349, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.127, + "Actual Total Time": 0.127, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.356, + "Actual Total Time": 0.356, + "Actual Rows": 1158, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 7, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.006, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = ANY ('{cast,crew}'::text[]))", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 7, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.072, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text = 'complete'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.80, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 189, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year = 1998)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 94 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 36 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.71, + "Plan Rows": 2, + "Plan Width": 12, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.012, + "Actual Rows": 5, + "Actual Loops": 38, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.012, + "Actual Rows": 5, + "Actual Loops": 38 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 190, + "Output": ["ct.id", "ct.kind"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 190 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 190, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 190 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 95, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Germany,Swedish,German}'::text[]))", + "Rows Removed by Filter": 10, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 95 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.99, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.010, + "Actual Rows": 8, + "Actual Loops": 247, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.010, + "Actual Rows": 8, + "Actual Loops": 247 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 1919, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 1919 + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2103229838344518222, + "Planning Time": 235.379, + "Triggers": [ + ], + "Execution Time": 37.952, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 2103229838344518222, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS complete_western_sequel
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE 'complete%'
  AND cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'English')
  AND t.production_year BETWEEN 1950 AND 2010
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND t.id = cc.movie_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id
  AND ml.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = cc.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 528.21, + "Total Cost": 528.22, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 122.577, + "Actual Total Time": 124.669, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 320.83, + "Total Cost": 528.20, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 86.217, + "Actual Total Time": 124.013, + "Actual Rows": 743, + "Actual Loops": 1, + "Output": ["cn.name", "lt.link", "t.title"], + "Workers Planned": 6, + "Workers Launched": 6, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 319.83, + "Total Cost": 527.20, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 12.999, + "Actual Total Time": 28.243, + "Actual Rows": 106, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.208, + "Actual Total Time": 112.821, + "Actual Rows": 743, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.295, + "Actual Total Time": 16.311, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.186, + "Actual Total Time": 12.201, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.650, + "Actual Total Time": 10.661, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.110, + "Actual Total Time": 14.124, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.422, + "Actual Total Time": 14.442, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 319.41, + "Total Cost": 473.90, + "Plan Rows": 121, + "Plan Width": 52, + "Actual Startup Time": 11.443, + "Actual Total Time": 17.652, + "Actual Rows": 1660, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "t.title", "mk.keyword_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.130, + "Actual Total Time": 39.964, + "Actual Rows": 11514, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.294, + "Actual Total Time": 16.309, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.185, + "Actual Total Time": 12.199, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.649, + "Actual Total Time": 10.659, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.108, + "Actual Total Time": 14.121, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.420, + "Actual Total Time": 14.439, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 318.98, + "Total Cost": 468.49, + "Plan Rows": 4, + "Plan Width": 68, + "Actual Startup Time": 11.351, + "Actual Total Time": 15.019, + "Actual Rows": 164, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "t.title", "t.id", "mc.movie_id", "mi.movie_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.085, + "Actual Total Time": 22.952, + "Actual Rows": 1140, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.294, + "Actual Total Time": 16.307, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.184, + "Actual Total Time": 12.197, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.648, + "Actual Total Time": 10.658, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.108, + "Actual Total Time": 14.120, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.419, + "Actual Total Time": 14.437, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 318.52, + "Total Cost": 466.35, + "Plan Rows": 2, + "Plan Width": 64, + "Actual Startup Time": 11.335, + "Actual Total Time": 13.796, + "Actual Rows": 40, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "t.title", "t.id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.016, + "Actual Total Time": 14.962, + "Actual Rows": 267, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.293, + "Actual Total Time": 16.306, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.183, + "Actual Total Time": 12.196, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.647, + "Actual Total Time": 10.657, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.107, + "Actual Total Time": 14.118, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.418, + "Actual Total Time": 14.435, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 318.10, + "Total Cost": 461.87, + "Plan Rows": 10, + "Plan Width": 49, + "Actual Startup Time": 8.923, + "Actual Total Time": 12.585, + "Actual Rows": 109, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.904, + "Actual Total Time": 10.207, + "Actual Rows": 618, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.069, + "Actual Total Time": 15.053, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.183, + "Actual Total Time": 12.194, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.091, + "Actual Total Time": 10.198, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.618, + "Actual Total Time": 13.542, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.594, + "Actual Total Time": 14.063, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 317.06, + "Total Cost": 460.61, + "Plan Rows": 41, + "Plan Width": 53, + "Actual Startup Time": 8.251, + "Actual Total Time": 11.805, + "Actual Rows": 123, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.501, + "Actual Total Time": 9.317, + "Actual Rows": 671, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.270, + "Actual Total Time": 14.133, + "Actual Rows": 64, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.374, + "Actual Total Time": 11.383, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.489, + "Actual Total Time": 9.564, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.783, + "Actual Total Time": 12.676, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.702, + "Actual Total Time": 13.163, + "Actual Rows": 15, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 316.63, + "Total Cost": 450.35, + "Plan Rows": 19, + "Plan Width": 41, + "Actual Startup Time": 8.128, + "Actual Total Time": 10.869, + "Actual Rows": 33, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.182, + "Actual Total Time": 7.075, + "Actual Rows": 112, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.166, + "Actual Total Time": 12.729, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.373, + "Actual Total Time": 11.382, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.405, + "Actual Total Time": 9.043, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.606, + "Actual Total Time": 11.846, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.571, + "Actual Total Time": 12.631, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 316.20, + "Total Cost": 429.98, + "Plan Rows": 25, + "Plan Width": 20, + "Actual Startup Time": 8.022, + "Actual Total Time": 10.174, + "Actual Rows": 33, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.071, + "Actual Total Time": 5.855, + "Actual Rows": 112, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.064, + "Actual Total Time": 11.395, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.372, + "Actual Total Time": 11.380, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.312, + "Actual Total Time": 8.598, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.387, + "Actual Total Time": 11.148, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.390, + "Actual Total Time": 12.166, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 315.16, + "Total Cost": 428.40, + "Plan Rows": 100, + "Plan Width": 24, + "Actual Startup Time": 8.007, + "Actual Total Time": 10.126, + "Actual Rows": 33, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.063, + "Actual Total Time": 5.774, + "Actual Rows": 112, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.050, + "Actual Total Time": 11.318, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.365, + "Actual Total Time": 11.371, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.301, + "Actual Total Time": 8.564, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.373, + "Actual Total Time": 11.106, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.375, + "Actual Total Time": 12.138, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Merge Join", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 314.12, + "Total Cost": 425.19, + "Plan Rows": 401, + "Plan Width": 28, + "Actual Startup Time": 7.976, + "Actual Total Time": 10.047, + "Actual Rows": 37, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Merge Cond": "(cc.movie_id = ml.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.043, + "Actual Total Time": 5.649, + "Actual Rows": 135, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.014, + "Actual Total Time": 11.200, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.346, + "Actual Total Time": 11.350, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.270, + "Actual Total Time": 8.494, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.333, + "Actual Total Time": 11.028, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.338, + "Actual Total Time": 12.078, + "Actual Rows": 9, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 2187.57, + "Plan Rows": 22514, + "Plan Width": 12, + "Actual Startup Time": 0.075, + "Actual Total Time": 1.608, + "Actual Rows": 857, + "Actual Loops": 7, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.984, + "Actual Rows": 675, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.089, + "Actual Total Time": 1.068, + "Actual Rows": 314, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.087, + "Actual Total Time": 1.069, + "Actual Rows": 316, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.809, + "Actual Rows": 330, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.084, + "Actual Total Time": 0.750, + "Actual Rows": 268, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.125, + "Actual Total Time": 1.459, + "Actual Rows": 386, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Sort", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 313.68, + "Total Cost": 317.85, + "Plan Rows": 1666, + "Plan Width": 16, + "Actual Startup Time": 6.787, + "Actual Total Time": 7.248, + "Actual Rows": 2319, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id"], + "Sort Key": ["ml.movie_id"], + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.854, + "Actual Total Time": 4.079, + "Actual Rows": 2335, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.225, + "Actual Total Time": 8.794, + "Actual Rows": 2316, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.469, + "Actual Total Time": 9.021, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.376, + "Actual Total Time": 6.750, + "Actual Rows": 2316, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.451, + "Actual Total Time": 9.017, + "Actual Rows": 2316, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.432, + "Actual Total Time": 9.098, + "Actual Rows": 2317, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 18.12, + "Total Cost": 224.53, + "Plan Rows": 1666, + "Plan Width": 16, + "Actual Startup Time": 0.428, + "Actual Total Time": 4.371, + "Actual Rows": 2315, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.247, + "Actual Total Time": 2.540, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.527, + "Actual Total Time": 5.229, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.547, + "Actual Total Time": 5.380, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.410, + "Actual Total Time": 4.185, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.542, + "Actual Total Time": 5.440, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.534, + "Actual Total Time": 5.377, + "Actual Rows": 2315, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.23, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.063, + "Actual Rows": 2, + "Actual Loops": 7, + "Output": ["lt.id", "lt.link"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.043, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.072, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.077, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.065, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.089, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.065, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Bitmap Heap Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 18.12, + "Total Cost": 204.56, + "Plan Rows": 1875, + "Plan Width": 8, + "Actual Startup Time": 0.358, + "Actual Total Time": 1.582, + "Actual Rows": 1158, + "Actual Loops": 14, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Recheck Cond": "(ml.link_type_id = lt.id)", + "Rows Removed by Index Recheck": 0, + "Exact Heap Blocks": 191, + "Lossy Heap Blocks": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.193, + "Actual Total Time": 0.944, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.440, + "Actual Total Time": 1.873, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.454, + "Actual Total Time": 1.921, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.330, + "Actual Total Time": 1.526, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.446, + "Actual Total Time": 1.969, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.460, + "Actual Total Time": 1.936, + "Actual Rows": 1158, + "Actual Loops": 2 + } + ], + "Plans": [ + { + "Node Type": "Bitmap Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Index Name": "link_type_id_movie_link", + "Startup Cost": 0.00, + "Total Cost": 17.65, + "Plan Rows": 1875, + "Plan Width": 0, + "Actual Startup Time": 0.292, + "Actual Total Time": 0.292, + "Actual Rows": 1158, + "Actual Loops": 14, + "Index Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.156, + "Actual Total Time": 0.156, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.364, + "Actual Total Time": 0.364, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.371, + "Actual Total Time": 0.372, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.265, + "Actual Total Time": 0.266, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.362, + "Actual Total Time": 0.362, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.376, + "Actual Total Time": 0.376, + "Actual Rows": 1158, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 7, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 7, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text ~~ 'complete%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.80, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 228, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 112 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 41 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 19 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 16 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.061, + "Actual Rows": 1, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 2, + "Plan Width": 12, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.026, + "Actual Rows": 4, + "Actual Loops": 228, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 3, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.017, + "Actual Rows": 6, + "Actual Loops": 112 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.031, + "Actual Rows": 2, + "Actual Loops": 41 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 19 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 16 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.070, + "Actual Rows": 2, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 7, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 763, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 618 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 46 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 23 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 13 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.46, + "Total Cost": 1.06, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.029, + "Actual Rows": 4, + "Actual Loops": 277, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,English}'::text[]))", + "Rows Removed by Filter": 21, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.028, + "Actual Rows": 4, + "Actual Loops": 267 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.012, + "Actual Rows": 10, + "Actual Loops": 1150, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.011, + "Actual Rows": 10, + "Actual Loops": 1140 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 11620, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 11514 + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1723239386245354632, + "Planning Time": 259.927, + "Triggers": [ + ], + "Execution Time": 125.257, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -1723239386245354632, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_euro_dark_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'crew'
  AND cct2.kind != 'complete+verified'
  AND cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1406.65, + "Total Cost": 1406.66, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 429.025, + "Actual Total Time": 455.466, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1406.58, + "Total Cost": 1406.59, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 244.334, + "Actual Total Time": 455.433, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1405.58, + "Total Cost": 1405.59, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 123.976, + "Actual Total Time": 123.988, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.723, + "Actual Total Time": 16.740, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 243.707, + "Actual Total Time": 243.714, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.850, + "Actual Total Time": 17.866, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.014, + "Actual Total Time": 19.026, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 414.960, + "Actual Total Time": 414.966, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.949, + "Actual Total Time": 19.962, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.511, + "Actual Total Time": 16.521, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.73, + "Total Cost": 1405.58, + "Plan Rows": 1, + "Plan Width": 42, + "Actual Startup Time": 14.604, + "Actual Total Time": 123.530, + "Actual Rows": 600, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.715, + "Actual Total Time": 16.730, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.142, + "Actual Total Time": 242.490, + "Actual Rows": 1637, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.843, + "Actual Total Time": 17.858, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.009, + "Actual Total Time": 19.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.841, + "Actual Total Time": 413.442, + "Actual Rows": 2037, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.943, + "Actual Total Time": 19.954, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.507, + "Actual Total Time": 16.517, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.31, + "Total Cost": 1405.11, + "Plan Rows": 1, + "Plan Width": 27, + "Actual Startup Time": 14.586, + "Actual Total Time": 117.500, + "Actual Rows": 619, + "Actual Loops": 8, + "Output": ["t.title", "mi_idx.info", "mc.company_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.714, + "Actual Total Time": 16.728, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.085, + "Actual Total Time": 226.527, + "Actual Rows": 1685, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.842, + "Actual Total Time": 17.855, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.008, + "Actual Total Time": 19.018, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.797, + "Actual Total Time": 393.790, + "Actual Rows": 2102, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.942, + "Actual Total Time": 19.952, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.505, + "Actual Total Time": 16.515, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.18, + "Total Cost": 1404.95, + "Plan Rows": 1, + "Plan Width": 31, + "Actual Startup Time": 14.570, + "Actual Total Time": 115.668, + "Actual Rows": 619, + "Actual Loops": 8, + "Output": ["t.title", "mi_idx.info", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.713, + "Actual Total Time": 16.726, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.035, + "Actual Total Time": 221.590, + "Actual Rows": 1685, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.841, + "Actual Total Time": 17.853, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.007, + "Actual Total Time": 19.016, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.745, + "Actual Total Time": 387.555, + "Actual Rows": 2102, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.941, + "Actual Total Time": 19.951, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.505, + "Actual Total Time": 16.514, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.75, + "Total Cost": 1404.41, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 14.540, + "Actual Total Time": 112.689, + "Actual Rows": 54, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "cc.movie_id", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.712, + "Actual Total Time": 16.724, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.950, + "Actual Total Time": 213.479, + "Actual Rows": 147, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.840, + "Actual Total Time": 17.852, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.006, + "Actual Total Time": 19.015, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.653, + "Actual Total Time": 377.745, + "Actual Rows": 200, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.941, + "Actual Total Time": 19.950, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.504, + "Actual Total Time": 16.512, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.61, + "Total Cost": 1404.23, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 14.528, + "Actual Total Time": 111.927, + "Actual Rows": 172, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "cc.movie_id", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.711, + "Actual Total Time": 16.722, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.918, + "Actual Total Time": 211.342, + "Actual Rows": 478, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.839, + "Actual Total Time": 17.850, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.006, + "Actual Total Time": 19.014, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.627, + "Actual Total Time": 374.988, + "Actual Rows": 627, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.940, + "Actual Total Time": 19.949, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.504, + "Actual Total Time": 16.511, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.18, + "Total Cost": 1403.70, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 14.501, + "Actual Total Time": 110.666, + "Actual Rows": 61, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "cc.movie_id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.710, + "Actual Total Time": 16.721, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.815, + "Actual Total Time": 207.939, + "Actual Rows": 171, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.839, + "Actual Total Time": 17.848, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.005, + "Actual Total Time": 19.013, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.569, + "Actual Total Time": 370.454, + "Actual Rows": 224, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.940, + "Actual Total Time": 19.948, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.503, + "Actual Total Time": 16.510, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.04, + "Total Cost": 1403.52, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 14.487, + "Actual Total Time": 110.219, + "Actual Rows": 68, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "cc.movie_id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.709, + "Actual Total Time": 16.719, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.767, + "Actual Total Time": 206.752, + "Actual Rows": 188, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.838, + "Actual Total Time": 17.846, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.005, + "Actual Total Time": 19.011, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.534, + "Actual Total Time": 368.823, + "Actual Rows": 249, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.939, + "Actual Total Time": 19.947, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.502, + "Actual Total Time": 16.508, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.61, + "Total Cost": 1402.37, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 14.280, + "Actual Total Time": 98.658, + "Actual Rows": 69, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "cc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.709, + "Actual Total Time": 16.717, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.259, + "Actual Total Time": 175.604, + "Actual Rows": 182, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.837, + "Actual Total Time": 17.844, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.004, + "Actual Total Time": 19.010, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.449, + "Actual Total Time": 331.810, + "Actual Rows": 259, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.939, + "Actual Total Time": 19.946, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.501, + "Actual Total Time": 16.507, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.48, + "Total Cost": 1402.20, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 12.630, + "Actual Total Time": 97.616, + "Actual Rows": 276, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.707, + "Actual Total Time": 16.715, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.135, + "Actual Total Time": 172.677, + "Actual Rows": 775, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.836, + "Actual Total Time": 17.843, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.003, + "Actual Total Time": 19.009, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.425, + "Actual Total Time": 328.355, + "Actual Rows": 921, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.938, + "Actual Total Time": 19.944, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.500, + "Actual Total Time": 16.505, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.35, + "Total Cost": 1402.04, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 12.610, + "Actual Total Time": 96.015, + "Actual Rows": 400, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.706, + "Actual Total Time": 16.713, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.048, + "Actual Total Time": 168.262, + "Actual Rows": 1108, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.835, + "Actual Total Time": 17.841, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.003, + "Actual Total Time": 19.008, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.383, + "Actual Total Time": 323.055, + "Actual Rows": 1330, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.938, + "Actual Total Time": 19.943, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.500, + "Actual Total Time": 16.504, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 1400.69, + "Plan Rows": 3, + "Plan Width": 25, + "Actual Startup Time": 12.032, + "Actual Total Time": 85.837, + "Actual Rows": 1461, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.705, + "Actual Total Time": 16.711, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.720, + "Actual Total Time": 142.745, + "Actual Rows": 3582, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.834, + "Actual Total Time": 17.839, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.002, + "Actual Total Time": 19.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.480, + "Actual Total Time": 287.456, + "Actual Rows": 5303, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.937, + "Actual Total Time": 19.942, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.498, + "Actual Total Time": 16.501, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1399.58, + "Plan Rows": 11, + "Plan Width": 29, + "Actual Startup Time": 11.519, + "Actual Total Time": 84.071, + "Actual Rows": 1846, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.102, + "Actual Total Time": 16.105, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.282, + "Actual Total Time": 139.209, + "Actual Rows": 4536, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.248, + "Actual Total Time": 17.251, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.699, + "Actual Total Time": 18.701, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.505, + "Actual Total Time": 282.088, + "Actual Rows": 6535, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.624, + "Actual Total Time": 19.627, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.186, + "Actual Total Time": 16.188, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1390.83, + "Plan Rows": 19, + "Plan Width": 4, + "Actual Startup Time": 11.493, + "Actual Total Time": 32.854, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.101, + "Actual Total Time": 16.103, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.219, + "Actual Total Time": 42.780, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.247, + "Actual Total Time": 17.249, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.698, + "Actual Total Time": 18.699, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.413, + "Actual Total Time": 82.556, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.623, + "Actual Total Time": 19.625, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.185, + "Actual Total Time": 16.186, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 11.445, + "Actual Total Time": 11.452, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.100, + "Actual Total Time": 16.101, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.097, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.246, + "Actual Total Time": 17.246, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.697, + "Actual Total Time": 18.697, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.275, + "Actual Total Time": 0.281, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.623, + "Actual Total Time": 19.623, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.184, + "Actual Total Time": 16.184, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.95, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.120, + "Actual Total Time": 53.904, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.128, + "Actual Total Time": 40.513, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.133, + "Actual Total Time": 77.318, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 8337 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.071, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.040, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 11686, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 3582 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 5303 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 3200, + "Output": ["cct2.id", "cct2.kind"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text <> 'complete+verified'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 1108 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 1330 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 2208, + "Output": ["cct1.id", "cct1.kind"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'crew'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 775 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 921 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.083, + "Actual Total Time": 0.167, + "Actual Rows": 1, + "Actual Loops": 549, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 133, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.170, + "Actual Rows": 1, + "Actual Loops": 182 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.141, + "Actual Rows": 1, + "Actual Loops": 259 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 543, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 188 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 249 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 488, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 171 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 224 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1372, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 478 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 627 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.051, + "Actual Rows": 11, + "Actual Loops": 432, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 10, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.051, + "Actual Rows": 11, + "Actual Loops": 147 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.045, + "Actual Rows": 11, + "Actual Loops": 200 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 4955, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 1685 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 2102 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 4955, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1685 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 2102 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1573023350148659030, + "Planning Time": 302.274, + "Triggers": [ + ], + "Execution Time": 456.217, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -1573023350148659030, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_euro_dark_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'crew'
  AND cct2.kind != 'complete+verified'
  AND cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Sweden',
                  'Germany',
                  'Swedish',
                  'German')
  AND mi_idx.info > '6.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1409.30, + "Total Cost": 1409.31, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 1717.302, + "Actual Total Time": 1744.799, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1409.24, + "Total Cost": 1409.25, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 1270.562, + "Actual Total Time": 1744.758, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1408.24, + "Total Cost": 1408.25, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 553.383, + "Actual Total Time": 553.393, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.471, + "Actual Total Time": 31.480, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1297.708, + "Actual Total Time": 1297.715, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.753, + "Actual Total Time": 31.766, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.807, + "Actual Total Time": 31.820, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.766, + "Actual Total Time": 31.774, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1700.506, + "Actual Total Time": 1700.512, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.493, + "Actual Total Time": 32.505, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.81, + "Total Cost": 1408.23, + "Plan Rows": 1, + "Plan Width": 42, + "Actual Startup Time": 149.692, + "Actual Total Time": 553.358, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.465, + "Actual Total Time": 31.473, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.234, + "Actual Total Time": 1297.603, + "Actual Rows": 74, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.746, + "Actual Total Time": 31.757, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.800, + "Actual Total Time": 31.812, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.762, + "Actual Total Time": 31.770, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 985.828, + "Actual Total Time": 1700.442, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.487, + "Actual Total Time": 32.498, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.68, + "Total Cost": 1408.06, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 99.847, + "Actual Total Time": 553.259, + "Actual Rows": 20, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title", "t.kind_id"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.464, + "Actual Total Time": 31.471, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.196, + "Actual Total Time": 1297.237, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.745, + "Actual Total Time": 31.756, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.799, + "Actual Total Time": 31.810, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.761, + "Actual Total Time": 31.768, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 587.129, + "Actual Total Time": 1700.204, + "Actual Rows": 49, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.486, + "Actual Total Time": 32.496, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.25, + "Total Cost": 1407.59, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 37.840, + "Actual Total Time": 552.044, + "Actual Rows": 154, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "mc.movie_id", "cc.movie_id", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.463, + "Actual Total Time": 31.470, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.148, + "Actual Total Time": 1293.896, + "Actual Rows": 421, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.744, + "Actual Total Time": 31.754, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.798, + "Actual Total Time": 31.808, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.760, + "Actual Total Time": 31.767, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 91.159, + "Actual Total Time": 1696.556, + "Actual Rows": 474, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.485, + "Actual Total Time": 32.495, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.11, + "Total Cost": 1407.41, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 37.832, + "Actual Total Time": 551.225, + "Actual Rows": 207, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "mc.movie_id", "cc.movie_id", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.463, + "Actual Total Time": 31.469, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.127, + "Actual Total Time": 1291.726, + "Actual Rows": 543, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.743, + "Actual Total Time": 31.752, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.797, + "Actual Total Time": 31.806, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.760, + "Actual Total Time": 31.766, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 91.136, + "Actual Total Time": 1694.007, + "Actual Rows": 655, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.484, + "Actual Total Time": 32.493, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.68, + "Total Cost": 1406.91, + "Plan Rows": 1, + "Plan Width": 35, + "Actual Startup Time": 32.903, + "Actual Total Time": 549.223, + "Actual Rows": 197, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "mc.movie_id", "cc.movie_id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.462, + "Actual Total Time": 31.467, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.067, + "Actual Total Time": 1286.606, + "Actual Rows": 514, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.742, + "Actual Total Time": 31.750, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.796, + "Actual Total Time": 31.805, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.759, + "Actual Total Time": 31.765, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 51.810, + "Actual Total Time": 1687.688, + "Actual Rows": 625, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.484, + "Actual Total Time": 32.491, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.54, + "Total Cost": 1406.72, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 32.888, + "Actual Total Time": 547.678, + "Actual Rows": 357, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "mc.movie_id", "cc.movie_id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.461, + "Actual Total Time": 31.466, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.018, + "Actual Total Time": 1282.660, + "Actual Rows": 910, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.741, + "Actual Total Time": 31.749, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.795, + "Actual Total Time": 31.803, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.758, + "Actual Total Time": 31.763, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 51.771, + "Actual Total Time": 1683.037, + "Actual Rows": 1097, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.483, + "Actual Total Time": 32.490, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.10, + "Total Cost": 1405.74, + "Plan Rows": 1, + "Plan Width": 31, + "Actual Startup Time": 23.526, + "Actual Total Time": 348.485, + "Actual Rows": 1161, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "mc.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.460, + "Actual Total Time": 31.465, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.108, + "Actual Total Time": 775.900, + "Actual Rows": 2895, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.741, + "Actual Total Time": 31.748, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.794, + "Actual Total Time": 31.802, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.758, + "Actual Total Time": 31.762, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.101, + "Actual Total Time": 1060.699, + "Actual Rows": 3882, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.482, + "Actual Total Time": 32.488, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.97, + "Total Cost": 1405.42, + "Plan Rows": 2, + "Plan Width": 35, + "Actual Startup Time": 22.467, + "Actual Total Time": 335.354, + "Actual Rows": 4002, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "mc.movie_id", "cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.460, + "Actual Total Time": 31.464, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.484, + "Actual Total Time": 740.904, + "Actual Rows": 10641, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.740, + "Actual Total Time": 31.746, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.794, + "Actual Total Time": 31.800, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.757, + "Actual Total Time": 31.761, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.092, + "Actual Total Time": 1020.979, + "Actual Rows": 12220, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.482, + "Actual Total Time": 32.487, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 1405.11, + "Plan Rows": 2, + "Plan Width": 39, + "Actual Startup Time": 22.389, + "Actual Total Time": 306.415, + "Actual Rows": 8694, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "mc.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.459, + "Actual Total Time": 31.463, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.441, + "Actual Total Time": 667.419, + "Actual Rows": 22010, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.739, + "Actual Total Time": 31.745, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.793, + "Actual Total Time": 31.798, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.756, + "Actual Total Time": 31.760, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.544, + "Actual Total Time": 929.890, + "Actual Rows": 27815, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.481, + "Actual Total Time": 32.486, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.42, + "Total Cost": 1403.77, + "Plan Rows": 3, + "Plan Width": 27, + "Actual Startup Time": 20.440, + "Actual Total Time": 239.839, + "Actual Rows": 10003, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.458, + "Actual Total Time": 31.461, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.468, + "Actual Total Time": 494.042, + "Actual Rows": 26385, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.738, + "Actual Total Time": 31.743, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.792, + "Actual Total Time": 31.797, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.755, + "Actual Total Time": 31.758, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.033, + "Actual Total Time": 724.116, + "Actual Rows": 31256, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.480, + "Actual Total Time": 32.484, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.28, + "Total Cost": 1403.37, + "Plan Rows": 3, + "Plan Width": 31, + "Actual Startup Time": 20.417, + "Actual Total Time": 228.634, + "Actual Rows": 10003, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "mc.movie_id", "mc.company_type_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.458, + "Actual Total Time": 31.460, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.416, + "Actual Total Time": 465.028, + "Actual Rows": 26385, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.737, + "Actual Total Time": 31.741, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.791, + "Actual Total Time": 31.794, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.754, + "Actual Total Time": 31.757, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.937, + "Actual Total Time": 689.904, + "Actual Rows": 31256, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.479, + "Actual Total Time": 32.482, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1401.02, + "Plan Rows": 5, + "Plan Width": 16, + "Actual Startup Time": 20.390, + "Actual Total Time": 142.301, + "Actual Rows": 10753, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.457, + "Actual Total Time": 31.459, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.357, + "Actual Total Time": 241.432, + "Actual Rows": 28135, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.736, + "Actual Total Time": 31.739, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.790, + "Actual Total Time": 31.792, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.754, + "Actual Total Time": 31.755, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.823, + "Actual Total Time": 420.041, + "Actual Rows": 33962, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.478, + "Actual Total Time": 32.479, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1390.83, + "Plan Rows": 19, + "Plan Width": 4, + "Actual Startup Time": 20.328, + "Actual Total Time": 36.529, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.456, + "Actual Total Time": 31.457, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.186, + "Actual Total Time": 33.140, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.736, + "Actual Total Time": 31.738, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.789, + "Actual Total Time": 31.790, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.753, + "Actual Total Time": 31.754, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.598, + "Actual Total Time": 59.456, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.477, + "Actual Total Time": 32.478, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 20.278, + "Actual Total Time": 20.286, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.455, + "Actual Total Time": 31.456, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.090, + "Actual Total Time": 0.100, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.734, + "Actual Total Time": 31.735, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.788, + "Actual Total Time": 31.788, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.752, + "Actual Total Time": 31.753, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.398, + "Actual Total Time": 0.403, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.476, + "Actual Total Time": 32.476, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.95, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.123, + "Actual Total Time": 39.971, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.094, + "Actual Total Time": 30.719, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.192, + "Actual Total Time": 54.033, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.022, + "Actual Rows": 2, + "Actual Loops": 37091, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 7, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.024, + "Actual Rows": 3, + "Actual Loops": 8337 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.018, + "Actual Rows": 2, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 86022, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 28135 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 33962 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 80023, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 22380, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 26385, + "Cache Hits": 26383, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 31256, + "Cache Hits": 31254, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 80023, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 26385 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 31256 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 69548, + "Output": ["cct2.id", "cct2.kind"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text <> 'complete+verified'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 22010 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 27815 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 32016, + "Output": ["cct1.id", "cct1.kind"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'crew'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 10641 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 12220 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.146, + "Actual Total Time": 0.171, + "Actual Rows": 0, + "Actual Loops": 9291, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Germany,Swedish,German}'::text[]))", + "Rows Removed by Filter": 223, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.152, + "Actual Total Time": 0.174, + "Actual Rows": 0, + "Actual Loops": 2895 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.135, + "Actual Total Time": 0.160, + "Actual Rows": 0, + "Actual Loops": 3882 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 2853, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 910 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 1097 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1574, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '6.5'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 514 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 625 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 1655, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 543 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 655 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 1233, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 421 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 474 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 161, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 78 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 49 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -3210595597316270705, + "Planning Time": 288.119, + "Triggers": [ + ], + "Execution Time": 1745.511, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -3210595597316270705, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_euro_dark_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind = 'complete'
  AND cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1406.27, + "Total Cost": 1406.28, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 743.746, + "Actual Total Time": 771.723, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1406.21, + "Total Cost": 1406.22, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 492.412, + "Actual Total Time": 771.688, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1405.21, + "Total Cost": 1405.22, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 240.360, + "Actual Total Time": 240.371, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.216, + "Actual Total Time": 22.225, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 590.974, + "Actual Total Time": 590.980, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 727.139, + "Actual Total Time": 727.145, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.788, + "Actual Total Time": 23.804, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.831, + "Actual Total Time": 23.840, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.337, + "Actual Total Time": 21.347, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.218, + "Actual Total Time": 22.229, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.74, + "Total Cost": 1405.20, + "Plan Rows": 1, + "Plan Width": 42, + "Actual Startup Time": 22.797, + "Actual Total Time": 239.594, + "Actual Rows": 1047, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.210, + "Actual Total Time": 22.218, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 35.340, + "Actual Total Time": 588.756, + "Actual Rows": 2983, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.901, + "Actual Total Time": 725.047, + "Actual Rows": 2848, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.779, + "Actual Total Time": 23.793, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.825, + "Actual Total Time": 23.833, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.332, + "Actual Total Time": 21.342, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.212, + "Actual Total Time": 22.223, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.61, + "Total Cost": 1405.03, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 22.791, + "Actual Total Time": 233.829, + "Actual Rows": 1891, + "Actual Loops": 8, + "Output": ["cn.name", "t.title", "mi_idx.info", "cc.status_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.210, + "Actual Total Time": 22.217, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 35.323, + "Actual Total Time": 572.493, + "Actual Rows": 5376, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.891, + "Actual Total Time": 709.121, + "Actual Rows": 5281, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.778, + "Actual Total Time": 23.792, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.824, + "Actual Total Time": 23.832, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.332, + "Actual Total Time": 21.340, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.212, + "Actual Total Time": 22.222, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.48, + "Total Cost": 1404.86, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 22.776, + "Actual Total Time": 226.723, + "Actual Rows": 2090, + "Actual Loops": 8, + "Output": ["cn.name", "t.title", "mi_idx.info", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.209, + "Actual Total Time": 22.216, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 35.269, + "Actual Total Time": 552.323, + "Actual Rows": 5955, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.850, + "Actual Total Time": 689.053, + "Actual Rows": 5920, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.777, + "Actual Total Time": 23.790, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.823, + "Actual Total Time": 23.831, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.331, + "Actual Total Time": 21.339, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.212, + "Actual Total Time": 22.221, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.06, + "Total Cost": 1404.41, + "Plan Rows": 1, + "Plan Width": 62, + "Actual Startup Time": 17.112, + "Actual Total Time": 209.525, + "Actual Rows": 2686, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "mi.movie_id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.208, + "Actual Total Time": 22.215, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.765, + "Actual Total Time": 502.795, + "Actual Rows": 7787, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.080, + "Actual Total Time": 640.192, + "Actual Rows": 7733, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.776, + "Actual Total Time": 23.788, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.822, + "Actual Total Time": 23.829, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.331, + "Actual Total Time": 21.338, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.211, + "Actual Total Time": 22.220, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.93, + "Total Cost": 1404.26, + "Plan Rows": 1, + "Plan Width": 66, + "Actual Startup Time": 17.092, + "Actual Total Time": 202.488, + "Actual Rows": 2686, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "mi.movie_id", "mc.movie_id", "mc.company_type_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.208, + "Actual Total Time": 22.214, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.691, + "Actual Total Time": 482.401, + "Actual Rows": 7787, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.017, + "Actual Total Time": 620.076, + "Actual Rows": 7733, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.775, + "Actual Total Time": 23.786, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.822, + "Actual Total Time": 23.828, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.330, + "Actual Total Time": 21.337, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.211, + "Actual Total Time": 22.219, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.51, + "Total Cost": 1403.79, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 17.071, + "Actual Total Time": 178.721, + "Actual Rows": 2902, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "mi.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.207, + "Actual Total Time": 22.213, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.629, + "Actual Total Time": 414.167, + "Actual Rows": 8392, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.949, + "Actual Total Time": 552.240, + "Actual Rows": 8399, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.774, + "Actual Total Time": 23.784, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.821, + "Actual Total Time": 23.827, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.329, + "Actual Total Time": 21.336, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.210, + "Actual Total Time": 22.218, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.08, + "Total Cost": 1403.25, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 14.959, + "Actual Total Time": 162.785, + "Actual Rows": 514, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.207, + "Actual Total Time": 22.212, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.760, + "Actual Total Time": 368.779, + "Actual Rows": 1382, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.207, + "Actual Total Time": 502.667, + "Actual Rows": 1772, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.773, + "Actual Total Time": 23.782, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.820, + "Actual Total Time": 23.825, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.329, + "Actual Total Time": 21.335, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.210, + "Actual Total Time": 22.217, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.94, + "Total Cost": 1403.06, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 14.950, + "Actual Total Time": 159.991, + "Actual Rows": 589, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.206, + "Actual Total Time": 22.210, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.745, + "Actual Total Time": 361.051, + "Actual Rows": 1574, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.177, + "Actual Total Time": 493.461, + "Actual Rows": 2007, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.772, + "Actual Total Time": 23.780, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.819, + "Actual Total Time": 23.824, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.328, + "Actual Total Time": 21.333, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.209, + "Actual Total Time": 22.216, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.51, + "Total Cost": 1401.91, + "Plan Rows": 1, + "Plan Width": 35, + "Actual Startup Time": 14.893, + "Actual Total Time": 92.393, + "Actual Rows": 744, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.205, + "Actual Total Time": 22.209, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.592, + "Actual Total Time": 169.083, + "Actual Rows": 1969, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.963, + "Actual Total Time": 291.427, + "Actual Rows": 2608, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.771, + "Actual Total Time": 23.778, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.818, + "Actual Total Time": 23.822, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.327, + "Actual Total Time": 21.332, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.209, + "Actual Total Time": 22.215, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.35, + "Total Cost": 1401.73, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 14.859, + "Actual Total Time": 90.143, + "Actual Rows": 2236, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.204, + "Actual Total Time": 22.207, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.523, + "Actual Total Time": 162.767, + "Actual Rows": 5901, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.822, + "Actual Total Time": 283.905, + "Actual Rows": 7869, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.770, + "Actual Total Time": 23.776, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.818, + "Actual Total Time": 23.821, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.326, + "Actual Total Time": 21.330, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.208, + "Actual Total Time": 22.213, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 1400.67, + "Plan Rows": 2, + "Plan Width": 25, + "Actual Startup Time": 14.821, + "Actual Total Time": 75.515, + "Actual Rows": 1009, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.203, + "Actual Total Time": 22.206, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.440, + "Actual Total Time": 123.286, + "Actual Rows": 2502, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.680, + "Actual Total Time": 236.991, + "Actual Rows": 3653, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.769, + "Actual Total Time": 23.774, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.817, + "Actual Total Time": 23.819, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.325, + "Actual Total Time": 21.328, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.207, + "Actual Total Time": 22.211, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1399.58, + "Plan Rows": 8, + "Plan Width": 29, + "Actual Startup Time": 14.587, + "Actual Total Time": 74.268, + "Actual Rows": 1217, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.086, + "Actual Total Time": 22.088, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.244, + "Actual Total Time": 120.314, + "Actual Rows": 3009, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.977, + "Actual Total Time": 233.116, + "Actual Rows": 4326, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.640, + "Actual Total Time": 23.643, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.672, + "Actual Total Time": 23.673, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.202, + "Actual Total Time": 21.203, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.146, + "Actual Total Time": 22.147, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1390.83, + "Plan Rows": 19, + "Plan Width": 4, + "Actual Startup Time": 14.548, + "Actual Total Time": 28.962, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.086, + "Actual Total Time": 22.086, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.183, + "Actual Total Time": 32.958, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.774, + "Actual Total Time": 51.887, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.639, + "Actual Total Time": 23.641, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.671, + "Actual Total Time": 23.672, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.201, + "Actual Total Time": 21.202, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.145, + "Actual Total Time": 22.146, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 14.500, + "Actual Total Time": 14.506, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.085, + "Actual Total Time": 22.085, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.095, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.575, + "Actual Total Time": 0.580, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.638, + "Actual Total Time": 23.638, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.670, + "Actual Total Time": 23.670, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.200, + "Actual Total Time": 21.201, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.144, + "Actual Total Time": 22.145, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.95, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.122, + "Actual Total Time": 35.590, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.095, + "Actual Total Time": 30.744, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.192, + "Actual Total Time": 46.811, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.074, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.030, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 2, + "Actual Loops": 8073, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 2502 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 3653 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 17891, + "Output": ["it2.id"], + "Cache Key": "mi_idx.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 4117, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5901, + "Cache Hits": 5896, + "Cache Misses": 5, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 7869, + "Cache Hits": 7865, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 13, + "Output": ["it2.id"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 4 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.090, + "Actual Rows": 1, + "Actual Loops": 5949, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 71, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.097, + "Actual Rows": 1, + "Actual Loops": 1969 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.077, + "Actual Rows": 1, + "Actual Loops": 2608 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 4709, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1574 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 2007 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.028, + "Actual Rows": 6, + "Actual Loops": 4115, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 10, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.030, + "Actual Rows": 6, + "Actual Loops": 1382 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.026, + "Actual Rows": 5, + "Actual Loops": 1772 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 23216, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 8392 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 8399 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 21489, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 7787 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 7733 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 21489, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 7787 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 7733 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 16719, + "Output": ["cct1.id", "cct1.kind"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 5955 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 5920 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 15126, + "Output": ["cct2.id", "cct2.kind"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 5376 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 5281 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5372730239182956237, + "Planning Time": 288.438, + "Triggers": [ + ], + "Execution Time": 772.434, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 5372730239182956237, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS voiced_animation
FROM aka_name AS an,
     complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     info_type AS it3,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     person_info AS pi,
     role_type AS rt,
     title AS t
WHERE cct1.kind ='cast'
  AND cct2.kind ='complete+verified'
  AND chn.name = 'Queen'
  AND ci.note IN ('(voice)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND it3.info = 'trivia'
  AND k.keyword = 'computer-animation'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%200%'
       OR mi.info LIKE 'USA:%200%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.title = 'Shrek 2'
  AND t.production_year BETWEEN 2000 AND 2010
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND n.id = pi.person_id
  AND ci.person_id = pi.person_id
  AND it3.id = pi.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1355.05, + "Total Cost": 1355.06, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 98.634, + "Actual Total Time": 98.845, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1354.99, + "Total Cost": 1355.00, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 98.613, + "Actual Total Time": 98.834, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1353.99, + "Total Cost": 1354.00, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 21.981, + "Actual Total Time": 21.994, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.761, + "Actual Total Time": 9.775, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.526, + "Actual Total Time": 8.541, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.565, + "Actual Total Time": 10.579, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.359, + "Actual Total Time": 10.373, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.892, + "Actual Total Time": 17.902, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.596, + "Actual Total Time": 10.609, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.836, + "Actual Total Time": 10.849, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.40, + "Total Cost": 1353.98, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 11.804, + "Actual Total Time": 21.828, + "Actual Rows": 202, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.755, + "Actual Total Time": 9.768, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.518, + "Actual Total Time": 8.531, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.559, + "Actual Total Time": 10.573, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.351, + "Actual Total Time": 10.363, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.886, + "Actual Total Time": 17.895, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.589, + "Actual Total Time": 10.602, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.828, + "Actual Total Time": 10.840, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.98, + "Total Cost": 1353.54, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 11.799, + "Actual Total Time": 15.335, + "Actual Rows": 891, + "Actual Loops": 8, + "Output": ["n.name", "t.title", "chn.name", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.754, + "Actual Total Time": 9.766, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.517, + "Actual Total Time": 8.529, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.558, + "Actual Total Time": 10.571, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.350, + "Actual Total Time": 10.362, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.886, + "Actual Total Time": 17.894, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.588, + "Actual Total Time": 10.600, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.827, + "Actual Total Time": 10.838, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.55, + "Total Cost": 1352.98, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 11.793, + "Actual Total Time": 14.155, + "Actual Rows": 40, + "Actual Loops": 8, + "Output": ["n.name", "mk.movie_id", "t.title", "t.id", "mi.movie_id", "cc.movie_id", "ci.movie_id", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.753, + "Actual Total Time": 9.764, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.516, + "Actual Total Time": 8.528, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.557, + "Actual Total Time": 10.570, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.349, + "Actual Total Time": 10.360, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.885, + "Actual Total Time": 17.893, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.587, + "Actual Total Time": 10.598, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.825, + "Actual Total Time": 10.837, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.42, + "Total Cost": 1352.81, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 11.788, + "Actual Total Time": 13.992, + "Actual Rows": 40, + "Actual Loops": 8, + "Output": ["n.name", "mk.movie_id", "t.title", "t.id", "mi.movie_id", "cc.movie_id", "ci.movie_id", "ci.role_id", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.752, + "Actual Total Time": 9.763, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.515, + "Actual Total Time": 8.526, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.556, + "Actual Total Time": 10.568, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.348, + "Actual Total Time": 10.359, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.885, + "Actual Total Time": 17.892, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.586, + "Actual Total Time": 10.597, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.825, + "Actual Total Time": 10.835, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.28, + "Total Cost": 1352.63, + "Plan Rows": 1, + "Plan Width": 76, + "Actual Startup Time": 11.660, + "Actual Total Time": 13.520, + "Actual Rows": 122, + "Actual Loops": 8, + "Output": ["n.name", "mk.movie_id", "t.title", "t.id", "mi.movie_id", "cc.movie_id", "ci.movie_id", "ci.role_id", "pi.info_type_id", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.752, + "Actual Total Time": 9.762, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.515, + "Actual Total Time": 8.525, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.555, + "Actual Total Time": 10.566, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.348, + "Actual Total Time": 10.357, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.884, + "Actual Total Time": 17.891, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.586, + "Actual Total Time": 10.596, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.824, + "Actual Total Time": 10.834, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.85, + "Total Cost": 1352.03, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 11.653, + "Actual Total Time": 12.593, + "Actual Rows": 122, + "Actual Loops": 8, + "Output": ["n.name", "mk.movie_id", "t.title", "t.id", "mi.movie_id", "cc.movie_id", "ci.movie_id", "ci.role_id", "ci.person_role_id", "pi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(n.id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.750, + "Actual Total Time": 9.760, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.514, + "Actual Total Time": 8.523, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.554, + "Actual Total Time": 10.564, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.347, + "Actual Total Time": 10.355, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.884, + "Actual Total Time": 17.890, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.584, + "Actual Total Time": 10.594, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.823, + "Actual Total Time": 10.832, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.42, + "Total Cost": 1351.17, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 11.526, + "Actual Total Time": 12.293, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["n.name", "n.id", "mk.movie_id", "t.title", "t.id", "mi.movie_id", "cc.movie_id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "an.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.750, + "Actual Total Time": 9.758, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.513, + "Actual Total Time": 8.522, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.554, + "Actual Total Time": 10.562, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.346, + "Actual Total Time": 10.354, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.883, + "Actual Total Time": 17.889, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.584, + "Actual Total Time": 10.592, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.823, + "Actual Total Time": 10.831, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.27, + "Total Cost": 1350.99, + "Plan Rows": 1, + "Plan Width": 76, + "Actual Startup Time": 11.522, + "Actual Total Time": 12.285, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["n.name", "n.id", "mk.movie_id", "t.title", "t.id", "mi.movie_id", "mi.info_type_id", "cc.movie_id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "an.person_id"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.749, + "Actual Total Time": 9.757, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.512, + "Actual Total Time": 8.520, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.553, + "Actual Total Time": 10.561, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.345, + "Actual Total Time": 10.352, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.883, + "Actual Total Time": 17.888, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.583, + "Actual Total Time": 10.591, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.822, + "Actual Total Time": 10.829, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.85, + "Total Cost": 1350.50, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 11.515, + "Actual Total Time": 12.273, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["n.name", "n.id", "mk.movie_id", "t.title", "t.id", "mi.movie_id", "mi.info_type_id", "cc.movie_id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.748, + "Actual Total Time": 9.755, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.512, + "Actual Total Time": 8.518, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.552, + "Actual Total Time": 10.559, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.344, + "Actual Total Time": 10.351, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.882, + "Actual Total Time": 17.887, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.582, + "Actual Total Time": 10.589, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.821, + "Actual Total Time": 10.828, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.42, + "Total Cost": 1349.95, + "Plan Rows": 1, + "Plan Width": 53, + "Actual Startup Time": 11.398, + "Actual Total Time": 12.096, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "mi.movie_id", "mi.info_type_id", "cc.movie_id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.747, + "Actual Total Time": 9.753, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.511, + "Actual Total Time": 8.517, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.551, + "Actual Total Time": 10.558, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.343, + "Actual Total Time": 10.349, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.882, + "Actual Total Time": 17.886, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.581, + "Actual Total Time": 10.587, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.820, + "Actual Total Time": 10.826, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.98, + "Total Cost": 1348.68, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 11.391, + "Actual Total Time": 11.842, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "mi.movie_id", "mi.info_type_id", "cc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.746, + "Actual Total Time": 9.751, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.510, + "Actual Total Time": 8.515, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.550, + "Actual Total Time": 10.556, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.342, + "Actual Total Time": 10.347, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.881, + "Actual Total Time": 17.885, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.580, + "Actual Total Time": 10.585, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.819, + "Actual Total Time": 10.825, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.85, + "Total Cost": 1348.51, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 11.389, + "Actual Total Time": 11.838, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "mi.movie_id", "mi.info_type_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.745, + "Actual Total Time": 9.750, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.509, + "Actual Total Time": 8.513, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.549, + "Actual Total Time": 10.554, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.342, + "Actual Total Time": 10.346, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.880, + "Actual Total Time": 17.883, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.579, + "Actual Total Time": 10.584, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.819, + "Actual Total Time": 10.823, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 1348.34, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 11.385, + "Actual Total Time": 11.833, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "mi.movie_id", "mi.info_type_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Join Filter": "(t.id = cc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.744, + "Actual Total Time": 9.748, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.508, + "Actual Total Time": 8.512, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.548, + "Actual Total Time": 10.552, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.341, + "Actual Total Time": 10.344, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.880, + "Actual Total Time": 17.882, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.578, + "Actual Total Time": 10.582, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.818, + "Actual Total Time": 10.821, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1347.89, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 11.380, + "Actual Total Time": 11.824, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.743, + "Actual Total Time": 9.746, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.507, + "Actual Total Time": 8.510, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.547, + "Actual Total Time": 10.550, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.340, + "Actual Total Time": 10.343, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.879, + "Actual Total Time": 17.881, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.578, + "Actual Total Time": 10.580, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.817, + "Actual Total Time": 10.819, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1346.91, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 11.361, + "Actual Total Time": 11.763, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.742, + "Actual Total Time": 9.745, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.506, + "Actual Total Time": 8.509, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.546, + "Actual Total Time": 10.548, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.339, + "Actual Total Time": 10.341, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.879, + "Actual Total Time": 17.880, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.577, + "Actual Total Time": 10.579, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.816, + "Actual Total Time": 10.818, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.56, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 9.968, + "Actual Total Time": 10.569, + "Actual Rows": 52, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.742, + "Actual Total Time": 9.743, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.505, + "Actual Total Time": 8.507, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.545, + "Actual Total Time": 10.546, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.338, + "Actual Total Time": 10.339, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.878, + "Actual Total Time": 17.879, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.576, + "Actual Total Time": 10.577, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.815, + "Actual Total Time": 10.817, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 9.809, + "Actual Total Time": 9.813, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'computer-animation'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.740, + "Actual Total Time": 9.741, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.504, + "Actual Total Time": 8.505, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.544, + "Actual Total Time": 10.544, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.337, + "Actual Total Time": 10.337, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.878, + "Actual Total Time": 17.878, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.575, + "Actual Total Time": 10.575, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.814, + "Actual Total Time": 10.815, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 1.254, + "Actual Total Time": 5.862, + "Actual Rows": 414, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 414, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2010) AND (t.title = 'Shrek 2'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.143, + "Actual Total Time": 0.467, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%200%'::text) OR (mi.info ~~ 'USA:%200%'::text)))", + "Rows Removed by Filter": 455, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["cct1.id", "cct1.kind"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["cct2.id", "cct2.kind"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.26, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.986, + "Actual Rows": 38, + "Actual Loops": 2, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 191, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 76, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.035, + "Actual Rows": 3, + "Actual Loops": 2, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.71, + "Plan Rows": 12, + "Plan Width": 8, + "Actual Startup Time": 0.178, + "Actual Total Time": 0.329, + "Actual Rows": 163, + "Actual Loops": 6, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 978, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(chn.name = 'Queen'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it3", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 978, + "Output": ["it3.id", "it3.info"], + "Index Cond": "(it3.id = pi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it3.info)::text = 'trivia'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 324, + "Output": ["rt.id", "rt.role"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.020, + "Actual Rows": 22, + "Actual Loops": 324, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 7128, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1693774000992751456, + "Planning Time": 326.664, + "Triggers": [ + ], + "Execution Time": 99.465, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 1693774000992751456, + "JOINS": 16 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS voiced_animation
FROM aka_name AS an,
     complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     info_type AS it3,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     person_info AS pi,
     role_type AS rt,
     title AS t
WHERE cct1.kind ='cast'
  AND cct2.kind ='complete+verified'
  AND chn.name = 'Queen'
  AND ci.note IN ('(voice)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND it3.info = 'height'
  AND k.keyword = 'computer-animation'
  AND mi.info LIKE 'USA:%200%'
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.title = 'Shrek 2'
  AND t.production_year BETWEEN 2000 AND 2005
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND n.id = pi.person_id
  AND ci.person_id = pi.person_id
  AND it3.id = pi.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1356.72, + "Total Cost": 1356.73, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 9561.887, + "Actual Total Time": 9562.083, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1356.66, + "Total Cost": 1356.67, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 9561.865, + "Actual Total Time": 9562.074, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1355.66, + "Total Cost": 1355.67, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 1204.649, + "Actual Total Time": 1204.663, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.135, + "Actual Total Time": 9.149, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.738, + "Actual Total Time": 17.749, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.125, + "Actual Total Time": 10.140, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.094, + "Actual Total Time": 10.109, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.186, + "Actual Total Time": 10.201, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.725, + "Actual Total Time": 9.740, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.585, + "Actual Total Time": 9.601, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.42, + "Total Cost": 1355.65, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 712.725, + "Actual Total Time": 1204.650, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Join Filter": "(ci.person_id = n.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.127, + "Actual Total Time": 9.141, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.734, + "Actual Total Time": 17.744, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.119, + "Actual Total Time": 10.133, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.086, + "Actual Total Time": 10.100, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.180, + "Actual Total Time": 10.195, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.717, + "Actual Total Time": 9.731, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.579, + "Actual Total Time": 9.594, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.99, + "Total Cost": 1355.16, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 712.721, + "Actual Total Time": 1204.627, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["an.person_id", "ci.person_id", "t.title", "chn.name", "pi.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.126, + "Actual Total Time": 9.139, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.734, + "Actual Total Time": 17.743, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.118, + "Actual Total Time": 10.131, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.085, + "Actual Total Time": 10.099, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.179, + "Actual Total Time": 10.193, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.716, + "Actual Total Time": 9.729, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.578, + "Actual Total Time": 9.593, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.85, + "Total Cost": 1354.82, + "Plan Rows": 2, + "Plan Width": 49, + "Actual Startup Time": 712.666, + "Actual Total Time": 1203.638, + "Actual Rows": 306, + "Actual Loops": 8, + "Output": ["an.person_id", "ci.person_id", "t.title", "chn.name", "pi.person_id", "pi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.126, + "Actual Total Time": 9.138, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.733, + "Actual Total Time": 17.742, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.118, + "Actual Total Time": 10.130, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.084, + "Actual Total Time": 10.097, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.178, + "Actual Total Time": 10.191, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.716, + "Actual Total Time": 9.728, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.577, + "Actual Total Time": 9.591, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.42, + "Total Cost": 1353.98, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 712.661, + "Actual Total Time": 1203.389, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["an.person_id", "ci.person_id", "t.title", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.125, + "Actual Total Time": 9.137, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.733, + "Actual Total Time": 17.741, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.117, + "Actual Total Time": 10.128, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.083, + "Actual Total Time": 10.095, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.177, + "Actual Total Time": 10.190, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.715, + "Actual Total Time": 9.727, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.577, + "Actual Total Time": 9.589, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.00, + "Total Cost": 1353.54, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 712.658, + "Actual Total Time": 1203.288, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["an.person_id", "mc.company_id", "ci.person_id", "t.title", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.124, + "Actual Total Time": 9.135, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.732, + "Actual Total Time": 17.740, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.116, + "Actual Total Time": 10.127, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.082, + "Actual Total Time": 10.094, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.176, + "Actual Total Time": 10.188, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.714, + "Actual Total Time": 9.725, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.576, + "Actual Total Time": 9.588, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.57, + "Total Cost": 1352.94, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 712.653, + "Actual Total Time": 1202.926, + "Actual Rows": 44, + "Actual Loops": 8, + "Output": ["an.person_id", "mc.company_id", "ci.person_id", "ci.person_role_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.123, + "Actual Total Time": 9.133, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.732, + "Actual Total Time": 17.739, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.115, + "Actual Total Time": 10.125, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.081, + "Actual Total Time": 10.091, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.175, + "Actual Total Time": 10.186, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.713, + "Actual Total Time": 9.723, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.575, + "Actual Total Time": 9.586, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.44, + "Total Cost": 1352.77, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 710.948, + "Actual Total Time": 1202.313, + "Actual Rows": 182, + "Actual Loops": 8, + "Output": ["an.person_id", "mc.company_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.123, + "Actual Total Time": 9.132, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.731, + "Actual Total Time": 17.738, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.114, + "Actual Total Time": 10.123, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.081, + "Actual Total Time": 10.090, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.174, + "Actual Total Time": 10.184, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.713, + "Actual Total Time": 9.722, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.574, + "Actual Total Time": 9.584, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.00, + "Total Cost": 1352.29, + "Plan Rows": 1, + "Plan Width": 40, + "Actual Startup Time": 85.957, + "Actual Total Time": 1158.892, + "Actual Rows": 6527, + "Actual Loops": 8, + "Output": ["an.person_id", "mk.movie_id", "cc.movie_id", "mc.movie_id", "mc.company_id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.122, + "Actual Total Time": 9.131, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.731, + "Actual Total Time": 17.737, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.114, + "Actual Total Time": 10.122, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.080, + "Actual Total Time": 10.089, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.174, + "Actual Total Time": 10.183, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.712, + "Actual Total Time": 9.721, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.574, + "Actual Total Time": 9.582, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.86, + "Total Cost": 1351.94, + "Plan Rows": 2, + "Plan Width": 44, + "Actual Startup Time": 85.953, + "Actual Total Time": 1133.637, + "Actual Rows": 6527, + "Actual Loops": 8, + "Output": ["an.person_id", "mk.movie_id", "cc.movie_id", "mc.movie_id", "mc.company_id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "mi.movie_id", "mi.info_type_id"],+ "Inner Unique": false, + "Join Filter": "(mc.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.121, + "Actual Total Time": 9.129, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.730, + "Actual Total Time": 17.736, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.113, + "Actual Total Time": 10.121, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.079, + "Actual Total Time": 10.087, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.173, + "Actual Total Time": 10.181, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.711, + "Actual Total Time": 9.719, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.572, + "Actual Total Time": 9.580, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.43, + "Total Cost": 1350.08, + "Plan Rows": 2, + "Plan Width": 36, + "Actual Startup Time": 9.746, + "Actual Total Time": 53.229, + "Actual Rows": 4749, + "Actual Loops": 8, + "Output": ["an.person_id", "mk.movie_id", "cc.movie_id", "mc.movie_id", "mc.company_id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.120, + "Actual Total Time": 9.127, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.730, + "Actual Total Time": 17.734, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.112, + "Actual Total Time": 10.119, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.079, + "Actual Total Time": 10.086, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.172, + "Actual Total Time": 10.179, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.711, + "Actual Total Time": 9.718, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.572, + "Actual Total Time": 9.579, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.00, + "Total Cost": 1349.60, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 9.741, + "Actual Total Time": 33.486, + "Actual Rows": 2302, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "mc.movie_id", "mc.company_id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.119, + "Actual Total Time": 9.126, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.729, + "Actual Total Time": 17.733, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.111, + "Actual Total Time": 10.117, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.077, + "Actual Total Time": 10.084, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.171, + "Actual Total Time": 10.177, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.710, + "Actual Total Time": 9.716, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.570, + "Actual Total Time": 9.577, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.56, + "Total Cost": 1348.33, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 9.733, + "Actual Total Time": 10.861, + "Actual Rows": 68, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "mc.movie_id", "mc.company_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.118, + "Actual Total Time": 9.124, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.728, + "Actual Total Time": 17.732, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.110, + "Actual Total Time": 10.116, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.076, + "Actual Total Time": 10.082, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.170, + "Actual Total Time": 10.176, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.709, + "Actual Total Time": 9.714, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.569, + "Actual Total Time": 9.575, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.42, + "Total Cost": 1347.82, + "Plan Rows": 5, + "Plan Width": 20, + "Actual Startup Time": 9.730, + "Actual Total Time": 10.588, + "Actual Rows": 70, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "mc.movie_id", "mc.company_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.117, + "Actual Total Time": 9.121, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.728, + "Actual Total Time": 17.730, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.110, + "Actual Total Time": 10.114, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.075, + "Actual Total Time": 10.080, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.170, + "Actual Total Time": 10.174, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.708, + "Actual Total Time": 9.712, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.568, + "Actual Total Time": 9.573, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.99, + "Total Cost": 1347.27, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 9.723, + "Actual Total Time": 10.361, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.116, + "Actual Total Time": 9.119, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.727, + "Actual Total Time": 17.729, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.109, + "Actual Total Time": 10.112, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.075, + "Actual Total Time": 10.078, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.169, + "Actual Total Time": 10.172, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.707, + "Actual Total Time": 9.710, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.568, + "Actual Total Time": 9.571, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 1346.80, + "Plan Rows": 4, + "Plan Width": 16, + "Actual Startup Time": 9.612, + "Actual Total Time": 10.335, + "Actual Rows": 11, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.115, + "Actual Total Time": 9.117, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.726, + "Actual Total Time": 17.727, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.108, + "Actual Total Time": 10.110, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.074, + "Actual Total Time": 10.076, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.168, + "Actual Total Time": 10.170, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.706, + "Actual Total Time": 9.708, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.566, + "Actual Total Time": 9.569, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.56, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 9.575, + "Actual Total Time": 9.849, + "Actual Rows": 52, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.115, + "Actual Total Time": 9.116, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.725, + "Actual Total Time": 17.726, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.107, + "Actual Total Time": 10.108, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.073, + "Actual Total Time": 10.074, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.167, + "Actual Total Time": 10.168, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.705, + "Actual Total Time": 9.707, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.565, + "Actual Total Time": 9.567, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 9.567, + "Actual Total Time": 9.570, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'computer-animation'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.114, + "Actual Total Time": 9.114, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.725, + "Actual Total Time": 17.725, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.107, + "Actual Total Time": 10.107, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.072, + "Actual Total Time": 10.073, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.166, + "Actual Total Time": 10.166, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.704, + "Actual Total Time": 9.705, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.565, + "Actual Total Time": 9.565, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.053, + "Actual Total Time": 2.100, + "Actual Rows": 414, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 414, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 90, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 88, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.055, + "Actual Rows": 23, + "Actual Loops": 25, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 564, + "Output": ["cct1.id"], + "Cache Key": "cc.subject_id", + "Cache Mode": "logical", + "Cache Hits": 562, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["cct1.id"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.26, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.321, + "Actual Rows": 34, + "Actual Loops": 540, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 130, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 2, + "Actual Loops": 18419, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.098, + "Actual Total Time": 0.226, + "Actual Rows": 1, + "Actual Loops": 37994, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info ~~ 'USA:%200%'::text)", + "Rows Removed by Filter": 405, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 52213, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 52213, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"], + "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2005) AND (t.title = 'Shrek 2'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1452, + "Output": ["rt.id", "rt.role"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 352, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(chn.name = 'Queen'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 66, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.72, + "Plan Rows": 12, + "Plan Width": 8, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.092, + "Actual Rows": 163, + "Actual Loops": 15, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it3", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 2445, + "Output": ["it3.id", "it3.info"], + "Index Cond": "(it3.id = pi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it3.info)::text = 'height'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 15, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = pi.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6571914703387389993, + "Planning Time": 314.158, + "Triggers": [ + ], + "Execution Time": 9562.684, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -6571914703387389993, + "JOINS": 16 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS voiced_animation
FROM aka_name AS an,
     complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     info_type AS it3,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     person_info AS pi,
     role_type AS rt,
     title AS t
WHERE cct1.kind ='cast'
  AND cct2.kind ='complete+verified'
  AND ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND it3.info = 'trivia'
  AND k.keyword = 'computer-animation'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%200%'
       OR mi.info LIKE 'USA:%200%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2000 AND 2010
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND n.id = pi.person_id
  AND ci.person_id = pi.person_id
  AND it3.id = pi.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1356.29, + "Total Cost": 1356.30, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 403.475, + "Actual Total Time": 403.733, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1356.23, + "Total Cost": 1356.24, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 403.451, + "Actual Total Time": 403.719, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1355.23, + "Total Cost": 1355.24, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 55.563, + "Actual Total Time": 55.575, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.917, + "Actual Total Time": 5.931, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.172, + "Actual Total Time": 5.183, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.935, + "Actual Total Time": 3.947, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.951, + "Actual Total Time": 5.961, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.107, + "Actual Total Time": 7.119, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.106, + "Actual Total Time": 7.118, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.327, + "Actual Total Time": 7.339, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.40, + "Total Cost": 1355.22, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 16.475, + "Actual Total Time": 54.217, + "Actual Rows": 2038, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.913, + "Actual Total Time": 5.926, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.167, + "Actual Total Time": 5.178, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.929, + "Actual Total Time": 3.940, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.945, + "Actual Total Time": 5.955, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.102, + "Actual Total Time": 7.113, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.102, + "Actual Total Time": 7.113, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.320, + "Actual Total Time": 7.331, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.97, + "Total Cost": 1354.71, + "Plan Rows": 1, + "Plan Width": 36, + "Actual Startup Time": 11.776, + "Actual Total Time": 40.905, + "Actual Rows": 2092, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_role_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.912, + "Actual Total Time": 5.925, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.166, + "Actual Total Time": 5.177, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.928, + "Actual Total Time": 3.939, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.944, + "Actual Total Time": 5.953, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.101, + "Actual Total Time": 7.111, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.101, + "Actual Total Time": 7.112, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.319, + "Actual Total Time": 7.330, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.55, + "Total Cost": 1354.23, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 11.772, + "Actual Total Time": 36.751, + "Actual Rows": 496, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "pi.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.911, + "Actual Total Time": 5.923, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.166, + "Actual Total Time": 5.175, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.927, + "Actual Total Time": 3.938, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.944, + "Actual Total Time": 5.952, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.100, + "Actual Total Time": 7.110, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.101, + "Actual Total Time": 7.111, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.319, + "Actual Total Time": 7.329, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.41, + "Total Cost": 1354.04, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 11.770, + "Actual Total Time": 35.044, + "Actual Rows": 496, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "mi.info_type_id", "pi.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.911, + "Actual Total Time": 5.922, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.165, + "Actual Total Time": 5.174, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.927, + "Actual Total Time": 3.937, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.943, + "Actual Total Time": 5.951, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.099, + "Actual Total Time": 7.109, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.100, + "Actual Total Time": 7.109, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.318, + "Actual Total Time": 7.328, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.26, + "Total Cost": 1353.86, + "Plan Rows": 1, + "Plan Width": 56, + "Actual Startup Time": 11.765, + "Actual Total Time": 28.121, + "Actual Rows": 1998, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "mi.info_type_id", "pi.person_id", "pi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(n.id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.910, + "Actual Total Time": 5.921, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.165, + "Actual Total Time": 5.173, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.926, + "Actual Total Time": 3.935, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.943, + "Actual Total Time": 5.950, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.098, + "Actual Total Time": 7.108, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.100, + "Actual Total Time": 7.108, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.318, + "Actual Total Time": 7.327, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.83, + "Total Cost": 1352.99, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 11.681, + "Actual Total Time": 25.879, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.909, + "Actual Total Time": 5.919, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.164, + "Actual Total Time": 5.172, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.926, + "Actual Total Time": 3.934, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.942, + "Actual Total Time": 5.948, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.097, + "Actual Total Time": 7.106, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.099, + "Actual Total Time": 7.107, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.317, + "Actual Total Time": 7.325, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.40, + "Total Cost": 1352.01, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 11.669, + "Actual Total Time": 25.257, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.909, + "Actual Total Time": 5.918, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.164, + "Actual Total Time": 5.171, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.925, + "Actual Total Time": 3.933, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.941, + "Actual Total Time": 5.947, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.097, + "Actual Total Time": 7.105, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.098, + "Actual Total Time": 7.106, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.317, + "Actual Total Time": 7.324, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 1351.83, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 11.664, + "Actual Total Time": 25.233, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.908, + "Actual Total Time": 5.916, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.163, + "Actual Total Time": 5.169, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.925, + "Actual Total Time": 3.932, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.941, + "Actual Total Time": 5.946, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.096, + "Actual Total Time": 7.103, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.098, + "Actual Total Time": 7.104, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.316, + "Actual Total Time": 7.323, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.13, + "Total Cost": 1351.66, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 9.282, + "Actual Total Time": 25.168, + "Actual Rows": 17, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.907, + "Actual Total Time": 5.914, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.162, + "Actual Total Time": 5.168, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.924, + "Actual Total Time": 3.930, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.940, + "Actual Total Time": 5.945, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.096, + "Actual Total Time": 7.102, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.097, + "Actual Total Time": 7.103, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.315, + "Actual Total Time": 7.321, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.00, + "Total Cost": 1351.49, + "Plan Rows": 1, + "Plan Width": 76, + "Actual Startup Time": 9.279, + "Actual Total Time": 25.082, + "Actual Rows": 17, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.906, + "Actual Total Time": 5.912, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.162, + "Actual Total Time": 5.166, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.924, + "Actual Total Time": 3.929, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.939, + "Actual Total Time": 5.944, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.095, + "Actual Total Time": 7.101, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.096, + "Actual Total Time": 7.101, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.315, + "Actual Total Time": 7.320, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 1351.04, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 8.928, + "Actual Total Time": 24.874, + "Actual Rows": 23, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.906, + "Actual Total Time": 5.911, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.161, + "Actual Total Time": 5.165, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.923, + "Actual Total Time": 3.928, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.939, + "Actual Total Time": 5.942, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.094, + "Actual Total Time": 7.099, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.095, + "Actual Total Time": 7.100, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.314, + "Actual Total Time": 7.318, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.16, + "Total Cost": 1350.60, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 8.920, + "Actual Total Time": 23.812, + "Actual Rows": 98, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.905, + "Actual Total Time": 5.910, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.160, + "Actual Total Time": 5.164, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.923, + "Actual Total Time": 3.927, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.938, + "Actual Total Time": 5.941, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.093, + "Actual Total Time": 7.098, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.095, + "Actual Total Time": 7.098, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.313, + "Actual Total Time": 7.317, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1350.04, + "Plan Rows": 1, + "Plan Width": 60, + "Actual Startup Time": 8.914, + "Actual Total Time": 23.587, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.904, + "Actual Total Time": 5.908, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.160, + "Actual Total Time": 5.162, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.922, + "Actual Total Time": 3.925, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.938, + "Actual Total Time": 5.940, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.093, + "Actual Total Time": 7.096, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.094, + "Actual Total Time": 7.097, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.313, + "Actual Total Time": 7.316, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1349.50, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 5.345, + "Actual Total Time": 16.750, + "Actual Rows": 429, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.903, + "Actual Total Time": 5.906, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.159, + "Actual Total Time": 5.161, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.921, + "Actual Total Time": 3.924, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.937, + "Actual Total Time": 5.939, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.092, + "Actual Total Time": 7.095, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.093, + "Actual Total Time": 7.095, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.312, + "Actual Total Time": 7.314, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1346.88, + "Plan Rows": 2, + "Plan Width": 25, + "Actual Startup Time": 5.333, + "Actual Total Time": 6.509, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.902, + "Actual Total Time": 5.904, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.158, + "Actual Total Time": 5.160, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.920, + "Actual Total Time": 3.922, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.936, + "Actual Total Time": 5.938, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.091, + "Actual Total Time": 7.093, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.093, + "Actual Total Time": 7.095, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.311, + "Actual Total Time": 7.313, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.56, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 5.327, + "Actual Total Time": 5.600, + "Actual Rows": 52, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.902, + "Actual Total Time": 5.903, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.157, + "Actual Total Time": 5.158, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.920, + "Actual Total Time": 3.921, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.935, + "Actual Total Time": 5.936, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.091, + "Actual Total Time": 7.092, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.092, + "Actual Total Time": 7.093, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.310, + "Actual Total Time": 7.312, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.316, + "Actual Total Time": 5.320, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'computer-animation'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.901, + "Actual Total Time": 5.901, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.157, + "Actual Total Time": 5.157, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.919, + "Actual Total Time": 3.920, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.935, + "Actual Total Time": 5.935, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.090, + "Actual Total Time": 7.091, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.092, + "Actual Total Time": 7.092, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.309, + "Actual Total Time": 7.310, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.078, + "Actual Total Time": 2.037, + "Actual Rows": 414, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 414, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.30, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.322, + "Actual Rows": 14, + "Actual Loops": 249, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 41, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 3429, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.033, + "Actual Rows": 20, + "Actual Loops": 40, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 786, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 186, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 135, + "Output": ["cct1.id", "cct1.kind"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 135, + "Output": ["cct2.id", "cct2.kind"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 20, + "Output": ["rt.id", "rt.role"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.133, + "Actual Total Time": 0.245, + "Actual Rows": 3, + "Actual Loops": 20, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%200%'::text) OR (mi.info ~~ 'USA:%200%'::text)))", + "Rows Removed by Filter": 325, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.72, + "Plan Rows": 12, + "Plan Width": 8, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.216, + "Actual Rows": 291, + "Actual Loops": 55, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it3", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 15982, + "Output": ["it3.id", "it3.info"], + "Index Cond": "(it3.id = pi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it3.info)::text = 'trivia'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 3966, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 4, + "Actual Loops": 3966, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = pi.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 16740, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3549109824785540005, + "Planning Time": 356.763, + "Triggers": [ + ], + "Execution Time": 404.325, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 3549109824785540005, + "JOINS": 16 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code ='[de]'
  AND k.keyword ='character-name-in-title'
  AND cn.id = mc.company_id
  AND mc.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1358.49, + "Total Cost": 1358.50, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1772.253, + "Actual Total Time": 1802.139, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.71, + "Total Cost": 1358.47, + "Plan Rows": 6, + "Plan Width": 17, + "Actual Startup Time": 167.128, + "Actual Total Time": 1799.168, + "Actual Rows": 7834, + "Actual Loops": 1, + "Output": ["t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 1357.47, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 6.911, + "Actual Total Time": 226.565, + "Actual Rows": 979, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.524, + "Actual Total Time": 6.527, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.772, + "Actual Total Time": 6.776, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.051, + "Actual Total Time": 1760.259, + "Actual Rows": 7834, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.645, + "Actual Total Time": 6.648, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.658, + "Actual Total Time": 6.662, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.610, + "Actual Total Time": 6.613, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.539, + "Actual Total Time": 6.542, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.28, + "Total Cost": 1357.01, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 6.898, + "Actual Total Time": 216.428, + "Actual Rows": 979, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.523, + "Actual Total Time": 6.526, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.772, + "Actual Total Time": 6.775, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.947, + "Actual Total Time": 1679.172, + "Actual Rows": 7834, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.644, + "Actual Total Time": 6.647, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.657, + "Actual Total Time": 6.660, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.609, + "Actual Total Time": 6.612, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.538, + "Actual Total Time": 6.540, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1347.29, + "Plan Rows": 22, + "Plan Width": 12, + "Actual Startup Time": 6.585, + "Actual Total Time": 87.088, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.company_id", "mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.523, + "Actual Total Time": 6.524, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.771, + "Actual Total Time": 6.773, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.455, + "Actual Total Time": 644.464, + "Actual Rows": 148552, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.644, + "Actual Total Time": 6.645, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.656, + "Actual Total Time": 6.658, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.609, + "Actual Total Time": 6.611, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.538, + "Actual Total Time": 6.539, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.56, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 6.571, + "Actual Total Time": 20.044, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.522, + "Actual Total Time": 6.523, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.770, + "Actual Total Time": 6.771, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.345, + "Actual Total Time": 108.123, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.643, + "Actual Total Time": 6.644, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.656, + "Actual Total Time": 6.657, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.608, + "Actual Total Time": 6.609, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.537, + "Actual Total Time": 6.538, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.555, + "Actual Total Time": 6.556, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.522, + "Actual Total Time": 6.522, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.769, + "Actual Total Time": 6.769, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.223, + "Actual Total Time": 0.229, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.642, + "Actual Total Time": 6.643, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.655, + "Actual Total Time": 6.655, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.608, + "Actual Total Time": 6.608, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.536, + "Actual Total Time": 6.537, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.118, + "Actual Total Time": 98.583, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.118, + "Actual Total Time": 98.583, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.012, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.012, + "Actual Rows": 4, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 148552, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[de]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 148552 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 7834, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 7834 + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7420183357700622221, + "Planning Time": 8.340, + "Triggers": [ + ], + "Execution Time": 1802.360, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 7420183357700622221, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code ='[nl]'
  AND k.keyword ='character-name-in-title'
  AND cn.id = mc.company_id
  AND mc.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1358.48, + "Total Cost": 1358.49, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1525.251, + "Actual Total Time": 1525.380, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.71, + "Total Cost": 1358.47, + "Plan Rows": 2, + "Plan Width": 17, + "Actual Startup Time": 10.490, + "Actual Total Time": 1522.457, + "Actual Rows": 5228, + "Actual Loops": 1, + "Output": ["t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 1357.47, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 6.778, + "Actual Total Time": 195.628, + "Actual Rows": 654, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.159, + "Actual Total Time": 12.162, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.497, + "Actual Total Time": 0.498, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.629, + "Actual Total Time": 10.631, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.975, + "Actual Total Time": 2.978, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.582, + "Actual Total Time": 7.586, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.680, + "Actual Total Time": 10.682, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.28, + "Total Cost": 1357.01, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 6.769, + "Actual Total Time": 188.764, + "Actual Rows": 654, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.158, + "Actual Total Time": 12.160, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.497, + "Actual Total Time": 0.498, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.628, + "Actual Total Time": 10.630, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.974, + "Actual Total Time": 2.976, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.581, + "Actual Total Time": 7.584, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.679, + "Actual Total Time": 10.681, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1347.29, + "Plan Rows": 22, + "Plan Width": 12, + "Actual Startup Time": 5.800, + "Actual Total Time": 64.505, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.company_id", "mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.157, + "Actual Total Time": 12.159, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.496, + "Actual Total Time": 0.497, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.627, + "Actual Total Time": 10.628, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.973, + "Actual Total Time": 2.975, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.580, + "Actual Total Time": 7.582, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.678, + "Actual Total Time": 10.680, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.56, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 5.794, + "Actual Total Time": 13.820, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.157, + "Actual Total Time": 12.158, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.496, + "Actual Total Time": 0.497, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.626, + "Actual Total Time": 10.627, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.973, + "Actual Total Time": 2.974, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.580, + "Actual Total Time": 7.581, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.678, + "Actual Total Time": 10.679, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.782, + "Actual Total Time": 5.783, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.156, + "Actual Total Time": 12.156, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.496, + "Actual Total Time": 0.496, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.626, + "Actual Total Time": 10.626, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.972, + "Actual Total Time": 2.973, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.579, + "Actual Total Time": 7.580, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.677, + "Actual Total Time": 10.677, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.079, + "Actual Total Time": 55.035, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 148552, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[nl]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 5228, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7420183357700622221, + "Planning Time": 7.655, + "Triggers": [ + ], + "Execution Time": 1525.602, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 7420183357700622221, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code ='[sm]'
  AND k.keyword ='character-name-in-title'
  AND cn.id = mc.company_id
  AND mc.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1358.48, + "Total Cost": 1358.49, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1440.532, + "Actual Total Time": 1440.658, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 1358.48, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 1440.527, + "Actual Total Time": 1440.652, + "Actual Rows": 0, + "Actual Loops": 1, + "Output": ["t.title"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.28, + "Total Cost": 1358.02, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 1440.526, + "Actual Total Time": 1440.651, + "Actual Rows": 0, + "Actual Loops": 1, + "Output": ["mc.movie_id", "mk.movie_id"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.28, + "Total Cost": 1357.02, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 185.025, + "Actual Total Time": 185.028, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.276, + "Actual Total Time": 5.279, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.328, + "Actual Total Time": 5.331, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.290, + "Actual Total Time": 6.292, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.256, + "Actual Total Time": 6.258, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.702, + "Actual Total Time": 5.704, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.615, + "Actual Total Time": 6.617, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.650, + "Actual Total Time": 5.652, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1347.29, + "Plan Rows": 22, + "Plan Width": 12, + "Actual Startup Time": 5.506, + "Actual Total Time": 63.287, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.company_id", "mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.275, + "Actual Total Time": 5.277, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.327, + "Actual Total Time": 5.329, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.289, + "Actual Total Time": 6.290, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.256, + "Actual Total Time": 6.257, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.702, + "Actual Total Time": 5.703, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.614, + "Actual Total Time": 6.616, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.650, + "Actual Total Time": 5.651, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.56, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 5.499, + "Actual Total Time": 13.526, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.274, + "Actual Total Time": 5.275, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.327, + "Actual Total Time": 5.328, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.288, + "Actual Total Time": 6.289, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.255, + "Actual Total Time": 6.256, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.701, + "Actual Total Time": 5.702, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.613, + "Actual Total Time": 6.614, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.649, + "Actual Total Time": 5.650, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.486, + "Actual Total Time": 5.487, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.273, + "Actual Total Time": 5.274, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.326, + "Actual Total Time": 5.327, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.287, + "Actual Total Time": 6.287, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.254, + "Actual Total Time": 6.255, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.700, + "Actual Total Time": 5.701, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.613, + "Actual Total Time": 6.613, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.648, + "Actual Total Time": 5.649, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.086, + "Actual Total Time": 55.384, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 148552, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[sm]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0 + } + ] + } + ] + }, + "Query Identifier": 7420183357700622221, + "Planning Time": 18.098, + "Triggers": [ + ], + "Execution Time": 1441.027, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 7420183357700622221, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND cn.id = mc.company_id
  AND mc.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1360.37, + "Total Cost": 1360.38, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1934.426, + "Actual Total Time": 1934.567, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1360.34, + "Total Cost": 1360.35, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 1934.405, + "Actual Total Time": 1934.559, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1359.34, + "Total Cost": 1359.35, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 246.808, + "Actual Total Time": 246.812, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.064, + "Actual Total Time": 6.068, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.921, + "Actual Total Time": 5.924, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.126, + "Actual Total Time": 5.129, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.264, + "Actual Total Time": 6.267, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.135, + "Actual Total Time": 5.139, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.258, + "Actual Total Time": 6.261, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.010, + "Actual Total Time": 6.013, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 1359.32, + "Plan Rows": 8, + "Plan Width": 17, + "Actual Startup Time": 5.478, + "Actual Total Time": 243.673, + "Actual Rows": 8540, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.061, + "Actual Total Time": 6.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.917, + "Actual Total Time": 5.920, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.122, + "Actual Total Time": 5.124, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.259, + "Actual Total Time": 6.262, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.132, + "Actual Total Time": 5.136, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.254, + "Actual Total Time": 6.257, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.007, + "Actual Total Time": 6.010, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1349.61, + "Plan Rows": 22, + "Plan Width": 21, + "Actual Startup Time": 5.462, + "Actual Total Time": 116.263, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mc.company_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.060, + "Actual Total Time": 6.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.917, + "Actual Total Time": 5.919, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.121, + "Actual Total Time": 5.123, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.259, + "Actual Total Time": 6.261, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.132, + "Actual Total Time": 5.134, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.254, + "Actual Total Time": 6.256, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.006, + "Actual Total Time": 6.008, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1346.85, + "Plan Rows": 5, + "Plan Width": 25, + "Actual Startup Time": 5.314, + "Actual Total Time": 65.346, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.060, + "Actual Total Time": 6.062, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.916, + "Actual Total Time": 5.918, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.121, + "Actual Total Time": 5.122, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.258, + "Actual Total Time": 6.260, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.131, + "Actual Total Time": 5.132, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.253, + "Actual Total Time": 6.255, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.006, + "Actual Total Time": 6.007, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.56, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 5.305, + "Actual Total Time": 13.228, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.059, + "Actual Total Time": 6.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.916, + "Actual Total Time": 5.917, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.120, + "Actual Total Time": 5.121, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.257, + "Actual Total Time": 6.258, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.130, + "Actual Total Time": 5.131, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.253, + "Actual Total Time": 6.254, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.005, + "Actual Total Time": 6.006, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.292, + "Actual Total Time": 5.293, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.059, + "Actual Total Time": 6.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.915, + "Actual Total Time": 5.915, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.119, + "Actual Total Time": 5.120, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.257, + "Actual Total Time": 6.257, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.130, + "Actual Total Time": 5.130, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.252, + "Actual Total Time": 6.252, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.005, + "Actual Total Time": 6.005, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.095, + "Actual Total Time": 54.508, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 41840, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.009, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 148552, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7420183357700622221, + "Planning Time": 7.616, + "Triggers": [ + ], + "Execution Time": 1934.805, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 7420183357700622221, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS complete_violent_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind IN ('cast',
                    'crew')
  AND cct2.kind ='complete+verified'
  AND ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Thriller')
  AND n.gender = 'm'
  AND t.production_year > 2000
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1491.54, + "Total Cost": 1491.55, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 621.328, + "Actual Total Time": 652.554, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1491.46, + "Total Cost": 1491.47, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 542.951, + "Actual Total Time": 652.514, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1490.46, + "Total Cost": 1490.47, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 382.410, + "Actual Total Time": 382.417, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 604.547, + "Actual Total Time": 604.553, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 555.299, + "Actual Total Time": 555.305, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 460.732, + "Actual Total Time": 460.738, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 56.376, + "Actual Total Time": 56.385, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 448.636, + "Actual Total Time": 448.641, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.726, + "Actual Total Time": 56.734, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 335.087, + "Actual Total Time": 335.094, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 1490.45, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 40.792, + "Actual Total Time": 382.083, + "Actual Rows": 95, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 77.503, + "Actual Total Time": 604.076, + "Actual Rows": 147, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.232, + "Actual Total Time": 555.028, + "Actual Rows": 76, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.501, + "Actual Total Time": 460.203, + "Actual Rows": 177, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 56.369, + "Actual Total Time": 56.377, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.509, + "Actual Total Time": 448.105, + "Actual Rows": 142, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.720, + "Actual Total Time": 56.727, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.688, + "Actual Total Time": 334.803, + "Actual Rows": 72, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.44, + "Total Cost": 1490.26, + "Plan Rows": 1, + "Plan Width": 84, + "Actual Startup Time": 40.775, + "Actual Total Time": 380.580, + "Actual Rows": 285, + "Actual Loops": 8, + "Output": ["n.name", "t.title", "mi.info", "mi_idx.info", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 77.480, + "Actual Total Time": 601.850, + "Actual Rows": 443, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.211, + "Actual Total Time": 553.697, + "Actual Rows": 229, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.480, + "Actual Total Time": 457.869, + "Actual Rows": 533, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 56.368, + "Actual Total Time": 56.375, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.488, + "Actual Total Time": 445.614, + "Actual Rows": 428, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.719, + "Actual Total Time": 56.725, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.665, + "Actual Total Time": 333.759, + "Actual Rows": 217, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.01, + "Total Cost": 1489.74, + "Plan Rows": 1, + "Plan Width": 94, + "Actual Startup Time": 40.732, + "Actual Total Time": 378.821, + "Actual Rows": 95, + "Actual Loops": 8, + "Output": ["n.name", "mk.movie_id", "cc.movie_id", "t.title", "t.id", "ci.movie_id", "mi.info", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 77.422, + "Actual Total Time": 599.407, + "Actual Rows": 147, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.162, + "Actual Total Time": 552.062, + "Actual Rows": 76, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.423, + "Actual Total Time": 455.210, + "Actual Rows": 177, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 56.367, + "Actual Total Time": 56.374, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.437, + "Actual Total Time": 442.633, + "Actual Rows": 142, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.718, + "Actual Total Time": 56.724, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.581, + "Actual Total Time": 332.352, + "Actual Rows": 72, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.87, + "Total Cost": 1489.56, + "Plan Rows": 1, + "Plan Width": 98, + "Actual Startup Time": 40.693, + "Actual Total Time": 378.037, + "Actual Rows": 95, + "Actual Loops": 8, + "Output": ["n.name", "mk.movie_id", "cc.movie_id", "t.title", "t.id", "ci.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 77.364, + "Actual Total Time": 598.257, + "Actual Rows": 147, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.110, + "Actual Total Time": 551.362, + "Actual Rows": 76, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.365, + "Actual Total Time": 454.007, + "Actual Rows": 177, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 56.367, + "Actual Total Time": 56.373, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.380, + "Actual Total Time": 441.338, + "Actual Rows": 142, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.717, + "Actual Total Time": 56.722, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.525, + "Actual Total Time": 331.775, + "Actual Rows": 72, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.43, + "Total Cost": 1488.63, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 28.687, + "Actual Total Time": 341.974, + "Actual Rows": 155, + "Actual Loops": 8, + "Output": ["n.name", "mk.movie_id", "cc.movie_id", "t.title", "t.id", "ci.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 53.888, + "Actual Total Time": 546.027, + "Actual Rows": 229, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.352, + "Actual Total Time": 512.674, + "Actual Rows": 173, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.609, + "Actual Total Time": 403.468, + "Actual Rows": 241, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 56.366, + "Actual Total Time": 56.371, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.734, + "Actual Total Time": 387.992, + "Actual Rows": 210, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.716, + "Actual Total Time": 56.721, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.996, + "Actual Total Time": 306.669, + "Actual Rows": 137, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.00, + "Total Cost": 1488.12, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 26.699, + "Actual Total Time": 337.188, + "Actual Rows": 218, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 38.631, + "Actual Total Time": 540.118, + "Actual Rows": 331, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.161, + "Actual Total Time": 506.842, + "Actual Rows": 250, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.465, + "Actual Total Time": 396.321, + "Actual Rows": 316, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 56.365, + "Actual Total Time": 56.370, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.607, + "Actual Total Time": 381.243, + "Actual Rows": 298, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.715, + "Actual Total Time": 56.719, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.877, + "Actual Total Time": 301.290, + "Actual Rows": 213, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.56, + "Total Cost": 1485.41, + "Plan Rows": 2, + "Plan Width": 29, + "Actual Startup Time": 18.911, + "Actual Total Time": 191.521, + "Actual Rows": 253, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.268, + "Actual Total Time": 354.363, + "Actual Rows": 415, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.694, + "Actual Total Time": 337.980, + "Actual Rows": 294, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.470, + "Actual Total Time": 196.251, + "Actual Rows": 347, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 56.365, + "Actual Total Time": 56.369, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.605, + "Actual Total Time": 181.860, + "Actual Rows": 337, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.714, + "Actual Total Time": 56.718, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.389, + "Actual Total Time": 128.498, + "Actual Rows": 236, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.42, + "Total Cost": 1484.80, + "Plan Rows": 8, + "Plan Width": 33, + "Actual Startup Time": 15.949, + "Actual Total Time": 190.000, + "Actual Rows": 898, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.255, + "Actual Total Time": 352.028, + "Actual Rows": 1468, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.752, + "Actual Total Time": 335.953, + "Actual Rows": 1095, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.514, + "Actual Total Time": 194.618, + "Actual Rows": 1161, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 56.364, + "Actual Total Time": 56.368, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.072, + "Actual Total Time": 179.556, + "Actual Rows": 1213, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.714, + "Actual Total Time": 56.716, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.545, + "Actual Total Time": 126.902, + "Actual Rows": 982, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.99, + "Total Cost": 1477.89, + "Plan Rows": 15, + "Plan Width": 12, + "Actual Startup Time": 15.496, + "Actual Total Time": 137.417, + "Actual Rows": 4501, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.933, + "Actual Total Time": 234.737, + "Actual Rows": 11230, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.358, + "Actual Total Time": 252.754, + "Actual Rows": 6409, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.228, + "Actual Total Time": 135.022, + "Actual Rows": 6002, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 56.363, + "Actual Total Time": 56.367, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.768, + "Actual Total Time": 126.547, + "Actual Rows": 4009, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.713, + "Actual Total Time": 56.715, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.436, + "Actual Total Time": 85.208, + "Actual Rows": 3227, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 1476.75, + "Plan Rows": 30, + "Plan Width": 16, + "Actual Startup Time": 15.443, + "Actual Total Time": 130.680, + "Actual Rows": 4501, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.855, + "Actual Total Time": 219.071, + "Actual Rows": 11230, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.299, + "Actual Total Time": 242.338, + "Actual Rows": 6409, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.154, + "Actual Total Time": 127.555, + "Actual Rows": 6002, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 56.363, + "Actual Total Time": 56.364, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.683, + "Actual Total Time": 119.541, + "Actual Rows": 4009, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.712, + "Actual Total Time": 56.713, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.343, + "Actual Total Time": 80.457, + "Actual Rows": 3227, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1461.53, + "Plan Rows": 34, + "Plan Width": 4, + "Actual Startup Time": 14.920, + "Actual Total Time": 52.027, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.488, + "Actual Total Time": 63.294, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.547, + "Actual Total Time": 73.798, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.601, + "Actual Total Time": 42.207, + "Actual Rows": 12628, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 56.362, + "Actual Total Time": 56.363, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.987, + "Actual Total Time": 40.487, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.711, + "Actual Total Time": 56.712, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.725, + "Actual Total Time": 32.698, + "Actual Rows": 5392, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1308.38, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 14.769, + "Actual Total Time": 14.787, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.259, + "Actual Total Time": 0.266, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.416, + "Actual Total Time": 0.441, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.367, + "Actual Total Time": 0.414, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 56.361, + "Actual Total Time": 56.362, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.750, + "Actual Total Time": 0.763, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.711, + "Actual Total Time": 56.711, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.474, + "Actual Total Time": 1.491, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.77, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.173, + "Actual Total Time": 38.972, + "Actual Rows": 10959, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.225, + "Actual Total Time": 56.918, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.129, + "Actual Total Time": 66.234, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.134, + "Actual Total Time": 19.247, + "Actual Rows": 6314, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.229, + "Actual Total Time": 36.605, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.244, + "Actual Total Time": 29.468, + "Actual Rows": 5392, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 76714, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 19528 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 20522 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 12628 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 5392 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 36010, + "Output": ["cct1.id"], + "Cache Key": "cc.subject_id", + "Cache Mode": "logical", + "Cache Hits": 5131, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 11230, + "Cache Hits": 11228, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 6409, + "Cache Hits": 6407, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 6002, + "Cache Hits": 6000, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 4009, + "Cache Hits": 4007, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 3227, + "Cache Hits": 3225, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 12, + "Output": ["cct1.id"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = ANY ('{cast,crew}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 36010, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 11230 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 6409 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6002 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 4009 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 3227 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 7185, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 1264, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1468, + "Cache Hits": 1466, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1095, + "Cache Hits": 1093, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1161, + "Cache Hits": 1159, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1213, + "Cache Hits": 1211, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 982, + "Cache Hits": 980, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 12, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.401, + "Actual Total Time": 0.573, + "Actual Rows": 1, + "Actual Loops": 2027, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 137, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.313, + "Actual Total Time": 0.446, + "Actual Rows": 1, + "Actual Loops": 415 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.410, + "Actual Total Time": 0.572, + "Actual Rows": 1, + "Actual Loops": 294 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.395, + "Actual Total Time": 0.575, + "Actual Rows": 1, + "Actual Loops": 347 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.408, + "Actual Total Time": 0.589, + "Actual Rows": 1, + "Actual Loops": 337 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.522, + "Actual Total Time": 0.730, + "Actual Rows": 1, + "Actual Loops": 236 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 1741, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 331 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 250 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 316 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 298 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 213 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.167, + "Actual Total Time": 0.231, + "Actual Rows": 1, + "Actual Loops": 1238, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Thriller}'::text[]))", + "Rows Removed by Filter": 237, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.161, + "Actual Total Time": 0.226, + "Actual Rows": 1, + "Actual Loops": 229 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.183, + "Actual Total Time": 0.222, + "Actual Rows": 0, + "Actual Loops": 173 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.143, + "Actual Total Time": 0.208, + "Actual Rows": 1, + "Actual Loops": 241 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.177, + "Actual Total Time": 0.252, + "Actual Rows": 1, + "Actual Loops": 210 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.134, + "Actual Total Time": 0.181, + "Actual Rows": 1, + "Actual Loops": 137 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 757, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 147 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 76 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 177 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 142 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 72 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 757, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 147 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 76 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 177 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 142 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 72 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 2281, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 443 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 229 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 533 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 428 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 217 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6682106289455670140, + "Planning Time": 240.306, + "Triggers": [ + ], + "Execution Time": 653.069, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -6682106289455670140, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS complete_gore_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind IN ('cast',
                    'crew')
  AND cct2.kind ='complete+verified'
  AND ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Thriller')
  AND n.gender = 'm'
  AND t.production_year > 2000
  AND (t.title LIKE '%Freddy%'
       OR t.title LIKE '%Jason%'
       OR t.title LIKE 'Saw%')
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1486.34, + "Total Cost": 1486.35, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 585.676, + "Actual Total Time": 612.572, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.27, + "Total Cost": 1486.33, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 332.774, + "Actual Total Time": 612.462, + "Actual Rows": 28, + "Actual Loops": 1, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.84, + "Total Cost": 1485.83, + "Plan Rows": 1, + "Plan Width": 69, + "Actual Startup Time": 332.741, + "Actual Total Time": 611.891, + "Actual Rows": 28, + "Actual Loops": 1, + "Output": ["mi_idx.info", "t.title", "mi.info", "ci.person_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5.40, + "Total Cost": 1484.47, + "Plan Rows": 1, + "Plan Width": 85, + "Actual Startup Time": 332.597, + "Actual Total Time": 606.840, + "Actual Rows": 12, + "Actual Loops": 1, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "cc.movie_id", "t.title", "t.id", "mi.info", "mi.movie_id"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.40, + "Total Cost": 1483.47, + "Plan Rows": 1, + "Plan Width": 85, + "Actual Startup Time": 215.785, + "Actual Total Time": 331.128, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "cc.movie_id", "t.title", "t.id", "mi.info", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 73.794, + "Actual Total Time": 73.801, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 210.301, + "Actual Total Time": 272.137, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 225.308, + "Actual Total Time": 568.344, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 136.924, + "Actual Total Time": 338.168, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 146.000, + "Actual Total Time": 462.574, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 73.984, + "Actual Total Time": 73.992, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 528.356, + "Actual Total Time": 528.361, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.26, + "Total Cost": 1483.29, + "Plan Rows": 1, + "Plan Width": 89, + "Actual Startup Time": 215.768, + "Actual Total Time": 331.103, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "cc.movie_id", "t.title", "t.id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 73.793, + "Actual Total Time": 73.800, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 210.266, + "Actual Total Time": 272.101, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 225.285, + "Actual Total Time": 568.305, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 136.886, + "Actual Total Time": 338.122, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 145.965, + "Actual Total Time": 462.496, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 73.983, + "Actual Total Time": 73.990, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 528.355, + "Actual Total Time": 528.360, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.82, + "Total Cost": 1482.36, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 215.525, + "Actual Total Time": 330.599, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "cc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(mi_idx.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 73.792, + "Actual Total Time": 73.799, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 210.024, + "Actual Total Time": 271.458, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 224.847, + "Actual Total Time": 567.494, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 136.257, + "Actual Total Time": 337.483, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 145.327, + "Actual Total Time": 460.562, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 73.983, + "Actual Total Time": 73.989, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 528.355, + "Actual Total Time": 528.359, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.39, + "Total Cost": 1481.88, + "Plan Rows": 1, + "Plan Width": 18, + "Actual Startup Time": 22.581, + "Actual Total Time": 302.815, + "Actual Rows": 2035, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 73.792, + "Actual Total Time": 73.798, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.679, + "Actual Total Time": 246.795, + "Actual Rows": 1416, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.037, + "Actual Total Time": 509.341, + "Actual Rows": 5231, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.585, + "Actual Total Time": 307.129, + "Actual Rows": 1895, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.029, + "Actual Total Time": 417.826, + "Actual Rows": 2870, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 73.982, + "Actual Total Time": 73.988, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.882, + "Actual Total Time": 493.925, + "Actual Rows": 2405, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 1481.71, + "Plan Rows": 1, + "Plan Width": 22, + "Actual Startup Time": 22.557, + "Actual Total Time": 291.995, + "Actual Rows": 2035, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 73.791, + "Actual Total Time": 73.796, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.643, + "Actual Total Time": 238.002, + "Actual Rows": 1416, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.996, + "Actual Total Time": 484.831, + "Actual Rows": 5231, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.549, + "Actual Total Time": 295.568, + "Actual Rows": 1895, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.989, + "Actual Total Time": 400.736, + "Actual Rows": 2870, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 73.981, + "Actual Total Time": 73.987, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.864, + "Actual Total Time": 481.105, + "Actual Rows": 2405, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.12, + "Total Cost": 1481.54, + "Plan Rows": 1, + "Plan Width": 26, + "Actual Startup Time": 21.455, + "Actual Total Time": 285.037, + "Actual Rows": 4418, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 73.790, + "Actual Total Time": 73.794, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.425, + "Actual Total Time": 232.358, + "Actual Rows": 3130, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.291, + "Actual Total Time": 469.728, + "Actual Rows": 10947, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.801, + "Actual Total Time": 288.417, + "Actual Rows": 3976, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.892, + "Actual Total Time": 389.344, + "Actual Rows": 5929, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 73.981, + "Actual Total Time": 73.985, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.474, + "Actual Total Time": 471.679, + "Actual Rows": 6315, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 1481.09, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 20.353, + "Actual Total Time": 211.948, + "Actual Rows": 7963, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 73.790, + "Actual Total Time": 73.793, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.111, + "Actual Total Time": 174.660, + "Actual Rows": 4743, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.380, + "Actual Total Time": 331.487, + "Actual Rows": 16466, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.079, + "Actual Total Time": 206.787, + "Actual Rows": 7601, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.990, + "Actual Total Time": 279.307, + "Actual Rows": 11112, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 73.980, + "Actual Total Time": 73.983, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.966, + "Actual Total Time": 346.205, + "Actual Rows": 14995, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1478.97, + "Plan Rows": 102, + "Plan Width": 18, + "Actual Startup Time": 19.929, + "Actual Total Time": 199.163, + "Actual Rows": 23961, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 73.385, + "Actual Total Time": 73.386, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.697, + "Actual Total Time": 165.438, + "Actual Rows": 14269, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.933, + "Actual Total Time": 307.545, + "Actual Rows": 49537, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.612, + "Actual Total Time": 192.830, + "Actual Rows": 22907, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.517, + "Actual Total Time": 260.371, + "Actual Rows": 33482, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 73.543, + "Actual Total Time": 73.545, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.737, + "Actual Total Time": 323.699, + "Actual Rows": 45033, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1461.53, + "Plan Rows": 34, + "Plan Width": 4, + "Actual Startup Time": 19.820, + "Actual Total Time": 61.276, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 73.384, + "Actual Total Time": 73.385, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.429, + "Actual Total Time": 38.541, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.768, + "Actual Total Time": 69.881, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.480, + "Actual Total Time": 47.595, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.360, + "Actual Total Time": 61.682, + "Actual Rows": 12628, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 73.542, + "Actual Total Time": 73.543, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.637, + "Actual Total Time": 75.760, + "Actual Rows": 20522, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1308.38, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 19.642, + "Actual Total Time": 19.662, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 73.383, + "Actual Total Time": 73.384, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.130, + "Actual Total Time": 2.148, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.477, + "Actual Total Time": 2.483, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.211, + "Actual Total Time": 1.224, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.073, + "Actual Total Time": 1.136, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 73.541, + "Actual Total Time": 73.542, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.490, + "Actual Total Time": 0.520, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.77, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.206, + "Actual Total Time": 43.755, + "Actual Rows": 10959, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.293, + "Actual Total Time": 34.069, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.280, + "Actual Total Time": 61.242, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.259, + "Actual Total Time": 43.001, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.172, + "Actual Total Time": 27.859, + "Actual Rows": 6314, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.144, + "Actual Total Time": 68.507, + "Actual Rows": 20522, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 2, + "Actual Loops": 76714, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.022, + "Actual Rows": 3, + "Actual Loops": 5392 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 3, + "Actual Loops": 19528 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 8337 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 12628 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 20522 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.079, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.070, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 63701, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 4743 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 16466 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 7601 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 11112 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 14995 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 35346, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 5047, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3130, + "Cache Hits": 3128, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 10947, + "Cache Hits": 10945, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3976, + "Cache Hits": 3974, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5929, + "Cache Hits": 5927, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 6315, + "Cache Hits": 6313, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 12, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 16283, + "Output": ["cct1.id", "cct1.kind"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = ANY ('{cast,crew}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 1416 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 5231 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 1895 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 2870 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 2405 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 16283, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2000) AND ((t.title ~~ '%Freddy%'::text) OR (t.title ~~ '%Jason%'::text) OR (t.title ~~ 'Saw%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1416 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 5231 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1895 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2870 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2405 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.336, + "Actual Total Time": 0.498, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Thriller}'::text[]))", + "Rows Removed by Filter": 452, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.237, + "Actual Total Time": 0.637, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.273, + "Actual Total Time": 0.402, + "Actual Rows": 2, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.624, + "Actual Total Time": 0.632, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.320, + "Actual Total Time": 0.479, + "Actual Rows": 2, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 12, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 6 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.183, + "Actual Total Time": 0.414, + "Actual Rows": 2, + "Actual Loops": 12, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 107 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 28, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0 + } + ] + } + ] + }, + "Query Identifier": 7721649514993682563, + "Planning Time": 272.961, + "Triggers": [ + ], + "Execution Time": 613.231, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 7721649514993682563, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS complete_violent_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind ='complete+verified'
  AND ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Action',
                  'Sci-Fi',
                  'Thriller',
                  'Crime',
                  'War')
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1484.90, + "Total Cost": 1484.91, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1783.855, + "Actual Total Time": 1813.882, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1484.82, + "Total Cost": 1484.83, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 1359.820, + "Actual Total Time": 1813.839, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1483.82, + "Total Cost": 1483.83, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1002.064, + "Actual Total Time": 1002.072, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 66.748, + "Actual Total Time": 66.758, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1265.623, + "Actual Total Time": 1265.627, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1268.342, + "Actual Total Time": 1268.349, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 663.277, + "Actual Total Time": 663.285, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1561.317, + "Actual Total Time": 1561.321, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1763.588, + "Actual Total Time": 1763.593, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 68.890, + "Actual Total Time": 68.901, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.59, + "Total Cost": 1483.81, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 28.191, + "Actual Total Time": 999.867, + "Actual Rows": 1003, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 66.741, + "Actual Total Time": 66.750, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.756, + "Actual Total Time": 1263.119, + "Actual Rows": 980, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.746, + "Actual Total Time": 1265.143, + "Actual Rows": 1380, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.095, + "Actual Total Time": 662.053, + "Actual Rows": 479, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.508, + "Actual Total Time": 1557.298, + "Actual Rows": 2096, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.981, + "Actual Total Time": 1759.699, + "Actual Rows": 2009, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 68.884, + "Actual Total Time": 68.894, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.16, + "Total Cost": 1483.30, + "Plan Rows": 1, + "Plan Width": 69, + "Actual Startup Time": 25.492, + "Actual Total Time": 977.313, + "Actual Rows": 1483, + "Actual Loops": 8, + "Output": ["mi.info", "ci.person_id", "t.title", "mi_idx.info"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 66.740, + "Actual Total Time": 66.748, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.667, + "Actual Total Time": 1236.398, + "Actual Rows": 1433, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.678, + "Actual Total Time": 1232.719, + "Actual Rows": 2007, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.481, + "Actual Total Time": 649.392, + "Actual Rows": 688, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.308, + "Actual Total Time": 1516.930, + "Actual Rows": 3004, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.913, + "Actual Total Time": 1718.788, + "Actual Rows": 3177, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 68.882, + "Actual Total Time": 68.892, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.02, + "Total Cost": 1483.12, + "Plan Rows": 1, + "Plan Width": 73, + "Actual Startup Time": 25.468, + "Actual Total Time": 952.639, + "Actual Rows": 4492, + "Actual Loops": 8, + "Output": ["mi.info", "ci.person_id", "t.title", "mi_idx.info", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 66.739, + "Actual Total Time": 66.747, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.643, + "Actual Total Time": 1209.310, + "Actual Rows": 4315, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.656, + "Actual Total Time": 1196.868, + "Actual Rows": 6086, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.431, + "Actual Total Time": 637.993, + "Actual Rows": 2076, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.279, + "Actual Total Time": 1469.774, + "Actual Rows": 9139, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.887, + "Actual Total Time": 1673.476, + "Actual Rows": 9596, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 68.881, + "Actual Total Time": 68.891, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.59, + "Total Cost": 1482.60, + "Plan Rows": 1, + "Plan Width": 83, + "Actual Startup Time": 25.405, + "Actual Total Time": 931.813, + "Actual Rows": 1483, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "mi.info", "mi.movie_id", "ci.movie_id", "ci.person_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 66.738, + "Actual Total Time": 66.745, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.568, + "Actual Total Time": 1185.739, + "Actual Rows": 1433, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.563, + "Actual Total Time": 1167.516, + "Actual Rows": 2007, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.280, + "Actual Total Time": 627.597, + "Actual Rows": 688, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.208, + "Actual Total Time": 1430.408, + "Actual Rows": 3005, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.815, + "Actual Total Time": 1635.329, + "Actual Rows": 3178, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 68.881, + "Actual Total Time": 68.889, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.16, + "Total Cost": 1482.13, + "Plan Rows": 1, + "Plan Width": 62, + "Actual Startup Time": 25.349, + "Actual Total Time": 912.595, + "Actual Rows": 1483, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "mi.info", "mi.movie_id", "ci.movie_id", "ci.person_id"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 66.738, + "Actual Total Time": 66.744, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.501, + "Actual Total Time": 1163.253, + "Actual Rows": 1433, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.508, + "Actual Total Time": 1140.596, + "Actual Rows": 2007, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.150, + "Actual Total Time": 617.540, + "Actual Rows": 688, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.131, + "Actual Total Time": 1394.755, + "Actual Rows": 3005, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.746, + "Actual Total Time": 1600.095, + "Actual Rows": 3178, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 68.880, + "Actual Total Time": 68.888, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 1480.78, + "Plan Rows": 1, + "Plan Width": 54, + "Actual Startup Time": 20.229, + "Actual Total Time": 449.743, + "Actual Rows": 1833, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "mi.info", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 66.737, + "Actual Total Time": 66.743, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.856, + "Actual Total Time": 646.483, + "Actual Rows": 1875, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.388, + "Actual Total Time": 501.136, + "Actual Rows": 2174, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.539, + "Actual Total Time": 305.929, + "Actual Rows": 874, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.301, + "Actual Total Time": 622.286, + "Actual Rows": 3271, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.568, + "Actual Total Time": 757.311, + "Actual Rows": 4513, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 68.879, + "Actual Total Time": 68.887, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.57, + "Total Cost": 1480.59, + "Plan Rows": 1, + "Plan Width": 58, + "Actual Startup Time": 20.177, + "Actual Total Time": 444.803, + "Actual Rows": 2293, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 66.736, + "Actual Total Time": 66.741, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.799, + "Actual Total Time": 640.437, + "Actual Rows": 2244, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.333, + "Actual Total Time": 494.547, + "Actual Rows": 2823, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.436, + "Actual Total Time": 302.924, + "Actual Rows": 1077, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.246, + "Actual Total Time": 613.985, + "Actual Rows": 4248, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.459, + "Actual Total Time": 748.029, + "Actual Rows": 5461, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 68.878, + "Actual Total Time": 68.885, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.13, + "Total Cost": 1478.51, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 18.645, + "Actual Total Time": 150.335, + "Actual Rows": 1565, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 66.735, + "Actual Total Time": 66.739, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.663, + "Actual Total Time": 273.435, + "Actual Rows": 2034, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.526, + "Actual Total Time": 125.232, + "Actual Rows": 1499, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.673, + "Actual Total Time": 96.828, + "Actual Rows": 1048, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.855, + "Actual Total Time": 163.343, + "Actual Rows": 2226, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.193, + "Actual Total Time": 242.726, + "Actual Rows": 3839, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 68.878, + "Actual Total Time": 68.883, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.99, + "Total Cost": 1477.94, + "Plan Rows": 7, + "Plan Width": 12, + "Actual Startup Time": 18.167, + "Actual Total Time": 146.192, + "Actual Rows": 3166, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 66.735, + "Actual Total Time": 66.738, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.963, + "Actual Total Time": 266.972, + "Actual Rows": 4845, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.118, + "Actual Total Time": 120.743, + "Actual Rows": 2947, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.558, + "Actual Total Time": 93.962, + "Actual Rows": 2151, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.838, + "Actual Total Time": 157.626, + "Actual Rows": 4308, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.007, + "Actual Total Time": 234.848, + "Actual Rows": 7490, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 68.877, + "Actual Total Time": 68.881, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 1476.75, + "Plan Rows": 30, + "Plan Width": 16, + "Actual Startup Time": 18.122, + "Actual Total Time": 138.458, + "Actual Rows": 4501, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 66.734, + "Actual Total Time": 66.735, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.908, + "Actual Total Time": 254.979, + "Actual Rows": 6409, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.068, + "Actual Total Time": 112.887, + "Actual Rows": 4009, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.474, + "Actual Total Time": 88.238, + "Actual Rows": 3227, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.797, + "Actual Total Time": 147.624, + "Actual Rows": 6002, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.907, + "Actual Total Time": 218.871, + "Actual Rows": 11230, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 68.876, + "Actual Total Time": 68.878, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1461.53, + "Plan Rows": 34, + "Plan Width": 4, + "Actual Startup Time": 17.786, + "Actual Total Time": 51.987, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 66.732, + "Actual Total Time": 66.733, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.651, + "Actual Total Time": 71.780, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.711, + "Actual Total Time": 33.944, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.801, + "Actual Total Time": 30.195, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.939, + "Actual Total Time": 41.884, + "Actual Rows": 12628, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.513, + "Actual Total Time": 56.872, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 68.875, + "Actual Total Time": 68.876, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1308.38, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 17.672, + "Actual Total Time": 17.688, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 66.731, + "Actual Total Time": 66.732, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.527, + "Actual Total Time": 0.552, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.605, + "Actual Total Time": 0.619, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.539, + "Actual Total Time": 1.558, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.830, + "Actual Total Time": 0.875, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.300, + "Actual Total Time": 0.305, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 68.874, + "Actual Total Time": 68.874, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.77, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.132, + "Actual Total Time": 35.252, + "Actual Rows": 10959, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.120, + "Actual Total Time": 63.495, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.102, + "Actual Total Time": 30.141, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.252, + "Actual Total Time": 26.506, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.077, + "Actual Total Time": 18.387, + "Actual Rows": 6314, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.208, + "Actual Total Time": 50.480, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 76714, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 20522 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 5392 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 12628 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 36010, + "Output": ["cct1.id"], + "Cache Key": "cc.subject_id", + "Cache Mode": "logical", + "Cache Hits": 5131, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 6409, + "Cache Hits": 6407, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 4009, + "Cache Hits": 4007, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 3227, + "Cache Hits": 3225, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 6002, + "Cache Hits": 6000, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 11230, + "Cache Hits": 11228, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 12, + "Output": ["cct1.id"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 25331, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 3588, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4845, + "Cache Hits": 4843, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 2947, + "Cache Hits": 2945, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 2151, + "Cache Hits": 2149, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 4308, + "Cache Hits": 4306, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 7490, + "Cache Hits": 7488, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 12, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.111, + "Actual Total Time": 0.187, + "Actual Rows": 1, + "Actual Loops": 12521, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Action,Sci-Fi,Thriller,Crime,War}'::text[]))", + "Rows Removed by Filter": 130, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.123, + "Actual Total Time": 0.179, + "Actual Rows": 1, + "Actual Loops": 2034 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.130, + "Actual Total Time": 0.244, + "Actual Rows": 2, + "Actual Loops": 1499 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.141, + "Actual Total Time": 0.195, + "Actual Rows": 1, + "Actual Loops": 1048 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.103, + "Actual Total Time": 0.201, + "Actual Rows": 2, + "Actual Loops": 2226 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.130, + "Actual Rows": 1, + "Actual Loops": 3839 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 18344, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 2489, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 2244, + "Cache Hits": 2242, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 2823, + "Cache Hits": 2821, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1077, + "Cache Hits": 1075, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 4248, + "Cache Hits": 4246, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 5461, + "Cache Hits": 5459, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 12, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.188, + "Actual Total Time": 0.251, + "Actual Rows": 1, + "Actual Loops": 14666, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 83, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.212, + "Actual Total Time": 0.274, + "Actual Rows": 1, + "Actual Loops": 1875 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.210, + "Actual Total Time": 0.292, + "Actual Rows": 1, + "Actual Loops": 2174 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.275, + "Actual Total Time": 0.355, + "Actual Rows": 1, + "Actual Loops": 874 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.170, + "Actual Total Time": 0.235, + "Actual Rows": 1, + "Actual Loops": 3271 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.145, + "Actual Total Time": 0.186, + "Actual Rows": 1, + "Actual Loops": 4513 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 11866, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1433 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 2007 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 688 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 3005 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 3178 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 11866, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 1433 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 2007 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 688 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 3, + "Actual Loops": 3005 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 3, + "Actual Loops": 3178 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 35935, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 4315 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 6086 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 2076 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 9139 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 9596 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 11863, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 1433 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 2007 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 688 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 3004 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 3177 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1889760809355916724, + "Planning Time": 243.552, + "Triggers": [ + ], + "Execution Time": 1814.595, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -1889760809355916724, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS violent_liongate_movie
FROM cast_info AS ci,
     company_name AS cn,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND cn.name LIKE 'Lionsgate%'
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Thriller')
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cn.id = mc.company_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1486.55, + "Total Cost": 1486.56, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 4939.950, + "Actual Total Time": 4974.705, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.44, + "Total Cost": 1486.54, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 182.282, + "Actual Total Time": 4971.828, + "Actual Rows": 1273, + "Actual Loops": 1, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6.02, + "Total Cost": 1486.09, + "Plan Rows": 1, + "Plan Width": 84, + "Actual Startup Time": 69.064, + "Actual Total Time": 3325.396, + "Actual Rows": 186510, + "Actual Loops": 1, + "Output": ["mc.company_id", "mi.info", "mi_idx.info", "n.name", "t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.02, + "Total Cost": 1485.09, + "Plan Rows": 1, + "Plan Width": 84, + "Actual Startup Time": 62.240, + "Actual Total Time": 2568.035, + "Actual Rows": 23314, + "Actual Loops": 8, + "Output": ["mc.company_id", "mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 52.155, + "Actual Total Time": 52.166, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 43.243, + "Actual Total Time": 4894.928, + "Actual Rows": 43868, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 145.439, + "Actual Total Time": 2995.494, + "Actual Rows": 36899, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.990, + "Actual Total Time": 3779.525, + "Actual Rows": 20684, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.444, + "Actual Total Time": 53.454, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 58.954, + "Actual Total Time": 2072.398, + "Actual Rows": 10994, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 63.489, + "Actual Total Time": 3966.390, + "Actual Rows": 48226, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.59, + "Total Cost": 1484.59, + "Plan Rows": 1, + "Plan Width": 73, + "Actual Startup Time": 36.849, + "Actual Total Time": 2254.565, + "Actual Rows": 34796, + "Actual Loops": 8, + "Output": ["ci.person_id", "mc.company_id", "mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 52.154, + "Actual Total Time": 52.163, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 43.164, + "Actual Total Time": 4273.805, + "Actual Rows": 68646, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.039, + "Actual Total Time": 2528.262, + "Actual Rows": 54902, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.901, + "Actual Total Time": 3465.048, + "Actual Rows": 31382, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.443, + "Actual Total Time": 53.452, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 58.892, + "Actual Total Time": 1892.635, + "Actual Rows": 16331, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.972, + "Actual Total Time": 3351.350, + "Actual Rows": 69509, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.44, + "Total Cost": 1484.40, + "Plan Rows": 1, + "Plan Width": 77, + "Actual Startup Time": 36.810, + "Actual Total Time": 2206.466, + "Actual Rows": 38357, + "Actual Loops": 8, + "Output": ["ci.person_id", "mc.company_id", "mi.info", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 52.153, + "Actual Total Time": 52.161, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 43.114, + "Actual Total Time": 4178.873, + "Actual Rows": 75589, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.978, + "Actual Total Time": 2459.029, + "Actual Rows": 59599, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.843, + "Actual Total Time": 3416.434, + "Actual Rows": 34152, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.442, + "Actual Total Time": 53.450, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 58.840, + "Actual Total Time": 1864.950, + "Actual Rows": 17998, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.910, + "Actual Total Time": 3257.249, + "Actual Rows": 76991, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.01, + "Total Cost": 1483.85, + "Plan Rows": 1, + "Plan Width": 93, + "Actual Startup Time": 36.750, + "Actual Total Time": 2127.133, + "Actual Rows": 2808, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 52.152, + "Actual Total Time": 52.160, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 43.036, + "Actual Total Time": 4016.062, + "Actual Rows": 6186, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.893, + "Actual Total Time": 2343.410, + "Actual Rows": 4078, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.760, + "Actual Total Time": 3329.664, + "Actual Rows": 3048, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.441, + "Actual Total Time": 53.448, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 58.747, + "Actual Total Time": 1818.842, + "Actual Rows": 1091, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.819, + "Actual Total Time": 3110.057, + "Actual Rows": 5315, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 1483.38, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 36.664, + "Actual Total Time": 2088.281, + "Actual Rows": 2808, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi_idx.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 52.152, + "Actual Total Time": 52.158, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 42.901, + "Actual Total Time": 3933.583, + "Actual Rows": 6186, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.798, + "Actual Total Time": 2287.798, + "Actual Rows": 4078, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.629, + "Actual Total Time": 3282.831, + "Actual Rows": 3048, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.440, + "Actual Total Time": 53.446, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 58.616, + "Actual Total Time": 1797.384, + "Actual Rows": 1091, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.688, + "Actual Total Time": 3041.985, + "Actual Rows": 5315, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 1482.45, + "Plan Rows": 1, + "Plan Width": 22, + "Actual Startup Time": 14.871, + "Actual Total Time": 1715.304, + "Actual Rows": 4874, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi_idx.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 52.151, + "Actual Total Time": 52.156, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.395, + "Actual Total Time": 3251.786, + "Actual Rows": 10431, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.544, + "Actual Total Time": 1840.088, + "Actual Rows": 5314, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.916, + "Actual Total Time": 2818.316, + "Actual Rows": 7406, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.439, + "Actual Total Time": 53.444, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.813, + "Actual Total Time": 1480.784, + "Actual Rows": 3355, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.523, + "Actual Total Time": 2382.400, + "Actual Rows": 7298, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 1481.09, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 14.124, + "Actual Total Time": 203.382, + "Actual Rows": 7963, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 52.150, + "Actual Total Time": 52.155, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.254, + "Actual Total Time": 359.065, + "Actual Rows": 16466, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.849, + "Actual Total Time": 188.109, + "Actual Rows": 7601, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.460, + "Actual Total Time": 367.704, + "Actual Rows": 14995, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.438, + "Actual Total Time": 53.442, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.477, + "Actual Total Time": 154.039, + "Actual Rows": 4743, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.932, + "Actual Total Time": 260.368, + "Actual Rows": 11112, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1478.97, + "Plan Rows": 102, + "Plan Width": 18, + "Actual Startup Time": 13.869, + "Actual Total Time": 187.455, + "Actual Rows": 23961, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 51.806, + "Actual Total Time": 51.808, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.062, + "Actual Total Time": 328.324, + "Actual Rows": 49537, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.683, + "Actual Total Time": 172.156, + "Actual Rows": 22907, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.283, + "Actual Total Time": 338.432, + "Actual Rows": 45033, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.042, + "Actual Total Time": 53.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.276, + "Actual Total Time": 142.146, + "Actual Rows": 14269, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.732, + "Actual Total Time": 238.409, + "Actual Rows": 33482, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1461.53, + "Plan Rows": 34, + "Plan Width": 4, + "Actual Startup Time": 13.813, + "Actual Total Time": 56.467, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 51.805, + "Actual Total Time": 51.806, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.987, + "Actual Total Time": 80.364, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.629, + "Actual Total Time": 45.017, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.208, + "Actual Total Time": 77.984, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.041, + "Actual Total Time": 53.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.145, + "Actual Total Time": 37.659, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.679, + "Actual Total Time": 58.579, + "Actual Rows": 12628, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1308.38, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 13.718, + "Actual Total Time": 13.737, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 51.803, + "Actual Total Time": 51.804, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.848, + "Actual Total Time": 0.854, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.531, + "Actual Total Time": 0.548, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.083, + "Actual Total Time": 0.119, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.040, + "Actual Total Time": 53.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.999, + "Actual Total Time": 1.022, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.535, + "Actual Total Time": 0.580, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.77, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.111, + "Actual Total Time": 44.618, + "Actual Rows": 10959, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.132, + "Actual Total Time": 72.477, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.093, + "Actual Total Time": 41.249, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.121, + "Actual Total Time": 70.204, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.141, + "Actual Total Time": 33.971, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.095, + "Actual Total Time": 26.518, + "Actual Rows": 6314, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 76714, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 3, + "Actual Loops": 19528 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 8337 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 20522 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 5392 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 12628 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.080, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.083, + "Actual Total Time": 0.084, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.155, + "Actual Total Time": 0.189, + "Actual Rows": 1, + "Actual Loops": 63701, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 54, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.145, + "Actual Total Time": 0.175, + "Actual Rows": 1, + "Actual Loops": 16466 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.172, + "Actual Total Time": 0.216, + "Actual Rows": 1, + "Actual Loops": 7601 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.138, + "Actual Total Time": 0.162, + "Actual Rows": 0, + "Actual Loops": 14995 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.223, + "Actual Total Time": 0.278, + "Actual Rows": 1, + "Actual Loops": 4743 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.154, + "Actual Total Time": 0.190, + "Actual Rows": 1, + "Actual Loops": 11112 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.075, + "Actual Rows": 1, + "Actual Loops": 38991, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Thriller}'::text[]))", + "Rows Removed by Filter": 73, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.064, + "Actual Rows": 1, + "Actual Loops": 10431 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.082, + "Actual Rows": 1, + "Actual Loops": 5314 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 7406 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.092, + "Actual Rows": 0, + "Actual Loops": 3355 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.089, + "Actual Rows": 1, + "Actual Loops": 7298 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 22462, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 6186 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 4078 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3048 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 1091 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 5315 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.023, + "Actual Rows": 14, + "Actual Loops": 22462, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.021, + "Actual Rows": 12, + "Actual Loops": 6186 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.023, + "Actual Rows": 15, + "Actual Loops": 4078 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.023, + "Actual Rows": 11, + "Actual Loops": 3048 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.034, + "Actual Rows": 16, + "Actual Loops": 1091 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.022, + "Actual Rows": 14, + "Actual Loops": 5315 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 306858, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 42527, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 75589, + "Cache Hits": 75587, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 59599, + "Cache Hits": 59597, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 34152, + "Cache Hits": 34150, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 17998, + "Cache Hits": 17996, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 76991, + "Cache Hits": 76989, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 12, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 278364, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 68646 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 54902 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 31382 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 16331 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 69509 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 186510, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(cn.name ~~ 'Lionsgate%'::text)", + "Rows Removed by Filter": 1 + } + ] + } + ] + }, + "Query Identifier": 7519382914444524780, + "Planning Time": 153.083, + "Triggers": [ + ], + "Execution Time": 4975.290, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 7519382914444524780, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS violent_liongate_movie
FROM cast_info AS ci,
     company_name AS cn,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND cn.name LIKE 'Lionsgate%'
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mc.note LIKE '%(Blu-ray)%'
  AND mi.info IN ('Horror',
                  'Thriller')
  AND n.gender = 'm'
  AND t.production_year > 2000
  AND (t.title LIKE '%Freddy%'
       OR t.title LIKE '%Jason%'
       OR t.title LIKE 'Saw%')
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1483.76, + "Total Cost": 1483.77, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 342.417, + "Actual Total Time": 368.444, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1483.68, + "Total Cost": 1483.69, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 232.123, + "Actual Total Time": 368.394, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1482.68, + "Total Cost": 1482.69, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 204.366, + "Actual Total Time": 204.374, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 333.221, + "Actual Total Time": 333.228, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 306.955, + "Actual Total Time": 306.962, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 49.155, + "Actual Total Time": 49.164, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 212.140, + "Actual Total Time": 212.148, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 172.521, + "Actual Total Time": 172.529, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 50.315, + "Actual Total Time": 50.324, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 279.557, + "Actual Total Time": 279.565, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.73, + "Total Cost": 1482.67, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 157.869, + "Actual Total Time": 204.337, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 333.215, + "Actual Total Time": 333.221, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 231.137, + "Actual Total Time": 306.934, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 49.150, + "Actual Total Time": 49.158, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 150.803, + "Actual Total Time": 212.095, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 132.835, + "Actual Total Time": 172.499, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 50.307, + "Actual Total Time": 50.315, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 151.203, + "Actual Total Time": 279.448, + "Actual Rows": 44, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.30, + "Total Cost": 1482.16, + "Plan Rows": 1, + "Plan Width": 69, + "Actual Startup Time": 157.842, + "Actual Total Time": 204.179, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 333.214, + "Actual Total Time": 333.219, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 231.101, + "Actual Total Time": 306.854, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 49.149, + "Actual Total Time": 49.157, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 150.767, + "Actual Total Time": 211.852, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 132.779, + "Actual Total Time": 172.410, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 50.306, + "Actual Total Time": 50.313, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 151.150, + "Actual Total Time": 278.819, + "Actual Rows": 44, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.16, + "Total Cost": 1481.98, + "Plan Rows": 1, + "Plan Width": 73, + "Actual Startup Time": 157.824, + "Actual Total Time": 203.991, + "Actual Rows": 32, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 333.213, + "Actual Total Time": 333.218, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 231.074, + "Actual Total Time": 306.772, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 49.149, + "Actual Total Time": 49.156, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 150.738, + "Actual Total Time": 211.566, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 132.744, + "Actual Total Time": 172.335, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 50.305, + "Actual Total Time": 50.311, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 151.113, + "Actual Total Time": 278.036, + "Actual Rows": 132, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.73, + "Total Cost": 1481.46, + "Plan Rows": 1, + "Plan Width": 83, + "Actual Startup Time": 157.798, + "Actual Total Time": 203.825, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "mi.info", "mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 333.213, + "Actual Total Time": 333.217, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 231.039, + "Actual Total Time": 306.694, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 49.148, + "Actual Total Time": 49.154, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 150.698, + "Actual Total Time": 211.309, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 132.690, + "Actual Total Time": 172.246, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 50.304, + "Actual Total Time": 50.310, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 151.072, + "Actual Total Time": 277.356, + "Actual Rows": 44, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.59, + "Total Cost": 1481.28, + "Plan Rows": 1, + "Plan Width": 87, + "Actual Startup Time": 157.777, + "Actual Total Time": 203.740, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 333.213, + "Actual Total Time": 333.216, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 231.019, + "Actual Total Time": 306.653, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 49.147, + "Actual Total Time": 49.153, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 150.667, + "Actual Total Time": 211.178, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 132.629, + "Actual Total Time": 172.170, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 50.304, + "Actual Total Time": 50.308, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 151.042, + "Actual Total Time": 277.040, + "Actual Rows": 44, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 1480.35, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 157.636, + "Actual Total Time": 201.690, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 333.212, + "Actual Total Time": 333.215, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 230.863, + "Actual Total Time": 305.123, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 49.146, + "Actual Total Time": 49.151, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 150.374, + "Actual Total Time": 208.727, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 132.417, + "Actual Total Time": 170.694, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 50.303, + "Actual Total Time": 50.307, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 150.807, + "Actual Total Time": 268.303, + "Actual Rows": 27, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1479.32, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 148.466, + "Actual Total Time": 201.491, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "mc.company_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 260.230, + "Actual Total Time": 333.158, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 230.795, + "Actual Total Time": 305.005, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 49.146, + "Actual Total Time": 49.149, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 150.303, + "Actual Total Time": 208.467, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 132.323, + "Actual Total Time": 170.571, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 50.302, + "Actual Total Time": 50.305, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 150.726, + "Actual Total Time": 267.514, + "Actual Rows": 63, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1478.80, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 96.704, + "Actual Total Time": 201.018, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 139.420, + "Actual Total Time": 332.933, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 140.361, + "Actual Total Time": 304.551, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 49.145, + "Actual Total Time": 49.148, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 80.105, + "Actual Total Time": 207.752, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 132.257, + "Actual Total Time": 170.339, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 50.301, + "Actual Total Time": 50.304, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 81.047, + "Actual Total Time": 265.741, + "Actual Rows": 36, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1477.44, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 90.504, + "Actual Total Time": 198.270, + "Actual Rows": 6, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 138.704, + "Actual Total Time": 330.972, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 93.684, + "Actual Total Time": 301.856, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 49.144, + "Actual Total Time": 49.146, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 79.472, + "Actual Total Time": 202.043, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 131.896, + "Actual Total Time": 168.875, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 50.300, + "Actual Total Time": 50.302, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 80.458, + "Actual Total Time": 257.541, + "Actual Rows": 20, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1461.53, + "Plan Rows": 34, + "Plan Width": 4, + "Actual Startup Time": 13.209, + "Actual Total Time": 63.160, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.378, + "Actual Total Time": 81.980, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.862, + "Actual Total Time": 74.842, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 49.143, + "Actual Total Time": 49.145, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.331, + "Actual Total Time": 58.513, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.988, + "Actual Total Time": 47.348, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 50.300, + "Actual Total Time": 50.301, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.011, + "Actual Total Time": 75.577, + "Actual Rows": 12628, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1308.38, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 13.112, + "Actual Total Time": 13.136, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.242, + "Actual Total Time": 0.275, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.740, + "Actual Total Time": 0.748, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 49.142, + "Actual Total Time": 49.143, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.231, + "Actual Total Time": 0.252, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.858, + "Actual Total Time": 0.882, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 50.298, + "Actual Total Time": 50.299, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.871, + "Actual Total Time": 0.934, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.77, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.115, + "Actual Total Time": 53.534, + "Actual Rows": 10959, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.131, + "Actual Total Time": 75.136, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.117, + "Actual Total Time": 68.277, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.097, + "Actual Total Time": 55.318, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.123, + "Actual Total Time": 44.528, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.098, + "Actual Total Time": 35.162, + "Actual Rows": 6314, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 76714, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2000) AND ((t.title ~~ '%Freddy%'::text) OR (t.title ~~ '%Jason%'::text) OR (t.title ~~ 'Saw%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 20522 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 19528 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 5392 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 12628 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.301, + "Actual Total Time": 0.445, + "Actual Rows": 2, + "Actual Loops": 49, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 82, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.303, + "Actual Total Time": 0.389, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.214, + "Actual Total Time": 0.334, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.413, + "Actual Total Time": 0.630, + "Actual Rows": 2, + "Actual Loops": 9 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.386, + "Actual Total Time": 0.484, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.261, + "Actual Total Time": 0.407, + "Actual Rows": 2, + "Actual Loops": 20 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.047, + "Actual Rows": 2, + "Actual Loops": 77, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note ~~ '%(Blu-ray)%'::text)", + "Rows Removed by Filter": 24, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 5 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 14 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.074, + "Actual Rows": 2, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.047, + "Actual Rows": 2, + "Actual Loops": 36 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.98, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 119, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(cn.name ~~ 'Lionsgate%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 10 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 19 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 63 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.141, + "Actual Total Time": 0.307, + "Actual Rows": 2, + "Actual Loops": 53, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Thriller}'::text[]))", + "Rows Removed by Filter": 292, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.304, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.146, + "Actual Total Time": 0.270, + "Actual Rows": 2, + "Actual Loops": 9 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.167, + "Actual Total Time": 0.489, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.152, + "Actual Total Time": 0.321, + "Actual Rows": 2, + "Actual Loops": 27 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 84, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 44 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 84, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 5 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.025, + "Actual Rows": 3, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 44 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 252, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 15 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 48 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 9 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 132 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 84, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 44 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 146477119612211947, + "Planning Time": 164.606, + "Triggers": [ + ], + "Execution Time": 368.984, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 146477119612211947, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS violent_liongate_movie
FROM cast_info AS ci,
     company_name AS cn,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND cn.name LIKE 'Lionsgate%'
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Action',
                  'Sci-Fi',
                  'Thriller',
                  'Crime',
                  'War')
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cn.id = mc.company_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1486.73, + "Total Cost": 1486.74, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 6034.564, + "Actual Total Time": 6069.628, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1486.65, + "Total Cost": 1486.66, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 3495.374, + "Actual Total Time": 6069.550, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1485.65, + "Total Cost": 1485.66, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 3112.003, + "Actual Total Time": 3112.012, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 60.464, + "Actual Total Time": 60.474, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3593.212, + "Actual Total Time": 3593.220, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5133.758, + "Actual Total Time": 5133.764, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6019.567, + "Actual Total Time": 6019.573, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.759, + "Actual Total Time": 61.769, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2420.351, + "Actual Total Time": 2420.361, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4112.578, + "Actual Total Time": 4112.584, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.44, + "Total Cost": 1485.64, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 187.918, + "Actual Total Time": 3111.313, + "Actual Rows": 353, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 60.457, + "Actual Total Time": 60.465, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 210.058, + "Actual Total Time": 3592.808, + "Actual Rows": 193, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 103.008, + "Actual Total Time": 5132.151, + "Actual Rows": 984, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 342.177, + "Actual Total Time": 6018.537, + "Actual Rows": 514, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.754, + "Actual Total Time": 61.763, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 337.952, + "Actual Total Time": 2419.998, + "Actual Rows": 120, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 193.644, + "Actual Total Time": 4111.207, + "Actual Rows": 608, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.01, + "Total Cost": 1485.14, + "Plan Rows": 1, + "Plan Width": 69, + "Actual Startup Time": 187.873, + "Actual Total Time": 3107.247, + "Actual Rows": 353, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 60.456, + "Actual Total Time": 60.464, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 210.001, + "Actual Total Time": 3590.675, + "Actual Rows": 193, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 102.892, + "Actual Total Time": 5122.612, + "Actual Rows": 984, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 342.126, + "Actual Total Time": 6012.512, + "Actual Rows": 514, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.752, + "Actual Total Time": 61.761, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 337.906, + "Actual Total Time": 2417.973, + "Actual Rows": 120, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 193.592, + "Actual Total Time": 4102.923, + "Actual Rows": 608, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.59, + "Total Cost": 1484.70, + "Plan Rows": 1, + "Plan Width": 73, + "Actual Startup Time": 26.220, + "Actual Total Time": 2455.497, + "Actual Rows": 73710, + "Actual Loops": 8, + "Output": ["ci.person_id", "mc.company_id", "mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 60.455, + "Actual Total Time": 60.462, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.875, + "Actual Total Time": 3101.799, + "Actual Rows": 60524, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.978, + "Actual Total Time": 3774.297, + "Actual Rows": 159253, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.980, + "Actual Total Time": 4755.695, + "Actual Rows": 143364, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.751, + "Actual Total Time": 61.760, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 67.416, + "Actual Total Time": 2055.795, + "Actual Rows": 34242, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.030, + "Actual Total Time": 2995.952, + "Actual Rows": 111747, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.44, + "Total Cost": 1484.51, + "Plan Rows": 1, + "Plan Width": 77, + "Actual Startup Time": 26.184, + "Actual Total Time": 2353.291, + "Actual Rows": 85920, + "Actual Loops": 8, + "Output": ["ci.person_id", "mc.company_id", "mi.info", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 60.454, + "Actual Total Time": 60.461, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.833, + "Actual Total Time": 3026.191, + "Actual Rows": 68772, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.909, + "Actual Total Time": 3559.187, + "Actual Rows": 189195, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.932, + "Actual Total Time": 4564.722, + "Actual Rows": 163571, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.751, + "Actual Total Time": 61.758, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 67.365, + "Actual Total Time": 1999.625, + "Actual Rows": 38782, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.982, + "Actual Total Time": 2818.339, + "Actual Rows": 131721, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.01, + "Total Cost": 1483.96, + "Plan Rows": 1, + "Plan Width": 93, + "Actual Startup Time": 26.134, + "Actual Total Time": 2200.393, + "Actual Rows": 5837, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 60.453, + "Actual Total Time": 60.459, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.757, + "Actual Total Time": 2902.845, + "Actual Rows": 5652, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.832, + "Actual Total Time": 3252.796, + "Actual Rows": 12057, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.883, + "Actual Total Time": 4257.700, + "Actual Rows": 12675, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.750, + "Actual Total Time": 61.756, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 67.264, + "Actual Total Time": 1911.086, + "Actual Rows": 2375, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.934, + "Actual Total Time": 2573.671, + "Actual Rows": 8144, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 1483.49, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 26.082, + "Actual Total Time": 2132.735, + "Actual Rows": 5837, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi_idx.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 60.453, + "Actual Total Time": 60.458, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.691, + "Actual Total Time": 2841.740, + "Actual Rows": 5652, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.729, + "Actual Total Time": 3124.199, + "Actual Rows": 12057, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.824, + "Actual Total Time": 4111.005, + "Actual Rows": 12675, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.749, + "Actual Total Time": 61.755, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 67.180, + "Actual Total Time": 1873.132, + "Actual Rows": 2375, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.869, + "Actual Total Time": 2474.103, + "Actual Rows": 8144, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 1482.45, + "Plan Rows": 1, + "Plan Width": 22, + "Actual Startup Time": 16.915, + "Actual Total Time": 1691.525, + "Actual Rows": 4874, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi_idx.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 60.452, + "Actual Total Time": 60.457, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.198, + "Actual Total Time": 2401.879, + "Actual Rows": 7406, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.554, + "Actual Total Time": 2348.180, + "Actual Rows": 7298, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.359, + "Actual Total Time": 3299.732, + "Actual Rows": 10431, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.748, + "Actual Total Time": 61.753, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.165, + "Actual Total Time": 1504.613, + "Actual Rows": 3355, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.773, + "Actual Total Time": 1844.037, + "Actual Rows": 5314, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 1481.09, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 16.191, + "Actual Total Time": 198.270, + "Actual Rows": 7963, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 60.451, + "Actual Total Time": 60.455, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.753, + "Actual Total Time": 301.031, + "Actual Rows": 14995, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.548, + "Actual Total Time": 248.884, + "Actual Rows": 11112, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.477, + "Actual Total Time": 366.701, + "Actual Rows": 16466, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.747, + "Actual Total Time": 61.751, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.531, + "Actual Total Time": 152.937, + "Actual Rows": 4743, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.621, + "Actual Total Time": 178.019, + "Actual Rows": 7601, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1478.97, + "Plan Rows": 102, + "Plan Width": 18, + "Actual Startup Time": 16.034, + "Actual Total Time": 182.878, + "Actual Rows": 23961, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 60.311, + "Actual Total Time": 60.313, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.623, + "Actual Total Time": 276.458, + "Actual Rows": 45033, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.405, + "Actual Total Time": 227.157, + "Actual Rows": 33482, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.380, + "Actual Total Time": 336.383, + "Actual Rows": 49537, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.637, + "Actual Total Time": 61.639, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.377, + "Actual Total Time": 141.044, + "Actual Rows": 14269, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.546, + "Actual Total Time": 161.079, + "Actual Rows": 22907, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1461.53, + "Plan Rows": 34, + "Plan Width": 4, + "Actual Startup Time": 15.952, + "Actual Total Time": 55.721, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 60.310, + "Actual Total Time": 60.311, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.513, + "Actual Total Time": 61.167, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.303, + "Actual Total Time": 54.021, + "Actual Rows": 12628, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.283, + "Actual Total Time": 82.483, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.635, + "Actual Total Time": 61.637, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.159, + "Actual Total Time": 35.679, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.480, + "Actual Total Time": 37.456, + "Actual Rows": 8337, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1308.38, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 15.859, + "Actual Total Time": 15.877, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 60.309, + "Actual Total Time": 60.310, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.416, + "Actual Total Time": 0.443, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.122, + "Actual Total Time": 0.167, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.181, + "Actual Total Time": 1.187, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.635, + "Actual Total Time": 61.635, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.964, + "Actual Total Time": 0.986, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.393, + "Actual Total Time": 0.406, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.77, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.109, + "Actual Total Time": 41.451, + "Actual Rows": 10959, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.093, + "Actual Total Time": 54.496, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.114, + "Actual Total Time": 24.486, + "Actual Rows": 6314, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.097, + "Actual Total Time": 74.055, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.188, + "Actual Total Time": 32.123, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.083, + "Actual Total Time": 33.338, + "Actual Rows": 8337, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 76714, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 2, + "Actual Loops": 20522 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 12628 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 3, + "Actual Loops": 19528 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 5392 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 8337 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.078, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.054, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.153, + "Actual Total Time": 0.186, + "Actual Rows": 1, + "Actual Loops": 63701, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 54, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.118, + "Actual Total Time": 0.139, + "Actual Rows": 0, + "Actual Loops": 14995 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.151, + "Actual Total Time": 0.188, + "Actual Rows": 1, + "Actual Loops": 11112 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.147, + "Actual Total Time": 0.177, + "Actual Rows": 1, + "Actual Loops": 16466 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.227, + "Actual Total Time": 0.283, + "Actual Rows": 1, + "Actual Loops": 4743 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.171, + "Actual Total Time": 0.218, + "Actual Rows": 1, + "Actual Loops": 7601 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.089, + "Actual Rows": 1, + "Actual Loops": 38991, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Action,Sci-Fi,Thriller,Crime,War}'::text[]))", + "Rows Removed by Filter": 73, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 7406 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.104, + "Actual Rows": 2, + "Actual Loops": 7298 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.076, + "Actual Rows": 1, + "Actual Loops": 10431 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.108, + "Actual Rows": 1, + "Actual Loops": 3355 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.116, + "Actual Rows": 2, + "Actual Loops": 5314 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 46694, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 5652 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 12057 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 12675 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 2375 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 8144 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.021, + "Actual Rows": 15, + "Actual Loops": 46694, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.017, + "Actual Rows": 12, + "Actual Loops": 5652 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.020, + "Actual Rows": 16, + "Actual Loops": 12057 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.019, + "Actual Rows": 13, + "Actual Loops": 12675 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.029, + "Actual Rows": 16, + "Actual Loops": 2375 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.023, + "Actual Rows": 16, + "Actual Loops": 8144 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 687361, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 95318, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 1, + "Actual Loops": 68772, + "Cache Hits": 68770, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 1, + "Actual Loops": 189195, + "Cache Hits": 189193, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 163571, + "Cache Hits": 163569, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 38782, + "Cache Hits": 38780, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 131721, + "Cache Hits": 131719, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 12, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 589677, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(cn.name ~~ 'Lionsgate%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 60524 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 159253 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 143364 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 34242 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 111747 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 2825, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 193 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 984 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 514 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 120 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 608 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2399599952233934428, + "Planning Time": 165.886, + "Triggers": [ + ], + "Execution Time": 6070.327, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 2399599952233934428, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(lt.link) AS link_type,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM keyword AS k,
     link_type AS lt,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE k.keyword ='10,000-mile-club'
  AND mk.keyword_id = k.id
  AND t1.id = mk.movie_id
  AND ml.movie_id = t1.id
  AND ml.linked_movie_id = t2.id
  AND lt.id = ml.link_type_id
  AND mk.movie_id = t1.id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1349.85, + "Total Cost": 1349.86, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 18.460, + "Actual Total Time": 19.549, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((lt.link)::text)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1349.79, + "Total Cost": 1349.80, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 14.927, + "Actual Total Time": 19.532, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((lt.link)::text))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1348.79, + "Total Cost": 1348.80, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 7.469, + "Actual Total Time": 7.473, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((lt.link)::text)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.051, + "Actual Total Time": 10.055, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.538, + "Actual Total Time": 7.542, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.136, + "Actual Total Time": 7.141, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.166, + "Actual Total Time": 7.171, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.200, + "Actual Total Time": 7.205, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.733, + "Actual Total Time": 6.737, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 1348.78, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 7.464, + "Actual Total Time": 7.467, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["lt.link", "t1.title", "t2.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.046, + "Actual Total Time": 10.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.533, + "Actual Total Time": 7.537, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.131, + "Actual Total Time": 7.135, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.161, + "Actual Total Time": 7.165, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.193, + "Actual Total Time": 7.197, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.728, + "Actual Total Time": 6.732, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1347.30, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 7.463, + "Actual Total Time": 7.466, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ml.linked_movie_id", "lt.link", "t1.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.045, + "Actual Total Time": 10.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.532, + "Actual Total Time": 7.535, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.130, + "Actual Total Time": 7.133, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.161, + "Actual Total Time": 7.164, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.192, + "Actual Total Time": 7.195, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.727, + "Actual Total Time": 6.731, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1346.84, + "Plan Rows": 1, + "Plan Width": 24, + "Actual Startup Time": 7.462, + "Actual Total Time": 7.465, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "ml.linked_movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.045, + "Actual Total Time": 10.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.532, + "Actual Total Time": 7.534, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.129, + "Actual Total Time": 7.132, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.160, + "Actual Total Time": 7.163, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.192, + "Actual Total Time": 7.194, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.727, + "Actual Total Time": 6.730, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 1346.69, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 7.462, + "Actual Total Time": 7.464, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.044, + "Actual Total Time": 10.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.531, + "Actual Total Time": 7.533, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.129, + "Actual Total Time": 7.131, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.160, + "Actual Total Time": 7.162, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.191, + "Actual Total Time": 7.193, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.726, + "Actual Total Time": 6.728, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.56, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 7.454, + "Actual Total Time": 7.456, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.043, + "Actual Total Time": 10.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.470, + "Actual Total Time": 7.483, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.128, + "Actual Total Time": 7.130, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.159, + "Actual Total Time": 7.160, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.190, + "Actual Total Time": 7.192, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.725, + "Actual Total Time": 6.726, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 7.405, + "Actual Total Time": 7.407, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = '10,000-mile-club'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.043, + "Actual Total Time": 10.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.086, + "Actual Total Time": 7.097, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.128, + "Actual Total Time": 7.128, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.159, + "Actual Total Time": 7.159, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.189, + "Actual Total Time": 7.190, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.724, + "Actual Total Time": 6.725, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.370, + "Actual Total Time": 0.371, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.370, + "Actual Total Time": 0.371, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 0.38, + "Plan Rows": 5, + "Plan Width": 12, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["lt.id", "lt.link"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"],+ "Index Cond": "(t1.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"], + "Index Cond": "(t2.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6225652705960457954, + "Planning Time": 16.113, + "Triggers": [ + ], + "Execution Time": 19.877, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 6225652705960457954, + "JOINS": 5 + } + ] (1 row)
SELECT MIN(lt.link) AS link_type,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM keyword AS k,
     link_type AS lt,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE k.keyword ='character-name-in-title'
  AND mk.keyword_id = k.id
  AND t1.id = mk.movie_id
  AND ml.movie_id = t1.id
  AND ml.linked_movie_id = t2.id
  AND lt.id = ml.link_type_id
  AND mk.movie_id = t1.id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1349.85, + "Total Cost": 1349.86, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 453.741, + "Actual Total Time": 453.891, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((lt.link)::text)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1349.79, + "Total Cost": 1349.80, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 453.723, + "Actual Total Time": 453.880, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((lt.link)::text))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1348.79, + "Total Cost": 1348.80, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 62.571, + "Actual Total Time": 62.576, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((lt.link)::text)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.770, + "Actual Total Time": 6.774, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.998, + "Actual Total Time": 7.003, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.003, + "Actual Total Time": 7.008, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.251, + "Actual Total Time": 6.255, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.002, + "Actual Total Time": 7.006, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.023, + "Actual Total Time": 7.027, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.810, + "Actual Total Time": 6.814, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 1348.78, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 6.286, + "Actual Total Time": 62.043, + "Actual Rows": 548, + "Actual Loops": 8, + "Output": ["lt.link", "t1.title", "t2.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.765, + "Actual Total Time": 6.768, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.992, + "Actual Total Time": 6.996, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.998, + "Actual Total Time": 7.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.245, + "Actual Total Time": 6.249, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.996, + "Actual Total Time": 7.000, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.018, + "Actual Total Time": 7.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.804, + "Actual Total Time": 6.808, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1347.30, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 6.278, + "Actual Total Time": 49.812, + "Actual Rows": 548, + "Actual Loops": 8, + "Output": ["ml.linked_movie_id", "lt.link", "t1.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.764, + "Actual Total Time": 6.767, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.991, + "Actual Total Time": 6.995, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.997, + "Actual Total Time": 7.000, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.245, + "Actual Total Time": 6.248, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.995, + "Actual Total Time": 6.999, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.017, + "Actual Total Time": 7.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.804, + "Actual Total Time": 6.807, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1346.84, + "Plan Rows": 1, + "Plan Width": 24, + "Actual Startup Time": 6.271, + "Actual Total Time": 44.902, + "Actual Rows": 548, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "ml.linked_movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.763, + "Actual Total Time": 6.766, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.991, + "Actual Total Time": 6.993, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.996, + "Actual Total Time": 6.999, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.244, + "Actual Total Time": 6.247, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.995, + "Actual Total Time": 6.998, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.016, + "Actual Total Time": 7.018, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.802, + "Actual Total Time": 6.805, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 1346.69, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 6.266, + "Actual Total Time": 42.460, + "Actual Rows": 548, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.763, + "Actual Total Time": 6.764, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.990, + "Actual Total Time": 6.992, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.996, + "Actual Total Time": 6.998, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.244, + "Actual Total Time": 6.245, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.994, + "Actual Total Time": 6.996, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.015, + "Actual Total Time": 7.017, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.802, + "Actual Total Time": 6.803, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.56, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 6.233, + "Actual Total Time": 21.131, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.762, + "Actual Total Time": 6.763, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.989, + "Actual Total Time": 6.991, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.995, + "Actual Total Time": 6.996, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.243, + "Actual Total Time": 6.244, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.994, + "Actual Total Time": 6.995, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.015, + "Actual Total Time": 7.016, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.801, + "Actual Total Time": 6.802, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.216, + "Actual Total Time": 6.218, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.761, + "Actual Total Time": 6.761, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.988, + "Actual Total Time": 6.989, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.994, + "Actual Total Time": 6.995, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.243, + "Actual Total Time": 6.243, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.993, + "Actual Total Time": 6.993, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.014, + "Actual Total Time": 7.014, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.801, + "Actual Total Time": 6.801, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.118, + "Actual Total Time": 108.734, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 0.38, + "Plan Rows": 5, + "Plan Width": 12, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 41840, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 4388, + "Output": ["lt.id", "lt.link"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 4388, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"],+ "Index Cond": "(t1.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 4388, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"], + "Index Cond": "(t2.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6225652705960457954, + "Planning Time": 15.801, + "Triggers": [ + ], + "Execution Time": 454.205, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 6225652705960457954, + "JOINS": 5 + } + ] (1 row)
SELECT MIN(cn1.name) AS first_company,
       MIN(cn2.name) AS second_company,
       MIN(mi_idx1.info) AS first_rating,
       MIN(mi_idx2.info) AS second_rating,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM company_name AS cn1,
     company_name AS cn2,
     info_type AS it1,
     info_type AS it2,
     kind_type AS kt1,
     kind_type AS kt2,
     link_type AS lt,
     movie_companies AS mc1,
     movie_companies AS mc2,
     movie_info_idx AS mi_idx1,
     movie_info_idx AS mi_idx2,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE cn1.country_code = '[us]'
  AND it1.info = 'rating'
  AND it2.info = 'rating'
  AND kt1.kind IN ('tv series')
  AND kt2.kind IN ('tv series')
  AND lt.link IN ('sequel',
                  'follows',
                  'followed by')
  AND mi_idx2.info < '3.0'
  AND t2.production_year BETWEEN 2005 AND 2008
  AND lt.id = ml.link_type_id
  AND t1.id = ml.movie_id
  AND t2.id = ml.linked_movie_id
  AND it1.id = mi_idx1.info_type_id
  AND t1.id = mi_idx1.movie_id
  AND kt1.id = t1.kind_id
  AND cn1.id = mc1.company_id
  AND t1.id = mc1.movie_id
  AND ml.movie_id = mi_idx1.movie_id
  AND ml.movie_id = mc1.movie_id
  AND mi_idx1.movie_id = mc1.movie_id
  AND it2.id = mi_idx2.info_type_id
  AND t2.id = mi_idx2.movie_id
  AND kt2.id = t2.kind_id
  AND cn2.id = mc2.company_id
  AND t2.id = mc2.movie_id
  AND ml.linked_movie_id = mi_idx2.movie_id
  AND ml.linked_movie_id = mc2.movie_id
  AND mi_idx2.movie_id = mc2.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1631.48, + "Total Cost": 1631.49, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 67.961, + "Actual Total Time": 70.466, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn1.name)", "min(cn2.name)", "min(mi_idx1.info)", "min(mi_idx2.info)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1631.40, + "Total Cost": 1631.41, + "Plan Rows": 5, + "Plan Width": 192, + "Actual Startup Time": 66.263, + "Actual Total Time": 70.442, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn1.name))", "(PARTIAL min(cn2.name))", "(PARTIAL min(mi_idx1.info))", "(PARTIAL min(mi_idx2.info))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1630.40, + "Total Cost": 1630.41, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 52.541, + "Actual Total Time": 52.554, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn1.name)", "PARTIAL min(cn2.name)", "PARTIAL min(mi_idx1.info)", "PARTIAL min(mi_idx2.info)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 47.529, + "Actual Total Time": 47.538, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 49.967, + "Actual Total Time": 49.978, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 52.565, + "Actual Total Time": 52.580, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.131, + "Actual Total Time": 48.142, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 52.028, + "Actual Total Time": 52.042, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.04, + "Total Cost": 1630.38, + "Plan Rows": 1, + "Plan Width": 84, + "Actual Startup Time": 47.803, + "Actual Total Time": 52.543, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "mi_idx1.info", "mi_idx2.info", "t1.title", "t2.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 47.524, + "Actual Total Time": 47.532, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 49.960, + "Actual Total Time": 49.971, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.166, + "Actual Total Time": 52.543, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.123, + "Actual Total Time": 48.134, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 52.021, + "Actual Total Time": 52.035, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.90, + "Total Cost": 1630.20, + "Plan Rows": 1, + "Plan Width": 88, + "Actual Startup Time": 8.879, + "Actual Total Time": 51.203, + "Actual Rows": 134, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "mi_idx1.info", "t1.title", "t2.title", "mi_idx2.info", "mi_idx2.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t2.id = mi_idx2.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.464, + "Actual Total Time": 46.779, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.953, + "Actual Total Time": 49.592, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.197, + "Actual Total Time": 47.822, + "Actual Rows": 442, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.409, + "Actual Total Time": 47.694, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.366, + "Actual Total Time": 51.197, + "Actual Rows": 58, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.47, + "Total Cost": 1629.69, + "Plan Rows": 1, + "Plan Width": 90, + "Actual Startup Time": 8.829, + "Actual Total Time": 49.332, + "Actual Rows": 78, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "mi_idx1.info", "ml.linked_movie_id", "t1.title", "t2.title", "t2.id", "mc2.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.416, + "Actual Total Time": 45.871, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.898, + "Actual Total Time": 48.820, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.127, + "Actual Total Time": 41.971, + "Actual Rows": 222, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.354, + "Actual Total Time": 46.711, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.316, + "Actual Total Time": 49.886, + "Actual Rows": 38, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.05, + "Total Cost": 1629.25, + "Plan Rows": 1, + "Plan Width": 75, + "Actual Startup Time": 7.555, + "Actual Total Time": 44.879, + "Actual Rows": 302, + "Actual Loops": 6, + "Output": ["cn2.name", "mi_idx1.info", "ml.linked_movie_id", "t1.title", "t2.title", "t2.id", "mc2.movie_id", "mc1.company_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.324, + "Actual Total Time": 44.711, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.678, + "Actual Total Time": 45.464, + "Actual Rows": 144, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.066, + "Actual Total Time": 34.289, + "Actual Rows": 416, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.183, + "Actual Total Time": 42.417, + "Actual Rows": 173, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.272, + "Actual Total Time": 47.555, + "Actual Rows": 80, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.62, + "Total Cost": 1628.70, + "Plan Rows": 1, + "Plan Width": 83, + "Actual Startup Time": 7.498, + "Actual Total Time": 43.548, + "Actual Rows": 50, + "Actual Loops": 6, + "Output": ["cn2.name", "mi_idx1.info", "mi_idx1.movie_id", "ml.movie_id", "ml.linked_movie_id", "t1.title", "t1.id", "t2.title", "t2.id", "mc2.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.275, + "Actual Total Time": 44.276, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.586, + "Actual Total Time": 44.339, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.994, + "Actual Total Time": 32.427, + "Actual Rows": 55, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.130, + "Actual Total Time": 40.989, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.224, + "Actual Total Time": 46.749, + "Actual Rows": 19, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.20, + "Total Cost": 1628.26, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 7.393, + "Actual Total Time": 42.562, + "Actual Rows": 50, + "Actual Loops": 6, + "Output": ["mi_idx1.info", "mi_idx1.movie_id", "ml.movie_id", "ml.linked_movie_id", "t1.title", "t1.id", "t2.title", "t2.id", "mc2.company_id", "mc2.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.152, + "Actual Total Time": 43.851, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.456, + "Actual Total Time": 43.426, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.897, + "Actual Total Time": 31.123, + "Actual Rows": 55, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.012, + "Actual Total Time": 40.037, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.092, + "Actual Total Time": 45.990, + "Actual Rows": 19, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.77, + "Total Cost": 1627.66, + "Plan Rows": 1, + "Plan Width": 60, + "Actual Startup Time": 7.249, + "Actual Total Time": 41.751, + "Actual Rows": 12, + "Actual Loops": 6, + "Output": ["mi_idx1.info", "mi_idx1.movie_id", "ml.movie_id", "ml.linked_movie_id", "t1.title", "t1.id", "t2.title", "t2.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.980, + "Actual Total Time": 43.576, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.289, + "Actual Total Time": 43.079, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.764, + "Actual Total Time": 30.271, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.828, + "Actual Total Time": 39.231, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.925, + "Actual Total Time": 45.563, + "Actual Rows": 5, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.63, + "Total Cost": 1627.49, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 7.166, + "Actual Total Time": 41.594, + "Actual Rows": 17, + "Actual Loops": 6, + "Output": ["mi_idx1.info", "mi_idx1.movie_id", "ml.movie_id", "ml.linked_movie_id", "t1.title", "t1.id", "t2.title", "t2.id", "t2.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.877, + "Actual Total Time": 43.427, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.191, + "Actual Total Time": 42.948, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.687, + "Actual Total Time": 30.111, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.726, + "Actual Total Time": 39.045, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.826, + "Actual Total Time": 45.372, + "Actual Rows": 12, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.20, + "Total Cost": 1621.55, + "Plan Rows": 4, + "Plan Width": 39, + "Actual Startup Time": 1.509, + "Actual Total Time": 36.491, + "Actual Rows": 203, + "Actual Loops": 6, + "Output": ["mi_idx1.info", "mi_idx1.movie_id", "ml.movie_id", "ml.linked_movie_id", "t1.title", "t1.id"], + "Inner Unique": true, + "Hash Cond": "(t1.kind_id = kt1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.990, + "Actual Total Time": 36.579, + "Actual Rows": 185, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.383, + "Actual Total Time": 42.233, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.196, + "Actual Total Time": 25.616, + "Actual Rows": 169, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.744, + "Actual Total Time": 33.424, + "Actual Rows": 214, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.077, + "Actual Total Time": 39.848, + "Actual Rows": 183, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 1620.37, + "Plan Rows": 27, + "Plan Width": 43, + "Actual Startup Time": 1.293, + "Actual Total Time": 35.945, + "Actual Rows": 344, + "Actual Loops": 6, + "Output": ["mi_idx1.info", "mi_idx1.movie_id", "ml.movie_id", "ml.linked_movie_id", "t1.title", "t1.id", "t1.kind_id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t1.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.808, + "Actual Total Time": 36.054, + "Actual Rows": 203, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.129, + "Actual Total Time": 41.648, + "Actual Rows": 578, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.035, + "Actual Total Time": 25.276, + "Actual Rows": 183, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.568, + "Actual Total Time": 32.928, + "Actual Rows": 227, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.913, + "Actual Total Time": 39.277, + "Actual Rows": 272, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 1607.03, + "Plan Rows": 27, + "Plan Width": 18, + "Actual Startup Time": 1.171, + "Actual Total Time": 28.343, + "Actual Rows": 344, + "Actual Loops": 6, + "Output": ["mi_idx1.info", "mi_idx1.movie_id", "ml.movie_id", "ml.linked_movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx1.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.688, + "Actual Total Time": 29.878, + "Actual Rows": 203, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.974, + "Actual Total Time": 29.243, + "Actual Rows": 578, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.916, + "Actual Total Time": 21.636, + "Actual Rows": 183, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.410, + "Actual Total Time": 27.452, + "Actual Rows": 227, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.789, + "Actual Total Time": 30.650, + "Actual Rows": 272, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1596.97, + "Plan Rows": 3014, + "Plan Width": 22, + "Actual Startup Time": 1.125, + "Actual Total Time": 27.465, + "Actual Rows": 1032, + "Actual Loops": 6, + "Output": ["mi_idx1.info", "mi_idx1.info_type_id", "mi_idx1.movie_id", "ml.movie_id", "ml.linked_movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.648, + "Actual Total Time": 29.193, + "Actual Rows": 609, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.936, + "Actual Total Time": 27.470, + "Actual Rows": 1734, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.880, + "Actual Total Time": 21.268, + "Actual Rows": 549, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.367, + "Actual Total Time": 26.838, + "Actual Rows": 681, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.747, + "Actual Total Time": 29.717, + "Actual Rows": 816, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 629.91, + "Plan Rows": 1000, + "Plan Width": 8, + "Actual Startup Time": 0.887, + "Actual Total Time": 19.305, + "Actual Rows": 386, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.481, + "Actual Total Time": 22.570, + "Actual Rows": 246, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.763, + "Actual Total Time": 12.762, + "Actual Rows": 583, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.700, + "Actual Total Time": 17.610, + "Actual Rows": 216, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.698, + "Actual Total Time": 19.949, + "Actual Rows": 302, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.541, + "Actual Total Time": 20.419, + "Actual Rows": 296, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 12, + "Actual Startup Time": 0.299, + "Actual Total Time": 12.022, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.342, + "Actual Total Time": 13.846, + "Actual Rows": 4929, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.376, + "Actual Total Time": 7.645, + "Actual Rows": 2563, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.356, + "Actual Total Time": 11.163, + "Actual Rows": 4617, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.360, + "Actual Total Time": 12.645, + "Actual Rows": 4630, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.319, + "Actual Total Time": 12.624, + "Actual Rows": 4162, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 9080, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4929, + "Cache Hits": 4913, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 2563, + "Cache Hits": 2548, + "Cache Misses": 15, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4617, + "Cache Hits": 4601, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4630, + "Cache Hits": 4614, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4162, + "Cache Hits": 4146, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 95, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text = ANY ('{sequel,follows,\"followed by\"}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 15 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx1", + "Startup Cost": 0.43, + "Total Cost": 0.94, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 2315, + "Output": ["mi_idx1.id", "mi_idx1.movie_id", "mi_idx1.info_type_id", "mi_idx1.info", "mi_idx1.note"], + "Index Cond": "(mi_idx1.movie_id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.024, + "Actual Rows": 2, + "Actual Loops": 246 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.022, + "Actual Rows": 3, + "Actual Loops": 583 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 216 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.020, + "Actual Rows": 2, + "Actual Loops": 302 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.028, + "Actual Rows": 3, + "Actual Loops": 296 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 2064, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"],+ "Index Cond": "(t1.id = mi_idx1.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 203 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 578 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 183 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 227 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 272 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["kt1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt1", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt1.id"], + "Filter": "((kt1.kind)::text = 'tv series'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1220, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"], + "Index Cond": "(t2.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t2.production_year >= 2005) AND (t2.production_year <= 2008))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 185 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 25 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 169 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 214 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 183 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 102, + "Output": ["kt2.id"], + "Cache Key": "t2.kind_id", + "Cache Mode": "logical", + "Cache Hits": 30, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 12, + "Cache Hits": 8, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 5, + "Cache Hits": 3, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 21, + "Cache Hits": 18, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 18, + "Cache Hits": 15, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 12, + "Cache Hits": 7, + "Cache Misses": 5, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 21, + "Output": ["kt2.id"], + "Index Cond": "(kt2.id = t2.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt2.kind)::text = 'tv series'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 5 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc2", + "Startup Cost": 0.43, + "Total Cost": 0.56, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.064, + "Actual Rows": 4, + "Actual Loops": 71, + "Output": ["mc2.id", "mc2.movie_id", "mc2.company_id", "mc2.company_type_id", "mc2.note"], + "Index Cond": "(mc2.movie_id = t2.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.114, + "Actual Total Time": 0.126, + "Actual Rows": 4, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.076, + "Actual Rows": 9, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.046, + "Actual Rows": 3, + "Actual Loops": 17 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.053, + "Actual Rows": 3, + "Actual Loops": 14 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.078, + "Actual Rows": 4, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn2", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 297, + "Output": ["cn2.id", "cn2.name", "cn2.country_code", "cn2.imdb_id", "cn2.name_pcode_nf", "cn2.name_pcode_sf", "cn2.md5sum"], + "Index Cond": "(cn2.id = mc2.company_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 9 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 36 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 55 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 37 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 19 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc1", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.022, + "Actual Rows": 6, + "Actual Loops": 297, + "Output": ["mc1.id", "mc1.movie_id", "mc1.company_id", "mc1.company_type_id", "mc1.note"], + "Index Cond": "(mc1.movie_id = t1.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.041, + "Actual Rows": 4, + "Actual Loops": 9 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.026, + "Actual Rows": 4, + "Actual Loops": 36 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.027, + "Actual Rows": 8, + "Actual Loops": 55 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.032, + "Actual Rows": 5, + "Actual Loops": 37 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.036, + "Actual Rows": 4, + "Actual Loops": 19 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn1", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1812, + "Output": ["cn1.id", "cn1.name", "cn1.country_code", "cn1.imdb_id", "cn1.name_pcode_nf", "cn1.name_pcode_sf", "cn1.md5sum"], + "Index Cond": "(cn1.id = mc1.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn1.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 36 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 144 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 416 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 173 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 80 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx2", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.021, + "Actual Rows": 2, + "Actual Loops": 465, + "Output": ["mi_idx2.id", "mi_idx2.movie_id", "mi_idx2.info_type_id", "mi_idx2.info", "mi_idx2.note"], + "Index Cond": "(mi_idx2.movie_id = mc2.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx2.info < '3.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.033, + "Actual Rows": 2, + "Actual Loops": 24 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 27 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.023, + "Actual Rows": 2, + "Actual Loops": 222 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 29 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.031, + "Actual Rows": 2, + "Actual Loops": 38 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 807, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx2.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 48 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 27 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 442 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 29 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 58 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -3515944407635664271, + "Planning Time": 319.591, + "Triggers": [ + ], + "Execution Time": 71.117, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -3515944407635664271, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(cn1.name) AS first_company,
       MIN(cn2.name) AS second_company,
       MIN(mi_idx1.info) AS first_rating,
       MIN(mi_idx2.info) AS second_rating,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM company_name AS cn1,
     company_name AS cn2,
     info_type AS it1,
     info_type AS it2,
     kind_type AS kt1,
     kind_type AS kt2,
     link_type AS lt,
     movie_companies AS mc1,
     movie_companies AS mc2,
     movie_info_idx AS mi_idx1,
     movie_info_idx AS mi_idx2,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE cn1.country_code = '[nl]'
  AND it1.info = 'rating'
  AND it2.info = 'rating'
  AND kt1.kind IN ('tv series')
  AND kt2.kind IN ('tv series')
  AND lt.link LIKE '%follow%'
  AND mi_idx2.info < '3.0'
  AND t2.production_year = 2007
  AND lt.id = ml.link_type_id
  AND t1.id = ml.movie_id
  AND t2.id = ml.linked_movie_id
  AND it1.id = mi_idx1.info_type_id
  AND t1.id = mi_idx1.movie_id
  AND kt1.id = t1.kind_id
  AND cn1.id = mc1.company_id
  AND t1.id = mc1.movie_id
  AND ml.movie_id = mi_idx1.movie_id
  AND ml.movie_id = mc1.movie_id
  AND mi_idx1.movie_id = mc1.movie_id
  AND it2.id = mi_idx2.info_type_id
  AND t2.id = mi_idx2.movie_id
  AND kt2.id = t2.kind_id
  AND cn2.id = mc2.company_id
  AND t2.id = mc2.movie_id
  AND ml.linked_movie_id = mi_idx2.movie_id
  AND ml.linked_movie_id = mc2.movie_id
  AND mi_idx2.movie_id = mc2.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 962.13, + "Total Cost": 962.14, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 43.620, + "Actual Total Time": 46.727, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn1.name)", "min(cn2.name)", "min(mi_idx1.info)", "min(mi_idx2.info)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 962.04, + "Total Cost": 962.05, + "Plan Rows": 5, + "Plan Width": 192, + "Actual Startup Time": 41.435, + "Actual Total Time": 46.708, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn1.name))", "(PARTIAL min(cn2.name))", "(PARTIAL min(mi_idx1.info))", "(PARTIAL min(mi_idx2.info))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 961.04, + "Total Cost": 961.05, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 30.200, + "Actual Total Time": 30.214, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn1.name)", "PARTIAL min(cn2.name)", "PARTIAL min(mi_idx1.info)", "PARTIAL min(mi_idx2.info)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.450, + "Actual Total Time": 27.463, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.033, + "Actual Total Time": 28.046, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.509, + "Actual Total Time": 28.521, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.428, + "Actual Total Time": 28.442, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.346, + "Actual Total Time": 28.359, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.97, + "Total Cost": 961.03, + "Plan Rows": 1, + "Plan Width": 84, + "Actual Startup Time": 24.036, + "Actual Total Time": 30.201, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "mi_idx1.info", "mi_idx2.info", "t1.title", "t2.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.441, + "Actual Total Time": 27.452, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.025, + "Actual Total Time": 28.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.500, + "Actual Total Time": 28.512, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.419, + "Actual Total Time": 28.432, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.338, + "Actual Total Time": 28.350, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.55, + "Total Cost": 960.59, + "Plan Rows": 1, + "Plan Width": 69, + "Actual Startup Time": 24.031, + "Actual Total Time": 30.172, + "Actual Rows": 2, + "Actual Loops": 6, + "Output": ["cn2.name", "mi_idx2.info", "t2.title", "t1.title", "mc1.company_id", "mi_idx1.info"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.440, + "Actual Total Time": 27.450, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.024, + "Actual Total Time": 28.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.499, + "Actual Total Time": 28.510, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.418, + "Actual Total Time": 28.430, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.337, + "Actual Total Time": 28.348, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.41, + "Total Cost": 960.40, + "Plan Rows": 1, + "Plan Width": 73, + "Actual Startup Time": 24.026, + "Actual Total Time": 30.144, + "Actual Rows": 7, + "Actual Loops": 6, + "Output": ["cn2.name", "mi_idx2.info", "t2.title", "t1.title", "mc1.company_id", "mi_idx1.info", "mi_idx1.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.439, + "Actual Total Time": 27.449, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.023, + "Actual Total Time": 28.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.499, + "Actual Total Time": 28.509, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.417, + "Actual Total Time": 28.429, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.336, + "Actual Total Time": 28.347, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.98, + "Total Cost": 959.89, + "Plan Rows": 1, + "Plan Width": 75, + "Actual Startup Time": 24.024, + "Actual Total Time": 30.120, + "Actual Rows": 2, + "Actual Loops": 6, + "Output": ["cn2.name", "ml.movie_id", "mi_idx2.info", "t2.title", "t1.title", "t1.id", "mc1.company_id", "mc1.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.438, + "Actual Total Time": 27.447, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.023, + "Actual Total Time": 28.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.498, + "Actual Total Time": 28.507, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.417, + "Actual Total Time": 28.427, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.336, + "Actual Total Time": 28.346, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.55, + "Total Cost": 959.34, + "Plan Rows": 1, + "Plan Width": 67, + "Actual Startup Time": 24.020, + "Actual Total Time": 30.106, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn2.name", "ml.movie_id", "mi_idx2.info", "t2.title", "t1.title", "t1.id"], + "Inner Unique": true, + "Join Filter": "(kt1.id = t1.kind_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.438, + "Actual Total Time": 27.446, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.022, + "Actual Total Time": 28.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.497, + "Actual Total Time": 28.506, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.416, + "Actual Total Time": 28.426, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.335, + "Actual Total Time": 28.344, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.12, + "Total Cost": 957.85, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 24.016, + "Actual Total Time": 30.094, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["kt1.id", "cn2.name", "ml.movie_id", "mi_idx2.info", "t2.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.437, + "Actual Total Time": 27.445, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.021, + "Actual Total Time": 28.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.497, + "Actual Total Time": 28.505, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.415, + "Actual Total Time": 28.424, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.335, + "Actual Total Time": 28.343, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.12, + "Total Cost": 956.75, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 24.014, + "Actual Total Time": 30.087, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn2.name", "ml.movie_id", "mi_idx2.info", "t2.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.436, + "Actual Total Time": 27.443, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.020, + "Actual Total Time": 28.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.496, + "Actual Total Time": 28.504, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.415, + "Actual Total Time": 28.423, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.334, + "Actual Total Time": 28.342, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.99, + "Total Cost": 956.58, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 24.011, + "Actual Total Time": 30.079, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn2.name", "ml.movie_id", "mi_idx2.info", "t2.title", "t2.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.436, + "Actual Total Time": 27.442, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.020, + "Actual Total Time": 28.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.495, + "Actual Total Time": 28.502, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.414, + "Actual Total Time": 28.421, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.333, + "Actual Total Time": 28.340, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.57, + "Total Cost": 956.14, + "Plan Rows": 1, + "Plan Width": 35, + "Actual Startup Time": 24.004, + "Actual Total Time": 30.057, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["ml.movie_id", "mi_idx2.info", "t2.title", "t2.kind_id", "mc2.company_id"], + "Inner Unique": false, + "Join Filter": "(t2.id = mc2.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.435, + "Actual Total Time": 27.440, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.019, + "Actual Total Time": 28.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.495, + "Actual Total Time": 28.500, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.413, + "Actual Total Time": 28.420, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.333, + "Actual Total Time": 28.339, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 955.55, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 23.999, + "Actual Total Time": 30.047, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id", "t2.title", "t2.id", "t2.kind_id"], + "Inner Unique": true, + "Join Filter": "(ml.linked_movie_id = t2.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.434, + "Actual Total Time": 27.439, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.018, + "Actual Total Time": 28.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.494, + "Actual Total Time": 28.499, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.412, + "Actual Total Time": 28.418, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.332, + "Actual Total Time": 28.337, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 953.41, + "Plan Rows": 4, + "Plan Width": 18, + "Actual Startup Time": 9.301, + "Actual Total Time": 29.835, + "Actual Rows": 6, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx2.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.433, + "Actual Total Time": 27.437, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.905, + "Actual Total Time": 27.882, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.582, + "Actual Total Time": 28.155, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.316, + "Actual Total Time": 28.138, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.294, + "Actual Total Time": 28.105, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 950.27, + "Plan Rows": 477, + "Plan Width": 22, + "Actual Startup Time": 0.928, + "Actual Total Time": 29.426, + "Actual Rows": 484, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.info_type_id", "mi_idx2.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.574, + "Actual Total Time": 27.157, + "Actual Rows": 152, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.643, + "Actual Total Time": 27.624, + "Actual Rows": 113, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.289, + "Actual Total Time": 27.743, + "Actual Rows": 377, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.781, + "Actual Total Time": 27.784, + "Actual Rows": 160, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.138, + "Actual Total Time": 27.716, + "Actual Rows": 273, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 632.40, + "Plan Rows": 333, + "Plan Width": 8, + "Actual Startup Time": 0.799, + "Actual Total Time": 21.482, + "Actual Rows": 386, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.414, + "Actual Total Time": 21.873, + "Actual Rows": 106, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.470, + "Actual Total Time": 22.455, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.189, + "Actual Total Time": 19.688, + "Actual Rows": 289, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.577, + "Actual Total Time": 21.396, + "Actual Rows": 131, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.026, + "Actual Total Time": 20.306, + "Actual Rows": 188, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 12, + "Actual Startup Time": 0.100, + "Actual Total Time": 12.651, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.098, + "Actual Total Time": 13.007, + "Actual Rows": 3393, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.086, + "Actual Total Time": 13.392, + "Actual Rows": 3467, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.095, + "Actual Total Time": 11.314, + "Actual Rows": 4104, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.158, + "Actual Total Time": 12.741, + "Actual Rows": 3320, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.116, + "Actual Total Time": 11.822, + "Actual Rows": 3188, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 12509, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3393, + "Cache Hits": 3377, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3467, + "Cache Hits": 3451, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4104, + "Cache Hits": 4088, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3320, + "Cache Hits": 3304, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3188, + "Cache Hits": 3172, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx2", + "Startup Cost": 0.43, + "Total Cost": 0.94, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 2315, + "Output": ["mi_idx2.id", "mi_idx2.movie_id", "mi_idx2.info_type_id", "mi_idx2.info", "mi_idx2.note"], + "Index Cond": "(mi_idx2.movie_id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx2.info < '3.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 106 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 104 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 289 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 131 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 188 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 34, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"],+ "Index Cond": "(t2.id = mi_idx2.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t2.production_year = 2007)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.136, + "Actual Total Time": 0.136, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 10 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.066, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.074, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc2", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.021, + "Actual Rows": 3, + "Actual Loops": 2, + "Output": ["mc2.id", "mc2.movie_id", "mc2.company_id", "mc2.company_type_id", "mc2.note"], + "Index Cond": "(mc2.movie_id = mi_idx2.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn2", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn2.id", "cn2.name", "cn2.country_code", "cn2.imdb_id", "cn2.name_pcode_nf", "cn2.name_pcode_sf", "cn2.md5sum"], + "Index Cond": "(cn2.id = mc2.company_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["kt2.id", "kt2.kind"], + "Index Cond": "(kt2.id = t2.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt2.kind)::text = 'tv series'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Seq Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt1", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["kt1.id", "kt1.kind"], + "Filter": "((kt1.kind)::text = 'tv series'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"], + "Index Cond": "(t1.id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc1", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 6, + "Output": ["mc1.id", "mc1.movie_id", "mc1.company_id", "mc1.company_type_id", "mc1.note"], + "Index Cond": "(mc1.movie_id = t1.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx1", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 3, + "Actual Loops": 14, + "Output": ["mi_idx1.id", "mi_idx1.movie_id", "mi_idx1.info_type_id", "mi_idx1.info", "mi_idx1.note"], + "Index Cond": "(mi_idx1.movie_id = t1.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 42, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi_idx1.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn1", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 14, + "Output": ["cn1.id", "cn1.name", "cn1.country_code", "cn1.imdb_id", "cn1.name_pcode_nf", "cn1.name_pcode_sf", "cn1.md5sum"], + "Index Cond": "(cn1.id = mc1.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn1.country_code)::text = '[nl]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6846011022746249658, + "Planning Time": 275.808, + "Triggers": [ + ], + "Execution Time": 47.256, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -6846011022746249658, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(cn1.name) AS first_company,
       MIN(cn2.name) AS second_company,
       MIN(mi_idx1.info) AS first_rating,
       MIN(mi_idx2.info) AS second_rating,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM company_name AS cn1,
     company_name AS cn2,
     info_type AS it1,
     info_type AS it2,
     kind_type AS kt1,
     kind_type AS kt2,
     link_type AS lt,
     movie_companies AS mc1,
     movie_companies AS mc2,
     movie_info_idx AS mi_idx1,
     movie_info_idx AS mi_idx2,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE cn1.country_code != '[us]'
  AND it1.info = 'rating'
  AND it2.info = 'rating'
  AND kt1.kind IN ('tv series',
                   'episode')
  AND kt2.kind IN ('tv series',
                   'episode')
  AND lt.link IN ('sequel',
                  'follows',
                  'followed by')
  AND mi_idx2.info < '3.5'
  AND t2.production_year BETWEEN 2000 AND 2010
  AND lt.id = ml.link_type_id
  AND t1.id = ml.movie_id
  AND t2.id = ml.linked_movie_id
  AND it1.id = mi_idx1.info_type_id
  AND t1.id = mi_idx1.movie_id
  AND kt1.id = t1.kind_id
  AND cn1.id = mc1.company_id
  AND t1.id = mc1.movie_id
  AND ml.movie_id = mi_idx1.movie_id
  AND ml.movie_id = mc1.movie_id
  AND mi_idx1.movie_id = mc1.movie_id
  AND it2.id = mi_idx2.info_type_id
  AND t2.id = mi_idx2.movie_id
  AND kt2.id = t2.kind_id
  AND cn2.id = mc2.company_id
  AND t2.id = mc2.movie_id
  AND ml.linked_movie_id = mi_idx2.movie_id
  AND ml.linked_movie_id = mc2.movie_id
  AND mi_idx2.movie_id = mc2.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1675.09, + "Total Cost": 1675.10, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 300.931, + "Actual Total Time": 303.362, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn1.name)", "min(cn2.name)", "min(mi_idx1.info)", "min(mi_idx2.info)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1675.00, + "Total Cost": 1675.01, + "Plan Rows": 5, + "Plan Width": 192, + "Actual Startup Time": 75.347, + "Actual Total Time": 303.331, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn1.name))", "(PARTIAL min(cn2.name))", "(PARTIAL min(mi_idx1.info))", "(PARTIAL min(mi_idx2.info))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1674.00, + "Total Cost": 1674.01, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 103.551, + "Actual Total Time": 103.561, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn1.name)", "PARTIAL min(cn2.name)", "PARTIAL min(mi_idx1.info)", "PARTIAL min(mi_idx2.info)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 60.710, + "Actual Total Time": 60.718, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 76.700, + "Actual Total Time": 76.705, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 62.209, + "Actual Total Time": 62.219, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 61.711, + "Actual Total Time": 61.723, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 285.694, + "Actual Total Time": 285.700, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.03, + "Total Cost": 1673.99, + "Plan Rows": 1, + "Plan Width": 84, + "Actual Startup Time": 80.497, + "Actual Total Time": 103.495, + "Actual Rows": 19, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "mi_idx1.info", "mi_idx2.info", "t1.title", "t2.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.751, + "Actual Total Time": 60.676, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 73.387, + "Actual Total Time": 76.572, + "Actual Rows": 55, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.764, + "Actual Total Time": 62.077, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.908, + "Actual Total Time": 61.698, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 285.687, + "Actual Total Time": 285.694, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.90, + "Total Cost": 1673.82, + "Plan Rows": 1, + "Plan Width": 88, + "Actual Startup Time": 80.462, + "Actual Total Time": 103.347, + "Actual Rows": 19, + "Actual Loops": 6, + "Output": ["mi_idx1.info", "t2.title", "cn1.name", "cn2.name", "mi_idx2.info", "t1.title", "t1.kind_id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t1.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.711, + "Actual Total Time": 60.568, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 73.346, + "Actual Total Time": 76.285, + "Actual Rows": 55, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.688, + "Actual Total Time": 61.706, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.868, + "Actual Total Time": 61.651, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 285.687, + "Actual Total Time": 285.693, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.47, + "Total Cost": 1673.34, + "Plan Rows": 1, + "Plan Width": 79, + "Actual Startup Time": 80.432, + "Actual Total Time": 103.099, + "Actual Rows": 19, + "Actual Loops": 6, + "Output": ["ml.movie_id", "mi_idx1.info", "mi_idx1.movie_id", "t2.title", "mc1.movie_id", "cn1.name", "cn2.name", "mi_idx2.info"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.679, + "Actual Total Time": 60.404, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 73.324, + "Actual Total Time": 75.765, + "Actual Rows": 55, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.625, + "Actual Total Time": 61.086, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.837, + "Actual Total Time": 61.606, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 285.686, + "Actual Total Time": 285.691, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.33, + "Total Cost": 1673.00, + "Plan Rows": 2, + "Plan Width": 83, + "Actual Startup Time": 3.454, + "Actual Total Time": 87.827, + "Actual Rows": 3356, + "Actual Loops": 6, + "Output": ["ml.movie_id", "mi_idx1.info", "mi_idx1.movie_id", "t2.title", "mc1.movie_id", "cn1.name", "cn2.name", "mi_idx2.info", "mi_idx2.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t2.id = mi_idx2.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.574, + "Actual Total Time": 54.864, + "Actual Rows": 912, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.622, + "Actual Total Time": 60.998, + "Actual Rows": 2135, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.923, + "Actual Total Time": 54.970, + "Actual Rows": 624, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.351, + "Actual Total Time": 56.293, + "Actual Rows": 655, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.597, + "Actual Total Time": 235.515, + "Actual Rows": 13173, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.90, + "Total Cost": 1668.85, + "Plan Rows": 8, + "Plan Width": 85, + "Actual Startup Time": 3.410, + "Actual Total Time": 61.014, + "Actual Rows": 2501, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx1.info", "mi_idx1.movie_id", "t2.title", "t2.id", "mc1.movie_id", "cn1.name", "mc2.movie_id", "cn2.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.524, + "Actual Total Time": 45.656, + "Actual Rows": 596, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.572, + "Actual Total Time": 40.140, + "Actual Rows": 1201, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.874, + "Actual Total Time": 46.032, + "Actual Rows": 387, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.303, + "Actual Total Time": 48.123, + "Actual Rows": 471, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.550, + "Actual Total Time": 137.748, + "Actual Rows": 10545, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.48, + "Total Cost": 1665.34, + "Plan Rows": 8, + "Plan Width": 70, + "Actual Startup Time": 3.369, + "Actual Total Time": 41.136, + "Actual Rows": 2501, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx1.info", "mi_idx1.movie_id", "t2.title", "t2.id", "mc1.movie_id", "cn1.name", "mc2.company_id", "mc2.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.472, + "Actual Total Time": 38.619, + "Actual Rows": 596, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.539, + "Actual Total Time": 25.135, + "Actual Rows": 1201, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.835, + "Actual Total Time": 38.797, + "Actual Rows": 387, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.253, + "Actual Total Time": 41.569, + "Actual Rows": 471, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.500, + "Actual Total Time": 66.224, + "Actual Rows": 10545, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.05, + "Total Cost": 1660.81, + "Plan Rows": 8, + "Plan Width": 62, + "Actual Startup Time": 3.331, + "Actual Total Time": 34.030, + "Actual Rows": 499, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx1.info", "mi_idx1.movie_id", "t2.title", "t2.id", "mc1.movie_id", "cn1.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.436, + "Actual Total Time": 34.403, + "Actual Rows": 241, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.502, + "Actual Total Time": 19.306, + "Actual Rows": 362, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.794, + "Actual Total Time": 35.393, + "Actual Rows": 120, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.195, + "Actual Total Time": 39.303, + "Actual Rows": 84, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.462, + "Actual Total Time": 42.816, + "Actual Rows": 1931, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.63, + "Total Cost": 1654.62, + "Plan Rows": 14, + "Plan Width": 47, + "Actual Startup Time": 3.033, + "Actual Total Time": 28.481, + "Actual Rows": 550, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx1.info", "mi_idx1.movie_id", "t2.title", "t2.id", "mc1.company_id", "mc1.movie_id"], + "Inner Unique": true, + "Hash Cond": "(t2.kind_id = kt2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.327, + "Actual Total Time": 30.492, + "Actual Rows": 276, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.404, + "Actual Total Time": 14.645, + "Actual Rows": 372, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.579, + "Actual Total Time": 32.462, + "Actual Rows": 142, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.030, + "Actual Total Time": 37.231, + "Actual Rows": 116, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.283, + "Actual Total Time": 26.051, + "Actual Rows": 2072, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.57, + "Total Cost": 1653.35, + "Plan Rows": 49, + "Plan Width": 51, + "Actual Startup Time": 2.855, + "Actual Total Time": 27.718, + "Actual Rows": 681, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx1.info", "mi_idx1.movie_id", "t2.title", "t2.id", "t2.kind_id", "mc1.company_id", "mc1.movie_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc1.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.162, + "Actual Total Time": 29.957, + "Actual Rows": 403, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.264, + "Actual Total Time": 14.034, + "Actual Rows": 372, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.438, + "Actual Total Time": 31.957, + "Actual Rows": 482, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.889, + "Actual Total Time": 36.904, + "Actual Rows": 230, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.134, + "Actual Total Time": 24.118, + "Actual Rows": 2072, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 1647.08, + "Plan Rows": 11, + "Plan Width": 43, + "Actual Startup Time": 2.734, + "Actual Total Time": 24.594, + "Actual Rows": 142, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx1.info", "mi_idx1.movie_id", "t2.title", "t2.id", "t2.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.045, + "Actual Total Time": 27.342, + "Actual Rows": 138, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.151, + "Actual Total Time": 11.873, + "Actual Rows": 105, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.318, + "Actual Total Time": 29.339, + "Actual Rows": 89, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.658, + "Actual Total Time": 34.916, + "Actual Rows": 45, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.015, + "Actual Total Time": 18.602, + "Actual Rows": 374, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 1607.03, + "Plan Rows": 27, + "Plan Width": 18, + "Actual Startup Time": 0.694, + "Actual Total Time": 19.822, + "Actual Rows": 344, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx1.info", "mi_idx1.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx1.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.311, + "Actual Total Time": 22.122, + "Actual Rows": 355, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.786, + "Actual Total Time": 8.807, + "Actual Rows": 196, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.013, + "Actual Total Time": 24.575, + "Actual Rows": 266, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.418, + "Actual Total Time": 28.883, + "Actual Rows": 301, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.447, + "Actual Total Time": 12.608, + "Actual Rows": 621, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1596.97, + "Plan Rows": 3014, + "Plan Width": 22, + "Actual Startup Time": 0.657, + "Actual Total Time": 19.187, + "Actual Rows": 1032, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx1.info", "mi_idx1.info_type_id", "mi_idx1.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.277, + "Actual Total Time": 21.540, + "Actual Rows": 1065, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.755, + "Actual Total Time": 8.327, + "Actual Rows": 588, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.984, + "Actual Total Time": 24.019, + "Actual Rows": 798, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.383, + "Actual Total Time": 28.110, + "Actual Rows": 903, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.411, + "Actual Total Time": 11.630, + "Actual Rows": 1863, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 629.91, + "Plan Rows": 1000, + "Plan Width": 8, + "Actual Startup Time": 0.513, + "Actual Total Time": 13.720, + "Actual Rows": 386, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.174, + "Actual Total Time": 15.626, + "Actual Rows": 396, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.311, + "Actual Total Time": 4.353, + "Actual Rows": 215, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.890, + "Actual Total Time": 18.632, + "Actual Rows": 330, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.289, + "Actual Total Time": 21.400, + "Actual Rows": 335, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.309, + "Actual Total Time": 4.512, + "Actual Rows": 634, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 12, + "Actual Startup Time": 0.084, + "Actual Total Time": 8.222, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.086, + "Actual Total Time": 9.253, + "Actual Rows": 7015, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.077, + "Actual Total Time": 2.568, + "Actual Rows": 760, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.063, + "Actual Total Time": 11.483, + "Actual Rows": 5753, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.135, + "Actual Total Time": 12.870, + "Actual Rows": 6188, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.108, + "Actual Total Time": 2.388, + "Actual Rows": 904, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 9361, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 7015, + "Cache Hits": 6999, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 760, + "Cache Hits": 744, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5753, + "Cache Hits": 5737, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 6188, + "Cache Hits": 6172, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 904, + "Cache Hits": 888, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text = ANY ('{sequel,follows,\"followed by\"}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx1", + "Startup Cost": 0.43, + "Total Cost": 0.94, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 2315, + "Output": ["mi_idx1.id", "mi_idx1.movie_id", "mi_idx1.info_type_id", "mi_idx1.info", "mi_idx1.note"], + "Index Cond": "(mi_idx1.movie_id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 396 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 215 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 330 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 335 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.010, + "Actual Rows": 3, + "Actual Loops": 634 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 2064, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"],+ "Index Cond": "(t2.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t2.production_year >= 2000) AND (t2.production_year <= 2010))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 355 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 196 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 266 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 301 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 621 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc1", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.018, + "Actual Rows": 5, + "Actual Loops": 851, + "Output": ["mc1.id", "mc1.movie_id", "mc1.company_id", "mc1.company_type_id", "mc1.note"], + "Index Cond": "(mc1.movie_id = mi_idx1.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 138 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.017, + "Actual Rows": 4, + "Actual Loops": 105 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.024, + "Actual Rows": 5, + "Actual Loops": 89 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.039, + "Actual Rows": 5, + "Actual Loops": 45 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.011, + "Actual Rows": 6, + "Actual Loops": 374 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["kt2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt2", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.021, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt2.id"], + "Filter": "((kt2.kind)::text = ANY ('{\"tv series\",episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn1", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 3300, + "Output": ["cn1.id", "cn1.name", "cn1.country_code", "cn1.imdb_id", "cn1.name_pcode_nf", "cn1.name_pcode_sf", "cn1.md5sum"], + "Index Cond": "(cn1.id = mc1.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn1.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 276 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 372 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 142 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 116 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 2072 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc2", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.012, + "Actual Rows": 5, + "Actual Loops": 2996, + "Output": ["mc2.id", "mc2.movie_id", "mc2.company_id", "mc2.company_type_id", "mc2.note"], + "Index Cond": "(mc2.movie_id = t2.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 241 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 362 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.025, + "Actual Rows": 3, + "Actual Loops": 120 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.023, + "Actual Rows": 6, + "Actual Loops": 84 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.010, + "Actual Rows": 5, + "Actual Loops": 1931 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn2", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 15007, + "Output": ["cn2.id", "cn2.name", "cn2.country_code", "cn2.imdb_id", "cn2.name_pcode_nf", "cn2.name_pcode_sf", "cn2.md5sum"], + "Index Cond": "(cn2.id = mc2.company_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 596 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1201 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 387 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 471 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 10545 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx2", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 2, + "Plan Width": 14, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 15007, + "Output": ["mi_idx2.id", "mi_idx2.movie_id", "mi_idx2.info_type_id", "mi_idx2.info", "mi_idx2.note"], + "Index Cond": "(mi_idx2.movie_id = mc2.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx2.info < '3.5'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 596 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 1201 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.020, + "Actual Rows": 2, + "Actual Loops": 387 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 471 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 10545 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 20134, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx2.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 912 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 2135 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 624 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 655 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 13173 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 114, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"], + "Index Cond": "(t1.id = mc1.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 15 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 55 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 27 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 114, + "Output": ["kt1.id", "kt1.kind"], + "Index Cond": "(kt1.id = t1.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt1.kind)::text = ANY ('{\"tv series\",episode}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 15 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 55 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 27 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2787191317670660246, + "Planning Time": 309.635, + "Triggers": [ + ], + "Execution Time": 303.912, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -2787191317670660246, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM keyword AS k,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE k.keyword LIKE '%sequel%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German')
  AND t.production_year > 2005
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi.movie_id
  AND k.id = mk.keyword_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5822.75, + "Total Cost": 5822.76, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 273.824, + "Actual Total Time": 273.942, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5822.73, + "Total Cost": 5822.74, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 273.803, + "Actual Total Time": 273.930, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5821.73, + "Total Cost": 5821.74, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 62.011, + "Actual Total Time": 62.014, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.892, + "Actual Total Time": 25.897, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.877, + "Actual Total Time": 25.879, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.434, + "Actual Total Time": 24.437, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.478, + "Actual Total Time": 19.480, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 71.737, + "Actual Total Time": 71.740, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.275, + "Actual Total Time": 27.277, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.234, + "Actual Total Time": 28.237, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 5821.40, + "Plan Rows": 132, + "Plan Width": 17, + "Actual Startup Time": 8.444, + "Actual Total Time": 61.952, + "Actual Rows": 26, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.623, + "Actual Total Time": 25.868, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.494, + "Actual Total Time": 25.839, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.988, + "Actual Total Time": 24.410, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.928, + "Actual Total Time": 19.464, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.738, + "Actual Total Time": 71.665, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.463, + "Actual Total Time": 27.246, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.838, + "Actual Total Time": 28.213, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 5251.03, + "Plan Rows": 520, + "Plan Width": 25, + "Actual Startup Time": 4.867, + "Actual Total Time": 36.631, + "Actual Rows": 279, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.255, + "Actual Total Time": 20.629, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.958, + "Actual Total Time": 10.190, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.845, + "Actual Total Time": 14.054, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.044, + "Actual Total Time": 14.035, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.057, + "Actual Total Time": 33.470, + "Actual Rows": 536, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.692, + "Actual Total Time": 19.139, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.968, + "Actual Total Time": 20.781, + "Actual Rows": 34, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 4654.29, + "Plan Rows": 1296, + "Plan Width": 4, + "Actual Startup Time": 4.045, + "Actual Total Time": 15.890, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.380, + "Actual Total Time": 16.681, + "Actual Rows": 178, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.456, + "Actual Total Time": 5.329, + "Actual Rows": 220, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.552, + "Actual Total Time": 11.716, + "Actual Rows": 83, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.738, + "Actual Total Time": 12.188, + "Actual Rows": 79, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.518, + "Actual Total Time": 13.032, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.081, + "Actual Total Time": 9.782, + "Actual Rows": 322, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.916, + "Actual Total Time": 17.479, + "Actual Rows": 125, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 38, + "Plan Width": 4, + "Actual Startup Time": 3.253, + "Actual Total Time": 7.293, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.884, + "Actual Total Time": 12.072, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.120, + "Actual Total Time": 2.833, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.213, + "Actual Total Time": 9.341, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.440, + "Actual Total Time": 9.748, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.938, + "Actual Total Time": 2.974, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.187, + "Actual Total Time": 5.518, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.624, + "Actual Total Time": 13.228, + "Actual Rows": 5, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 89.83, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.512, + "Actual Total Time": 2.166, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.777, + "Actual Total Time": 1.131, + "Actual Rows": 44, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.347, + "Actual Total Time": 1.197, + "Actual Rows": 110, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.305, + "Actual Total Time": 0.463, + "Actual Rows": 17, + "Actual Loops": 5 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.225, + "Actual Total Time": 0.298, + "Actual Rows": 10, + "Actual Loops": 8 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.574, + "Actual Total Time": 9.541, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.397, + "Actual Total Time": 1.028, + "Actual Rows": 80, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.596, + "Actual Total Time": 0.836, + "Actual Rows": 25, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 12951, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 178 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 220 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 83 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 79 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1400 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 322 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 125 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.08, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.084, + "Actual Total Time": 0.090, + "Actual Rows": 0, + "Actual Loops": 2235, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German}'::text[]))", + "Rows Removed by Filter": 45, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.106, + "Actual Total Time": 0.133, + "Actual Rows": 0, + "Actual Loops": 39 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.152, + "Actual Total Time": 0.177, + "Actual Rows": 0, + "Actual Loops": 88 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.344, + "Actual Total Time": 0.368, + "Actual Rows": 0, + "Actual Loops": 28 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.267, + "Actual Total Time": 0.270, + "Actual Rows": 0, + "Actual Loops": 20 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.070, + "Actual Rows": 0, + "Actual Loops": 536 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.230, + "Actual Total Time": 0.244, + "Actual Rows": 0, + "Actual Loops": 33 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.197, + "Actual Total Time": 0.217, + "Actual Rows": 0, + "Actual Loops": 34 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5539820102114296223, + "Planning Time": 8.437, + "Triggers": [ + ], + "Execution Time": 274.161, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 5539820102114296223, + "JOINS": 3 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM keyword AS k,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE k.keyword LIKE '%sequel%'
  AND mi.info IN ('Bulgaria')
  AND t.production_year > 2010
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi.movie_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5439.35, + "Total Cost": 5439.36, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 155.609, + "Actual Total Time": 155.736, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.30, + "Total Cost": 5439.34, + "Plan Rows": 4, + "Plan Width": 17, + "Actual Startup Time": 12.199, + "Actual Total Time": 155.708, + "Actual Rows": 5, + "Actual Loops": 1, + "Output": ["t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 5438.34, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 15.735, + "Actual Total Time": 35.271, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.917, + "Actual Total Time": 16.920, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.057, + "Actual Total Time": 16.945, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.994, + "Actual Total Time": 16.996, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.023, + "Actual Total Time": 14.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.949, + "Actual Total Time": 16.951, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.937, + "Actual Total Time": 16.940, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.543, + "Actual Total Time": 28.563, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 5251.03, + "Plan Rows": 201, + "Plan Width": 25, + "Actual Startup Time": 6.139, + "Actual Total Time": 32.078, + "Actual Rows": 51, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.159, + "Actual Total Time": 16.097, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.227, + "Actual Total Time": 15.095, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.149, + "Actual Total Time": 16.646, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.022, + "Actual Total Time": 14.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.464, + "Actual Total Time": 15.837, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.697, + "Actual Total Time": 14.524, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.242, + "Actual Total Time": 24.738, + "Actual Rows": 47, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 4654.29, + "Plan Rows": 1296, + "Plan Width": 4, + "Actual Startup Time": 4.364, + "Actual Total Time": 14.259, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.310, + "Actual Total Time": 11.824, + "Actual Rows": 232, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.435, + "Actual Total Time": 9.055, + "Actual Rows": 340, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.802, + "Actual Total Time": 14.162, + "Actual Rows": 125, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.021, + "Actual Total Time": 14.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.108, + "Actual Total Time": 12.567, + "Actual Rows": 174, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.000, + "Actual Total Time": 11.920, + "Actual Rows": 136, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.177, + "Actual Total Time": 6.282, + "Actual Rows": 1400, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 38, + "Plan Width": 4, + "Actual Startup Time": 4.292, + "Actual Total Time": 8.804, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.236, + "Actual Total Time": 10.162, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.358, + "Actual Total Time": 6.848, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.720, + "Actual Total Time": 13.109, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.015, + "Actual Total Time": 14.016, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.041, + "Actual Total Time": 11.269, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.936, + "Actual Total Time": 10.939, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.067, + "Actual Total Time": 1.114, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 89.83, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.037, + "Actual Total Time": 1.327, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.260, + "Actual Rows": 39, + "Actual Loops": 6 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.414, + "Actual Rows": 68, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.122, + "Actual Rows": 16, + "Actual Loops": 8 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.244, + "Actual Rows": 35, + "Actual Loops": 5 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.231, + "Actual Rows": 34, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.108, + "Actual Total Time": 4.673, + "Actual Rows": 1400, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 12951, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 232 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 340 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 125 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 174 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 136 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1400 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 405, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = 'Bulgaria'::text)", + "Rows Removed by Filter": 63, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.125, + "Actual Total Time": 0.141, + "Actual Rows": 0, + "Actual Loops": 13 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.100, + "Actual Total Time": 0.100, + "Actual Rows": 0, + "Actual Loops": 11 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.141, + "Actual Total Time": 0.141, + "Actual Rows": 0, + "Actual Loops": 17 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.080, + "Actual Rows": 0, + "Actual Loops": 47 + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2073429154321355728, + "Planning Time": 9.258, + "Triggers": [ + ], + "Execution Time": 155.963, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 2073429154321355728, + "JOINS": 3 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM keyword AS k,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE k.keyword LIKE '%sequel%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND t.production_year > 1990
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi.movie_id
  AND k.id = mk.keyword_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6161.28, + "Total Cost": 6161.29, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 488.036, + "Actual Total Time": 488.174, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6161.25, + "Total Cost": 6161.26, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 488.017, + "Actual Total Time": 488.164, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6160.25, + "Total Cost": 6160.26, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 98.900, + "Actual Total Time": 98.902, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.539, + "Actual Total Time": 34.541, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 35.019, + "Actual Total Time": 35.021, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 34.570, + "Actual Total Time": 34.573, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 35.009, + "Actual Total Time": 35.012, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.551, + "Actual Total Time": 34.553, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 81.602, + "Actual Total Time": 81.604, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 48.621, + "Actual Total Time": 48.623, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.32, + "Total Cost": 6157.65, + "Plan Rows": 1040, + "Plan Width": 17, + "Actual Startup Time": 3.864, + "Actual Total Time": 98.369, + "Actual Rows": 906, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.563, + "Actual Total Time": 34.440, + "Actual Rows": 102, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.658, + "Actual Total Time": 34.934, + "Actual Rows": 76, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.125, + "Actual Total Time": 34.400, + "Actual Rows": 173, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.202, + "Actual Total Time": 34.894, + "Actual Rows": 120, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.793, + "Actual Total Time": 34.489, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.249, + "Actual Total Time": 80.823, + "Actual Rows": 1231, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.714, + "Actual Total Time": 48.428, + "Actual Rows": 243, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 5251.03, + "Plan Rows": 896, + "Plan Width": 25, + "Actual Startup Time": 3.393, + "Actual Total Time": 29.957, + "Actual Rows": 984, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.162, + "Actual Total Time": 16.365, + "Actual Rows": 85, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.074, + "Actual Total Time": 14.225, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.042, + "Actual Total Time": 12.786, + "Actual Rows": 157, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.123, + "Actual Total Time": 16.196, + "Actual Rows": 128, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.605, + "Actual Total Time": 13.497, + "Actual Rows": 66, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.913, + "Actual Total Time": 25.485, + "Actual Rows": 1283, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.626, + "Actual Total Time": 8.493, + "Actual Rows": 191, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 4654.29, + "Plan Rows": 1296, + "Plan Width": 4, + "Actual Startup Time": 3.314, + "Actual Total Time": 12.419, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.100, + "Actual Total Time": 13.116, + "Actual Rows": 146, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.022, + "Actual Total Time": 11.897, + "Actual Rows": 100, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.978, + "Actual Total Time": 8.960, + "Actual Rows": 182, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.011, + "Actual Total Time": 12.859, + "Actual Rows": 168, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.527, + "Actual Total Time": 11.320, + "Actual Rows": 99, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.733, + "Actual Total Time": 6.754, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.574, + "Actual Total Time": 2.650, + "Actual Rows": 312, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 38, + "Plan Width": 4, + "Actual Startup Time": 3.235, + "Actual Total Time": 7.101, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.032, + "Actual Total Time": 11.729, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.958, + "Actual Total Time": 10.817, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.901, + "Actual Total Time": 7.577, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.934, + "Actual Total Time": 11.707, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.454, + "Actual Total Time": 10.267, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.628, + "Actual Total Time": 1.667, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.506, + "Actual Total Time": 0.565, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 89.83, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.040, + "Actual Total Time": 1.297, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.187, + "Actual Rows": 21, + "Actual Loops": 7 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.112, + "Actual Rows": 11, + "Actual Loops": 9 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.324, + "Actual Rows": 46, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.269, + "Actual Rows": 42, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.333, + "Actual Rows": 33, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.100, + "Actual Total Time": 4.606, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.063, + "Actual Total Time": 1.961, + "Actual Rows": 312, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 12951, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 146 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 100 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 182 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 168 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 99 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1400 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 312 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.46, + "Total Cost": 1.00, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.069, + "Actual Rows": 1, + "Actual Loops": 7874, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 35, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.103, + "Actual Total Time": 0.211, + "Actual Rows": 1, + "Actual Loops": 85 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.150, + "Actual Total Time": 0.286, + "Actual Rows": 1, + "Actual Loops": 72 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.136, + "Actual Rows": 1, + "Actual Loops": 157 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.145, + "Actual Rows": 1, + "Actual Loops": 128 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.166, + "Actual Total Time": 0.317, + "Actual Rows": 1, + "Actual Loops": 66 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 1283 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.104, + "Actual Total Time": 0.208, + "Actual Rows": 1, + "Actual Loops": 191 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 8031722090065659855, + "Planning Time": 9.313, + "Triggers": [ + ], + "Execution Time": 488.397, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 8031722090065659855, + "JOINS": 3 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS movie_title
FROM info_type AS it,
     keyword AS k,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it.info ='rating'
  AND k.keyword LIKE '%sequel%'
  AND mi_idx.info > '5.0'
  AND t.production_year > 2005
  AND t.id = mi_idx.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5316.08, + "Total Cost": 5316.09, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 216.780, + "Actual Total Time": 217.017, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5316.03, + "Total Cost": 5316.04, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 216.756, + "Actual Total Time": 217.005, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5315.03, + "Total Cost": 5315.04, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 46.839, + "Actual Total Time": 46.843, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.498, + "Actual Total Time": 19.501, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.495, + "Actual Total Time": 19.498, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.484, + "Actual Total Time": 19.489, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.709, + "Actual Total Time": 34.715, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 19.500, + "Actual Total Time": 19.504, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.093, + "Actual Total Time": 13.098, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.017, + "Actual Total Time": 33.021, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.13, + "Total Cost": 5315.01, + "Plan Rows": 5, + "Plan Width": 23, + "Actual Startup Time": 6.449, + "Actual Total Time": 46.729, + "Actual Rows": 92, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi_idx.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.155, + "Actual Total Time": 19.449, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.976, + "Actual Total Time": 19.436, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.015, + "Actual Total Time": 19.449, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.329, + "Actual Total Time": 34.561, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.913, + "Actual Total Time": 19.449, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.289, + "Actual Total Time": 13.068, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 19.940, + "Actual Total Time": 32.973, + "Actual Rows": 17, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 5308.86, + "Plan Rows": 13, + "Plan Width": 14, + "Actual Startup Time": 3.175, + "Actual Total Time": 38.047, + "Actual Rows": 728, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.101, + "Actual Total Time": 17.480, + "Actual Rows": 97, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.081, + "Actual Total Time": 16.885, + "Actual Rows": 111, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.169, + "Actual Total Time": 18.242, + "Actual Rows": 43, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.756, + "Actual Total Time": 28.811, + "Actual Rows": 324, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.566, + "Actual Total Time": 17.515, + "Actual Rows": 90, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.219, + "Actual Total Time": 12.466, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.509, + "Actual Total Time": 29.492, + "Actual Rows": 161, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 5302.98, + "Plan Rows": 1483, + "Plan Width": 18, + "Actual Startup Time": 2.852, + "Actual Total Time": 37.046, + "Actual Rows": 1058, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.854, + "Actual Total Time": 17.102, + "Actual Rows": 146, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.830, + "Actual Total Time": 16.459, + "Actual Rows": 164, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.920, + "Actual Total Time": 17.920, + "Actual Rows": 68, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.536, + "Actual Total Time": 28.092, + "Actual Rows": 501, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.317, + "Actual Total Time": 17.108, + "Actual Rows": 158, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.764, + "Actual Total Time": 12.098, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.201, + "Actual Total Time": 28.947, + "Actual Rows": 262, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 4654.29, + "Plan Rows": 1296, + "Plan Width": 4, + "Actual Startup Time": 2.766, + "Actual Total Time": 13.452, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.784, + "Actual Total Time": 12.820, + "Actual Rows": 184, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.717, + "Actual Total Time": 10.966, + "Actual Rows": 165, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.843, + "Actual Total Time": 15.008, + "Actual Rows": 95, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.472, + "Actual Total Time": 6.996, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.185, + "Actual Total Time": 12.203, + "Actual Rows": 200, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.659, + "Actual Total Time": 10.715, + "Actual Rows": 51, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.130, + "Actual Total Time": 5.360, + "Actual Rows": 312, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 38, + "Plan Width": 4, + "Actual Startup Time": 2.687, + "Actual Total Time": 7.920, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.718, + "Actual Total Time": 11.286, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.651, + "Actual Total Time": 9.572, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.766, + "Actual Total Time": 13.928, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.380, + "Actual Total Time": 1.429, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.125, + "Actual Total Time": 10.602, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.585, + "Actual Total Time": 10.199, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.060, + "Actual Total Time": 3.115, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 89.83, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.042, + "Actual Total Time": 1.356, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.289, + "Actual Rows": 37, + "Actual Loops": 5 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.186, + "Actual Rows": 24, + "Actual Loops": 7 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.205, + "Actual Rows": 19, + "Actual Loops": 5 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.089, + "Actual Total Time": 5.042, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.300, + "Actual Rows": 40, + "Actual Loops": 5 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.096, + "Actual Rows": 10, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.067, + "Actual Total Time": 2.116, + "Actual Rows": 312, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 12951, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '5.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 184 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 165 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 95 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1400 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 200 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 51 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.075, + "Actual Rows": 1, + "Actual Loops": 312 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.063, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 5820, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 97 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 111 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 43 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 324 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 90 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 26 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 161 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1950505845315524548, + "Planning Time": 6.986, + "Triggers": [ + ], + "Execution Time": 217.300, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -1950505845315524548, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS movie_title
FROM info_type AS it,
     keyword AS k,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it.info ='rating'
  AND k.keyword LIKE '%sequel%'
  AND mi_idx.info > '9.0'
  AND t.production_year > 2010
  AND t.id = mi_idx.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5305.99, + "Total Cost": 5306.00, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 143.254, + "Actual Total Time": 143.413, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5305.94, + "Total Cost": 5305.95, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 143.233, + "Actual Total Time": 143.401, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5304.94, + "Total Cost": 5304.95, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 32.461, + "Actual Total Time": 32.465, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.989, + "Actual Total Time": 10.994, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.582, + "Actual Total Time": 18.586, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.497, + "Actual Total Time": 8.501, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.977, + "Actual Total Time": 10.982, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.048, + "Actual Total Time": 25.051, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.560, + "Actual Total Time": 18.564, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.600, + "Actual Total Time": 24.604, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.44, + "Total Cost": 5304.94, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 16.173, + "Actual Total Time": 32.454, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi_idx.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.985, + "Actual Total Time": 10.989, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.577, + "Actual Total Time": 18.581, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.492, + "Actual Total Time": 8.495, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.973, + "Actual Total Time": 10.977, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.042, + "Actual Total Time": 25.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.557, + "Actual Total Time": 18.560, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.925, + "Actual Total Time": 24.582, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.01, + "Total Cost": 5304.47, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 14.007, + "Actual Total Time": 32.380, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.984, + "Actual Total Time": 10.988, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.577, + "Actual Total Time": 18.579, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.491, + "Actual Total Time": 8.494, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.973, + "Actual Total Time": 10.976, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.042, + "Actual Total Time": 25.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.907, + "Actual Total Time": 18.481, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.795, + "Actual Total Time": 24.473, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 5302.98, + "Plan Rows": 22, + "Plan Width": 18, + "Actual Startup Time": 3.676, + "Actual Total Time": 32.236, + "Actual Rows": 38, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.787, + "Actual Total Time": 10.929, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.031, + "Actual Total Time": 18.524, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.838, + "Actual Total Time": 8.441, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.702, + "Actual Total Time": 10.910, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.726, + "Actual Total Time": 24.949, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.340, + "Actual Total Time": 18.391, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.384, + "Actual Total Time": 24.367, + "Actual Rows": 14, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 4654.29, + "Plan Rows": 1296, + "Plan Width": 4, + "Actual Startup Time": 2.927, + "Actual Total Time": 13.165, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.489, + "Actual Total Time": 8.326, + "Actual Rows": 146, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.453, + "Actual Total Time": 16.342, + "Actual Rows": 105, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.013, + "Actual Total Time": 7.075, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.197, + "Actual Total Time": 7.521, + "Actual Rows": 172, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.660, + "Actual Total Time": 5.786, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.455, + "Actual Total Time": 14.272, + "Actual Rows": 209, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.103, + "Actual Total Time": 7.567, + "Actual Rows": 1400, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 38, + "Plan Width": 4, + "Actual Startup Time": 2.848, + "Actual Total Time": 7.069, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.420, + "Actual Total Time": 7.350, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.385, + "Actual Total Time": 15.332, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.930, + "Actual Total Time": 6.492, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.125, + "Actual Total Time": 6.153, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.596, + "Actual Total Time": 3.633, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.396, + "Actual Total Time": 12.611, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.000, + "Actual Total Time": 2.039, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 89.83, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.039, + "Actual Total Time": 1.497, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.305, + "Actual Rows": 49, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.136, + "Actual Rows": 15, + "Actual Loops": 7 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.108, + "Actual Rows": 13, + "Actual Loops": 5 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.326, + "Actual Rows": 43, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.060, + "Actual Total Time": 2.034, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.197, + "Actual Rows": 26, + "Actual Loops": 8 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.099, + "Actual Total Time": 5.003, + "Actual Rows": 1400, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 12951, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '9.0'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 146 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 105 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 63 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 172 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 312 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 209 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 1400 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 306, + "Output": ["it.id"], + "Cache Key": "mi_idx.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 235, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 5, + "Cache Hits": 4, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 7, + "Cache Hits": 6, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 10, + "Cache Hits": 9, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 20, + "Cache Hits": 19, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 10, + "Cache Hits": 8, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 14, + "Cache Hits": 12, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 12, + "Output": ["it.id"], + "Index Cond": "(it.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 21, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.076, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1950505845315524548, + "Planning Time": 7.302, + "Triggers": [ + ], + "Execution Time": 143.707, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -1950505845315524548, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS movie_title
FROM info_type AS it,
     keyword AS k,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it.info ='rating'
  AND k.keyword LIKE '%sequel%'
  AND mi_idx.info > '2.0'
  AND t.production_year > 1990
  AND t.id = mi_idx.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5335.94, + "Total Cost": 5335.95, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 203.116, + "Actual Total Time": 203.389, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5335.90, + "Total Cost": 5335.91, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 203.090, + "Actual Total Time": 203.377, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5334.90, + "Total Cost": 5334.91, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 43.180, + "Actual Total Time": 43.185, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 17.275, + "Actual Total Time": 17.280, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.745, + "Actual Total Time": 20.753, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.178, + "Actual Total Time": 17.182, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.367, + "Actual Total Time": 33.370, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.528, + "Actual Total Time": 18.531, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.308, + "Actual Total Time": 18.311, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.755, + "Actual Total Time": 17.759, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.13, + "Total Cost": 5334.82, + "Plan Rows": 15, + "Plan Width": 23, + "Actual Startup Time": 3.828, + "Actual Total Time": 42.790, + "Actual Rows": 588, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi_idx.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.605, + "Actual Total Time": 17.109, + "Actual Rows": 173, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.579, + "Actual Total Time": 20.553, + "Actual Rows": 209, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.287, + "Actual Total Time": 17.104, + "Actual Rows": 66, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.628, + "Actual Total Time": 32.986, + "Actual Rows": 422, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.597, + "Actual Total Time": 18.474, + "Actual Rows": 45, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.968, + "Actual Total Time": 18.234, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.451, + "Actual Total Time": 17.678, + "Actual Rows": 80, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 5324.42, + "Plan Rows": 22, + "Plan Width": 14, + "Actual Startup Time": 3.737, + "Actual Total Time": 31.272, + "Actual Rows": 1012, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.559, + "Actual Total Time": 11.840, + "Actual Rows": 288, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.517, + "Actual Total Time": 16.077, + "Actual Rows": 252, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.239, + "Actual Total Time": 14.465, + "Actual Rows": 83, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.366, + "Actual Total Time": 24.630, + "Actual Rows": 514, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.429, + "Actual Total Time": 16.549, + "Actual Rows": 86, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.911, + "Actual Total Time": 16.046, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.395, + "Actual Total Time": 15.873, + "Actual Rows": 100, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 5315.94, + "Plan Rows": 2435, + "Plan Width": 18, + "Actual Startup Time": 3.454, + "Actual Total Time": 30.045, + "Actual Rows": 1870, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.305, + "Actual Total Time": 11.205, + "Actual Rows": 543, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.252, + "Actual Total Time": 15.499, + "Actual Rows": 486, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.015, + "Actual Total Time": 14.135, + "Actual Rows": 140, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.088, + "Actual Total Time": 23.662, + "Actual Rows": 999, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.148, + "Actual Total Time": 16.153, + "Actual Rows": 169, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.674, + "Actual Total Time": 15.681, + "Actual Rows": 162, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.149, + "Actual Total Time": 15.502, + "Actual Rows": 187, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 4654.29, + "Plan Rows": 1296, + "Plan Width": 4, + "Actual Startup Time": 3.387, + "Actual Total Time": 13.312, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.241, + "Actual Total Time": 4.990, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.184, + "Actual Total Time": 10.301, + "Actual Rows": 265, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.947, + "Actual Total Time": 11.875, + "Actual Rows": 99, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.015, + "Actual Total Time": 7.030, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.072, + "Actual Total Time": 13.919, + "Actual Rows": 103, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.598, + "Actual Total Time": 13.092, + "Actual Rows": 102, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.077, + "Actual Total Time": 13.173, + "Actual Rows": 126, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 38, + "Plan Width": 4, + "Actual Startup Time": 3.313, + "Actual Total Time": 8.096, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.181, + "Actual Total Time": 3.015, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.129, + "Actual Total Time": 8.592, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.885, + "Actual Total Time": 10.925, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.907, + "Actual Total Time": 1.944, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.002, + "Actual Total Time": 12.929, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.533, + "Actual Total Time": 12.138, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.011, + "Actual Total Time": 12.354, + "Actual Rows": 3, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 89.83, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.038, + "Actual Total Time": 1.278, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.056, + "Actual Total Time": 1.857, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.402, + "Actual Rows": 66, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.180, + "Actual Rows": 20, + "Actual Loops": 5 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.103, + "Actual Total Time": 4.620, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.117, + "Actual Rows": 13, + "Actual Loops": 8 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.127, + "Actual Rows": 15, + "Actual Loops": 7 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.256, + "Actual Rows": 42, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 2, + "Plan Width": 14, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 12951, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '2.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.019, + "Actual Rows": 2, + "Actual Loops": 312 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 2, + "Actual Loops": 265 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 99 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1400 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 2, + "Actual Loops": 103 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 2, + "Actual Loops": 102 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 126 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 8092, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 288 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 252 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 83 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 514 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 86 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 93 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 100 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1950505845315524548, + "Planning Time": 7.741, + "Triggers": [ + ], + "Execution Time": 203.654, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -1950505845315524548, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS typical_european_movie
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     title AS t
WHERE ct.kind = 'production companies'
  AND mc.note LIKE '%(theatrical)%'
  AND mc.note LIKE '%(France)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German')
  AND t.production_year > 2005
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND mc.movie_id = mi.movie_id
  AND ct.id = mc.company_type_id
  AND it.id = mi.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24006.70, + "Total Cost": 24006.71, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 198.846, + "Actual Total Time": 204.932, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24006.67, + "Total Cost": 24006.68, + "Plan Rows": 8, + "Plan Width": 32, + "Actual Startup Time": 198.607, + "Actual Total Time": 204.918, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24005.67, + "Total Cost": 24005.68, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 189.754, + "Actual Total Time": 189.759, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 188.622, + "Actual Total Time": 188.627, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 189.500, + "Actual Total Time": 189.505, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 186.691, + "Actual Total Time": 186.695, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 189.382, + "Actual Total Time": 189.387, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 187.928, + "Actual Total Time": 187.933, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 189.846, + "Actual Total Time": 189.852, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 189.414, + "Actual Total Time": 189.420, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.05, + "Total Cost": 24005.64, + "Plan Rows": 10, + "Plan Width": 17, + "Actual Startup Time": 189.749, + "Actual Total Time": 189.753, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 188.617, + "Actual Total Time": 188.621, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 189.497, + "Actual Total Time": 189.501, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 186.687, + "Actual Total Time": 186.690, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 189.379, + "Actual Total Time": 189.383, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 187.924, + "Actual Total Time": 187.928, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 189.839, + "Actual Total Time": 189.844, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 189.409, + "Actual Total Time": 189.413, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.91, + "Total Cost": 24004.04, + "Plan Rows": 10, + "Plan Width": 21, + "Actual Startup Time": 189.748, + "Actual Total Time": 189.752, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi.info_type_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 188.616, + "Actual Total Time": 188.620, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 189.495, + "Actual Total Time": 189.499, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 186.686, + "Actual Total Time": 186.688, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 189.378, + "Actual Total Time": 189.382, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 187.923, + "Actual Total Time": 187.927, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 189.839, + "Actual Total Time": 189.842, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 189.408, + "Actual Total Time": 189.412, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 23949.13, + "Plan Rows": 44, + "Plan Width": 25, + "Actual Startup Time": 189.747, + "Actual Total Time": 189.750, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 188.616, + "Actual Total Time": 188.619, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 189.495, + "Actual Total Time": 189.498, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 186.685, + "Actual Total Time": 186.687, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 189.378, + "Actual Total Time": 189.380, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 187.922, + "Actual Total Time": 187.925, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 189.838, + "Actual Total Time": 189.841, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 189.407, + "Actual Total Time": 189.410, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 23685.56, + "Plan Rows": 111, + "Plan Width": 4, + "Actual Startup Time": 189.747, + "Actual Total Time": 189.749, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 188.615, + "Actual Total Time": 188.617, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 189.494, + "Actual Total Time": 189.497, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 186.684, + "Actual Total Time": 186.685, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 189.377, + "Actual Total Time": 189.379, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 187.922, + "Actual Total Time": 187.924, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 189.837, + "Actual Total Time": 189.839, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 189.406, + "Actual Total Time": 189.408, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.00, + "Total Cost": 23682.12, + "Plan Rows": 444, + "Plan Width": 8, + "Actual Startup Time": 17.369, + "Actual Total Time": 188.454, + "Actual Rows": 3003, + "Actual Loops": 8, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Filter": "((mc.note ~~ '%(theatrical)%'::text) AND (mc.note ~~ '%(France)%'::text))", + "Rows Removed by Filter": 323138, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 36.099, + "Actual Total Time": 187.517, + "Actual Rows": 2629, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.655, + "Actual Total Time": 188.382, + "Actual Rows": 2867, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.993, + "Actual Total Time": 185.302, + "Actual Rows": 3360, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.271, + "Actual Total Time": 188.226, + "Actual Rows": 2923, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.112, + "Actual Total Time": 186.716, + "Actual Rows": 2624, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 37.980, + "Actual Total Time": 188.554, + "Actual Rows": 3431, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.378, + "Actual Total Time": 188.030, + "Actual Rows": 3506, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.064, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 2.37, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.24, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["it.id"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 9106003620751043838, + "Planning Time": 21.265, + "Triggers": [ + ], + "Execution Time": 205.411, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 9106003620751043838, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS american_vhs_movie
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     title AS t
WHERE ct.kind = 'production companies'
  AND mc.note LIKE '%(VHS)%'
  AND mc.note LIKE '%(USA)%'
  AND mc.note LIKE '%(1994)%'
  AND mi.info IN ('USA',
                  'America')
  AND t.production_year > 2010
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND mc.movie_id = mi.movie_id
  AND ct.id = mc.company_type_id
  AND it.id = mi.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24503.00, + "Total Cost": 24503.01, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 170.584, + "Actual Total Time": 178.503, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24502.97, + "Total Cost": 24502.98, + "Plan Rows": 8, + "Plan Width": 32, + "Actual Startup Time": 161.767, + "Actual Total Time": 178.481, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24501.97, + "Total Cost": 24501.98, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 153.514, + "Actual Total Time": 153.519, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 145.612, + "Actual Total Time": 145.616, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 153.440, + "Actual Total Time": 153.445, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 153.689, + "Actual Total Time": 153.693, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 153.968, + "Actual Total Time": 153.972, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 153.687, + "Actual Total Time": 153.691, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 153.703, + "Actual Total Time": 153.708, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 153.207, + "Actual Total Time": 153.212, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.15, + "Total Cost": 24501.96, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 153.510, + "Actual Total Time": 153.514, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 145.607, + "Actual Total Time": 145.610, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 153.437, + "Actual Total Time": 153.441, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 153.686, + "Actual Total Time": 153.689, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 153.964, + "Actual Total Time": 153.968, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 153.682, + "Actual Total Time": 153.686, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 153.698, + "Actual Total Time": 153.702, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 153.204, + "Actual Total Time": 153.208, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 24501.43, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 153.509, + "Actual Total Time": 153.513, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 145.606, + "Actual Total Time": 145.609, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 153.436, + "Actual Total Time": 153.440, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 153.685, + "Actual Total Time": 153.688, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 153.963, + "Actual Total Time": 153.966, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 153.682, + "Actual Total Time": 153.685, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 153.697, + "Actual Total Time": 153.700, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 153.203, + "Actual Total Time": 153.207, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.57, + "Total Cost": 24501.27, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 153.508, + "Actual Total Time": 153.511, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 145.605, + "Actual Total Time": 145.608, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 153.435, + "Actual Total Time": 153.438, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 153.684, + "Actual Total Time": 153.687, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 153.962, + "Actual Total Time": 153.965, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 153.681, + "Actual Total Time": 153.683, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 153.696, + "Actual Total Time": 153.699, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 153.203, + "Actual Total Time": 153.206, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.14, + "Total Cost": 24498.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 153.507, + "Actual Total Time": 153.509, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 145.604, + "Actual Total Time": 145.606, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 153.435, + "Actual Total Time": 153.437, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 153.683, + "Actual Total Time": 153.685, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 153.961, + "Actual Total Time": 153.963, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 153.680, + "Actual Total Time": 153.681, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 153.695, + "Actual Total Time": 153.698, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 153.202, + "Actual Total Time": 153.204, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.00, + "Total Cost": 24497.47, + "Plan Rows": 5, + "Plan Width": 8, + "Actual Startup Time": 8.661, + "Actual Total Time": 153.178, + "Actual Rows": 177, + "Actual Loops": 8, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Filter": "((mc.note ~~ '%(VHS)%'::text) AND (mc.note ~~ '%(USA)%'::text) AND (mc.note ~~ '%(1994)%'::text))", + "Rows Removed by Filter": 325964, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.454, + "Actual Total Time": 145.259, + "Actual Rows": 182, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.479, + "Actual Total Time": 153.128, + "Actual Rows": 169, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.831, + "Actual Total Time": 153.352, + "Actual Rows": 180, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.391, + "Actual Total Time": 153.662, + "Actual Rows": 169, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.069, + "Actual Total Time": 153.396, + "Actual Rows": 145, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.778, + "Actual Total Time": 153.313, + "Actual Rows": 184, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.590, + "Actual Total Time": 152.907, + "Actual Rows": 145, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.24, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1418, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 243, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 182, + "Cache Hits": 181, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 169, + "Cache Hits": 168, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 180, + "Cache Hits": 179, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 169, + "Cache Hits": 168, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 145, + "Cache Hits": 144, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 184, + "Cache Hits": 183, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 145, + "Cache Hits": 144, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.23, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 3.08, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{USA,America}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["it.id"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -3414057395363075461, + "Planning Time": 9.029, + "Triggers": [ + ], + "Execution Time": 178.767, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -3414057395363075461, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS american_movie
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     title AS t
WHERE ct.kind = 'production companies'
  AND mc.note NOT LIKE '%(TV)%'
  AND mc.note LIKE '%(USA)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND t.production_year > 1990
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND mc.movie_id = mi.movie_id
  AND ct.id = mc.company_type_id
  AND it.id = mi.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 31680.44, + "Total Cost": 31680.45, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 211.996, + "Actual Total Time": 222.654, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 31680.41, + "Total Cost": 31680.42, + "Plan Rows": 8, + "Plan Width": 32, + "Actual Startup Time": 210.304, + "Actual Total Time": 222.630, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 31679.41, + "Total Cost": 31679.42, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 203.955, + "Actual Total Time": 203.961, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 204.908, + "Actual Total Time": 204.914, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 203.458, + "Actual Total Time": 203.463, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 203.558, + "Actual Total Time": 203.563, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 203.440, + "Actual Total Time": 203.445, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 202.579, + "Actual Total Time": 202.585, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 202.572, + "Actual Total Time": 202.577, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 202.572, + "Actual Total Time": 202.576, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.42, + "Total Cost": 31669.65, + "Plan Rows": 3904, + "Plan Width": 17, + "Actual Startup Time": 134.074, + "Actual Total Time": 203.840, + "Actual Rows": 84, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 130.575, + "Actual Total Time": 204.828, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 131.631, + "Actual Total Time": 203.344, + "Actual Rows": 94, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 133.323, + "Actual Total Time": 203.463, + "Actual Rows": 54, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 133.930, + "Actual Total Time": 203.316, + "Actual Rows": 90, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 141.050, + "Actual Total Time": 202.461, + "Actual Rows": 83, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 131.034, + "Actual Total Time": 202.449, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 135.952, + "Actual Total Time": 202.437, + "Actual Rows": 100, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 31656.52, + "Plan Rows": 3904, + "Plan Width": 21, + "Actual Startup Time": 133.670, + "Actual Total Time": 203.295, + "Actual Rows": 84, + "Actual Loops": 8, + "Output": ["mi.info_type_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 130.302, + "Actual Total Time": 204.439, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 131.353, + "Actual Total Time": 202.924, + "Actual Rows": 94, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 133.047, + "Actual Total Time": 203.075, + "Actual Rows": 54, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 133.654, + "Actual Total Time": 202.892, + "Actual Rows": 90, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 140.801, + "Actual Total Time": 202.071, + "Actual Rows": 83, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 130.785, + "Actual Total Time": 202.058, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 135.709, + "Actual Total Time": 202.029, + "Actual Rows": 100, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 27674.51, + "Plan Rows": 3688, + "Plan Width": 25, + "Actual Startup Time": 131.653, + "Actual Total Time": 189.094, + "Actual Rows": 96, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 130.219, + "Actual Total Time": 193.538, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 129.325, + "Actual Total Time": 193.913, + "Actual Rows": 96, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 132.953, + "Actual Total Time": 182.073, + "Actual Rows": 81, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 133.533, + "Actual Total Time": 192.553, + "Actual Rows": 102, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 128.682, + "Actual Total Time": 177.290, + "Actual Rows": 83, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 129.424, + "Actual Total Time": 189.184, + "Actual Rows": 86, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 135.427, + "Actual Total Time": 191.684, + "Actual Rows": 125, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 23798.44, + "Plan Rows": 5331, + "Plan Width": 4, + "Actual Startup Time": 131.547, + "Actual Total Time": 186.439, + "Actual Rows": 100, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 130.122, + "Actual Total Time": 191.440, + "Actual Rows": 94, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 129.185, + "Actual Total Time": 191.060, + "Actual Rows": 100, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 132.804, + "Actual Total Time": 179.908, + "Actual Rows": 82, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 133.409, + "Actual Total Time": 189.635, + "Actual Rows": 106, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 128.595, + "Actual Total Time": 174.577, + "Actual Rows": 86, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 129.342, + "Actual Total Time": 186.588, + "Actual Rows": 92, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 135.313, + "Actual Total Time": 188.632, + "Actual Rows": 128, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.00, + "Total Cost": 23682.12, + "Plan Rows": 21323, + "Plan Width": 8, + "Actual Startup Time": 0.098, + "Actual Total Time": 175.534, + "Actual Rows": 36954, + "Actual Loops": 8, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Filter": "((mc.note !~~ '%(TV)%'::text) AND (mc.note ~~ '%(USA)%'::text))", + "Rows Removed by Filter": 289188, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.059, + "Actual Total Time": 177.563, + "Actual Rows": 36113, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.275, + "Actual Total Time": 180.949, + "Actual Rows": 37853, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 169.956, + "Actual Rows": 33010, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.127, + "Actual Total Time": 180.592, + "Actual Rows": 34404, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 163.518, + "Actual Rows": 39246, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.124, + "Actual Total Time": 176.589, + "Actual Rows": 38363, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.111, + "Actual Total Time": 175.445, + "Actual Rows": 38527, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.73, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 798, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 94 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 100 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 82 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 106 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 86 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 92 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 128 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.46, + "Total Cost": 1.07, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.134, + "Actual Total Time": 0.147, + "Actual Rows": 1, + "Actual Loops": 767, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 10, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.117, + "Actual Total Time": 0.123, + "Actual Rows": 1, + "Actual Loops": 88 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.092, + "Actual Rows": 1, + "Actual Loops": 96 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.253, + "Actual Total Time": 0.258, + "Actual Rows": 1, + "Actual Loops": 81 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.083, + "Actual Total Time": 0.100, + "Actual Rows": 1, + "Actual Loops": 102 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.288, + "Actual Total Time": 0.297, + "Actual Rows": 1, + "Actual Loops": 83 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.137, + "Actual Total Time": 0.148, + "Actual Rows": 1, + "Actual Loops": 86 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.081, + "Actual Rows": 1, + "Actual Loops": 125 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.66, + "Total Cost": 1.66, + "Plan Rows": 66, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 14, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.66, + "Plan Rows": 66, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.061, + "Actual Rows": 113, + "Actual Loops": 1, + "Output": ["it.id"], + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5596001239447068866, + "Planning Time": 9.013, + "Triggers": [ + ], + "Execution Time": 222.928, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 5596001239447068866, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS marvel_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword = 'marvel-cinematic-universe'
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2010
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1361.19, + "Total Cost": 1361.20, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 51.702, + "Actual Total Time": 57.112, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.73, + "Total Cost": 1361.18, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 51.544, + "Actual Total Time": 57.080, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["k.keyword", "n.name", "t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1360.18, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 6.942, + "Actual Total Time": 11.069, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.182, + "Actual Total Time": 45.178, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.747, + "Actual Total Time": 0.749, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.117, + "Actual Total Time": 6.120, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.586, + "Actual Total Time": 5.589, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.140, + "Actual Total Time": 6.144, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.158, + "Actual Total Time": 6.161, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.240, + "Actual Total Time": 6.245, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1348.43, + "Plan Rows": 26, + "Plan Width": 37, + "Actual Startup Time": 5.475, + "Actual Total Time": 6.872, + "Actual Rows": 153, + "Actual Loops": 8, + "Output": ["ci.person_id", "k.keyword", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.456, + "Actual Total Time": 11.617, + "Actual Rows": 1224, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.747, + "Actual Total Time": 0.748, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.116, + "Actual Total Time": 6.118, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.585, + "Actual Total Time": 5.587, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.139, + "Actual Total Time": 6.143, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.157, + "Actual Total Time": 6.159, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.239, + "Actual Total Time": 6.243, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1346.86, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 5.460, + "Actual Total Time": 5.534, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.344, + "Actual Total Time": 0.915, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.746, + "Actual Total Time": 0.747, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.116, + "Actual Total Time": 6.117, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.584, + "Actual Total Time": 5.586, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.138, + "Actual Total Time": 6.141, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.156, + "Actual Total Time": 6.158, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.239, + "Actual Total Time": 6.241, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.56, + "Plan Rows": 5, + "Plan Width": 20, + "Actual Startup Time": 5.448, + "Actual Total Time": 5.472, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.251, + "Actual Total Time": 0.432, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.746, + "Actual Total Time": 0.747, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.115, + "Actual Total Time": 6.116, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.584, + "Actual Total Time": 5.585, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.138, + "Actual Total Time": 6.139, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.155, + "Actual Total Time": 6.156, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.238, + "Actual Total Time": 6.240, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 5.431, + "Actual Total Time": 5.436, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'marvel-cinematic-universe'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.119, + "Actual Total Time": 0.157, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.746, + "Actual Total Time": 0.746, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.114, + "Actual Total Time": 6.114, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.583, + "Actual Total Time": 5.583, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.137, + "Actual Total Time": 6.137, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.155, + "Actual Total Time": 6.155, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.237, + "Actual Total Time": 6.238, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.126, + "Actual Total Time": 0.256, + "Actual Rows": 14, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.126, + "Actual Total Time": 0.256, + "Actual Rows": 14, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 14, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 14 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.907, + "Actual Rows": 111, + "Actual Loops": 11, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.907, + "Actual Rows": 111, + "Actual Loops": 11 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1224, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1224 + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3759324545287071861, + "Planning Time": 8.283, + "Triggers": [ + ], + "Execution Time": 57.393, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 3759324545287071861, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS hero_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2014
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1506.00, + "Total Cost": 1506.01, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 214.873, + "Actual Total Time": 235.717, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.73, + "Total Cost": 1505.99, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 55.724, + "Actual Total Time": 235.643, + "Actual Rows": 12, + "Actual Loops": 1, + "Output": ["k.keyword", "n.name", "t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1504.99, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 93.138, + "Actual Total Time": 106.107, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.630, + "Actual Total Time": 55.053, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 203.534, + "Actual Total Time": 207.391, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 93.258, + "Actual Total Time": 93.260, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 163.887, + "Actual Total Time": 163.890, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 54.763, + "Actual Total Time": 54.767, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 37.882, + "Actual Total Time": 54.891, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 128.800, + "Actual Total Time": 157.270, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1504.54, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 50.341, + "Actual Total Time": 104.817, + "Actual Rows": 48, + "Actual Loops": 8, + "Output": ["ci.person_id", "k.keyword", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.613, + "Actual Total Time": 54.070, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.867, + "Actual Total Time": 203.627, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 93.257, + "Actual Total Time": 93.259, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 163.886, + "Actual Total Time": 163.888, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 54.763, + "Actual Total Time": 54.765, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.768, + "Actual Total Time": 53.362, + "Actual Rows": 82, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 19.816, + "Actual Total Time": 154.844, + "Actual Rows": 107, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1502.97, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 50.289, + "Actual Total Time": 104.339, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.529, + "Actual Total Time": 53.549, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.744, + "Actual Total Time": 202.944, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 93.257, + "Actual Total Time": 93.258, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 163.886, + "Actual Total Time": 163.887, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 54.760, + "Actual Total Time": 54.761, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.702, + "Actual Total Time": 52.706, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 19.709, + "Actual Total Time": 153.635, + "Actual Rows": 13, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1485.02, + "Plan Rows": 39, + "Plan Width": 20, + "Actual Startup Time": 7.644, + "Actual Total Time": 35.336, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.348, + "Actual Total Time": 48.164, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.521, + "Actual Total Time": 56.403, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.488, + "Actual Total Time": 17.418, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.621, + "Actual Total Time": 38.030, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 54.759, + "Actual Total Time": 54.760, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.337, + "Actual Total Time": 20.055, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.593, + "Actual Total Time": 34.632, + "Actual Rows": 10544, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1332.34, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 7.537, + "Actual Total Time": 14.213, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.266, + "Actual Total Time": 45.649, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.400, + "Actual Total Time": 0.454, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.349, + "Actual Total Time": 1.368, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.488, + "Actual Total Time": 0.579, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 54.759, + "Actual Total Time": 54.759, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.204, + "Actual Total Time": 10.006, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.499, + "Actual Total Time": 0.523, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.30, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.108, + "Actual Total Time": 19.438, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.076, + "Actual Total Time": 2.413, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.085, + "Actual Total Time": 25.727, + "Actual Rows": 5412, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.133, + "Actual Total Time": 14.556, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.130, + "Actual Total Time": 35.041, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.129, + "Actual Total Time": 9.452, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.092, + "Actual Total Time": 30.573, + "Actual Rows": 10544, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 35548, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2014)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 248 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 10824 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 4196 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 6011 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 10544 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.097, + "Actual Rows": 11, + "Actual Loops": 36, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.162, + "Actual Rows": 15, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.126, + "Actual Rows": 14, + "Actual Loops": 5 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.099, + "Actual Rows": 14, + "Actual Loops": 6 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.086, + "Actual Rows": 8, + "Actual Loops": 13 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 383, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 46 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 72 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 82 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 107 + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -196995888411579451, + "Planning Time": 8.842, + "Triggers": [ + ], + "Execution Time": 236.021, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -196995888411579451, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS marvel_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword = 'marvel-cinematic-universe'
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2014
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1349.89, + "Total Cost": 1349.90, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 13.716, + "Actual Total Time": 15.581, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.73, + "Total Cost": 1349.88, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 2.711, + "Actual Total Time": 15.551, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.30, + "Total Cost": 1349.43, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 1.755, + "Actual Total Time": 14.712, + "Actual Rows": 33, + "Actual Loops": 1, + "Output": ["ci.person_id", "k.keyword", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1.86, + "Total Cost": 1347.86, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 1.725, + "Actual Total Time": 13.531, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["k.keyword", "mk.movie_id", "t.title", "t.id"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1346.86, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 4.515, + "Actual Total Time": 5.525, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.522, + "Actual Total Time": 4.524, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.435, + "Actual Total Time": 3.438, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.303, + "Actual Total Time": 5.305, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.466, + "Actual Total Time": 5.468, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.449, + "Actual Total Time": 5.451, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.465, + "Actual Total Time": 5.467, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.494, + "Actual Total Time": 5.496, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.56, + "Plan Rows": 5, + "Plan Width": 20, + "Actual Startup Time": 4.501, + "Actual Total Time": 5.466, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.522, + "Actual Total Time": 4.523, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.435, + "Actual Total Time": 3.436, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.302, + "Actual Total Time": 5.303, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.465, + "Actual Total Time": 5.466, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.448, + "Actual Total Time": 5.450, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.464, + "Actual Total Time": 5.465, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.493, + "Actual Total Time": 5.494, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 4.493, + "Actual Total Time": 5.438, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'marvel-cinematic-universe'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.521, + "Actual Total Time": 4.522, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.434, + "Actual Total Time": 3.435, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.301, + "Actual Total Time": 5.302, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.465, + "Actual Total Time": 5.465, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.447, + "Actual Total Time": 5.448, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.463, + "Actual Total Time": 5.464, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.492, + "Actual Total Time": 5.493, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.199, + "Actual Rows": 14, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 14, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2014)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.569, + "Actual Rows": 16, + "Actual Loops": 2, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 33, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1 + } + ] + } + ] + }, + "Query Identifier": 3759324545287071861, + "Planning Time": 8.037, + "Triggers": [ + ], + "Execution Time": 15.898, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 3759324545287071861, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS hero_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2000
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1869.96, + "Total Cost": 1869.97, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 4302.839, + "Actual Total Time": 4337.824, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.73, + "Total Cost": 1869.95, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 442.722, + "Actual Total Time": 4337.603, + "Actual Rows": 88, + "Actual Loops": 1, + "Output": ["k.keyword", "n.name", "t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1868.95, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 469.776, + "Actual Total Time": 1729.047, + "Actual Rows": 11, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1100.718, + "Actual Total Time": 3358.664, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 379.655, + "Actual Total Time": 4294.584, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 100.507, + "Actual Total Time": 100.510, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 433.668, + "Actual Total Time": 820.111, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 49.320, + "Actual Total Time": 1617.760, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1145.853, + "Actual Total Time": 2471.588, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 106.554, + "Actual Total Time": 307.676, + "Actual Rows": 11, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1535.80, + "Plan Rows": 737, + "Plan Width": 37, + "Actual Startup Time": 13.733, + "Actual Total Time": 556.415, + "Actual Rows": 98185, + "Actual Loops": 8, + "Output": ["ci.person_id", "k.keyword", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.567, + "Actual Total Time": 1096.215, + "Actual Rows": 194141, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.189, + "Actual Total Time": 1287.633, + "Actual Rows": 282572, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 100.506, + "Actual Total Time": 100.508, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.642, + "Actual Total Time": 280.684, + "Actual Rows": 38887, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.247, + "Actual Total Time": 517.578, + "Actual Rows": 84039, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.196, + "Actual Total Time": 808.373, + "Actual Rows": 137541, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.059, + "Actual Total Time": 89.127, + "Actual Rows": 11270, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1502.97, + "Plan Rows": 21, + "Plan Width": 41, + "Actual Startup Time": 13.638, + "Actual Total Time": 87.544, + "Actual Rows": 1771, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.404, + "Actual Total Time": 113.648, + "Actual Rows": 2965, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.081, + "Actual Total Time": 171.199, + "Actual Rows": 4387, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 100.505, + "Actual Total Time": 100.507, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.464, + "Actual Total Time": 32.742, + "Actual Rows": 745, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.148, + "Actual Total Time": 68.339, + "Actual Rows": 2120, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.125, + "Actual Total Time": 159.647, + "Actual Rows": 3124, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.981, + "Actual Total Time": 9.089, + "Actual Rows": 155, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1485.02, + "Plan Rows": 39, + "Plan Width": 20, + "Actual Startup Time": 13.572, + "Actual Total Time": 32.853, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.350, + "Actual Total Time": 33.212, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.998, + "Actual Total Time": 50.084, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 100.504, + "Actual Total Time": 100.505, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.318, + "Actual Total Time": 8.469, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.080, + "Actual Total Time": 16.013, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.064, + "Actual Total Time": 38.786, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.896, + "Actual Total Time": 4.417, + "Actual Rows": 248, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1332.34, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 13.472, + "Actual Total Time": 13.502, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.254, + "Actual Total Time": 0.319, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.883, + "Actual Total Time": 0.935, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 100.497, + "Actual Total Time": 100.498, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.204, + "Actual Total Time": 0.232, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.960, + "Actual Total Time": 0.977, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.943, + "Actual Total Time": 1.964, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.791, + "Actual Total Time": 2.819, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.30, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.099, + "Actual Total Time": 17.457, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.093, + "Actual Total Time": 29.970, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.076, + "Actual Total Time": 22.541, + "Actual Rows": 5412, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.108, + "Actual Total Time": 7.382, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.115, + "Actual Total Time": 13.106, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.116, + "Actual Total Time": 32.801, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.096, + "Actual Total Time": 1.398, + "Actual Rows": 248, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 35548, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 6011 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 10824 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 4196 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 10544 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 248 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.242, + "Actual Rows": 55, + "Actual Loops": 14165, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.304, + "Actual Rows": 65, + "Actual Loops": 2965 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.231, + "Actual Rows": 64, + "Actual Loops": 4387 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.308, + "Actual Rows": 52, + "Actual Loops": 745 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.194, + "Actual Rows": 40, + "Actual Loops": 2120 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.189, + "Actual Rows": 44, + "Actual Loops": 3124 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.476, + "Actual Rows": 73, + "Actual Loops": 155 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 785477, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 194141 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 282572 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 38887 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 84039 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 137541 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 11270 + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -196995888411579451, + "Planning Time": 8.462, + "Triggers": [ + ], + "Execution Time": 4338.282, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -196995888411579451, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS marvel_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword = 'marvel-cinematic-universe'
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2000
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1394.15, + "Total Cost": 1394.16, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 41.070, + "Actual Total Time": 41.259, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.73, + "Total Cost": 1394.14, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 7.974, + "Actual Total Time": 41.207, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["k.keyword", "n.name", "t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1393.14, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 7.294, + "Actual Total Time": 11.425, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.805, + "Actual Total Time": 12.808, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.053, + "Actual Total Time": 13.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.750, + "Actual Total Time": 1.752, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.291, + "Actual Total Time": 14.295, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.258, + "Actual Total Time": 9.261, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1351.55, + "Plan Rows": 92, + "Plan Width": 37, + "Actual Startup Time": 6.539, + "Actual Total Time": 7.777, + "Actual Rows": 153, + "Actual Loops": 8, + "Output": ["ci.person_id", "k.keyword", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.804, + "Actual Total Time": 12.806, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.052, + "Actual Total Time": 13.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.749, + "Actual Total Time": 1.751, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.290, + "Actual Total Time": 14.293, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.258, + "Actual Total Time": 9.260, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1346.86, + "Plan Rows": 3, + "Plan Width": 41, + "Actual Startup Time": 6.531, + "Actual Total Time": 6.600, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.804, + "Actual Total Time": 12.805, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.051, + "Actual Total Time": 13.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.748, + "Actual Total Time": 1.749, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.289, + "Actual Total Time": 14.291, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.257, + "Actual Total Time": 9.259, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.56, + "Plan Rows": 5, + "Plan Width": 20, + "Actual Startup Time": 6.525, + "Actual Total Time": 6.547, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.803, + "Actual Total Time": 12.804, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.050, + "Actual Total Time": 13.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.748, + "Actual Total Time": 1.749, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.289, + "Actual Total Time": 14.290, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.257, + "Actual Total Time": 9.258, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 6.517, + "Actual Total Time": 6.522, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'marvel-cinematic-universe'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.802, + "Actual Total Time": 12.802, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.049, + "Actual Total Time": 13.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.747, + "Actual Total Time": 1.748, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.288, + "Actual Total Time": 14.288, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.256, + "Actual Total Time": 9.256, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.163, + "Actual Rows": 14, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 14, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.796, + "Actual Rows": 111, + "Actual Loops": 11, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1224, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3759324545287071861, + "Planning Time": 8.197, + "Triggers": [ + ], + "Execution Time": 41.580, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 3759324545287071861, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS hero_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND t.production_year > 2000
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1873.70, + "Total Cost": 1873.71, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 4150.095, + "Actual Total Time": 4184.016, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1873.64, + "Total Cost": 1873.65, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 706.784, + "Actual Total Time": 4183.959, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(k.keyword))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1872.64, + "Total Cost": 1872.65, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 1621.844, + "Actual Total Time": 1621.847, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(k.keyword)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4142.901, + "Actual Total Time": 4142.904, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 270.778, + "Actual Total Time": 270.781, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3128.435, + "Actual Total Time": 3128.437, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 804.947, + "Actual Total Time": 804.950, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1503.866, + "Actual Total Time": 1503.869, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2314.763, + "Actual Total Time": 2314.766, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 103.189, + "Actual Total Time": 103.193, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1867.11, + "Plan Rows": 737, + "Plan Width": 48, + "Actual Startup Time": 13.804, + "Actual Total Time": 1545.884, + "Actual Rows": 98185, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.780, + "Actual Total Time": 3945.946, + "Actual Rows": 282572, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.280, + "Actual Total Time": 258.800, + "Actual Rows": 11270, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.593, + "Actual Total Time": 2975.012, + "Actual Rows": 194141, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.634, + "Actual Total Time": 767.899, + "Actual Rows": 38887, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.211, + "Actual Total Time": 1435.290, + "Actual Rows": 84039, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.136, + "Actual Total Time": 2205.604, + "Actual Rows": 137541, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 103.183, + "Actual Total Time": 103.186, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1535.80, + "Plan Rows": 737, + "Plan Width": 37, + "Actual Startup Time": 13.758, + "Actual Total Time": 494.335, + "Actual Rows": 98185, + "Actual Loops": 8, + "Output": ["ci.person_id", "k.keyword", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.712, + "Actual Total Time": 1207.559, + "Actual Rows": 282572, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.225, + "Actual Total Time": 76.702, + "Actual Rows": 11270, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.536, + "Actual Total Time": 909.609, + "Actual Rows": 194141, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.593, + "Actual Total Time": 231.662, + "Actual Rows": 38887, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.162, + "Actual Total Time": 462.436, + "Actual Rows": 84039, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.092, + "Actual Total Time": 736.934, + "Actual Rows": 137541, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 103.182, + "Actual Total Time": 103.185, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1502.97, + "Plan Rows": 21, + "Plan Width": 41, + "Actual Startup Time": 13.697, + "Actual Total Time": 88.345, + "Actual Rows": 1771, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.640, + "Actual Total Time": 168.559, + "Actual Rows": 4387, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.163, + "Actual Total Time": 10.778, + "Actual Rows": 155, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.445, + "Actual Total Time": 110.106, + "Actual Rows": 2965, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.514, + "Actual Total Time": 37.314, + "Actual Rows": 745, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.083, + "Actual Total Time": 68.991, + "Actual Rows": 2120, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.036, + "Actual Total Time": 159.911, + "Actual Rows": 3124, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 103.182, + "Actual Total Time": 103.183, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1485.02, + "Plan Rows": 39, + "Plan Width": 20, + "Actual Startup Time": 13.627, + "Actual Total Time": 33.689, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.554, + "Actual Total Time": 48.260, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.104, + "Actual Total Time": 4.364, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.381, + "Actual Total Time": 32.385, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.340, + "Actual Total Time": 10.390, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.006, + "Actual Total Time": 16.178, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.989, + "Actual Total Time": 41.565, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 103.181, + "Actual Total Time": 103.182, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1332.34, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 13.525, + "Actual Total Time": 13.554, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.443, + "Actual Total Time": 0.494, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.039, + "Actual Total Time": 2.068, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.258, + "Actual Total Time": 0.325, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.208, + "Actual Total Time": 0.234, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.866, + "Actual Total Time": 0.881, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.882, + "Actual Total Time": 0.900, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 103.180, + "Actual Total Time": 103.181, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.30, + "Plan Rows": 137, + "Plan Width": 8, + "Actual Startup Time": 0.104, + "Actual Total Time": 18.409, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.081, + "Actual Total Time": 21.999, + "Actual Rows": 5412, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.061, + "Actual Total Time": 2.129, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.121, + "Actual Total Time": 29.486, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.128, + "Actual Total Time": 9.337, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.135, + "Actual Total Time": 13.569, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.102, + "Actual Total Time": 36.848, + "Actual Rows": 10544, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 35548, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 10824 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 248 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 6011 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 4196 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 10544 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.209, + "Actual Rows": 55, + "Actual Loops": 14165, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.216, + "Actual Rows": 64, + "Actual Loops": 4387 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.388, + "Actual Rows": 73, + "Actual Loops": 155 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.245, + "Actual Rows": 65, + "Actual Loops": 2965 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.236, + "Actual Rows": 52, + "Actual Loops": 745 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.170, + "Actual Rows": 40, + "Actual Loops": 2120 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.168, + "Actual Rows": 44, + "Actual Loops": 3124 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 785477, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 282572 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 11270 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 194141 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 38887 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 84039 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 137541 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4608735958739764665, + "Planning Time": 8.331, + "Triggers": [ + ], + "Execution Time": 4184.421, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -4608735958739764665, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(n.name) AS of_person,
       MIN(t.title) AS biography_movie
FROM aka_name AS an,
     cast_info AS ci,
     info_type AS it,
     link_type AS lt,
     movie_link AS ml,
     name AS n,
     person_info AS pi,
     title AS t
WHERE an.name LIKE '%a%'
  AND it.info ='mini biography'
  AND lt.link ='features'
  AND n.name_pcode_cf BETWEEN 'A' AND 'F'
  AND (n.gender='m'
       OR (n.gender = 'f'
           AND n.name LIKE 'B%'))
  AND pi.note ='Volker Boehm'
  AND t.production_year BETWEEN 1980 AND 1995
  AND n.id = an.person_id
  AND n.id = pi.person_id
  AND ci.person_id = n.id
  AND t.id = ci.movie_id
  AND ml.linked_movie_id = t.id
  AND lt.id = ml.link_type_id
  AND it.id = pi.info_type_id
  AND pi.person_id = an.person_id
  AND pi.person_id = ci.person_id
  AND an.person_id = ci.person_id
  AND ci.movie_id = ml.linked_movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2061.22, + "Total Cost": 2061.23, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 683.548, + "Actual Total Time": 708.236, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2061.19, + "Total Cost": 2061.20, + "Plan Rows": 5, + "Plan Width": 64, + "Actual Startup Time": 602.920, + "Actual Total Time": 708.184, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2060.19, + "Total Cost": 2060.20, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 627.492, + "Actual Total Time": 627.497, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 636.350, + "Actual Total Time": 636.355, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 598.324, + "Actual Total Time": 598.330, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 673.840, + "Actual Total Time": 673.844, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 612.642, + "Actual Total Time": 612.647, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 641.868, + "Actual Total Time": 641.873, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.73, + "Total Cost": 2060.18, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 442.586, + "Actual Total Time": 627.469, + "Actual Rows": 5, + "Actual Loops": 6, + "Output": ["n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 389.612, + "Actual Total Time": 636.331, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 508.277, + "Actual Total Time": 598.299, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 228.335, + "Actual Total Time": 673.819, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 398.580, + "Actual Total Time": 612.601, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 528.796, + "Actual Total Time": 641.836, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.59, + "Total Cost": 2059.06, + "Plan Rows": 1, + "Plan Width": 36, + "Actual Startup Time": 442.561, + "Actual Total Time": 627.409, + "Actual Rows": 5, + "Actual Loops": 6, + "Output": ["n.name", "pi.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 389.589, + "Actual Total Time": 636.291, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 508.252, + "Actual Total Time": 598.237, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 228.279, + "Actual Total Time": 673.741, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 398.556, + "Actual Total Time": 612.498, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 528.769, + "Actual Total Time": 641.763, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.17, + "Total Cost": 2058.57, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 442.425, + "Actual Total Time": 627.123, + "Actual Rows": 2, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "pi.person_id", "pi.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 389.273, + "Actual Total Time": 635.798, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 508.187, + "Actual Total Time": 598.127, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 227.979, + "Actual Total Time": 673.159, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 398.506, + "Actual Total Time": 612.332, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 528.687, + "Actual Total Time": 641.398, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1939.50, + "Plan Rows": 174, + "Plan Width": 40, + "Actual Startup Time": 2.688, + "Actual Total Time": 406.349, + "Actual Rows": 2926, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.326, + "Actual Total Time": 398.800, + "Actual Rows": 3008, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.425, + "Actual Total Time": 377.053, + "Actual Rows": 2469, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.739, + "Actual Total Time": 456.863, + "Actual Rows": 3994, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.940, + "Actual Total Time": 392.834, + "Actual Rows": 2744, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.552, + "Actual Total Time": 411.560, + "Actual Rows": 2905, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1231.66, + "Plan Rows": 1532, + "Plan Width": 21, + "Actual Startup Time": 2.498, + "Actual Total Time": 137.254, + "Actual Rows": 17544, + "Actual Loops": 6, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.242, + "Actual Total Time": 140.268, + "Actual Rows": 17838, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.202, + "Actual Total Time": 136.722, + "Actual Rows": 14551, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.662, + "Actual Total Time": 140.524, + "Actual Rows": 21562, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.867, + "Actual Total Time": 137.069, + "Actual Rows": 17097, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.937, + "Actual Total Time": 133.848, + "Actual Rows": 17466, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1126.40, + "Plan Rows": 44, + "Plan Width": 25, + "Actual Startup Time": 2.018, + "Actual Total Time": 38.127, + "Actual Rows": 244, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.144, + "Actual Total Time": 36.607, + "Actual Rows": 249, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.121, + "Actual Total Time": 38.299, + "Actual Rows": 208, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.577, + "Actual Total Time": 35.629, + "Actual Rows": 268, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.766, + "Actual Total Time": 41.841, + "Actual Rows": 290, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.838, + "Actual Total Time": 35.003, + "Actual Rows": 229, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 632.40, + "Plan Rows": 333, + "Plan Width": 4, + "Actual Startup Time": 0.998, + "Actual Total Time": 18.242, + "Actual Rows": 864, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.151, + "Actual Total Time": 17.139, + "Actual Rows": 945, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.937, + "Actual Total Time": 20.621, + "Actual Rows": 873, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.186, + "Actual Total Time": 16.314, + "Actual Rows": 875, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.186, + "Actual Total Time": 18.010, + "Actual Rows": 983, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.280, + "Actual Total Time": 17.003, + "Actual Rows": 756, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.831, + "Actual Total Time": 11.298, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.055, + "Actual Total Time": 10.350, + "Actual Rows": 5032, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.665, + "Actual Total Time": 14.133, + "Actual Rows": 4479, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.071, + "Actual Total Time": 9.707, + "Actual Rows": 4810, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.077, + "Actual Total Time": 10.843, + "Actual Rows": 5093, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.071, + "Actual Total Time": 10.215, + "Actual Rows": 4850, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 5717, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5032, + "Cache Hits": 5016, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4479, + "Cache Hits": 4463, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4810, + "Cache Hits": 4794, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5093, + "Cache Hits": 5077, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4850, + "Cache Hits": 4834, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text = 'features'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 5186, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1980) AND (t.production_year <= 1995))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 945 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 873 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 875 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 983 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 756 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 2.04, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.377, + "Actual Rows": 72, + "Actual Loops": 1467, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.389, + "Actual Rows": 72, + "Actual Loops": 249 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.444, + "Actual Rows": 70, + "Actual Loops": 208 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.361, + "Actual Rows": 80, + "Actual Loops": 268 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.306, + "Actual Rows": 59, + "Actual Loops": 290 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.402, + "Actual Rows": 76, + "Actual Loops": 229 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 105262, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((n.name_pcode_cf)::text >= 'A'::text) AND ((n.name_pcode_cf)::text <= 'F'::text) AND (((n.gender)::text = 'm'::text) OR (((n.gender)::text = 'f'::text) AND (n.name ~~ 'B%'::text))))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 17838 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 14551 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 21562 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 17097 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 17466 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.67, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.075, + "Actual Rows": 0, + "Actual Loops": 17559, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(pi.note = 'Volker Boehm'::text)", + "Rows Removed by Filter": 20, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.078, + "Actual Rows": 0, + "Actual Loops": 3008 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.089, + "Actual Rows": 0, + "Actual Loops": 2469 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 3994 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.079, + "Actual Rows": 0, + "Actual Loops": 2744 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.078, + "Actual Rows": 0, + "Actual Loops": 2905 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.118, + "Actual Rows": 2, + "Actual Loops": 14, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(an.name ~~ '%a%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.313, + "Actual Total Time": 0.487, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.050, + "Actual Rows": 3, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.154, + "Actual Total Time": 0.287, + "Actual Rows": 2, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.024, + "Actual Rows": 2, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.113, + "Actual Total Time": 0.117, + "Actual Rows": 2, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.63, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 32, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = pi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'mini biography'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 6 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7100159318594498086, + "Planning Time": 31.699, + "Triggers": [ + ], + "Execution Time": 708.695, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 7100159318594498086, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(n.name) AS of_person,
       MIN(t.title) AS biography_movie
FROM aka_name AS an,
     cast_info AS ci,
     info_type AS it,
     link_type AS lt,
     movie_link AS ml,
     name AS n,
     person_info AS pi,
     title AS t
WHERE an.name LIKE '%a%'
  AND it.info ='mini biography'
  AND lt.link ='features'
  AND n.name_pcode_cf LIKE 'D%'
  AND n.gender='m'
  AND pi.note ='Volker Boehm'
  AND t.production_year BETWEEN 1980 AND 1984
  AND n.id = an.person_id
  AND n.id = pi.person_id
  AND ci.person_id = n.id
  AND t.id = ci.movie_id
  AND ml.linked_movie_id = t.id
  AND lt.id = ml.link_type_id
  AND it.id = pi.info_type_id
  AND pi.person_id = an.person_id
  AND pi.person_id = ci.person_id
  AND an.person_id = ci.person_id
  AND ci.movie_id = ml.linked_movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1346.07, + "Total Cost": 1346.08, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 227.689, + "Actual Total Time": 242.490, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1346.04, + "Total Cost": 1346.05, + "Plan Rows": 5, + "Plan Width": 64, + "Actual Startup Time": 150.684, + "Actual Total Time": 242.449, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1345.04, + "Total Cost": 1345.05, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 146.986, + "Actual Total Time": 146.992, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 140.655, + "Actual Total Time": 140.659, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 208.532, + "Actual Total Time": 208.537, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 120.731, + "Actual Total Time": 120.736, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 135.886, + "Actual Total Time": 135.891, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 128.081, + "Actual Total Time": 128.086, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.73, + "Total Cost": 1345.03, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 110.880, + "Actual Total Time": 146.977, + "Actual Rows": 3, + "Actual Loops": 6, + "Output": ["n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 140.649, + "Actual Total Time": 140.653, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 40.450, + "Actual Total Time": 208.512, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.202, + "Actual Total Time": 120.698, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 135.881, + "Actual Total Time": 135.885, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 128.076, + "Actual Total Time": 128.080, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.59, + "Total Cost": 1343.91, + "Plan Rows": 1, + "Plan Width": 36, + "Actual Startup Time": 110.870, + "Actual Total Time": 146.950, + "Actual Rows": 3, + "Actual Loops": 6, + "Output": ["n.name", "pi.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 140.648, + "Actual Total Time": 140.651, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 40.414, + "Actual Total Time": 208.453, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.177, + "Actual Total Time": 120.600, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 135.880, + "Actual Total Time": 135.883, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 128.075, + "Actual Total Time": 128.079, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.17, + "Total Cost": 1343.42, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 110.851, + "Actual Total Time": 146.908, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "pi.person_id", "pi.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 140.648, + "Actual Total Time": 140.651, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 40.357, + "Actual Total Time": 208.365, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.125, + "Actual Total Time": 120.441, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 135.879, + "Actual Total Time": 135.882, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 128.075, + "Actual Total Time": 128.078, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1338.63, + "Plan Rows": 7, + "Plan Width": 40, + "Actual Startup Time": 8.265, + "Actual Total Time": 142.059, + "Actual Rows": 179, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.084, + "Actual Total Time": 137.362, + "Actual Rows": 164, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.596, + "Actual Total Time": 200.601, + "Actual Rows": 380, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.767, + "Actual Total Time": 114.992, + "Actual Rows": 165, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.388, + "Actual Total Time": 131.460, + "Actual Rows": 118, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.512, + "Actual Total Time": 123.717, + "Actual Rows": 109, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1184.08, + "Plan Rows": 340, + "Plan Width": 21, + "Actual Startup Time": 3.939, + "Actual Total Time": 56.091, + "Actual Rows": 5569, + "Actual Loops": 6, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.957, + "Actual Total Time": 61.695, + "Actual Rows": 5617, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.451, + "Actual Total Time": 59.526, + "Actual Rows": 10045, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.199, + "Actual Total Time": 47.821, + "Actual Rows": 4834, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.185, + "Actual Total Time": 44.478, + "Actual Rows": 5179, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.819, + "Actual Total Time": 56.933, + "Actual Rows": 3386, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1126.40, + "Plan Rows": 10, + "Plan Width": 25, + "Actual Startup Time": 3.871, + "Actual Total Time": 31.954, + "Actual Rows": 72, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.894, + "Actual Total Time": 40.048, + "Actual Rows": 75, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.376, + "Actual Total Time": 24.728, + "Actual Rows": 86, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.130, + "Actual Total Time": 28.224, + "Actual Rows": 67, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.110, + "Actual Total Time": 20.746, + "Actual Rows": 67, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.737, + "Actual Total Time": 36.389, + "Actual Rows": 60, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 632.40, + "Plan Rows": 333, + "Plan Width": 4, + "Actual Startup Time": 0.356, + "Actual Total Time": 17.221, + "Actual Rows": 864, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.124, + "Actual Total Time": 17.534, + "Actual Rows": 1132, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.851, + "Actual Total Time": 13.923, + "Actual Rows": 668, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.548, + "Actual Total Time": 15.253, + "Actual Rows": 893, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.113, + "Actual Total Time": 10.438, + "Actual Rows": 625, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.269, + "Actual Total Time": 20.707, + "Actual Rows": 891, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.068, + "Actual Total Time": 10.118, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 10.305, + "Actual Rows": 5992, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.064, + "Actual Total Time": 8.247, + "Actual Rows": 3811, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.106, + "Actual Total Time": 9.059, + "Actual Rows": 4587, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.041, + "Actual Total Time": 6.259, + "Actual Rows": 2579, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.119, + "Actual Total Time": 12.311, + "Actual Rows": 5291, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 7721, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5992, + "Cache Hits": 5976, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3811, + "Cache Hits": 3795, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4587, + "Cache Hits": 4571, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 2579, + "Cache Hits": 2563, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5291, + "Cache Hits": 5275, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text = 'features'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 5186, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1980) AND (t.production_year <= 1984))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1132 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 668 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 893 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 625 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 891 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 5.42, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.303, + "Actual Rows": 77, + "Actual Loops": 435, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.264, + "Actual Rows": 75, + "Actual Loops": 75 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.361, + "Actual Rows": 117, + "Actual Loops": 86 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.269, + "Actual Rows": 72, + "Actual Loops": 67 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.320, + "Actual Rows": 77, + "Actual Loops": 67 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.317, + "Actual Rows": 56, + "Actual Loops": 60 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 33415, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((n.name_pcode_cf)::text ~~ 'D%'::text) AND ((n.gender)::text = 'm'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 5617 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 10045 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 4834 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 5179 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 3386 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.67, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1076, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(pi.note = 'Volker Boehm'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 164 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 380 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 165 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 118 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 109 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.027, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(an.name ~~ '%a%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.040, + "Actual Rows": 2, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.023, + "Actual Rows": 2, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.63, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = pi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'mini biography'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 12 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -298514962653462987, + "Planning Time": 35.041, + "Triggers": [ + ], + "Execution Time": 243.086, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -298514962653462987, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(n.name) AS cast_member_name,
       MIN(pi.info) AS cast_member_info
FROM aka_name AS an,
     cast_info AS ci,
     info_type AS it,
     link_type AS lt,
     movie_link AS ml,
     name AS n,
     person_info AS pi,
     title AS t
WHERE an.name IS NOT NULL
  AND (an.name LIKE '%a%'
       OR an.name LIKE 'A%')
  AND it.info ='mini biography'
  AND lt.link IN ('references',
                  'referenced in',
                  'features',
                  'featured in')
  AND n.name_pcode_cf BETWEEN 'A' AND 'F'
  AND (n.gender='m'
       OR (n.gender = 'f'
           AND n.name LIKE 'A%'))
  AND pi.note IS NOT NULL
  AND t.production_year BETWEEN 1980 AND 2010
  AND n.id = an.person_id
  AND n.id = pi.person_id
  AND ci.person_id = n.id
  AND t.id = ci.movie_id
  AND ml.linked_movie_id = t.id
  AND lt.id = ml.link_type_id
  AND it.id = pi.info_type_id
  AND pi.person_id = an.person_id
  AND pi.person_id = ci.person_id
  AND an.person_id = ci.person_id
  AND ci.movie_id = ml.linked_movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 19147.61, + "Total Cost": 19147.62, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 4386.997, + "Actual Total Time": 4387.329, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(pi.info)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 19147.57, + "Total Cost": 19147.58, + "Plan Rows": 5, + "Plan Width": 64, + "Actual Startup Time": 4386.966, + "Actual Total Time": 4387.307, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(pi.info))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 19146.57, + "Total Cost": 19146.58, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 4233.486, + "Actual Total Time": 4233.492, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(pi.info)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4126.270, + "Actual Total Time": 4126.275, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4164.179, + "Actual Total Time": 4164.184, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4238.508, + "Actual Total Time": 4238.512, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4333.010, + "Actual Total Time": 4333.016, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4153.809, + "Actual Total Time": 4153.817, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.43, + "Total Cost": 19146.57, + "Plan Rows": 1, + "Plan Width": 110, + "Actual Startup Time": 7.632, + "Actual Total Time": 4034.744, + "Actual Rows": 11364, + "Actual Loops": 6, + "Output": ["n.name", "pi.info"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.542, + "Actual Total Time": 3914.334, + "Actual Rows": 11540, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.919, + "Actual Total Time": 3998.449, + "Actual Rows": 11494, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.480, + "Actual Total Time": 4029.536, + "Actual Rows": 11174, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.975, + "Actual Total Time": 4120.407, + "Actual Rows": 11218, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.959, + "Actual Total Time": 3971.776, + "Actual Rows": 9706, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.01, + "Total Cost": 19146.07, + "Plan Rows": 1, + "Plan Width": 122, + "Actual Startup Time": 6.074, + "Actual Total Time": 3880.797, + "Actual Rows": 6693, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "pi.info", "pi.person_id"], + "Inner Unique": true, + "Hash Cond": "(pi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.139, + "Actual Total Time": 3767.840, + "Actual Rows": 6505, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.602, + "Actual Total Time": 3847.304, + "Actual Rows": 7049, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.271, + "Actual Total Time": 3863.590, + "Actual Rows": 6593, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.690, + "Actual Total Time": 3967.415, + "Actual Rows": 6553, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.858, + "Actual Total Time": 3833.667, + "Actual Rows": 5838, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.17, + "Total Cost": 19144.05, + "Plan Rows": 64, + "Plan Width": 126, + "Actual Startup Time": 5.832, + "Actual Total Time": 3868.291, + "Actual Rows": 6693, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "pi.info", "pi.person_id", "pi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(n.id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.014, + "Actual Total Time": 3755.110, + "Actual Rows": 6505, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.498, + "Actual Total Time": 3835.506, + "Actual Rows": 7049, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.151, + "Actual Total Time": 3850.275, + "Actual Rows": 6593, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.578, + "Actual Total Time": 3955.190, + "Actual Rows": 6553, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.738, + "Actual Total Time": 3822.651, + "Actual Rows": 5838, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 17061.39, + "Plan Rows": 3183, + "Plan Width": 23, + "Actual Startup Time": 0.717, + "Actual Total Time": 3157.882, + "Actual Rows": 25129, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.553, + "Actual Total Time": 2934.613, + "Actual Rows": 23210, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.424, + "Actual Total Time": 3209.971, + "Actual Rows": 26334, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.770, + "Actual Total Time": 3123.959, + "Actual Rows": 22800, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.692, + "Actual Total Time": 3259.779, + "Actual Rows": 24004, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.440, + "Actual Total Time": 3166.872, + "Actual Rows": 24468, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 3930.30, + "Plan Rows": 28420, + "Plan Width": 4, + "Actual Startup Time": 0.413, + "Actual Total Time": 824.487, + "Actual Rows": 182868, + "Actual Loops": 6, + "Output": ["ci.person_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.462, + "Actual Total Time": 741.787, + "Actual Rows": 158216, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.333, + "Actual Total Time": 844.003, + "Actual Rows": 201194, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.692, + "Actual Total Time": 832.805, + "Actual Rows": 168568, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.343, + "Actual Total Time": 872.539, + "Actual Rows": 184446, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.356, + "Actual Total Time": 806.435, + "Actual Rows": 178698, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2606.92, + "Plan Rows": 819, + "Plan Width": 8, + "Actual Startup Time": 0.271, + "Actual Total Time": 89.429, + "Actual Rows": 2366, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.345, + "Actual Total Time": 75.723, + "Actual Rows": 2055, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.232, + "Actual Total Time": 92.857, + "Actual Rows": 2459, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.368, + "Actual Total Time": 93.263, + "Actual Rows": 2265, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.227, + "Actual Total Time": 97.131, + "Actual Rows": 2529, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.250, + "Actual Total Time": 88.517, + "Actual Rows": 2310, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 629.43, + "Plan Rows": 1333, + "Plan Width": 4, + "Actual Startup Time": 0.122, + "Actual Total Time": 26.040, + "Actual Rows": 3584, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.121, + "Actual Total Time": 22.124, + "Actual Rows": 2974, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.130, + "Actual Total Time": 26.630, + "Actual Rows": 3881, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.085, + "Actual Total Time": 27.673, + "Actual Rows": 3491, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.114, + "Actual Total Time": 26.802, + "Actual Rows": 3764, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.148, + "Actual Total Time": 26.350, + "Actual Rows": 3735, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.060, + "Actual Total Time": 12.451, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.070, + "Actual Total Time": 10.530, + "Actual Rows": 3794, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 12.881, + "Actual Rows": 5205, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 13.335, + "Actual Rows": 5847, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.062, + "Actual Total Time": 13.099, + "Actual Rows": 5137, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.084, + "Actual Total Time": 12.586, + "Actual Rows": 5044, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 4954, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 3794, + "Cache Hits": 3778, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 5205, + "Cache Hits": 5189, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 5847, + "Cache Hits": 5831, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 5137, + "Cache Hits": 5121, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 5044, + "Cache Hits": 5028, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text = ANY ('{references,\"referenced in\",features,\"featured in\"}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 21505, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1980) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 2974 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 3881 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 3491 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 3764 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 3735 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.27, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.283, + "Actual Rows": 77, + "Actual Loops": 14194, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.294, + "Actual Rows": 77, + "Actual Loops": 2055 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.280, + "Actual Rows": 82, + "Actual Loops": 2459 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.298, + "Actual Rows": 74, + "Actual Loops": 2265 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.280, + "Actual Rows": 73, + "Actual Loops": 2529 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.282, + "Actual Rows": 77, + "Actual Loops": 2310 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1097209, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((n.name_pcode_cf)::text >= 'A'::text) AND ((n.name_pcode_cf)::text <= 'F'::text) AND (((n.gender)::text = 'm'::text) OR (((n.gender)::text = 'f'::text) AND (n.name ~~ 'A%'::text))))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 158216 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 201194 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 168568 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 184446 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 178698 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.64, + "Plan Rows": 1, + "Plan Width": 103, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 150772, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(pi.note IS NOT NULL)", + "Rows Removed by Filter": 20, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 23210 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 26334 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 22800 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 24004 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 24468 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.095, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'mini biography'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.021, + "Actual Rows": 2, + "Actual Loops": 40157, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((an.name IS NOT NULL) AND ((an.name ~~ '%a%'::text) OR (an.name ~~ 'A%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.021, + "Actual Rows": 2, + "Actual Loops": 6505 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.020, + "Actual Rows": 2, + "Actual Loops": 7049 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.023, + "Actual Rows": 2, + "Actual Loops": 6593 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.022, + "Actual Rows": 2, + "Actual Loops": 6553 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.022, + "Actual Rows": 2, + "Actual Loops": 5838 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7678011977838348522, + "Planning Time": 40.297, + "Triggers": [ + ], + "Execution Time": 4387.828, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -7678011977838348522, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an1.name) AS actress_pseudonym,
       MIN(t.title) AS japanese_movie_dubbed
FROM aka_name AS an1,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n1,
     role_type AS rt,
     title AS t
WHERE ci.note ='(voice: English version)'
  AND cn.country_code ='[jp]'
  AND mc.note LIKE '%(Japan)%'
  AND mc.note NOT LIKE '%(USA)%'
  AND n1.name LIKE '%Yo%'
  AND n1.name NOT LIKE '%Yu%'
  AND rt.role ='actress'
  AND an1.person_id = n1.id
  AND n1.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND an1.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7311.13, + "Total Cost": 7311.14, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1162.069, + "Actual Total Time": 1194.379, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an1.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7311.08, + "Total Cost": 7311.09, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 1129.701, + "Actual Total Time": 1194.343, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an1.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7310.08, + "Total Cost": 7310.09, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1122.557, + "Actual Total Time": 1122.564, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an1.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1153.339, + "Actual Total Time": 1153.343, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1129.368, + "Actual Total Time": 1129.373, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1114.819, + "Actual Total Time": 1114.826, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1114.939, + "Actual Total Time": 1114.945, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1114.879, + "Actual Total Time": 1114.886, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1109.423, + "Actual Total Time": 1109.431, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1114.943, + "Actual Total Time": 1114.949, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.29, + "Total Cost": 7310.07, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 492.566, + "Actual Total Time": 1122.510, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["an1.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 162.000, + "Actual Total Time": 1153.267, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 176.731, + "Actual Total Time": 1129.272, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 404.702, + "Actual Total Time": 1114.769, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 738.004, + "Actual Total Time": 1114.908, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 973.439, + "Actual Total Time": 1114.853, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 589.390, + "Actual Total Time": 1109.405, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 535.656, + "Actual Total Time": 1114.909, + "Actual Rows": 5, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.86, + "Total Cost": 7309.54, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 85.475, + "Actual Total Time": 1096.255, + "Actual Rows": 2172, + "Actual Loops": 8, + "Output": ["an1.name", "an1.person_id", "ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 61.703, + "Actual Total Time": 1119.243, + "Actual Rows": 2615, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 84.161, + "Actual Total Time": 1105.286, + "Actual Rows": 1981, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.994, + "Actual Total Time": 1086.535, + "Actual Rows": 2177, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 91.035, + "Actual Total Time": 1092.886, + "Actual Rows": 1861, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.885, + "Actual Total Time": 1096.649, + "Actual Rows": 1445, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 296.306, + "Actual Total Time": 1091.902, + "Actual Rows": 1557, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 114.490, + "Actual Total Time": 1081.877, + "Actual Rows": 2940, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.44, + "Total Cost": 7308.90, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 79.510, + "Actual Total Time": 1062.591, + "Actual Rows": 930, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 61.158, + "Actual Total Time": 1052.571, + "Actual Rows": 1207, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 83.913, + "Actual Total Time": 1069.122, + "Actual Rows": 848, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.642, + "Actual Total Time": 1047.279, + "Actual Rows": 1101, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 90.720, + "Actual Total Time": 1068.680, + "Actual Rows": 789, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.582, + "Actual Total Time": 1075.753, + "Actual Rows": 662, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 296.256, + "Actual Total Time": 1080.854, + "Actual Rows": 541, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 70.136, + "Actual Total Time": 1049.332, + "Actual Rows": 1190, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 7308.11, + "Plan Rows": 5, + "Plan Width": 25, + "Actual Startup Time": 75.556, + "Actual Total Time": 1049.609, + "Actual Rows": 2450, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.role_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 60.946, + "Actual Total Time": 1035.138, + "Actual Rows": 3264, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 83.555, + "Actual Total Time": 1056.266, + "Actual Rows": 2322, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.340, + "Actual Total Time": 1032.140, + "Actual Rows": 2721, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 90.615, + "Actual Total Time": 1056.907, + "Actual Rows": 2296, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.178, + "Actual Total Time": 1066.408, + "Actual Rows": 1802, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 295.965, + "Actual Total Time": 1073.141, + "Actual Rows": 1504, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 40.200, + "Actual Total Time": 1035.220, + "Actual Rows": 2735, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 7242.77, + "Plan Rows": 51, + "Plan Width": 25, + "Actual Startup Time": 0.383, + "Actual Total Time": 192.964, + "Actual Rows": 6041, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.793, + "Actual Total Time": 181.308, + "Actual Rows": 6002, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.317, + "Actual Total Time": 193.371, + "Actual Rows": 7275, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.253, + "Actual Total Time": 204.671, + "Actual Rows": 8103, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.296, + "Actual Total Time": 183.394, + "Actual Rows": 6074, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.289, + "Actual Total Time": 172.450, + "Actual Rows": 4717, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.387, + "Actual Total Time": 188.996, + "Actual Rows": 5387, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.300, + "Actual Total Time": 210.186, + "Actual Rows": 5554, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 7145.71, + "Plan Rows": 51, + "Plan Width": 4, + "Actual Startup Time": 0.268, + "Actual Total Time": 81.716, + "Actual Rows": 6041, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.649, + "Actual Total Time": 65.268, + "Actual Rows": 6002, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.193, + "Actual Total Time": 68.339, + "Actual Rows": 7275, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.132, + "Actual Total Time": 64.517, + "Actual Rows": 8103, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.179, + "Actual Total Time": 70.743, + "Actual Rows": 6074, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.190, + "Actual Total Time": 85.044, + "Actual Rows": 4717, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.226, + "Actual Total Time": 87.856, + "Actual Rows": 5387, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.200, + "Actual Total Time": 99.913, + "Actual Rows": 5554, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 848, + "Plan Width": 4, + "Actual Startup Time": 0.064, + "Actual Total Time": 13.859, + "Actual Rows": 844, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[jp]'::text)", + "Rows Removed by Filter": 28531, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.061, + "Actual Total Time": 5.987, + "Actual Rows": 387, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.089, + "Actual Total Time": 4.883, + "Actual Rows": 300, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.035, + "Actual Total Time": 6.166, + "Actual Rows": 393, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.065, + "Actual Total Time": 10.279, + "Actual Rows": 640, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 18.858, + "Actual Rows": 1218, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.103, + "Actual Total Time": 17.952, + "Actual Rows": 1175, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.072, + "Actual Total Time": 17.117, + "Actual Rows": 1164, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 4.45, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.076, + "Actual Rows": 7, + "Actual Loops": 6752, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(Japan)%'::text) AND (mc.note !~~ '%(USA)%'::text))", + "Rows Removed by Filter": 8, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.146, + "Actual Rows": 16, + "Actual Loops": 387 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.201, + "Actual Rows": 24, + "Actual Loops": 300 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.140, + "Actual Rows": 21, + "Actual Loops": 393 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.090, + "Actual Rows": 9, + "Actual Loops": 640 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.051, + "Actual Rows": 4, + "Actual Loops": 1218 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.057, + "Actual Rows": 5, + "Actual Loops": 1175 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.068, + "Actual Rows": 5, + "Actual Loops": 1164 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.90, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 48328, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 6002 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 7275 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 8103 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 6074 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 4717 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 5387 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 5554 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.27, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.134, + "Actual Total Time": 0.141, + "Actual Rows": 0, + "Actual Loops": 48328, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = '(voice: English version)'::text)", + "Rows Removed by Filter": 32, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.131, + "Actual Total Time": 0.141, + "Actual Rows": 1, + "Actual Loops": 6002 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.112, + "Actual Total Time": 0.118, + "Actual Rows": 0, + "Actual Loops": 7275 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.096, + "Actual Total Time": 0.101, + "Actual Rows": 0, + "Actual Loops": 8103 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.138, + "Actual Total Time": 0.143, + "Actual Rows": 0, + "Actual Loops": 6074 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.182, + "Actual Total Time": 0.188, + "Actual Rows": 0, + "Actual Loops": 4717 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.158, + "Actual Total Time": 0.163, + "Actual Rows": 0, + "Actual Loops": 5387 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.142, + "Actual Total Time": 0.147, + "Actual Rows": 0, + "Actual Loops": 5554 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 19600, + "Output": ["rt.id", "rt.role"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 3264 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 2322 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 2721 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 2296 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1802 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1504 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 2735 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an1", + "Startup Cost": 0.42, + "Total Cost": 0.62, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.034, + "Actual Rows": 2, + "Actual Loops": 7438, + "Output": ["an1.id", "an1.person_id", "an1.name", "an1.imdb_index", "an1.name_pcode_cf", "an1.name_pcode_nf", "an1.surname_pcode", "an1.md5sum"], + "Index Cond": "(an1.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.053, + "Actual Rows": 2, + "Actual Loops": 1207 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.041, + "Actual Rows": 2, + "Actual Loops": 848 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.034, + "Actual Rows": 2, + "Actual Loops": 1101 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.029, + "Actual Rows": 2, + "Actual Loops": 789 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.030, + "Actual Rows": 2, + "Actual Loops": 662 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 541 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.026, + "Actual Rows": 2, + "Actual Loops": 1190 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n1", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 17379, + "Output": ["n1.id", "n1.name", "n1.imdb_index", "n1.imdb_id", "n1.gender", "n1.name_pcode_cf", "n1.name_pcode_nf", "n1.surname_pcode", "n1.md5sum"], + "Index Cond": "(n1.id = an1.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n1.name ~~ '%Yo%'::text) AND (n1.name !~~ '%Yu%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 2615 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 1981 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 2177 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 1861 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1445 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 1557 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 2940 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 99813637196177449, + "Planning Time": 20.757, + "Triggers": [ + ], + "Execution Time": 1194.755, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 99813637196177449, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(an.name) AS acress_pseudonym,
       MIN(t.title) AS japanese_anime_movie
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note ='(voice: English version)'
  AND cn.country_code ='[jp]'
  AND mc.note LIKE '%(Japan)%'
  AND mc.note NOT LIKE '%(USA)%'
  AND (mc.note LIKE '%(2006)%'
       OR mc.note LIKE '%(2007)%')
  AND n.name LIKE '%Yo%'
  AND n.name NOT LIKE '%Yu%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2006 AND 2007
  AND (t.title LIKE 'One Piece%'
       OR t.title LIKE 'Dragon Ball Z%')
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id;

QUERY PLAN --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7408.65, + "Total Cost": 7408.66, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 125.969, + "Actual Total Time": 148.908, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7408.60, + "Total Cost": 7408.61, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 125.492, + "Actual Total Time": 148.882, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7407.60, + "Total Cost": 7407.61, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 116.328, + "Actual Total Time": 116.334, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.155, + "Actual Total Time": 117.160, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 116.768, + "Actual Total Time": 116.773, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 116.618, + "Actual Total Time": 116.622, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 112.825, + "Actual Total Time": 112.830, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 116.584, + "Actual Total Time": 116.589, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 117.162, + "Actual Total Time": 117.166, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 109.109, + "Actual Total Time": 109.114, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.30, + "Total Cost": 7407.59, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 109.946, + "Actual Total Time": 116.325, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.150, + "Actual Total Time": 117.155, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 116.765, + "Actual Total Time": 116.770, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 116.615, + "Actual Total Time": 116.618, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 112.821, + "Actual Total Time": 112.824, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 65.555, + "Actual Total Time": 116.553, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 117.158, + "Actual Total Time": 117.162, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 109.103, + "Actual Total Time": 109.107, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.17, + "Total Cost": 7407.42, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 109.940, + "Actual Total Time": 116.313, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["an.name", "ci.role_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.150, + "Actual Total Time": 117.154, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 116.765, + "Actual Total Time": 116.769, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 116.614, + "Actual Total Time": 116.617, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 112.820, + "Actual Total Time": 112.823, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 65.509, + "Actual Total Time": 116.469, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 117.157, + "Actual Total Time": 117.161, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 109.102, + "Actual Total Time": 109.106, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.74, + "Total Cost": 7406.88, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 107.241, + "Actual Total Time": 115.892, + "Actual Rows": 21, + "Actual Loops": 8, + "Output": ["an.name", "an.person_id", "ci.person_id", "ci.role_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.149, + "Actual Total Time": 117.153, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 116.764, + "Actual Total Time": 116.767, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 116.613, + "Actual Total Time": 116.616, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 112.819, + "Actual Total Time": 112.822, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.924, + "Actual Total Time": 113.106, + "Actual Rows": 171, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 117.157, + "Actual Total Time": 117.159, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 109.102, + "Actual Total Time": 109.105, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.31, + "Total Cost": 7406.25, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 107.228, + "Actual Total Time": 112.725, + "Actual Rows": 13, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.role_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.149, + "Actual Total Time": 117.151, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 116.763, + "Actual Total Time": 116.766, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 116.612, + "Actual Total Time": 116.615, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 112.819, + "Actual Total Time": 112.821, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.820, + "Actual Total Time": 87.783, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 117.156, + "Actual Total Time": 117.158, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 109.101, + "Actual Total Time": 109.104, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 7367.19, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 107.218, + "Actual Total Time": 112.579, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.149, + "Actual Total Time": 117.150, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 116.763, + "Actual Total Time": 116.765, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 116.612, + "Actual Total Time": 116.614, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 112.818, + "Actual Total Time": 112.820, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.746, + "Actual Total Time": 86.624, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 117.155, + "Actual Total Time": 117.157, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 109.101, + "Actual Total Time": 109.103, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 7361.95, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.423, + "Actual Total Time": 90.715, + "Actual Rows": 1062, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.355, + "Actual Total Time": 86.760, + "Actual Rows": 1444, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.288, + "Actual Total Time": 103.354, + "Actual Rows": 665, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.353, + "Actual Total Time": 96.398, + "Actual Rows": 1131, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.116, + "Actual Total Time": 84.722, + "Actual Rows": 540, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.631, + "Actual Total Time": 72.576, + "Actual Rows": 778, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.398, + "Actual Total Time": 101.841, + "Actual Rows": 829, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.140, + "Actual Total Time": 78.155, + "Actual Rows": 1695, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 848, + "Plan Width": 4, + "Actual Startup Time": 0.060, + "Actual Total Time": 14.683, + "Actual Rows": 844, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[jp]'::text)", + "Rows Removed by Filter": 28531, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.076, + "Actual Total Time": 14.565, + "Actual Rows": 942, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.076, + "Actual Total Time": 22.523, + "Actual Rows": 450, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.035, + "Actual Total Time": 15.131, + "Actual Rows": 954, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.041, + "Actual Total Time": 11.392, + "Actual Rows": 726, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 12.126, + "Actual Rows": 858, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.106, + "Actual Total Time": 15.591, + "Actual Rows": 1073, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.062, + "Actual Total Time": 11.135, + "Actual Rows": 775, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 4.71, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.089, + "Actual Rows": 1, + "Actual Loops": 6752, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(Japan)%'::text) AND (mc.note !~~ '%(USA)%'::text) AND ((mc.note ~~ '%(2006)%'::text) OR (mc.note ~~ '%(2007)%'::text)))", + "Rows Removed by Filter": 14, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.075, + "Actual Rows": 2, + "Actual Loops": 942 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.114, + "Actual Total Time": 0.178, + "Actual Rows": 1, + "Actual Loops": 450 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.084, + "Actual Rows": 1, + "Actual Loops": 954 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.100, + "Actual Rows": 1, + "Actual Loops": 726 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.069, + "Actual Rows": 1, + "Actual Loops": 858 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.079, + "Actual Rows": 1, + "Actual Loops": 1073 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.085, + "Actual Rows": 2, + "Actual Loops": 775 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.44, + "Total Cost": 2.61, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 8495, + "Output": ["t.title", "t.id"], + "Cache Key": "mc.movie_id", + "Cache Mode": "logical", + "Cache Hits": 133, + "Cache Misses": 1280, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 85, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1444, + "Cache Hits": 36, + "Cache Misses": 1408, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 94 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 665, + "Cache Hits": 35, + "Cache Misses": 630, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 42 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1131, + "Cache Hits": 199, + "Cache Misses": 932, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 62 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 540, + "Cache Hits": 15, + "Cache Misses": 525, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 35 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 778, + "Cache Hits": 29, + "Cache Misses": 749, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 51 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 829, + "Cache Hits": 74, + "Cache Misses": 755, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 51 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1695, + "Cache Hits": 272, + "Cache Misses": 1423, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 95 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 2.60, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 7702, + "Output": ["t.title", "t.id"], + "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2006) AND (t.production_year <= 2007) AND ((t.title ~~ 'One Piece%'::text) OR (t.title ~~ 'Dragon Ball Z%'::text)))",+ "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1408 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 630 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 932 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 525 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 749 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 755 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1423 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 39.05, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.271, + "Actual Rows": 26, + "Actual Loops": 4, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = '(voice: English version)'::text)", + "Rows Removed by Filter": 17, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.271, + "Actual Rows": 26, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.62, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 0.230, + "Actual Total Time": 0.242, + "Actual Rows": 2, + "Actual Loops": 104, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.230, + "Actual Total Time": 0.242, + "Actual Rows": 2, + "Actual Loops": 104 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 171, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%Yo%'::text) AND (n.name !~~ '%Yu%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 171 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["rt.id", "rt.role"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 6 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4954783290691726040, + "Planning Time": 19.413, + "Triggers": [ + ], + "Execution Time": 149.466, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 4954783290691726040, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(a1.name) AS writer_pseudo_name,
       MIN(t.title) AS movie_title
FROM aka_name AS a1,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n1,
     role_type AS rt,
     title AS t
WHERE cn.country_code ='[us]'
  AND rt.role ='writer'
  AND a1.person_id = n1.id
  AND n1.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND a1.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id;

QUERY PLAN --------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 279804.21, + "Total Cost": 279804.22, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 7627.488, + "Actual Total Time": 7740.789, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(a1.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 279804.16, + "Total Cost": 279804.17, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 7554.803, + "Actual Total Time": 7740.754, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(a1.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 279803.16, + "Total Cost": 279803.17, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 7552.606, + "Actual Total Time": 7557.417, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(a1.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7545.198, + "Actual Total Time": 7545.207, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7600.037, + "Actual Total Time": 7600.054, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7546.856, + "Actual Total Time": 7546.864, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7540.035, + "Actual Total Time": 7540.044, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7545.452, + "Actual Total Time": 7545.461, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7545.877, + "Actual Total Time": 7545.885, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7543.443, + "Actual Total Time": 7543.452, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 259209.66, + "Total Cost": 276169.35, + "Plan Rows": 726763, + "Plan Width": 33, + "Actual Startup Time": 6816.863, + "Actual Total Time": 7396.010, + "Actual Rows": 310951, + "Actual Loops": 8, + "Output": ["a1.name", "t.title"], + "Inner Unique": false, + "Hash Cond": "(ci.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6817.246, + "Actual Total Time": 7383.713, + "Actual Rows": 322006, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6812.337, + "Actual Total Time": 7444.018, + "Actual Rows": 283590, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6817.805, + "Actual Total Time": 7385.534, + "Actual Rows": 304038, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6811.980, + "Actual Total Time": 7380.186, + "Actual Rows": 295937, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6817.500, + "Actual Total Time": 7392.353, + "Actual Rows": 272686, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6817.659, + "Actual Total Time": 7387.695, + "Actual Rows": 322222, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6815.671, + "Actual Total Time": 7377.385, + "Actual Rows": 334501, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 188396.22, + "Total Cost": 201962.38, + "Plan Rows": 804932, + "Plan Width": 20, + "Actual Startup Time": 5374.651, + "Actual Total Time": 5670.893, + "Actual Rows": 292966, + "Actual Loops": 8, + "Output": ["a1.name", "ci.movie_id"], + "Inner Unique": false, + "Hash Cond": "(a1.person_id = n1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5374.638, + "Actual Total Time": 5659.152, + "Actual Rows": 307703, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5374.743, + "Actual Total Time": 5706.226, + "Actual Rows": 289975, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5374.781, + "Actual Total Time": 5666.890, + "Actual Rows": 276780, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5374.556, + "Actual Total Time": 5656.673, + "Actual Rows": 298721, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5374.498, + "Actual Total Time": 5673.780, + "Actual Rows": 270278, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5374.825, + "Actual Total Time": 5662.978, + "Actual Rows": 320343, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5374.762, + "Actual Total Time": 5658.381, + "Actual Rows": 279413, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "a1", + "Startup Cost": 0.00, + "Total Cost": 12522.68, + "Plan Rows": 112668, + "Plan Width": 20, + "Actual Startup Time": 0.249, + "Actual Total Time": 83.427, + "Actual Rows": 112668, + "Actual Loops": 8, + "Output": ["a1.id", "a1.person_id", "a1.name", "a1.imdb_index", "a1.name_pcode_cf", "a1.name_pcode_nf", "a1.surname_pcode", "a1.md5sum"],+ "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.269, + "Actual Total Time": 77.182, + "Actual Rows": 116712, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.269, + "Actual Total Time": 88.233, + "Actual Rows": 118104, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.379, + "Actual Total Time": 85.585, + "Actual Rows": 119482, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.093, + "Actual Total Time": 73.714, + "Actual Rows": 104976, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.102, + "Actual Total Time": 84.420, + "Actual Rows": 113295, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.505, + "Actual Total Time": 94.672, + "Actual Rows": 114135, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.333, + "Actual Total Time": 84.047, + "Actual Rows": 104834, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 166196.50, + "Total Cost": 166196.50, + "Plan Rows": 1775978, + "Plan Width": 12, + "Actual Startup Time": 5363.187, + "Actual Total Time": 5367.991, + "Actual Rows": 341118, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "n1.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 160832, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5374.237, + "Actual Total Time": 5374.241, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5374.257, + "Actual Total Time": 5374.263, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5374.262, + "Actual Total Time": 5374.266, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5374.256, + "Actual Total Time": 5374.259, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5374.266, + "Actual Total Time": 5374.269, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5374.225, + "Actual Total Time": 5374.229, + "Actual Rows": 2728943, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5374.234, + "Actual Total Time": 5374.237, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 45131.29, + "Total Cost": 166196.50, + "Plan Rows": 1775978, + "Plan Width": 12, + "Actual Startup Time": 773.701, + "Actual Total Time": 1203.851, + "Actual Rows": 341118, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "n1.id"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 773.600, + "Actual Total Time": 773.603, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 773.611, + "Actual Total Time": 773.616, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 773.574, + "Actual Total Time": 773.577, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 773.599, + "Actual Total Time": 773.602, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 773.592, + "Actual Total Time": 773.595, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 774.364, + "Actual Total Time": 4177.140, + "Actual Rows": 2728943, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 773.577, + "Actual Total Time": 773.580, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.44, + "Total Cost": 116403.71, + "Plan Rows": 1775978, + "Plan Width": 8, + "Actual Startup Time": 0.097, + "Actual Total Time": 260.187, + "Actual Rows": 341118, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.759, + "Actual Total Time": 2081.470, + "Actual Rows": 2728943, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id", "rt.role"], + "Filter": "((rt.role)::text = 'writer'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 83466.30, + "Plan Rows": 3293632, + "Plan Width": 12, + "Actual Startup Time": 0.731, + "Actual Total Time": 1561.727, + "Actual Rows": 2728943, + "Actual Loops": 1, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.role_id = rt.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.731, + "Actual Total Time": 1561.727, + "Actual Rows": 2728943, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 38619.15, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 766.422, + "Actual Total Time": 766.423, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n1.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 195936, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 773.559, + "Actual Total Time": 773.560, + "Actual Rows": 531281, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 773.564, + "Actual Total Time": 773.565, + "Actual Rows": 508740, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 773.502, + "Actual Total Time": 773.503, + "Actual Rows": 500688, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 773.540, + "Actual Total Time": 773.541, + "Actual Rows": 538386, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 773.529, + "Actual Total Time": 773.530, + "Actual Rows": 495930, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 773.541, + "Actual Total Time": 773.541, + "Actual Rows": 512766, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 773.506, + "Actual Total Time": 773.507, + "Actual Rows": 526674, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n1", + "Startup Cost": 0.43, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 0.345, + "Actual Total Time": 286.788, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n1.id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.385, + "Actual Total Time": 285.594, + "Actual Rows": 531281, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.204, + "Actual Total Time": 288.800, + "Actual Rows": 508740, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.516, + "Actual Total Time": 283.543, + "Actual Rows": 500688, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.406, + "Actual Total Time": 288.379, + "Actual Rows": 538386, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.281, + "Actual Total Time": 291.485, + "Actual Rows": 495930, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.336, + "Actual Total Time": 285.974, + "Actual Rows": 512766, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.569, + "Actual Total Time": 283.943, + "Actual Rows": 526674, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 69340.97, + "Total Cost": 69340.97, + "Plan Rows": 117798, + "Plan Width": 25, + "Actual Startup Time": 1439.480, + "Actual Total Time": 1439.483, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Hash Buckets": 2097152, + "Original Hash Buckets": 1048576, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 95520, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1442.247, + "Actual Total Time": 1442.250, + "Actual Rows": 129804, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1437.295, + "Actual Total Time": 1437.300, + "Actual Rows": 146851, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1442.584, + "Actual Total Time": 1442.587, + "Actual Rows": 145127, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1437.173, + "Actual Total Time": 1437.176, + "Actual Rows": 141489, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1442.210, + "Actual Total Time": 1442.214, + "Actual Rows": 140649, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1442.591, + "Actual Total Time": 1442.594, + "Actual Rows": 147880, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1440.588, + "Actual Total Time": 1440.592, + "Actual Rows": 143881, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 43145.31, + "Total Cost": 69340.97, + "Plan Rows": 117798, + "Plan Width": 25, + "Actual Startup Time": 559.806, + "Actual Total Time": 1211.823, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 558.966, + "Actual Total Time": 1209.068, + "Actual Rows": 129804, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 565.906, + "Actual Total Time": 1210.887, + "Actual Rows": 146851, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 558.935, + "Actual Total Time": 1212.902, + "Actual Rows": 145127, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 558.782, + "Actual Total Time": 1236.264, + "Actual Rows": 141489, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 558.935, + "Actual Total Time": 1215.419, + "Actual Rows": 140649, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 558.932, + "Actual Total Time": 1204.292, + "Actual Rows": 147880, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 558.966, + "Actual Total Time": 1207.987, + "Actual Rows": 143881, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 25886.87, + "Plan Rows": 117798, + "Plan Width": 4, + "Actual Startup Time": 0.976, + "Actual Total Time": 482.623, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.131, + "Actual Total Time": 486.357, + "Actual Rows": 129804, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.986, + "Actual Total Time": 487.306, + "Actual Rows": 146851, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.098, + "Actual Total Time": 489.207, + "Actual Rows": 145127, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.152, + "Actual Total Time": 494.640, + "Actual Rows": 141489, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.100, + "Actual Total Time": 485.769, + "Actual Rows": 140649, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.103, + "Actual Total Time": 476.704, + "Actual Rows": 147880, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.132, + "Actual Total Time": 480.770, + "Actual Rows": 143881, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10610, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 17.211, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 17.805, + "Actual Rows": 10876, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 17.708, + "Actual Rows": 11216, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 19.786, + "Actual Rows": 11613, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 18.837, + "Actual Rows": 11600, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 18.816, + "Actual Rows": 11572, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 15.685, + "Actual Rows": 9645, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 16.403, + "Actual Rows": 10364, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.61, + "Plan Rows": 51, + "Plan Width": 8, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.039, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.038, + "Actual Rows": 12, + "Actual Loops": 10876 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.037, + "Actual Rows": 13, + "Actual Loops": 11216 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.036, + "Actual Rows": 12, + "Actual Loops": 11613 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.036, + "Actual Rows": 12, + "Actual Loops": 11600 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.036, + "Actual Rows": 12, + "Actual Loops": 11572 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.042, + "Actual Rows": 15, + "Actual Loops": 9645 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.040, + "Actual Rows": 14, + "Actual Loops": 10364 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 39194.39, + "Total Cost": 39194.39, + "Plan Rows": 316039, + "Plan Width": 21, + "Actual Startup Time": 550.273, + "Actual Total Time": 550.274, + "Actual Rows": 316039, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 174848, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 558.784, + "Actual Total Time": 558.785, + "Actual Rows": 306377, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 558.729, + "Actual Total Time": 558.730, + "Actual Rows": 319322, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 558.783, + "Actual Total Time": 558.784, + "Actual Rows": 315340, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 558.577, + "Actual Total Time": 558.578, + "Actual Rows": 331274, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 558.781, + "Actual Total Time": 558.782, + "Actual Rows": 322047, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 558.779, + "Actual Total Time": 558.780, + "Actual Rows": 303466, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 558.783, + "Actual Total Time": 558.784, + "Actual Rows": 314322, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.00, + "Total Cost": 39194.39, + "Plan Rows": 316039, + "Plan Width": 21, + "Actual Startup Time": 0.443, + "Actual Total Time": 198.061, + "Actual Rows": 316039, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.068, + "Actual Total Time": 203.342, + "Actual Rows": 306377, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.570, + "Actual Total Time": 194.091, + "Actual Rows": 319322, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.670, + "Actual Total Time": 203.974, + "Actual Rows": 315340, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.729, + "Actual Total Time": 194.634, + "Actual Rows": 331274, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.706, + "Actual Total Time": 199.293, + "Actual Rows": 322047, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.652, + "Actual Total Time": 201.508, + "Actual Rows": 303466, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.064, + "Actual Total Time": 190.853, + "Actual Rows": 314322, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2444720784039749802, + "Planning Time": 17.516, + "Triggers": [ + ], + "Execution Time": 7741.113, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -2444720784039749802, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(an1.name) AS costume_designer_pseudo,
       MIN(t.title) AS movie_with_costumes
FROM aka_name AS an1,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n1,
     role_type AS rt,
     title AS t
WHERE cn.country_code ='[us]'
  AND rt.role ='costume designer'
  AND an1.person_id = n1.id
  AND n1.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND an1.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id;

QUERY PLAN ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 279804.21, + "Total Cost": 279804.22, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 2956.094, + "Actual Total Time": 3030.413, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an1.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 279804.16, + "Total Cost": 279804.17, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 2909.473, + "Actual Total Time": 3030.378, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an1.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 279803.16, + "Total Cost": 279803.17, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 2906.372, + "Actual Total Time": 2909.490, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an1.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2931.921, + "Actual Total Time": 2931.934, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2901.838, + "Actual Total Time": 2901.848, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2901.812, + "Actual Total Time": 2901.822, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2901.843, + "Actual Total Time": 2901.852, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2901.842, + "Actual Total Time": 2901.852, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2901.851, + "Actual Total Time": 2901.859, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2901.392, + "Actual Total Time": 2901.402, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 259209.66, + "Total Cost": 276169.35, + "Plan Rows": 726763, + "Plan Width": 33, + "Actual Startup Time": 2733.820, + "Actual Total Time": 2883.793, + "Actual Rows": 40376, + "Actual Loops": 8, + "Output": ["an1.name", "t.title"], + "Inner Unique": false, + "Hash Cond": "(ci.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2732.456, + "Actual Total Time": 2907.023, + "Actual Rows": 40862, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2733.180, + "Actual Total Time": 2875.200, + "Actual Rows": 45138, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2732.414, + "Actual Total Time": 2875.257, + "Actual Rows": 41994, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2732.042, + "Actual Total Time": 2874.439, + "Actual Rows": 46739, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2733.875, + "Actual Total Time": 2875.323, + "Actual Rows": 35147, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2732.953, + "Actual Total Time": 2872.192, + "Actual Rows": 37931, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2733.594, + "Actual Total Time": 2877.974, + "Actual Rows": 39769, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 188396.22, + "Total Cost": 201962.38, + "Plan Rows": 804932, + "Plan Width": 20, + "Actual Startup Time": 1309.121, + "Actual Total Time": 1415.312, + "Actual Rows": 27371, + "Actual Loops": 8, + "Output": ["an1.name", "ci.movie_id"], + "Inner Unique": false, + "Hash Cond": "(an1.person_id = n1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1308.953, + "Actual Total Time": 1419.860, + "Actual Rows": 30932, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1309.232, + "Actual Total Time": 1409.174, + "Actual Rows": 28312, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1308.869, + "Actual Total Time": 1410.363, + "Actual Rows": 26885, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1308.502, + "Actual Total Time": 1406.581, + "Actual Rows": 34089, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1308.534, + "Actual Total Time": 1410.115, + "Actual Rows": 20340, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1308.510, + "Actual Total Time": 1402.255, + "Actual Rows": 25201, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1310.502, + "Actual Total Time": 1416.255, + "Actual Rows": 28247, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an1", + "Startup Cost": 0.00, + "Total Cost": 12522.68, + "Plan Rows": 112668, + "Plan Width": 20, + "Actual Startup Time": 0.028, + "Actual Total Time": 29.557, + "Actual Rows": 112668, + "Actual Loops": 8, + "Output": ["an1.id", "an1.person_id", "an1.name", "an1.imdb_index", "an1.name_pcode_cf", "an1.name_pcode_nf", "an1.surname_pcode", "an1.md5sum"],+ "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 29.305, + "Actual Rows": 116946, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 28.331, + "Actual Rows": 116539, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 29.315, + "Actual Rows": 114720, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.059, + "Actual Total Time": 27.579, + "Actual Rows": 114398, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 30.223, + "Actual Rows": 91650, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 26.853, + "Actual Rows": 82489, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 30.975, + "Actual Rows": 125607, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 166196.50, + "Total Cost": 166196.50, + "Plan Rows": 1775978, + "Plan Width": 12, + "Actual Startup Time": 1296.899, + "Actual Total Time": 1300.010, + "Actual Rows": 34550, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "n1.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 45760, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1308.320, + "Actual Total Time": 1308.325, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1308.326, + "Actual Total Time": 1308.331, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1308.309, + "Actual Total Time": 1308.313, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1308.264, + "Actual Total Time": 1308.267, + "Actual Rows": 276403, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1308.283, + "Actual Total Time": 1308.287, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1217.105, + "Actual Total Time": 1217.108, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1308.289, + "Actual Total Time": 1308.295, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 45131.29, + "Total Cost": 166196.50, + "Plan Rows": 1775978, + "Plan Width": 12, + "Actual Startup Time": 675.531, + "Actual Total Time": 730.573, + "Actual Rows": 34550, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "n1.id"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 675.268, + "Actual Total Time": 675.272, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 675.268, + "Actual Total Time": 675.273, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 675.277, + "Actual Total Time": 675.281, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 677.287, + "Actual Total Time": 1092.744, + "Actual Rows": 276403, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 675.257, + "Actual Total Time": 675.260, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 675.356, + "Actual Total Time": 675.359, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 675.257, + "Actual Total Time": 675.261, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.44, + "Total Cost": 116403.71, + "Plan Rows": 1775978, + "Plan Width": 8, + "Actual Startup Time": 0.254, + "Actual Total Time": 29.359, + "Actual Rows": 34550, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.012, + "Actual Total Time": 234.848, + "Actual Rows": 276403, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id", "rt.role"], + "Filter": "((rt.role)::text = 'costume designer'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 83466.30, + "Plan Rows": 3293632, + "Plan Width": 12, + "Actual Startup Time": 1.983, + "Actual Total Time": 172.617, + "Actual Rows": 276403, + "Actual Loops": 1, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.role_id = rt.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 1.983, + "Actual Total Time": 172.617, + "Actual Rows": 276403, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 38619.15, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 667.372, + "Actual Total Time": 667.373, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n1.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 195904, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 675.219, + "Actual Total Time": 675.220, + "Actual Rows": 526674, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 675.220, + "Actual Total Time": 675.222, + "Actual Rows": 503250, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 675.242, + "Actual Total Time": 675.243, + "Actual Rows": 513498, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 675.228, + "Actual Total Time": 675.229, + "Actual Rows": 535458, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 675.207, + "Actual Total Time": 675.208, + "Actual Rows": 502518, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 612.413, + "Actual Total Time": 612.414, + "Actual Rows": 545340, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 675.207, + "Actual Total Time": 675.208, + "Actual Rows": 502733, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n1", + "Startup Cost": 0.43, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 0.194, + "Actual Total Time": 216.000, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n1.id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.216, + "Actual Total Time": 215.708, + "Actual Rows": 526674, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.154, + "Actual Total Time": 214.757, + "Actual Rows": 503250, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.219, + "Actual Total Time": 218.923, + "Actual Rows": 513498, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.169, + "Actual Total Time": 214.264, + "Actual Rows": 535458, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.283, + "Actual Total Time": 216.704, + "Actual Rows": 502518, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.167, + "Actual Total Time": 215.709, + "Actual Rows": 545340, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.283, + "Actual Total Time": 216.098, + "Actual Rows": 502733, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 69340.97, + "Total Cost": 69340.97, + "Plan Rows": 117798, + "Plan Width": 25, + "Actual Startup Time": 1421.796, + "Actual Total Time": 1421.800, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Hash Buckets": 2097152, + "Original Hash Buckets": 1048576, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 95552, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1423.235, + "Actual Total Time": 1423.239, + "Actual Rows": 155528, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1423.249, + "Actual Total Time": 1423.253, + "Actual Rows": 147181, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1423.250, + "Actual Total Time": 1423.254, + "Actual Rows": 125089, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1423.282, + "Actual Total Time": 1423.286, + "Actual Rows": 147334, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1423.270, + "Actual Total Time": 1423.273, + "Actual Rows": 170871, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1423.265, + "Actual Total Time": 1423.268, + "Actual Rows": 148017, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1422.814, + "Actual Total Time": 1422.817, + "Actual Rows": 133057, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 43145.31, + "Total Cost": 69340.97, + "Plan Rows": 117798, + "Plan Width": 25, + "Actual Startup Time": 538.001, + "Actual Total Time": 1180.615, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 537.999, + "Actual Total Time": 1176.372, + "Actual Rows": 155528, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 537.988, + "Actual Total Time": 1187.231, + "Actual Rows": 147181, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 537.979, + "Actual Total Time": 1178.079, + "Actual Rows": 125089, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 538.002, + "Actual Total Time": 1184.434, + "Actual Rows": 147334, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 537.996, + "Actual Total Time": 1156.589, + "Actual Rows": 170871, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 537.997, + "Actual Total Time": 1183.557, + "Actual Rows": 148017, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 537.990, + "Actual Total Time": 1186.970, + "Actual Rows": 133057, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 25886.87, + "Plan Rows": 117798, + "Plan Width": 4, + "Actual Startup Time": 0.095, + "Actual Total Time": 466.008, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.092, + "Actual Total Time": 445.138, + "Actual Rows": 155528, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.103, + "Actual Total Time": 484.065, + "Actual Rows": 147181, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.093, + "Actual Total Time": 478.934, + "Actual Rows": 125089, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.092, + "Actual Total Time": 476.896, + "Actual Rows": 147334, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.095, + "Actual Total Time": 428.527, + "Actual Rows": 170871, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.104, + "Actual Total Time": 474.050, + "Actual Rows": 148017, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.100, + "Actual Total Time": 470.182, + "Actual Rows": 133057, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10610, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 19.415, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 15.203, + "Actual Rows": 9517, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 19.928, + "Actual Rows": 12397, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 18.393, + "Actual Rows": 11432, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 17.626, + "Actual Rows": 10973, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 30.495, + "Actual Rows": 8738, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 19.255, + "Actual Rows": 10560, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 16.393, + "Actual Rows": 9892, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.61, + "Plan Rows": 51, + "Plan Width": 8, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.036, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.039, + "Actual Rows": 16, + "Actual Loops": 9517 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.033, + "Actual Rows": 12, + "Actual Loops": 12397 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.034, + "Actual Rows": 11, + "Actual Loops": 11432 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.037, + "Actual Rows": 13, + "Actual Loops": 10973 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.039, + "Actual Rows": 20, + "Actual Loops": 8738 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.038, + "Actual Rows": 14, + "Actual Loops": 10560 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.040, + "Actual Rows": 13, + "Actual Loops": 9892 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 39194.39, + "Total Cost": 39194.39, + "Plan Rows": 316039, + "Plan Width": 21, + "Actual Startup Time": 528.050, + "Actual Total Time": 528.051, + "Actual Rows": 316039, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 174848, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 537.855, + "Actual Total Time": 537.856, + "Actual Rows": 307963, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 537.841, + "Actual Total Time": 537.842, + "Actual Rows": 325474, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 537.848, + "Actual Total Time": 537.849, + "Actual Rows": 318179, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 537.862, + "Actual Total Time": 537.863, + "Actual Rows": 320297, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 537.856, + "Actual Total Time": 537.857, + "Actual Rows": 298033, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 537.853, + "Actual Total Time": 537.854, + "Actual Rows": 317246, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 537.850, + "Actual Total Time": 537.850, + "Actual Rows": 314003, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.00, + "Total Cost": 39194.39, + "Plan Rows": 316039, + "Plan Width": 21, + "Actual Startup Time": 0.066, + "Actual Total Time": 157.107, + "Actual Rows": 316039, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.062, + "Actual Total Time": 153.259, + "Actual Rows": 307963, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.068, + "Actual Total Time": 159.048, + "Actual Rows": 325474, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.064, + "Actual Total Time": 158.887, + "Actual Rows": 318179, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.057, + "Actual Total Time": 153.206, + "Actual Rows": 320297, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.060, + "Actual Total Time": 158.061, + "Actual Rows": 298033, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.058, + "Actual Total Time": 159.128, + "Actual Rows": 317246, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.063, + "Actual Total Time": 155.344, + "Actual Rows": 314003, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2444720784039749802, + "Planning Time": 17.412, + "Triggers": [ + ], + "Execution Time": 3030.756, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -2444720784039749802, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(an.name) AS alternative_name,
       MIN(chn.name) AS character_name,
       MIN(t.title) AS movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND mc.note IS NOT NULL
  AND (mc.note LIKE '%(USA)%'
       OR mc.note LIKE '%(worldwide)%')
  AND n.gender ='f'
  AND n.name LIKE '%Ang%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2005 AND 2015
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND ci.movie_id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND n.id = ci.person_id
  AND chn.id = ci.person_role_id
  AND an.person_id = n.id
  AND an.person_id = ci.person_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 40924.10, + "Total Cost": 40924.11, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 4585.770, + "Actual Total Time": 4626.506, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(chn.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.69, + "Total Cost": 40924.09, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 2316.588, + "Actual Total Time": 4626.371, + "Actual Rows": 121, + "Actual Loops": 1, + "Output": ["an.name", "chn.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.26, + "Total Cost": 40923.59, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 621.805, + "Actual Total Time": 4624.715, + "Actual Rows": 115, + "Actual Loops": 1, + "Output": ["chn.name", "ci.person_id", "n.id", "t.title"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3.83, + "Total Cost": 40923.08, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 621.728, + "Actual Total Time": 4621.771, + "Actual Rows": 125, + "Actual Loops": 1, + "Output": ["ci.person_id", "ci.person_role_id", "n.id", "t.title"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 40922.08, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 755.672, + "Actual Total Time": 4119.897, + "Actual Rows": 16, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.person_role_id", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 608.308, + "Actual Total Time": 4020.025, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2064.493, + "Actual Total Time": 4024.623, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 79.217, + "Actual Total Time": 4026.345, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 506.902, + "Actual Total Time": 4575.308, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1014.967, + "Actual Total Time": 4026.209, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.895, + "Actual Total Time": 4018.557, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1145.882, + "Actual Total Time": 4026.506, + "Actual Rows": 20, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 40716.34, + "Plan Rows": 380, + "Plan Width": 25, + "Actual Startup Time": 16.017, + "Actual Total Time": 4051.189, + "Actual Rows": 3827, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.person_role_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 17.313, + "Actual Total Time": 3942.083, + "Actual Rows": 4619, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.206, + "Actual Total Time": 3973.192, + "Actual Rows": 2526, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.854, + "Actual Total Time": 3955.164, + "Actual Rows": 4111, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.103, + "Actual Total Time": 4487.308, + "Actual Rows": 4563, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.968, + "Actual Total Time": 3952.158, + "Actual Rows": 4490, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.202, + "Actual Total Time": 3946.666, + "Actual Rows": 3971, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.935, + "Actual Total Time": 3949.761, + "Actual Rows": 4452, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 40699.03, + "Plan Rows": 4564, + "Plan Width": 29, + "Actual Startup Time": 13.337, + "Actual Total Time": 4040.932, + "Actual Rows": 13087, + "Actual Loops": 8, + "Output": ["ci.role_id", "ci.person_id", "ci.person_role_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.766, + "Actual Total Time": 3930.713, + "Actual Rows": 15611, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.582, + "Actual Total Time": 3965.913, + "Actual Rows": 8497, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.406, + "Actual Total Time": 3943.879, + "Actual Rows": 15261, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.633, + "Actual Total Time": 4474.901, + "Actual Rows": 15836, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.202, + "Actual Total Time": 3940.072, + "Actual Rows": 14341, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.256, + "Actual Total Time": 3936.354, + "Actual Rows": 13720, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.237, + "Actual Total Time": 3939.122, + "Actual Rows": 14207, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 31878.23, + "Plan Rows": 5741, + "Plan Width": 25, + "Actual Startup Time": 0.223, + "Actual Total Time": 1354.504, + "Actual Rows": 18015, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.256, + "Actual Total Time": 1339.630, + "Actual Rows": 19037, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.184, + "Actual Total Time": 1486.268, + "Actual Rows": 17179, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.174, + "Actual Total Time": 1272.496, + "Actual Rows": 16787, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.236, + "Actual Total Time": 1426.791, + "Actual Rows": 20908, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.347, + "Actual Total Time": 1318.223, + "Actual Rows": 16811, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.215, + "Actual Total Time": 1298.964, + "Actual Rows": 15319, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.206, + "Actual Total Time": 1305.171, + "Actual Rows": 18715, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 23817.92, + "Plan Rows": 13097, + "Plan Width": 4, + "Actual Startup Time": 0.107, + "Actual Total Time": 485.102, + "Actual Rows": 67762, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.141, + "Actual Total Time": 511.190, + "Actual Rows": 59949, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.115, + "Actual Total Time": 566.698, + "Actual Rows": 75246, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.102, + "Actual Total Time": 533.432, + "Actual Rows": 55212, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.111, + "Actual Total Time": 390.482, + "Actual Rows": 85716, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.112, + "Actual Total Time": 430.060, + "Actual Rows": 67646, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.094, + "Actual Total Time": 531.073, + "Actual Rows": 56861, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.087, + "Actual Total Time": 568.991, + "Actual Rows": 51544, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10610, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 18.871, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 21.522, + "Actual Rows": 12426, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 24.233, + "Actual Rows": 14751, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 24.815, + "Actual Rows": 14473, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 8.318, + "Actual Rows": 3491, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 14.089, + "Actual Rows": 7517, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 24.946, + "Actual Rows": 13814, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 26.239, + "Actual Rows": 15378, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.87, + "Plan Rows": 6, + "Plan Width": 8, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.041, + "Actual Rows": 6, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note IS NOT NULL) AND ((mc.note ~~ '%(USA)%'::text) OR (mc.note ~~ '%(worldwide)%'::text)))", + "Rows Removed by Filter": 7, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.037, + "Actual Rows": 5, + "Actual Loops": 12426 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.035, + "Actual Rows": 5, + "Actual Loops": 14751 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.033, + "Actual Rows": 4, + "Actual Loops": 14473 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.101, + "Actual Rows": 25, + "Actual Loops": 3491 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.052, + "Actual Rows": 9, + "Actual Loops": 7517 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.035, + "Actual Rows": 4, + "Actual Loops": 13814 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.033, + "Actual Rows": 3, + "Actual Loops": 15378 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.62, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 542096, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2015))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 59949 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 75246 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 55212 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 85716 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 67646 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 56861 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 51544 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.53, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.130, + "Actual Total Time": 0.148, + "Actual Rows": 1, + "Actual Loops": 144120, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 33, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.118, + "Actual Total Time": 0.135, + "Actual Rows": 1, + "Actual Loops": 19037 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.128, + "Actual Total Time": 0.143, + "Actual Rows": 0, + "Actual Loops": 17179 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.137, + "Actual Total Time": 0.158, + "Actual Rows": 1, + "Actual Loops": 16787 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.126, + "Actual Total Time": 0.145, + "Actual Rows": 1, + "Actual Loops": 20908 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.138, + "Actual Total Time": 0.155, + "Actual Rows": 1, + "Actual Loops": 16811 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.147, + "Actual Total Time": 0.171, + "Actual Rows": 1, + "Actual Loops": 15319 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.121, + "Actual Total Time": 0.140, + "Actual Rows": 1, + "Actual Loops": 18715 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 30619, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%Ang%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 4619 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 2526 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 4111 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 4563 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 4490 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 3971 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 4452 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 125, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.48, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 115, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0 + } + ] + } + ] + }, + "Query Identifier": -6747521538659772949, + "Planning Time": 33.123, + "Triggers": [ + ], + "Execution Time": 4627.037, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -6747521538659772949, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS alternative_name,
       MIN(chn.name) AS voiced_character,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS american_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note = '(voice)'
  AND cn.country_code ='[us]'
  AND mc.note LIKE '%(200%)%'
  AND (mc.note LIKE '%(USA)%'
       OR mc.note LIKE '%(worldwide)%')
  AND n.gender ='f'
  AND n.name LIKE '%Angel%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2007 AND 2010
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND ci.movie_id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND n.id = ci.person_id
  AND chn.id = ci.person_role_id
  AND an.person_id = n.id
  AND an.person_id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 30420.95, + "Total Cost": 30420.96, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1644.612, + "Actual Total Time": 1680.265, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 30420.86, + "Total Cost": 30420.87, + "Plan Rows": 8, + "Plan Width": 128, + "Actual Startup Time": 1604.848, + "Actual Total Time": 1680.234, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 30419.86, + "Total Cost": 30419.87, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1599.734, + "Actual Total Time": 1599.742, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1594.958, + "Actual Total Time": 1594.967, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1594.903, + "Actual Total Time": 1594.911, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1592.602, + "Actual Total Time": 1592.609, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1594.952, + "Actual Total Time": 1594.960, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1633.099, + "Actual Total Time": 1633.106, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1595.121, + "Actual Total Time": 1595.131, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1588.763, + "Actual Total Time": 1588.769, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.69, + "Total Cost": 30419.85, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 861.017, + "Actual Total Time": 1599.704, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["an.name", "chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 687.744, + "Actual Total Time": 1594.936, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 852.004, + "Actual Total Time": 1594.829, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 920.200, + "Actual Total Time": 1592.566, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1394.021, + "Actual Total Time": 1594.937, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1633.092, + "Actual Total Time": 1633.098, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 145.464, + "Actual Total Time": 1595.080, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 235.908, + "Actual Total Time": 1588.726, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 30419.32, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 860.971, + "Actual Total Time": 1599.591, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["an.name", "ci.person_role_id", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 687.637, + "Actual Total Time": 1594.770, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 851.947, + "Actual Total Time": 1594.522, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 920.169, + "Actual Total Time": 1592.474, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1393.959, + "Actual Total Time": 1594.874, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1633.092, + "Actual Total Time": 1633.096, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 145.419, + "Actual Total Time": 1594.992, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 235.874, + "Actual Total Time": 1588.575, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 30418.82, + "Plan Rows": 1, + "Plan Width": 44, + "Actual Startup Time": 851.608, + "Actual Total Time": 1599.357, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.person_role_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 626.965, + "Actual Total Time": 1593.986, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 851.834, + "Actual Total Time": 1594.255, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 920.100, + "Actual Total Time": 1592.317, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1380.089, + "Actual Total Time": 1594.699, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1633.091, + "Actual Total Time": 1633.095, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 145.353, + "Actual Total Time": 1594.831, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 235.815, + "Actual Total Time": 1588.313, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 30392.38, + "Plan Rows": 47, + "Plan Width": 25, + "Actual Startup Time": 12.749, + "Actual Total Time": 1582.099, + "Actual Rows": 946, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.person_role_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.376, + "Actual Total Time": 1560.718, + "Actual Rows": 2197, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.118, + "Actual Total Time": 1576.914, + "Actual Rows": 940, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.010, + "Actual Total Time": 1581.066, + "Actual Rows": 582, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.813, + "Actual Total Time": 1580.020, + "Actual Rows": 490, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.369, + "Actual Total Time": 1620.236, + "Actual Rows": 637, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.029, + "Actual Total Time": 1575.565, + "Actual Rows": 1203, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.537, + "Actual Total Time": 1577.305, + "Actual Rows": 520, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 30389.28, + "Plan Rows": 562, + "Plan Width": 29, + "Actual Startup Time": 9.995, + "Actual Total Time": 1579.233, + "Actual Rows": 3374, + "Actual Loops": 8, + "Output": ["ci.role_id", "ci.person_id", "ci.person_role_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.969, + "Actual Total Time": 1555.449, + "Actual Rows": 7867, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.755, + "Actual Total Time": 1573.732, + "Actual Rows": 4149, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.824, + "Actual Total Time": 1578.983, + "Actual Rows": 1857, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.447, + "Actual Total Time": 1578.114, + "Actual Rows": 1665, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 19.352, + "Actual Total Time": 1617.979, + "Actual Rows": 1945, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.564, + "Actual Total Time": 1572.531, + "Actual Rows": 4003, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.141, + "Actual Total Time": 1575.209, + "Actual Rows": 1946, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 28821.77, + "Plan Rows": 874, + "Plan Width": 25, + "Actual Startup Time": 0.410, + "Actual Total Time": 766.119, + "Actual Rows": 5876, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.487, + "Actual Total Time": 733.618, + "Actual Rows": 5337, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.748, + "Actual Total Time": 772.797, + "Actual Rows": 5584, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.308, + "Actual Total Time": 827.589, + "Actual Rows": 5751, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.815, + "Actual Total Time": 804.780, + "Actual Rows": 5536, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.252, + "Actual Total Time": 655.431, + "Actual Rows": 6723, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.258, + "Actual Total Time": 775.729, + "Actual Rows": 6450, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.227, + "Actual Total Time": 714.805, + "Actual Rows": 6356, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 24746.29, + "Plan Rows": 4291, + "Plan Width": 4, + "Actual Startup Time": 0.204, + "Actual Total Time": 441.243, + "Actual Rows": 22133, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.242, + "Actual Total Time": 398.442, + "Actual Rows": 24178, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.460, + "Actual Total Time": 458.777, + "Actual Rows": 21087, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.121, + "Actual Total Time": 497.412, + "Actual Rows": 19654, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.207, + "Actual Total Time": 464.254, + "Actual Rows": 23274, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.165, + "Actual Total Time": 338.342, + "Actual Rows": 22100, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.180, + "Actual Total Time": 473.127, + "Actual Rows": 21195, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.146, + "Actual Total Time": 425.787, + "Actual Rows": 20258, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10610, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 17.335, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 16.104, + "Actual Rows": 10539, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 18.209, + "Actual Rows": 11655, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.042, + "Actual Total Time": 19.529, + "Actual Rows": 12502, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.047, + "Actual Total Time": 19.018, + "Actual Rows": 11366, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 5.418, + "Actual Rows": 2730, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.041, + "Actual Total Time": 21.240, + "Actual Rows": 13057, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.044, + "Actual Total Time": 17.261, + "Actual Rows": 10526, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 2.00, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.039, + "Actual Rows": 2, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(200%)%'::text) AND ((mc.note ~~ '%(USA)%'::text) OR (mc.note ~~ '%(worldwide)%'::text)))", + "Rows Removed by Filter": 12, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.035, + "Actual Rows": 2, + "Actual Loops": 10539 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.036, + "Actual Rows": 2, + "Actual Loops": 11655 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.037, + "Actual Rows": 2, + "Actual Loops": 12502 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.038, + "Actual Rows": 2, + "Actual Loops": 11366 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.118, + "Actual Rows": 8, + "Actual Loops": 2730 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.033, + "Actual Rows": 2, + "Actual Loops": 13057 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.038, + "Actual Rows": 2, + "Actual Loops": 10526 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.95, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 177065, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2007) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 24178 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 21087 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 19654 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 23274 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 22100 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 21195 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 20258 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.78, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.124, + "Actual Total Time": 0.137, + "Actual Rows": 1, + "Actual Loops": 47009, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = '(voice)'::text)", + "Rows Removed by Filter": 31, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.130, + "Actual Total Time": 0.153, + "Actual Rows": 1, + "Actual Loops": 5337 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.125, + "Actual Total Time": 0.142, + "Actual Rows": 1, + "Actual Loops": 5584 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.118, + "Actual Total Time": 0.130, + "Actual Rows": 0, + "Actual Loops": 5751 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.131, + "Actual Total Time": 0.139, + "Actual Rows": 0, + "Actual Loops": 5536 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.130, + "Actual Total Time": 0.142, + "Actual Rows": 0, + "Actual Loops": 6723 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.113, + "Actual Total Time": 0.122, + "Actual Rows": 1, + "Actual Loops": 6450 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.123, + "Actual Total Time": 0.134, + "Actual Rows": 0, + "Actual Loops": 6356 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.56, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 7565, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%Angel%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2197 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 940 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 582 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 490 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 637 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1203 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 520 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.48, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 30, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.153, + "Actual Total Time": 0.153, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.033, + "Actual Rows": 3, + "Actual Loops": 7 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.071, + "Actual Rows": 3, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.082, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 8 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 40, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 20 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 6 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 316739818532851506, + "Planning Time": 29.709, + "Triggers": [ + ], + "Execution Time": 1680.730, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 316739818532851506, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS alternative_name,
       MIN(chn.name) AS voiced_character_name,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS american_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND ci.movie_id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND n.id = ci.person_id
  AND chn.id = ci.person_role_id
  AND an.person_id = n.id
  AND an.person_id = ci.person_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 71837.83, + "Total Cost": 71837.84, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 597.325, + "Actual Total Time": 605.206, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 71837.74, + "Total Cost": 71837.75, + "Plan Rows": 8, + "Plan Width": 128, + "Actual Startup Time": 596.990, + "Actual Total Time": 605.166, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 71836.74, + "Total Cost": 71836.75, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 587.678, + "Actual Total Time": 587.688, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 578.620, + "Actual Total Time": 578.630, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 588.133, + "Actual Total Time": 588.141, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 587.474, + "Actual Total Time": 587.483, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 587.215, + "Actual Total Time": 587.223, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 587.717, + "Actual Total Time": 587.726, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 588.674, + "Actual Total Time": 588.682, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 587.826, + "Actual Total Time": 587.836, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.68, + "Total Cost": 71836.03, + "Plan Rows": 71, + "Plan Width": 64, + "Actual Startup Time": 132.631, + "Actual Total Time": 585.984, + "Actual Rows": 1018, + "Actual Loops": 8, + "Output": ["an.name", "chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Join Filter": "(ci.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 123.422, + "Actual Total Time": 577.673, + "Actual Rows": 621, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 143.501, + "Actual Total Time": 587.659, + "Actual Rows": 302, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 127.034, + "Actual Total Time": 586.566, + "Actual Rows": 604, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 132.315, + "Actual Total Time": 586.230, + "Actual Rows": 691, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 127.464, + "Actual Total Time": 586.415, + "Actual Rows": 1003, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 132.700, + "Actual Total Time": 584.161, + "Actual Rows": 1716, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 136.306, + "Actual Total Time": 586.890, + "Actual Rows": 581, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.25, + "Total Cost": 71802.08, + "Plan Rows": 71, + "Plan Width": 55, + "Actual Startup Time": 132.555, + "Actual Total Time": 574.302, + "Actual Rows": 1018, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "chn.name", "mc.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 123.348, + "Actual Total Time": 568.410, + "Actual Rows": 621, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 143.422, + "Actual Total Time": 583.840, + "Actual Rows": 302, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 126.960, + "Actual Total Time": 579.348, + "Actual Rows": 604, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 132.248, + "Actual Total Time": 577.542, + "Actual Rows": 691, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 127.393, + "Actual Total Time": 576.130, + "Actual Rows": 1003, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 132.608, + "Actual Total Time": 565.055, + "Actual Rows": 1716, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 136.207, + "Actual Total Time": 579.297, + "Actual Rows": 581, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 71715.52, + "Plan Rows": 196, + "Plan Width": 59, + "Actual Startup Time": 129.444, + "Actual Total Time": 546.684, + "Actual Rows": 2293, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "chn.name", "mc.movie_id", "mc.company_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 115.021, + "Actual Total Time": 543.223, + "Actual Rows": 2017, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 129.034, + "Actual Total Time": 572.434, + "Actual Rows": 923, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 126.888, + "Actual Total Time": 558.655, + "Actual Rows": 1595, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 132.186, + "Actual Total Time": 560.466, + "Actual Rows": 1282, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 127.248, + "Actual Total Time": 559.960, + "Actual Rows": 1459, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 131.070, + "Actual Total Time": 515.329, + "Actual Rows": 4484, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 136.104, + "Actual Total Time": 552.114, + "Actual Rows": 1709, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 71670.78, + "Plan Rows": 78, + "Plan Width": 51, + "Actual Startup Time": 129.361, + "Actual Total Time": 529.966, + "Actual Rows": 966, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "chn.name", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 114.930, + "Actual Total Time": 526.822, + "Actual Rows": 813, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 128.951, + "Actual Total Time": 565.555, + "Actual Rows": 435, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 126.805, + "Actual Total Time": 546.049, + "Actual Rows": 373, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 132.105, + "Actual Total Time": 543.090, + "Actual Rows": 522, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 127.159, + "Actual Total Time": 549.586, + "Actual Rows": 654, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 130.988, + "Actual Total Time": 482.845, + "Actual Rows": 2567, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 136.006, + "Actual Total Time": 542.086, + "Actual Rows": 389, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.97, + "Total Cost": 71588.61, + "Plan Rows": 162, + "Plan Width": 39, + "Actual Startup Time": 129.207, + "Actual Total Time": 515.297, + "Actual Rows": 1026, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "ci.person_role_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 114.836, + "Actual Total Time": 513.383, + "Actual Rows": 907, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 128.886, + "Actual Total Time": 557.065, + "Actual Rows": 488, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 126.709, + "Actual Total Time": 538.674, + "Actual Rows": 405, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 131.983, + "Actual Total Time": 533.222, + "Actual Rows": 552, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 126.833, + "Actual Total Time": 539.833, + "Actual Rows": 692, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 130.889, + "Actual Total Time": 448.732, + "Actual Rows": 2641, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 135.855, + "Actual Total Time": 534.450, + "Actual Rows": 431, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 71580.59, + "Plan Rows": 1949, + "Plan Width": 43, + "Actual Startup Time": 128.891, + "Actual Total Time": 513.678, + "Actual Rows": 1026, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "ci.role_id", "ci.person_role_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(n.id = ci.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 114.492, + "Actual Total Time": 511.914, + "Actual Rows": 907, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 128.583, + "Actual Total Time": 556.106, + "Actual Rows": 488, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 126.471, + "Actual Total Time": 537.728, + "Actual Rows": 405, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 131.719, + "Actual Total Time": 532.185, + "Actual Rows": 552, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 126.549, + "Actual Total Time": 538.604, + "Actual Rows": 692, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 130.600, + "Actual Total Time": 445.530, + "Actual Rows": 2641, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 135.559, + "Actual Total Time": 533.431, + "Actual Rows": 431, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.42, + "Total Cost": 67634.67, + "Plan Rows": 992, + "Plan Width": 39, + "Actual Startup Time": 123.478, + "Actual Total Time": 357.159, + "Actual Rows": 1316, + "Actual Loops": 8, + "Output": ["an.name", "an.person_id", "n.name", "n.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 113.737, + "Actual Total Time": 359.425, + "Actual Rows": 1218, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 122.768, + "Actual Total Time": 374.238, + "Actual Rows": 1336, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 123.652, + "Actual Total Time": 366.837, + "Actual Rows": 1199, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 127.421, + "Actual Total Time": 361.944, + "Actual Rows": 1512, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 123.665, + "Actual Total Time": 364.833, + "Actual Rows": 1355, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 123.283, + "Actual Total Time": 326.820, + "Actual Rows": 1019, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 122.847, + "Actual Total Time": 368.197, + "Actual Rows": 1641, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 63478.05, + "Plan Rows": 4589, + "Plan Width": 19, + "Actual Startup Time": 123.274, + "Actual Total Time": 296.482, + "Actual Rows": 6251, + "Actual Loops": 8, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 514685, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 113.557, + "Actual Total Time": 296.612, + "Actual Rows": 6401, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 122.421, + "Actual Total Time": 311.642, + "Actual Rows": 6354, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 123.539, + "Actual Total Time": 306.729, + "Actual Rows": 5958, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 127.312, + "Actual Total Time": 297.206, + "Actual Rows": 6913, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 123.449, + "Actual Total Time": 301.799, + "Actual Rows": 6528, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 123.000, + "Actual Total Time": 279.002, + "Actual Rows": 4792, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 122.677, + "Actual Total Time": 297.095, + "Actual Rows": 7179, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.89, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 50011, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6401 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6354 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 5958 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6913 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6528 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 4792 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 7179 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 3.94, + "Plan Rows": 3, + "Plan Width": 16, + "Actual Startup Time": 0.110, + "Actual Total Time": 0.118, + "Actual Rows": 1, + "Actual Loops": 10525, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.person_id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.116, + "Actual Total Time": 0.124, + "Actual Rows": 1, + "Actual Loops": 1218 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.131, + "Actual Total Time": 0.135, + "Actual Rows": 0, + "Actual Loops": 1336 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.133, + "Actual Total Time": 0.141, + "Actual Rows": 0, + "Actual Loops": 1199 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.103, + "Actual Total Time": 0.112, + "Actual Rows": 0, + "Actual Loops": 1512 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.121, + "Actual Total Time": 0.127, + "Actual Rows": 1, + "Actual Loops": 1355 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.105, + "Actual Total Time": 0.114, + "Actual Rows": 3, + "Actual Loops": 1019 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.095, + "Actual Total Time": 0.100, + "Actual Rows": 0, + "Actual Loops": 1641 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 8204, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 907 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 488 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 405 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 552 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 692 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 2641 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 431 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.016, + "Actual Rows": 2, + "Actual Loops": 7726, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 2, + "Actual Loops": 813 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 435 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.031, + "Actual Rows": 4, + "Actual Loops": 373 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.031, + "Actual Rows": 2, + "Actual Loops": 522 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 654 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 2567 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.023, + "Actual Rows": 4, + "Actual Loops": 389 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 18345, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 2017 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 923 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1595 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1282 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1459 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 4484 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1709 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 8144, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 621 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 302 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 604 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 691 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1003 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1716 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 581 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -180252288200201541, + "Planning Time": 27.055, + "Triggers": [ + ], + "Execution Time": 605.685, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": -180252288200201541, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS alternative_name,
       MIN(chn.name) AS voiced_char_name,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS american_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND n.gender ='f'
  AND rt.role ='actress'
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND ci.movie_id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND n.id = ci.person_id
  AND chn.id = ci.person_role_id
  AND an.person_id = n.id
  AND an.person_id = ci.person_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 137601.67, + "Total Cost": 137601.68, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 13388.304, + "Actual Total Time": 13429.504, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 137601.65, + "Total Cost": 137601.66, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 80.154, + "Actual Total Time": 13429.483, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 1, + "Workers Launched": 1, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 137600.65, + "Total Cost": 137600.66, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 6726.011, + "Actual Total Time": 6726.020, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13380.995, + "Actual Total Time": 13381.002, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3497.39, + "Total Cost": 137513.21, + "Plan Rows": 8744, + "Plan Width": 64, + "Actual Startup Time": 73.766, + "Actual Total Time": 6581.992, + "Actual Rows": 241541, + "Actual Loops": 2, + "Output": ["an.name", "chn.name", "n.name", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 76.512, + "Actual Total Time": 13092.953, + "Actual Rows": 483082, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3496.97, + "Total Cost": 135478.74, + "Plan Rows": 4100, + "Plan Width": 56, + "Actual Startup Time": 73.735, + "Actual Total Time": 5915.733, + "Actual Rows": 86784, + "Actual Loops": 2, + "Output": ["chn.name", "ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Join Filter": "(ci.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 76.452, + "Actual Total Time": 11760.437, + "Actual Rows": 173567, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3496.54, + "Total Cost": 133518.47, + "Plan Rows": 4100, + "Plan Width": 47, + "Actual Startup Time": 73.710, + "Actual Total Time": 5281.339, + "Actual Rows": 86784, + "Actual Loops": 2, + "Output": ["chn.name", "ci.movie_id", "ci.person_id", "mc.movie_id", "n.name", "n.id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 76.402, + "Actual Total Time": 10491.654, + "Actual Rows": 173567, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 129993.86, + "Plan Rows": 11351, + "Plan Width": 51, + "Actual Startup Time": 1.024, + "Actual Total Time": 5096.772, + "Actual Rows": 213200, + "Actual Loops": 2, + "Output": ["chn.name", "ci.movie_id", "ci.person_id", "mc.movie_id", "mc.company_id", "n.name", "n.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.044, + "Actual Total Time": 10193.537, + "Actual Rows": 426400, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 127388.76, + "Plan Rows": 4541, + "Plan Width": 43, + "Actual Startup Time": 0.994, + "Actual Total Time": 4077.340, + "Actual Rows": 127746, + "Actual Loops": 2, + "Output": ["chn.name", "ci.movie_id", "ci.person_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.987, + "Actual Total Time": 8154.675, + "Actual Rows": 255493, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 122614.69, + "Plan Rows": 9412, + "Plan Width": 31, + "Actual Startup Time": 0.959, + "Actual Total Time": 3050.455, + "Actual Rows": 138002, + "Actual Loops": 2, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.916, + "Actual Total Time": 6100.906, + "Actual Rows": 276005, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.44, + "Total Cost": 100690.01, + "Plan Rows": 40682, + "Plan Width": 12, + "Actual Startup Time": 0.927, + "Actual Total Time": 2118.179, + "Actual Rows": 138083, + "Actual Loops": 2, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.851, + "Actual Total Time": 4236.354, + "Actual Rows": 276166, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["rt.id", "rt.role"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 99934.46, + "Plan Rows": 75446, + "Plan Width": 16, + "Actual Startup Time": 1.839, + "Actual Total Time": 4189.014, + "Actual Rows": 276166, + "Actual Loops": 1, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.role_id = rt.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 7175807, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.839, + "Actual Total Time": 4189.014, + "Actual Rows": 276166, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 276166, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'f'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 276166 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 276005, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 276005 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 2, + "Actual Loops": 255493, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 2, + "Actual Loops": 255493 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 3362.18, + "Total Cost": 3362.18, + "Plan Rows": 10610, + "Plan Width": 4, + "Actual Startup Time": 70.544, + "Actual Total Time": 70.546, + "Actual Rows": 42422, + "Actual Loops": 2, + "Output": ["cn.id"], + "Hash Buckets": 131072, + "Original Hash Buckets": 131072, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 4384, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 70.128, + "Actual Total Time": 70.130, + "Actual Rows": 42769, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10610, + "Plan Width": 4, + "Actual Startup Time": 0.075, + "Actual Total Time": 48.658, + "Actual Rows": 42422, + "Actual Loops": 2, + "Output": ["cn.id"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 75077, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.121, + "Actual Total Time": 48.719, + "Actual Rows": 42769, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 173567, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 173567 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.48, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.007, + "Actual Rows": 3, + "Actual Loops": 173567, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.007, + "Actual Rows": 3, + "Actual Loops": 173567 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7221379846823333251, + "Planning Time": 28.266, + "Triggers": [ + ], + "Execution Time": 13429.870, + "Using aqo": false, + "AQO mode": "DISABLED", + "Query hash": 7221379846823333251, + "JOINS": 7 + } + ] (1 row)
