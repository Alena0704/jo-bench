SELECT MIN(chn.name) AS uncredited_voiced_character,
       MIN(t.title) AS russian_movie
FROM char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     company_type AS ct,
     movie_companies AS mc,
     role_type AS rt,
     title AS t
WHERE ci.note LIKE '%(voice)%'
  AND ci.note LIKE '%(uncredited)%'
  AND cn.country_code = '[ru]'
  AND rt.role = 'actor'
  AND t.production_year > 2005
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mc.movie_id
  AND chn.id = ci.person_role_id
  AND rt.id = ci.role_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6821.86, + "Total Cost": 6821.87, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 265.611, + "Actual Total Time": 286.101, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6821.81, + "Total Cost": 6821.82, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 264.540, + "Actual Total Time": 286.067, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6820.81, + "Total Cost": 6820.82, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 256.896, + "Actual Total Time": 256.903, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 254.267, + "Actual Total Time": 254.272, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 255.738, + "Actual Total Time": 255.744, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 256.500, + "Actual Total Time": 256.505, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 255.655, + "Actual Total Time": 255.662, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 256.162, + "Actual Total Time": 256.168, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 256.145, + "Actual Total Time": 256.153, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 257.096, + "Actual Total Time": 257.103, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.97, + "Total Cost": 6820.74, + "Plan Rows": 13, + "Plan Width": 33, + "Actual Startup Time": 26.717, + "Actual Total Time": 256.830, + "Actual Rows": 13, + "Actual Loops": 8, + "Output": ["chn.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.810, + "Actual Total Time": 254.173, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.442, + "Actual Total Time": 255.676, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.052, + "Actual Total Time": 256.385, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 41.236, + "Actual Total Time": 255.612, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.783, + "Actual Total Time": 256.087, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 66.712, + "Actual Total Time": 256.095, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.537, + "Actual Total Time": 257.058, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 6820.03, + "Plan Rows": 13, + "Plan Width": 37, + "Actual Startup Time": 26.621, + "Actual Total Time": 256.653, + "Actual Rows": 13, + "Actual Loops": 8, + "Output": ["chn.name", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.741, + "Actual Total Time": 253.977, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.348, + "Actual Total Time": 255.510, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.986, + "Actual Total Time": 256.169, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 41.144, + "Actual Total Time": 255.468, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.554, + "Actual Total Time": 255.771, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 66.624, + "Actual Total Time": 255.955, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.454, + "Actual Total Time": 256.917, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 6796.21, + "Plan Rows": 14, + "Plan Width": 25, + "Actual Startup Time": 26.521, + "Actual Total Time": 256.132, + "Actual Rows": 14, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.625, + "Actual Total Time": 253.231, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.243, + "Actual Total Time": 254.982, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.858, + "Actual Total Time": 255.248, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 41.057, + "Actual Total Time": 255.112, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.446, + "Actual Total Time": 255.240, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 66.527, + "Actual Total Time": 255.568, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.343, + "Actual Total Time": 256.528, + "Actual Rows": 9, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 6795.03, + "Plan Rows": 19, + "Plan Width": 29, + "Actual Startup Time": 25.870, + "Actual Total Time": 255.909, + "Actual Rows": 19, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "ci.role_id", "mc.company_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.489, + "Actual Total Time": 252.983, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.154, + "Actual Total Time": 254.830, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.757, + "Actual Total Time": 255.011, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 40.973, + "Actual Total Time": 254.951, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.360, + "Actual Total Time": 255.065, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 66.426, + "Actual Total Time": 255.409, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.238, + "Actual Total Time": 256.342, + "Actual Rows": 12, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 6019.96, + "Plan Rows": 567, + "Plan Width": 29, + "Actual Startup Time": 0.815, + "Actual Total Time": 52.984, + "Actual Rows": 567, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.024, + "Actual Total Time": 59.647, + "Actual Rows": 590, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.292, + "Actual Total Time": 57.916, + "Actual Rows": 604, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.139, + "Actual Total Time": 55.456, + "Actual Rows": 496, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.756, + "Actual Total Time": 39.939, + "Actual Rows": 728, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.992, + "Actual Total Time": 35.847, + "Actual Rows": 440, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.223, + "Actual Total Time": 61.558, + "Actual Rows": 578, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.595, + "Actual Total Time": 52.120, + "Actual Rows": 538, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 5505.50, + "Plan Rows": 1099, + "Plan Width": 8, + "Actual Startup Time": 0.286, + "Actual Total Time": 26.540, + "Actual Rows": 1099, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.451, + "Actual Total Time": 29.380, + "Actual Rows": 1150, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.120, + "Actual Total Time": 32.789, + "Actual Rows": 1079, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.135, + "Actual Total Time": 26.103, + "Actual Rows": 1219, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.585, + "Actual Total Time": 14.502, + "Actual Rows": 1117, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.193, + "Actual Total Time": 18.675, + "Actual Rows": 670, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.131, + "Actual Total Time": 30.517, + "Actual Rows": 1342, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.539, + "Actual Total Time": 28.355, + "Actual Rows": 997, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 170, + "Plan Width": 4, + "Actual Startup Time": 0.171, + "Actual Total Time": 14.442, + "Actual Rows": 170, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[ru]'::text)", + "Rows Removed by Filter": 29204, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.134, + "Actual Total Time": 15.780, + "Actual Rows": 179, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.036, + "Actual Total Time": 21.405, + "Actual Rows": 213, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.047, + "Actual Total Time": 12.903, + "Actual Rows": 155, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.495, + "Actual Total Time": 5.297, + "Actual Rows": 67, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.096, + "Actual Total Time": 11.427, + "Actual Rows": 147, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.053, + "Actual Total Time": 16.792, + "Actual Rows": 204, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.457, + "Actual Total Time": 14.817, + "Actual Rows": 158, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 12.55, + "Plan Rows": 6, + "Plan Width": 12, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.064, + "Actual Rows": 6, + "Actual Loops": 1361, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.064, + "Actual Rows": 6, + "Actual Loops": 179 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.048, + "Actual Rows": 5, + "Actual Loops": 213 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.079, + "Actual Rows": 8, + "Actual Loops": 155 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.124, + "Actual Rows": 17, + "Actual Loops": 67 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.044, + "Actual Rows": 5, + "Actual Loops": 147 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.061, + "Actual Rows": 7, + "Actual Loops": 204 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.080, + "Actual Rows": 6, + "Actual Loops": 158 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 8790, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 1150 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1079 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1219 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1117 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 670 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1342 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 997 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.35, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.337, + "Actual Total Time": 0.356, + "Actual Rows": 0, + "Actual Loops": 4539, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ci.note ~~ '%(voice)%'::text) AND (ci.note ~~ '%(uncredited)%'::text))", + "Rows Removed by Filter": 50, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.299, + "Actual Total Time": 0.326, + "Actual Rows": 0, + "Actual Loops": 590 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.314, + "Actual Total Time": 0.325, + "Actual Rows": 0, + "Actual Loops": 604 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.373, + "Actual Total Time": 0.401, + "Actual Rows": 0, + "Actual Loops": 496 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.280, + "Actual Total Time": 0.294, + "Actual Rows": 0, + "Actual Loops": 728 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.466, + "Actual Total Time": 0.497, + "Actual Rows": 0, + "Actual Loops": 440 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.323, + "Actual Total Time": 0.334, + "Actual Rows": 0, + "Actual Loops": 578 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.364, + "Actual Total Time": 0.378, + "Actual Rows": 0, + "Actual Loops": 538 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actor'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 1.70, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 112, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 19 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 31 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 9 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 9 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 104, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 8, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 19, + "Cache Hits": 17, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 11, + "Cache Hits": 9, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 30, + "Cache Hits": 28, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 8, + "Cache Hits": 7, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 11, + "Cache Hits": 9, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 8, + "Cache Hits": 7, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 8, + "Cache Hits": 6, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 1, + "Actual Loops": 13, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.078, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.110, + "Actual Total Time": 0.110, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.074, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6651533820180303979, + "Planning Time": 35.239, + "Triggers": [ + ], + "Execution Time": 286.440, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -6651533820180303979, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(chn.name) AS character,
       MIN(t.title) AS russian_mov_with_actor_producer
FROM char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     company_type AS ct,
     movie_companies AS mc,
     role_type AS rt,
     title AS t
WHERE ci.note LIKE '%(producer)%'
  AND cn.country_code = '[ru]'
  AND rt.role = 'actor'
  AND t.production_year > 2010
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mc.movie_id
  AND chn.id = ci.person_role_id
  AND rt.id = ci.role_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6226.75, + "Total Cost": 6226.76, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 93.338, + "Actual Total Time": 112.847, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6226.70, + "Total Cost": 6226.71, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 93.319, + "Actual Total Time": 112.836, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6225.70, + "Total Cost": 6225.71, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 84.281, + "Actual Total Time": 84.286, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 74.789, + "Actual Total Time": 74.794, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 83.606, + "Actual Total Time": 83.610, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 84.888, + "Actual Total Time": 84.893, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 82.983, + "Actual Total Time": 82.987, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 85.292, + "Actual Total Time": 85.297, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 85.064, + "Actual Total Time": 85.069, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 85.219, + "Actual Total Time": 85.225, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.96, + "Total Cost": 6225.69, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 84.276, + "Actual Total Time": 84.281, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["chn.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 74.785, + "Actual Total Time": 74.789, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 83.602, + "Actual Total Time": 83.606, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 84.884, + "Actual Total Time": 84.889, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 82.978, + "Actual Total Time": 82.982, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 85.287, + "Actual Total Time": 85.292, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 85.059, + "Actual Total Time": 85.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 85.214, + "Actual Total Time": 85.219, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 6225.54, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 84.275, + "Actual Total Time": 84.279, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["chn.name", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 74.784, + "Actual Total Time": 74.788, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 83.601, + "Actual Total Time": 83.604, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 84.884, + "Actual Total Time": 84.888, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 82.977, + "Actual Total Time": 82.980, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 85.286, + "Actual Total Time": 85.290, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 85.059, + "Actual Total Time": 85.062, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 85.213, + "Actual Total Time": 85.217, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 6225.06, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 84.275, + "Actual Total Time": 84.278, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 74.783, + "Actual Total Time": 74.786, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 83.600, + "Actual Total Time": 83.603, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 84.883, + "Actual Total Time": 84.886, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 82.976, + "Actual Total Time": 82.979, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 85.286, + "Actual Total Time": 85.289, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 85.058, + "Actual Total Time": 85.061, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 85.212, + "Actual Total Time": 85.216, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 6222.80, + "Plan Rows": 327, + "Plan Width": 29, + "Actual Startup Time": 3.951, + "Actual Total Time": 83.781, + "Actual Rows": 327, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "ci.role_id", "mc.company_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.987, + "Actual Total Time": 74.244, + "Actual Rows": 386, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.841, + "Actual Total Time": 83.146, + "Actual Rows": 155, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.437, + "Actual Total Time": 84.404, + "Actual Rows": 335, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.639, + "Actual Total Time": 82.416, + "Actual Rows": 498, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.653, + "Actual Total Time": 84.847, + "Actual Rows": 295, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.462, + "Actual Total Time": 84.607, + "Actual Rows": 331, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.121, + "Actual Total Time": 84.800, + "Actual Rows": 298, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 6019.96, + "Plan Rows": 157, + "Plan Width": 29, + "Actual Startup Time": 2.508, + "Actual Total Time": 43.751, + "Actual Rows": 157, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.858, + "Actual Total Time": 45.774, + "Actual Rows": 171, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.806, + "Actual Total Time": 52.444, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.677, + "Actual Total Time": 37.384, + "Actual Rows": 168, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.482, + "Actual Total Time": 47.981, + "Actual Rows": 222, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.960, + "Actual Total Time": 43.851, + "Actual Rows": 124, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.285, + "Actual Total Time": 39.313, + "Actual Rows": 148, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.874, + "Actual Total Time": 53.158, + "Actual Rows": 205, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 5505.50, + "Plan Rows": 1099, + "Plan Width": 8, + "Actual Startup Time": 0.270, + "Actual Total Time": 22.857, + "Actual Rows": 1099, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.217, + "Actual Total Time": 21.688, + "Actual Rows": 1255, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.253, + "Actual Total Time": 31.000, + "Actual Rows": 1109, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.536, + "Actual Total Time": 19.661, + "Actual Rows": 998, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.208, + "Actual Total Time": 24.111, + "Actual Rows": 1255, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.251, + "Actual Total Time": 20.426, + "Actual Rows": 1232, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.178, + "Actual Total Time": 23.580, + "Actual Rows": 799, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.410, + "Actual Total Time": 26.904, + "Actual Rows": 1439, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 170, + "Plan Width": 4, + "Actual Startup Time": 0.177, + "Actual Total Time": 12.796, + "Actual Rows": 170, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[ru]'::text)", + "Rows Removed by Filter": 29204, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.111, + "Actual Total Time": 12.276, + "Actual Rows": 146, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.157, + "Actual Total Time": 13.803, + "Actual Rows": 188, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.394, + "Actual Total Time": 12.047, + "Actual Rows": 172, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.132, + "Actual Total Time": 14.825, + "Actual Rows": 191, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.151, + "Actual Total Time": 9.947, + "Actual Rows": 141, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.097, + "Actual Total Time": 15.319, + "Actual Rows": 200, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.332, + "Actual Total Time": 15.461, + "Actual Rows": 210, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 12.55, + "Plan Rows": 6, + "Plan Width": 12, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.050, + "Actual Rows": 6, + "Actual Loops": 1361, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.059, + "Actual Rows": 9, + "Actual Loops": 146 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.048, + "Actual Rows": 6, + "Actual Loops": 188 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.041, + "Actual Rows": 6, + "Actual Loops": 172 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.044, + "Actual Rows": 7, + "Actual Loops": 191 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.069, + "Actual Rows": 9, + "Actual Loops": 141 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.038, + "Actual Rows": 4, + "Actual Loops": 200 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.050, + "Actual Rows": 7, + "Actual Loops": 210 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 8790, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1255 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1109 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 998 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1255 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1232 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 799 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1439 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.27, + "Plan Rows": 2, + "Plan Width": 12, + "Actual Startup Time": 0.136, + "Actual Total Time": 0.252, + "Actual Rows": 2, + "Actual Loops": 1259, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note ~~ '%(producer)%'::text)", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.091, + "Actual Total Time": 0.164, + "Actual Rows": 2, + "Actual Loops": 171 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.239, + "Actual Total Time": 0.346, + "Actual Rows": 2, + "Actual Loops": 88 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.104, + "Actual Total Time": 0.278, + "Actual Rows": 2, + "Actual Loops": 168 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.090, + "Actual Total Time": 0.153, + "Actual Rows": 2, + "Actual Loops": 222 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.165, + "Actual Total Time": 0.328, + "Actual Rows": 2, + "Actual Loops": 124 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.166, + "Actual Total Time": 0.303, + "Actual Rows": 2, + "Actual Loops": 148 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.105, + "Actual Total Time": 0.152, + "Actual Rows": 1, + "Actual Loops": 205 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actor'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 988535410010893112, + "Planning Time": 27.764, + "Triggers": [ + ], + "Execution Time": 113.217, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 988535410010893112, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(chn.name) AS character,
       MIN(t.title) AS movie_with_american_producer
FROM char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     company_type AS ct,
     movie_companies AS mc,
     role_type AS rt,
     title AS t
WHERE ci.note LIKE '%(producer)%'
  AND cn.country_code = '[us]'
  AND t.production_year > 1990
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mc.movie_id
  AND chn.id = ci.person_role_id
  AND rt.id = ci.role_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;
QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 200672.31, + "Total Cost": 200672.32, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 10719.882, + "Actual Total Time": 10770.493, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 42719.93, + "Total Cost": 200672.26, + "Plan Rows": 10, + "Plan Width": 33, + "Actual Startup Time": 10697.095, + "Actual Total Time": 10770.459, + "Actual Rows": 10, + "Actual Loops": 1, + "Output": ["chn.name", "t.title"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42718.93, + "Total Cost": 200671.26, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 8174.551, + "Actual Total Time": 10686.586, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["chn.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10681.526, + "Actual Total Time": 10681.531, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6954.189, + "Actual Total Time": 10684.028, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10681.868, + "Actual Total Time": 10681.875, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10702.902, + "Actual Total Time": 10702.909, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10681.190, + "Actual Total Time": 10681.195, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2970.954, + "Actual Total Time": 10683.866, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2027.578, + "Actual Total Time": 10681.077, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42718.79, + "Total Cost": 200671.10, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 8174.527, + "Actual Total Time": 10686.554, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["chn.name", "ci.role_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10681.525, + "Actual Total Time": 10681.529, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6954.133, + "Actual Total Time": 10683.954, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10681.867, + "Actual Total Time": 10681.873, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10702.901, + "Actual Total Time": 10702.908, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10681.189, + "Actual Total Time": 10681.193, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2970.894, + "Actual Total Time": 10683.779, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2027.507, + "Actual Total Time": 10680.989, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42718.66, + "Total Cost": 200670.95, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 8174.502, + "Actual Total Time": 10686.518, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["chn.name", "ci.role_id", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10681.524, + "Actual Total Time": 10681.527, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6954.071, + "Actual Total Time": 10683.867, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10681.867, + "Actual Total Time": 10681.872, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10702.900, + "Actual Total Time": 10702.906, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10681.188, + "Actual Total Time": 10681.192, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2970.829, + "Actual Total Time": 10683.679, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2027.438, + "Actual Total Time": 10680.897, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42718.22, + "Total Cost": 160596.02, + "Plan Rows": 97763, + "Plan Width": 29, + "Actual Startup Time": 375.364, + "Actual Total Time": 10531.896, + "Actual Rows": 97763, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "ci.role_id", "mc.company_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 373.987, + "Actual Total Time": 10516.165, + "Actual Rows": 105123, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 373.952, + "Actual Total Time": 10525.195, + "Actual Rows": 102740, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 373.788, + "Actual Total Time": 10523.094, + "Actual Rows": 104203, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 373.489, + "Actual Total Time": 10548.270, + "Actual Rows": 101422, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 374.264, + "Actual Total Time": 10523.185, + "Actual Rows": 97331, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 373.884, + "Actual Total Time": 10542.575, + "Actual Rows": 88487, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 374.497, + "Actual Total Time": 10540.085, + "Actual Rows": 89335, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42717.78, + "Total Cost": 65235.20, + "Plan Rows": 74531, + "Plan Width": 29, + "Actual Startup Time": 375.078, + "Actual Total Time": 1207.862, + "Actual Rows": 74531, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 373.795, + "Actual Total Time": 1209.390, + "Actual Rows": 76618, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 373.813, + "Actual Total Time": 1239.334, + "Actual Rows": 77442, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 373.492, + "Actual Total Time": 1225.613, + "Actual Rows": 77931, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 373.333, + "Actual Total Time": 1193.855, + "Actual Rows": 77023, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 373.821, + "Actual Total Time": 1148.797, + "Actual Rows": 69978, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 373.803, + "Actual Total Time": 1191.060, + "Actual Rows": 71792, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 373.780, + "Actual Total Time": 1237.695, + "Actual Rows": 73871, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 22139.26, + "Plan Rows": 144225, + "Plan Width": 8, + "Actual Startup Time": 0.120, + "Actual Total Time": 642.280, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.110, + "Actual Total Time": 607.912, + "Actual Rows": 192434, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.134, + "Actual Total Time": 678.700, + "Actual Rows": 142901, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.139, + "Actual Total Time": 667.727, + "Actual Rows": 139204, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.094, + "Actual Total Time": 621.642, + "Actual Rows": 133248, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.133, + "Actual Total Time": 598.257, + "Actual Rows": 135799, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.138, + "Actual Total Time": 640.929, + "Actual Rows": 130982, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.128, + "Actual Total Time": 674.426, + "Actual Rows": 149080, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 27.410, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"],+ "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 23.723, + "Actual Rows": 9640, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 29.650, + "Actual Rows": 11438, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 29.005, + "Actual Rows": 11375, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 25.332, + "Actual Rows": 10387, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 26.453, + "Actual Rows": 9839, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 28.928, + "Actual Rows": 10938, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 27.163, + "Actual Rows": 10253, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.63, + "Plan Rows": 14, + "Plan Width": 12, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.050, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.051, + "Actual Rows": 20, + "Actual Loops": 9640 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.050, + "Actual Rows": 12, + "Actual Loops": 11438 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.049, + "Actual Rows": 12, + "Actual Loops": 11375 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.050, + "Actual Rows": 13, + "Actual Loops": 10387 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.050, + "Actual Rows": 14, + "Actual Loops": 9839 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.049, + "Actual Rows": 12, + "Actual Loops": 10938 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.055, + "Actual Rows": 15, + "Actual Loops": 10253 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 39984.49, + "Total Cost": 39984.49, + "Plan Rows": 218629, + "Plan Width": 21, + "Actual Startup Time": 370.417, + "Actual Total Time": 370.418, + "Actual Rows": 218629, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Hash Buckets": 2097152, + "Original Hash Buckets": 2097152, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 114464, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 373.489, + "Actual Total Time": 373.490, + "Actual Rows": 224430, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 373.486, + "Actual Total Time": 373.487, + "Actual Rows": 208730, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 373.172, + "Actual Total Time": 373.174, + "Actual Rows": 215608, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 373.084, + "Actual Total Time": 373.085, + "Actual Rows": 216323, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 373.487, + "Actual Total Time": 373.488, + "Actual Rows": 220323, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 373.486, + "Actual Total Time": 373.488, + "Actual Rows": 219674, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 373.484, + "Actual Total Time": 373.485, + "Actual Rows": 219550, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.00, + "Total Cost": 39984.49, + "Plan Rows": 218629, + "Plan Width": 21, + "Actual Startup Time": 0.065, + "Actual Total Time": 163.435, + "Actual Rows": 218629, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 97410, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.071, + "Actual Total Time": 163.837, + "Actual Rows": 224430, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.070, + "Actual Total Time": 159.912, + "Actual Rows": 208730, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.065, + "Actual Total Time": 162.354, + "Actual Rows": 215608, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.065, + "Actual Total Time": 162.764, + "Actual Rows": 216323, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.070, + "Actual Total Time": 164.067, + "Actual Rows": 220323, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.061, + "Actual Total Time": 165.738, + "Actual Rows": 219674, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.065, + "Actual Total Time": 164.433, + "Actual Rows": 219550, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.27, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.123, + "Actual Rows": 1, + "Actual Loops": 596250, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note ~~ '%(producer)%'::text)", + "Rows Removed by Filter": 34, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.120, + "Actual Rows": 1, + "Actual Loops": 76618 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.118, + "Actual Rows": 1, + "Actual Loops": 77442 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.117, + "Actual Rows": 1, + "Actual Loops": 77931 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.120, + "Actual Rows": 1, + "Actual Loops": 77023 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.132, + "Actual Rows": 1, + "Actual Loops": 69978 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.128, + "Actual Rows": 1, + "Actual Loops": 71792 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.124, + "Actual Rows": 1, + "Actual Loops": 73871 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.44, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 782104, + "Output": ["chn.name", "chn.id"], + "Cache Key": "ci.person_role_id", + "Cache Mode": "logical", + "Cache Hits": 93462, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 105123, + "Cache Hits": 105122, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 102740, + "Cache Hits": 102738, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 104203, + "Cache Hits": 104202, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 101422, + "Cache Hits": 101421, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 97331, + "Cache Hits": 97330, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 88487, + "Cache Hits": 88485, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 89335, + "Cache Hits": 89333, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 11, + "Output": ["chn.name", "chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["rt.id"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2494719406442254794, + "Planning Time": 25.173, + "Triggers": [ + ], + "Execution Time": 10772.735, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 2494719406442254794, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(cn.name) AS from_company,
       MIN(lt.link) AS movie_link_type,
       MIN(t.title) AS non_polish_sequel_movie
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND t.production_year BETWEEN 1950 AND 2000
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1839.34, + "Total Cost": 1839.35, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 72.147, + "Actual Total Time": 74.606, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1839.30, + "Total Cost": 1839.31, + "Plan Rows": 5, + "Plan Width": 96, + "Actual Startup Time": 59.756, + "Actual Total Time": 74.563, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1838.30, + "Total Cost": 1838.31, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 56.252, + "Actual Total Time": 56.261, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 52.259, + "Actual Total Time": 52.266, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 63.403, + "Actual Total Time": 63.412, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 52.796, + "Actual Total Time": 52.803, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 53.557, + "Actual Total Time": 53.563, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 56.519, + "Actual Total Time": 56.530, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1472.02, + "Total Cost": 1837.83, + "Plan Rows": 62, + "Plan Width": 48, + "Actual Startup Time": 51.106, + "Actual Total Time": 56.127, + "Actual Rows": 52, + "Actual Loops": 6, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 50.184, + "Actual Total Time": 52.244, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 50.667, + "Actual Total Time": 62.969, + "Actual Rows": 182, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.405, + "Actual Total Time": 52.778, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 47.739, + "Actual Total Time": 53.453, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 50.667, + "Actual Total Time": 56.330, + "Actual Rows": 65, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1470.87, + "Total Cost": 1836.47, + "Plan Rows": 66, + "Plan Width": 40, + "Actual Startup Time": 50.780, + "Actual Total Time": 55.727, + "Actual Rows": 55, + "Actual Loops": 6, + "Output": ["cn.name", "ml.link_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 49.792, + "Actual Total Time": 51.953, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 50.368, + "Actual Total Time": 62.329, + "Actual Rows": 182, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.108, + "Actual Total Time": 52.478, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 47.436, + "Actual Total Time": 53.081, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 50.366, + "Actual Total Time": 55.906, + "Actual Rows": 65, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1470.45, + "Total Cost": 1770.11, + "Plan Rows": 148, + "Plan Width": 25, + "Actual Startup Time": 48.538, + "Actual Total Time": 53.359, + "Actual Rows": 124, + "Actual Loops": 6, + "Output": ["mc.company_id", "ml.link_type_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 46.540, + "Actual Total Time": 50.964, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.163, + "Actual Total Time": 55.271, + "Actual Rows": 338, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.037, + "Actual Total Time": 52.178, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 47.350, + "Actual Total Time": 51.255, + "Actual Rows": 136, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 47.695, + "Actual Total Time": 52.213, + "Actual Rows": 161, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1469.41, + "Total Cost": 1768.16, + "Plan Rows": 169, + "Plan Width": 29, + "Actual Startup Time": 48.513, + "Actual Total Time": 53.156, + "Actual Rows": 141, + "Actual Loops": 6, + "Output": ["mc.company_type_id", "mc.company_id", "ml.link_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 46.528, + "Actual Total Time": 50.869, + "Actual Rows": 100, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.123, + "Actual Total Time": 54.692, + "Actual Rows": 360, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.026, + "Actual Total Time": 52.140, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 47.324, + "Actual Total Time": 51.111, + "Actual Rows": 140, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 47.680, + "Actual Total Time": 51.929, + "Actual Rows": 161, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1468.98, + "Total Cost": 1745.91, + "Plan Rows": 40, + "Plan Width": 33, + "Actual Startup Time": 48.402, + "Actual Total Time": 52.048, + "Actual Rows": 33, + "Actual Loops": 6, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 46.417, + "Actual Total Time": 49.828, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 46.964, + "Actual Total Time": 51.753, + "Actual Rows": 76, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 47.939, + "Actual Total Time": 51.759, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 47.228, + "Actual Total Time": 50.441, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 47.512, + "Actual Total Time": 50.618, + "Actual Rows": 24, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1468.55, + "Total Cost": 1722.14, + "Plan Rows": 50, + "Plan Width": 12, + "Actual Startup Time": 48.191, + "Actual Total Time": 51.156, + "Actual Rows": 42, + "Actual Loops": 6, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Hash Cond": "(ml.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 46.271, + "Actual Total Time": 48.931, + "Actual Rows": 45, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 46.793, + "Actual Total Time": 49.589, + "Actual Rows": 94, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 47.845, + "Actual Total Time": 51.404, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 47.116, + "Actual Total Time": 49.631, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 47.358, + "Actual Total Time": 49.875, + "Actual Rows": 24, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.00, + "Total Cost": 222.99, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.079, + "Actual Total Time": 1.454, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.086, + "Actual Total Time": 1.164, + "Actual Rows": 3700, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.105, + "Actual Total Time": 1.306, + "Actual Rows": 2590, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.081, + "Actual Total Time": 1.856, + "Actual Rows": 7215, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.089, + "Actual Total Time": 1.403, + "Actual Rows": 4440, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.096, + "Actual Total Time": 1.469, + "Actual Rows": 2960, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1449.73, + "Total Cost": 1449.73, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 47.472, + "Actual Total Time": 47.473, + "Actual Rows": 1757, + "Actual Loops": 6, + "Output": ["mk.movie_id"], + "Hash Buckets": 16384, + "Original Hash Buckets": 16384, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 544, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 46.014, + "Actual Total Time": 46.015, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 46.141, + "Actual Total Time": 46.143, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 46.944, + "Actual Total Time": 46.945, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 46.116, + "Actual Total Time": 46.118, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 46.134, + "Actual Total Time": 46.136, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1449.73, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 8.144, + "Actual Total Time": 15.851, + "Actual Rows": 1757, + "Actual Loops": 6, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.149, + "Actual Total Time": 9.150, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.274, + "Actual Total Time": 9.275, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.069, + "Actual Total Time": 10.070, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.232, + "Actual Total Time": 9.232, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.257, + "Actual Total Time": 9.258, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 8.116, + "Actual Total Time": 8.118, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 22362, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.148, + "Actual Total Time": 9.148, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.273, + "Actual Total Time": 9.274, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.068, + "Actual Total Time": 10.068, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.230, + "Actual Total Time": 9.231, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.256, + "Actual Total Time": 9.256, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 10544, + "Plan Width": 8, + "Actual Startup Time": 0.154, + "Actual Total Time": 44.118, + "Actual Rows": 10544, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 251, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2000))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 45 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 94 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 19 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 44 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 24 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.029, + "Actual Rows": 4, + "Actual Loops": 199, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.021, + "Actual Rows": 2, + "Actual Loops": 44 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.033, + "Actual Rows": 5, + "Actual Loops": 76 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.018, + "Actual Rows": 2, + "Actual Loops": 19 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.026, + "Actual Rows": 6, + "Actual Loops": 22 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.047, + "Actual Rows": 7, + "Actual Loops": 24 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 742, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 59 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 338 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 20 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 136 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 161 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.13, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["lt.link", "lt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.040, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["lt.link", "lt.id"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -8754961486292191806, + "Planning Time": 59.129, + "Triggers": [ + ], + "Execution Time": 75.022, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -8754961486292191806, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS from_company,
       MIN(lt.link) AS movie_link_type,
       MIN(t.title) AS sequel_movie
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follows%'
  AND mc.note IS NULL
  AND t.production_year = 1998
  AND t.title LIKE '%Money%'
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1078.56, + "Total Cost": 1078.57, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 20.576, + "Actual Total Time": 22.029, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1078.52, + "Total Cost": 1078.53, + "Plan Rows": 4, + "Plan Width": 96, + "Actual Startup Time": 18.644, + "Actual Total Time": 22.016, + "Actual Rows": 5, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 4, + "Workers Launched": 4, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1077.52, + "Total Cost": 1077.53, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 12.281, + "Actual Total Time": 12.286, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.781, + "Actual Total Time": 11.785, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.991, + "Actual Total Time": 11.995, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.033, + "Actual Total Time": 9.036, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.689, + "Actual Total Time": 10.694, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 1077.49, + "Plan Rows": 4, + "Plan Width": 48, + "Actual Startup Time": 11.974, + "Actual Total Time": 12.276, + "Actual Rows": 3, + "Actual Loops": 5, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.261, + "Actual Total Time": 11.756, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.987, + "Actual Total Time": 11.991, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.029, + "Actual Total Time": 9.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.684, + "Actual Total Time": 10.689, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.57, + "Total Cost": 1077.02, + "Plan Rows": 4, + "Plan Width": 52, + "Actual Startup Time": 11.964, + "Actual Total Time": 12.261, + "Actual Rows": 3, + "Actual Loops": 5, + "Output": ["cn.name", "mc.company_type_id", "lt.link", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.218, + "Actual Total Time": 11.688, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.987, + "Actual Total Time": 11.990, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.028, + "Actual Total Time": 9.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.684, + "Actual Total Time": 10.687, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 1074.78, + "Plan Rows": 5, + "Plan Width": 37, + "Actual Startup Time": 11.955, + "Actual Total Time": 12.207, + "Actual Rows": 4, + "Actual Loops": 5, + "Output": ["mc.company_type_id", "mc.company_id", "lt.link", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.172, + "Actual Total Time": 11.422, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.986, + "Actual Total Time": 11.989, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.028, + "Actual Total Time": 9.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.683, + "Actual Total Time": 10.686, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 1073.69, + "Plan Rows": 2, + "Plan Width": 41, + "Actual Startup Time": 11.943, + "Actual Total Time": 12.175, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["mk.movie_id", "ml.movie_id", "lt.link", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.115, + "Actual Total Time": 11.264, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.986, + "Actual Total Time": 11.988, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.027, + "Actual Total Time": 9.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.683, + "Actual Total Time": 10.685, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1070.58, + "Plan Rows": 7, + "Plan Width": 45, + "Actual Startup Time": 11.914, + "Actual Total Time": 12.101, + "Actual Rows": 6, + "Actual Loops": 5, + "Output": ["lt.link", "ml.movie_id", "mk.movie_id", "mk.keyword_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.970, + "Actual Total Time": 10.895, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.985, + "Actual Total Time": 11.987, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.027, + "Actual Total Time": 9.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.682, + "Actual Total Time": 10.684, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1066.59, + "Plan Rows": 2, + "Plan Width": 37, + "Actual Startup Time": 11.893, + "Actual Total Time": 12.061, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["lt.link", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.866, + "Actual Total Time": 10.702, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.985, + "Actual Total Time": 11.986, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.026, + "Actual Total Time": 9.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.682, + "Actual Total Time": 10.683, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 635.96, + "Plan Rows": 290, + "Plan Width": 16, + "Actual Startup Time": 0.650, + "Actual Total Time": 9.366, + "Actual Rows": 232, + "Actual Loops": 5, + "Output": ["lt.link", "ml.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.294, + "Actual Total Time": 7.369, + "Actual Rows": 291, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.202, + "Actual Total Time": 9.064, + "Actual Rows": 275, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.197, + "Actual Total Time": 8.396, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.355, + "Actual Total Time": 7.487, + "Actual Rows": 266, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 445.81, + "Plan Rows": 7499, + "Plan Width": 8, + "Actual Startup Time": 0.075, + "Actual Total Time": 3.806, + "Actual Rows": 5999, + "Actual Loops": 5, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.057, + "Actual Total Time": 3.025, + "Actual Rows": 3998, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.070, + "Actual Total Time": 3.745, + "Actual Rows": 7358, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.135, + "Actual Total Time": 3.372, + "Actual Rows": 2938, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.058, + "Actual Total Time": 3.107, + "Actual Rows": 4139, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.link", "lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 11548, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3998, + "Cache Hits": 3982, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 7358, + "Cache Hits": 7342, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 2938, + "Cache Hits": 2922, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 4139, + "Cache Hits": 4124, + "Cache Misses": 15, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 79, + "Output": ["lt.link", "lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text ~~ '%follows%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 15 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 1158, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.title ~~ '%Money%'::text) AND (t.production_year = 1998))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 291 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 275 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 15 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 266 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 1.96, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.025, + "Actual Rows": 4, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.025, + "Actual Rows": 4, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 28, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 28 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.020, + "Actual Rows": 3, + "Actual Loops": 7, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.020, + "Actual Rows": 3, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 21, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 21 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 14, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 14, + "Cache Hits": 13, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7102013096890644952, + "Planning Time": 54.470, + "Triggers": [ + ], + "Execution Time": 22.416, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7102013096890644952, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS from_company,
       MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_based_on_book
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '20th Century Fox%'
       OR cn.name LIKE 'Twentieth Century Fox%')
  AND ct.kind != 'production companies'
  AND ct.kind IS NOT NULL
  AND k.keyword IN ('sequel',
                    'revenge',
                    'based-on-novel')
  AND mc.note IS NOT NULL
  AND t.production_year > 1950
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3834.25, + "Total Cost": 3834.26, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 894.941, + "Actual Total Time": 897.608, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mc.note)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3834.18, + "Total Cost": 3834.19, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 158.889, + "Actual Total Time": 897.566, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mc.note))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3833.18, + "Total Cost": 3833.19, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 248.633, + "Actual Total Time": 248.641, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mc.note)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 151.756, + "Actual Total Time": 151.763, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 153.525, + "Actual Total Time": 153.534, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 167.564, + "Actual Total Time": 167.568, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 166.672, + "Actual Total Time": 166.678, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 148.758, + "Actual Total Time": 148.764, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 885.213, + "Actual Total Time": 885.220, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 157.544, + "Actual Total Time": 157.551, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1215.94, + "Total Cost": 3826.67, + "Plan Rows": 868, + "Plan Width": 60, + "Actual Startup Time": 118.600, + "Actual Total Time": 247.884, + "Actual Rows": 868, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "t.title"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 151.752, + "Actual Total Time": 151.757, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 153.518, + "Actual Total Time": 153.528, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 167.559, + "Actual Total Time": 167.563, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 166.668, + "Actual Total Time": 166.672, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.802, + "Actual Total Time": 148.421, + "Actual Rows": 268, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 38.994, + "Actual Total Time": 879.579, + "Actual Rows": 6664, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 58.477, + "Actual Total Time": 157.502, + "Actual Rows": 14, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1215.51, + "Total Cost": 3416.15, + "Plan Rows": 868, + "Plan Width": 55, + "Actual Startup Time": 118.558, + "Actual Total Time": 241.191, + "Actual Rows": 868, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "mc.movie_id", "mk.movie_id", "ml.movie_id"], + "Inner Unique": true, + "Hash Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 151.751, + "Actual Total Time": 151.756, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 153.517, + "Actual Total Time": 153.526, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 167.559, + "Actual Total Time": 167.562, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 166.667, + "Actual Total Time": 166.671, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.693, + "Actual Total Time": 145.648, + "Actual Rows": 268, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 38.882, + "Actual Total Time": 829.075, + "Actual Rows": 6664, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 58.360, + "Actual Total Time": 157.239, + "Actual Rows": 14, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1214.27, + "Total Cost": 3412.09, + "Plan Rows": 868, + "Plan Width": 59, + "Actual Startup Time": 118.440, + "Actual Total Time": 240.657, + "Actual Rows": 868, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "mc.movie_id", "mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mk.keyword_id = k.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 151.670, + "Actual Total Time": 151.673, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 153.414, + "Actual Total Time": 153.421, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 167.485, + "Actual Total Time": 167.488, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 166.589, + "Actual Total Time": 166.592, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.594, + "Actual Total Time": 145.365, + "Actual Rows": 268, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 38.799, + "Actual Total Time": 825.871, + "Actual Rows": 6664, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 58.297, + "Actual Total Time": 157.163, + "Actual Rows": 14, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Merge Join", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 1943.33, + "Plan Rows": 97597, + "Plan Width": 63, + "Actual Startup Time": 22.639, + "Actual Total Time": 212.869, + "Actual Rows": 97597, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "mc.movie_id", "mk.movie_id", "mk.keyword_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Merge Cond": "(mk.movie_id = ml.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.558, + "Actual Total Time": 142.172, + "Actual Rows": 7930, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 75.684, + "Actual Total Time": 142.043, + "Actual Rows": 9664, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.872, + "Actual Total Time": 157.031, + "Actual Rows": 9736, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.915, + "Actual Total Time": 148.735, + "Actual Rows": 39845, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.774, + "Actual Total Time": 133.426, + "Actual Rows": 13939, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.835, + "Actual Total Time": 689.834, + "Actual Rows": 693056, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.210, + "Actual Total Time": 147.559, + "Actual Rows": 6600, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.42, + "Total Cost": 47511.16, + "Plan Rows": 1473, + "Plan Width": 55, + "Actual Startup Time": 12.023, + "Actual Total Time": 95.063, + "Actual Rows": 1473, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "mc.movie_id", "mk.movie_id", "mk.keyword_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.178, + "Actual Total Time": 104.761, + "Actual Rows": 3558, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.320, + "Actual Total Time": 103.037, + "Actual Rows": 356, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.189, + "Actual Total Time": 117.922, + "Actual Rows": 699, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.410, + "Actual Total Time": 79.036, + "Actual Rows": 234, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.580, + "Actual Total Time": 88.464, + "Actual Rows": 234, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.049, + "Actual Total Time": 40.214, + "Actual Rows": 3751, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.215, + "Actual Total Time": 110.913, + "Actual Rows": 2739, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.99, + "Total Cost": 47385.31, + "Plan Rows": 70, + "Plan Width": 47, + "Actual Startup Time": 11.716, + "Actual Total Time": 92.751, + "Actual Rows": 70, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.084, + "Actual Total Time": 99.987, + "Actual Rows": 122, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.217, + "Actual Total Time": 102.091, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.103, + "Actual Total Time": 116.180, + "Actual Rows": 91, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.340, + "Actual Total Time": 78.259, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.516, + "Actual Total Time": 87.833, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.124, + "Actual Total Time": 36.209, + "Actual Rows": 81, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.146, + "Actual Total Time": 106.891, + "Actual Rows": 120, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.57, + "Total Cost": 44039.55, + "Plan Rows": 6435, + "Plan Width": 32, + "Actual Startup Time": 0.280, + "Actual Total Time": 28.866, + "Actual Rows": 6435, + "Actual Loops": 8, + "Output": ["mc.note", "mc.movie_id", "mc.company_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.270, + "Actual Total Time": 31.325, + "Actual Rows": 6915, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.383, + "Actual Total Time": 32.583, + "Actual Rows": 6783, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.339, + "Actual Total Time": 35.948, + "Actual Rows": 8378, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.302, + "Actual Total Time": 24.528, + "Actual Rows": 5330, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.166, + "Actual Total Time": 27.618, + "Actual Rows": 5971, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.174, + "Actual Total Time": 10.703, + "Actual Rows": 3073, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.229, + "Actual Total Time": 32.161, + "Actual Rows": 7219, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 43874.55, + "Plan Rows": 7116, + "Plan Width": 36, + "Actual Startup Time": 0.236, + "Actual Total Time": 18.843, + "Actual Rows": 7116, + "Actual Loops": 8, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Filter": "(mc.note IS NOT NULL)", + "Rows Removed by Filter": 6958, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.228, + "Actual Total Time": 20.478, + "Actual Rows": 7663, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.337, + "Actual Total Time": 21.966, + "Actual Rows": 7387, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.292, + "Actual Total Time": 23.388, + "Actual Rows": 9181, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.260, + "Actual Total Time": 16.129, + "Actual Rows": 5902, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.105, + "Actual Total Time": 18.312, + "Actual Rows": 6667, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.136, + "Actual Total Time": 6.696, + "Actual Rows": 3335, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.179, + "Actual Total Time": 20.718, + "Actual Rows": 7905, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 56930, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 8888, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 7663, + "Cache Hits": 7661, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 7387, + "Cache Hits": 7385, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 9181, + "Cache Hits": 9179, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 5902, + "Cache Hits": 5900, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 6667, + "Cache Hits": 6665, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 3335, + "Cache Hits": 3333, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 7905, + "Cache Hits": 7903, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 16, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind IS NOT NULL) AND ((ct.kind)::text <> 'production companies'::text))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 51483, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '20th Century Fox%'::text) OR (cn.name ~~ 'Twentieth Century Fox%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6915 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 6783 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 8378 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 5330 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 5971 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 3073 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 7219 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 1.60, + "Plan Rows": 20, + "Plan Width": 8, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.025, + "Actual Rows": 21, + "Actual Loops": 562, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.029, + "Actual Rows": 29, + "Actual Loops": 122 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.018, + "Actual Rows": 8, + "Actual Loops": 44 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.016, + "Actual Rows": 8, + "Actual Loops": 91 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.016, + "Actual Rows": 6, + "Actual Loops": 42 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.037, + "Actual Rows": 17, + "Actual Loops": 14 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.036, + "Actual Rows": 46, + "Actual Loops": 81 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.025, + "Actual Rows": 23, + "Actual Loops": 120 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 670.78, + "Plan Rows": 91977, + "Plan Width": 8, + "Actual Startup Time": 0.060, + "Actual Total Time": 73.152, + "Actual Rows": 127442, + "Actual Loops": 8, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.072, + "Actual Total Time": 25.607, + "Actual Rows": 37789, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.070, + "Actual Total Time": 26.812, + "Actual Rows": 39605, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.061, + "Actual Total Time": 26.842, + "Actual Rows": 39695, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.058, + "Actual Total Time": 43.037, + "Actual Rows": 69270, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.059, + "Actual Total Time": 30.626, + "Actual Rows": 43867, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.061, + "Actual Total Time": 388.133, + "Actual Rows": 722857, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.056, + "Actual Total Time": 25.091, + "Actual Rows": 36450, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1212.55, + "Total Cost": 1212.55, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 8.550, + "Actual Total Time": 8.551, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.131, + "Actual Total Time": 7.132, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.522, + "Actual Total Time": 8.524, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.769, + "Actual Total Time": 7.769, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.918, + "Actual Total Time": 6.919, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.767, + "Actual Total Time": 7.768, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.119, + "Actual Total Time": 7.120, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.723, + "Actual Total Time": 7.724, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1212.55, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.818, + "Actual Total Time": 8.483, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id"], + "Filter": "(k.keyword = ANY ('{sequel,revenge,based-on-novel}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.069, + "Actual Total Time": 7.069, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.440, + "Actual Total Time": 8.441, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.711, + "Actual Total Time": 7.711, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.885, + "Actual Total Time": 6.885, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.686, + "Actual Total Time": 7.686, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.041, + "Actual Total Time": 7.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.659, + "Actual Total Time": 7.659, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.11, + "Total Cost": 1.11, + "Plan Rows": 11, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["lt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.11, + "Plan Rows": 11, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.023, + "Actual Rows": 18, + "Actual Loops": 1, + "Output": ["lt.id"], + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 6946, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1950)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 268 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 6664 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 14 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2333270921735776355, + "Planning Time": 50.686, + "Triggers": [ + ], + "Execution Time": 898.129, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 2333270921735776355, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS from_company,
       MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_based_on_book
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND ct.kind != 'production companies'
  AND ct.kind IS NOT NULL
  AND k.keyword IN ('sequel',
                    'revenge',
                    'based-on-novel')
  AND mc.note IS NOT NULL
  AND t.production_year > 1950
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2919.58, + "Total Cost": 2919.59, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 250.996, + "Actual Total Time": 265.795, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mc.note)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2919.52, + "Total Cost": 2919.53, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 203.867, + "Actual Total Time": 265.769, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mc.note))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2918.52, + "Total Cost": 2918.53, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 76.540, + "Actual Total Time": 76.548, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mc.note)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 81.680, + "Actual Total Time": 81.686, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.387, + "Actual Total Time": 19.396, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.791, + "Actual Total Time": 18.798, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.205, + "Actual Total Time": 14.211, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.933, + "Actual Total Time": 18.942, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 241.646, + "Actual Total Time": 241.654, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.746, + "Actual Total Time": 14.754, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.29, + "Total Cost": 2902.56, + "Plan Rows": 2128, + "Plan Width": 60, + "Actual Startup Time": 11.423, + "Actual Total Time": 74.992, + "Actual Rows": 1862, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.687, + "Actual Total Time": 81.247, + "Actual Rows": 363, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.383, + "Actual Total Time": 19.390, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.786, + "Actual Total Time": 18.793, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.201, + "Actual Total Time": 14.207, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.927, + "Actual Total Time": 18.935, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.501, + "Actual Total Time": 240.465, + "Actual Rows": 1235, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.740, + "Actual Total Time": 14.747, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.87, + "Total Cost": 1958.13, + "Plan Rows": 2131, + "Plan Width": 45, + "Actual Startup Time": 11.401, + "Actual Total Time": 61.042, + "Actual Rows": 1864, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.637, + "Actual Total Time": 76.788, + "Actual Rows": 363, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.382, + "Actual Total Time": 19.389, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.786, + "Actual Total Time": 18.791, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.200, + "Actual Total Time": 14.206, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.927, + "Actual Total Time": 18.933, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.431, + "Actual Total Time": 228.208, + "Actual Rows": 1245, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.739, + "Actual Total Time": 14.745, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.81, + "Total Cost": 1945.09, + "Plan Rows": 2216, + "Plan Width": 49, + "Actual Startup Time": 11.030, + "Actual Total Time": 59.514, + "Actual Rows": 1939, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_type_id", "mc.company_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.369, + "Actual Total Time": 76.130, + "Actual Rows": 409, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.098, + "Actual Total Time": 19.104, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.525, + "Actual Total Time": 18.529, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.579, + "Actual Total Time": 13.583, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.652, + "Actual Total Time": 18.657, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.131, + "Actual Total Time": 226.879, + "Actual Rows": 1363, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.168, + "Actual Total Time": 14.173, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.38, + "Total Cost": 1809.30, + "Plan Rows": 209, + "Plan Width": 29, + "Actual Startup Time": 10.923, + "Actual Total Time": 55.060, + "Actual Rows": 182, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.306, + "Actual Total Time": 71.067, + "Actual Rows": 251, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.097, + "Actual Total Time": 19.102, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.524, + "Actual Total Time": 18.527, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.578, + "Actual Total Time": 13.581, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.651, + "Actual Total Time": 18.655, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.393, + "Actual Total Time": 215.316, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.167, + "Actual Total Time": 14.171, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.95, + "Total Cost": 1696.64, + "Plan Rows": 209, + "Plan Width": 8, + "Actual Startup Time": 10.898, + "Actual Total Time": 53.119, + "Actual Rows": 182, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id"], + "Inner Unique": true, + "Hash Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.241, + "Actual Total Time": 67.785, + "Actual Rows": 251, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.097, + "Actual Total Time": 19.101, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.523, + "Actual Total Time": 18.526, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.577, + "Actual Total Time": 13.580, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.650, + "Actual Total Time": 18.653, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.313, + "Actual Total Time": 206.815, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.166, + "Actual Total Time": 14.170, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 1694.72, + "Plan Rows": 209, + "Plan Width": 12, + "Actual Startup Time": 10.881, + "Actual Total Time": 52.945, + "Actual Rows": 182, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.226, + "Actual Total Time": 67.513, + "Actual Rows": 251, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.090, + "Actual Total Time": 19.092, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.517, + "Actual Total Time": 18.519, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.564, + "Actual Total Time": 13.565, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.643, + "Actual Total Time": 18.644, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.296, + "Actual Total Time": 206.094, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.155, + "Actual Total Time": 14.156, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1525.16, + "Plan Rows": 440, + "Plan Width": 4, + "Actual Startup Time": 10.860, + "Actual Total Time": 31.713, + "Actual Rows": 5925, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.180, + "Actual Total Time": 28.674, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.089, + "Actual Total Time": 19.090, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.516, + "Actual Total Time": 18.517, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.563, + "Actual Total Time": 13.564, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.642, + "Actual Total Time": 18.643, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.216, + "Actual Total Time": 100.208, + "Actual Rows": 29440, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.154, + "Actual Total Time": 14.155, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1212.55, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 10.801, + "Actual Total Time": 10.810, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{sequel,revenge,based-on-novel}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.084, + "Actual Total Time": 0.098, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.088, + "Actual Total Time": 19.089, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.516, + "Actual Total Time": 18.516, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.562, + "Actual Total Time": 13.562, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.641, + "Actual Total Time": 18.642, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.099, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.153, + "Actual Total Time": 14.153, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 15801, + "Plan Width": 8, + "Actual Startup Time": 0.146, + "Actual Total Time": 51.961, + "Actual Rows": 15801, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.093, + "Actual Total Time": 26.063, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.136, + "Actual Total Time": 93.002, + "Actual Rows": 29440, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 0.38, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 47403, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 10544 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 29440 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.11, + "Total Cost": 1.11, + "Plan Rows": 10, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["lt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.11, + "Plan Rows": 10, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.013, + "Actual Rows": 18, + "Actual Loops": 1, + "Output": ["lt.id"], + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1460, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1950)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 251 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 753 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 11, + "Plan Width": 36, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.020, + "Actual Rows": 11, + "Actual Loops": 1460, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NOT NULL)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.018, + "Actual Rows": 2, + "Actual Loops": 251 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 753 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.069, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.031, + "Actual Rows": 3, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind IS NOT NULL) AND ((ct.kind)::text <> 'production companies'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 14916, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[pl]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 363 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1245 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5951735317690032369, + "Planning Time": 60.953, + "Triggers": [ + ], + "Execution Time": 266.191, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -5951735317690032369, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS drama_horror_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     title AS t
WHERE cn.country_code = '[us]'
  AND ct.kind = 'production companies'
  AND it1.info = 'genres'
  AND it2.info = 'rating'
  AND mi.info IN ('Drama',
                  'Horror')
  AND mi_idx.info > '8.0'
  AND t.production_year BETWEEN 2005 AND 2008
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND mi.info_type_id = it1.id
  AND mi_idx.info_type_id = it2.id
  AND t.id = mc.movie_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13302.53, + "Total Cost": 13302.54, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 161.142, + "Actual Total Time": 166.475, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13302.46, + "Total Cost": 13302.47, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 160.710, + "Actual Total Time": 166.452, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13301.46, + "Total Cost": 13301.47, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 151.925, + "Actual Total Time": 151.934, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 146.236, + "Actual Total Time": 146.244, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 151.668, + "Actual Total Time": 151.677, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 151.731, + "Actual Total Time": 151.738, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 153.383, + "Actual Total Time": 153.392, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 147.400, + "Actual Total Time": 147.406, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 152.559, + "Actual Total Time": 152.567, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 152.518, + "Actual Total Time": 152.526, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.44, + "Total Cost": 13301.09, + "Plan Rows": 50, + "Plan Width": 41, + "Actual Startup Time": 23.223, + "Actual Total Time": 151.800, + "Actual Rows": 50, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.393, + "Actual Total Time": 146.117, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.468, + "Actual Total Time": 151.566, + "Actual Rows": 35, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.273, + "Actual Total Time": 151.623, + "Actual Rows": 49, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.862, + "Actual Total Time": 153.259, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.089, + "Actual Total Time": 147.251, + "Actual Rows": 53, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.166, + "Actual Total Time": 152.435, + "Actual Rows": 49, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.543, + "Actual Total Time": 152.371, + "Actual Rows": 59, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.60, + "Total Cost": 13299.11, + "Plan Rows": 50, + "Plan Width": 45, + "Actual Startup Time": 22.870, + "Actual Total Time": 151.349, + "Actual Rows": 50, + "Actual Loops": 8, + "Output": ["cn.name", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.818, + "Actual Total Time": 145.429, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.197, + "Actual Total Time": 151.220, + "Actual Rows": 35, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.001, + "Actual Total Time": 151.262, + "Actual Rows": 49, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.595, + "Actual Total Time": 152.896, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.514, + "Actual Total Time": 146.566, + "Actual Rows": 53, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.904, + "Actual Total Time": 152.086, + "Actual Rows": 49, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.281, + "Actual Total Time": 151.991, + "Actual Rows": 59, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.18, + "Total Cost": 13260.25, + "Plan Rows": 88, + "Plan Width": 30, + "Actual Startup Time": 14.432, + "Actual Total Time": 148.815, + "Actual Rows": 88, + "Actual Loops": 8, + "Output": ["mc.company_id", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.495, + "Actual Total Time": 143.128, + "Actual Rows": 75, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.129, + "Actual Total Time": 148.878, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.301, + "Actual Total Time": 148.797, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.531, + "Actual Total Time": 150.075, + "Actual Rows": 101, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.344, + "Actual Total Time": 143.758, + "Actual Rows": 100, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.840, + "Actual Total Time": 149.918, + "Actual Rows": 77, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.220, + "Actual Total Time": 149.452, + "Actual Rows": 90, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 13257.91, + "Plan Rows": 242, + "Plan Width": 34, + "Actual Startup Time": 14.376, + "Actual Total Time": 148.585, + "Actual Rows": 242, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mc.company_type_id", "mc.company_id", "mi.info_type_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.427, + "Actual Total Time": 142.908, + "Actual Rows": 197, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.073, + "Actual Total Time": 148.608, + "Actual Rows": 183, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.285, + "Actual Total Time": 148.598, + "Actual Rows": 244, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.471, + "Actual Total Time": 149.828, + "Actual Rows": 317, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.259, + "Actual Total Time": 143.535, + "Actual Rows": 194, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.807, + "Actual Total Time": 149.729, + "Actual Rows": 246, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.158, + "Actual Total Time": 149.230, + "Actual Rows": 256, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 13216.37, + "Plan Rows": 70, + "Plan Width": 38, + "Actual Startup Time": 14.277, + "Actual Total Time": 146.001, + "Actual Rows": 70, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.294, + "Actual Total Time": 140.258, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.966, + "Actual Total Time": 146.127, + "Actual Rows": 68, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.215, + "Actual Total Time": 146.145, + "Actual Rows": 71, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.396, + "Actual Total Time": 146.911, + "Actual Rows": 73, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.130, + "Actual Total Time": 140.756, + "Actual Rows": 80, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.696, + "Actual Total Time": 147.591, + "Actual Rows": 56, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.045, + "Actual Total Time": 146.668, + "Actual Rows": 63, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 12538.65, + "Plan Rows": 506, + "Plan Width": 30, + "Actual Startup Time": 1.971, + "Actual Total Time": 118.098, + "Actual Rows": 506, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.059, + "Actual Total Time": 108.954, + "Actual Rows": 563, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.933, + "Actual Total Time": 119.635, + "Actual Rows": 493, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.820, + "Actual Total Time": 124.135, + "Actual Rows": 454, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.757, + "Actual Total Time": 112.546, + "Actual Rows": 605, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.906, + "Actual Total Time": 116.903, + "Actual Rows": 424, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.382, + "Actual Total Time": 120.819, + "Actual Rows": 419, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.135, + "Actual Total Time": 117.057, + "Actual Rows": 565, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10111.41, + "Plan Rows": 1981, + "Plan Width": 9, + "Actual Startup Time": 0.294, + "Actual Total Time": 86.971, + "Actual Rows": 1981, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.108, + "Actual Total Time": 76.506, + "Actual Rows": 1949, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.097, + "Actual Total Time": 89.081, + "Actual Rows": 1983, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.159, + "Actual Total Time": 94.145, + "Actual Rows": 1993, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.053, + "Actual Total Time": 81.872, + "Actual Rows": 2089, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.723, + "Actual Total Time": 87.545, + "Actual Rows": 1806, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.064, + "Actual Total Time": 86.345, + "Actual Rows": 2005, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.062, + "Actual Total Time": 85.095, + "Actual Rows": 2063, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 10091.30, + "Plan Rows": 6706, + "Plan Width": 13, + "Actual Startup Time": 0.065, + "Actual Total Time": 83.341, + "Actual Rows": 6706, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Filter": "(mi_idx.info > '8.0'::text)", + "Rows Removed by Filter": 165798, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.077, + "Actual Total Time": 73.070, + "Actual Rows": 6116, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.059, + "Actual Total Time": 85.718, + "Actual Rows": 6794, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 90.606, + "Actual Rows": 7365, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 77.881, + "Actual Rows": 6615, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.180, + "Actual Total Time": 84.150, + "Actual Rows": 6350, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.041, + "Actual Total Time": 82.147, + "Actual Rows": 6518, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.047, + "Actual Total Time": 81.564, + "Actual Rows": 6848, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.23, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 15849, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2008))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1949 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1983 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1993 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2089 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1806 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 2005 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2063 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.33, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 4047, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Drama,Horror}'::text[]))", + "Rows Removed by Filter": 21, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 563 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 493 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 454 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 605 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 424 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 419 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 565 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.56, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.034, + "Actual Rows": 3, + "Actual Loops": 557, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.033, + "Actual Rows": 3, + "Actual Loops": 72 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.033, + "Actual Rows": 3, + "Actual Loops": 68 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.031, + "Actual Rows": 3, + "Actual Loops": 71 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.036, + "Actual Rows": 4, + "Actual Loops": 73 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.032, + "Actual Rows": 2, + "Actual Loops": 80 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.034, + "Actual Rows": 4, + "Actual Loops": 56 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.037, + "Actual Rows": 4, + "Actual Loops": 63 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 708, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 75 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 78 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 88 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 101 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 100 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 77 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 90 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.057, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -9026514954839072455, + "Planning Time": 68.236, + "Triggers": [ + ], + "Execution Time": 166.832, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -9026514954839072455, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi.info) AS budget,
       MIN(t.title) AS unsuccsessful_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     title AS t
WHERE cn.country_code ='[us]'
  AND ct.kind IS NOT NULL
  AND (ct.kind ='production companies'
       OR ct.kind = 'distributors')
  AND it1.info ='budget'
  AND it2.info ='bottom 10 rank'
  AND t.production_year >2000
  AND (t.title LIKE 'Birdemic%'
       OR t.title LIKE '%Movie%')
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND mi.info_type_id = it1.id
  AND mi_idx.info_type_id = it2.id
  AND t.id = mc.movie_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10140.14, + "Total Cost": 10140.15, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 95.735, + "Actual Total Time": 101.277, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10140.09, + "Total Cost": 10140.10, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 95.700, + "Actual Total Time": 101.258, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10139.09, + "Total Cost": 10139.10, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 86.165, + "Actual Total Time": 86.173, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 84.452, + "Actual Total Time": 84.459, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.590, + "Actual Total Time": 85.597, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 84.786, + "Actual Total Time": 84.793, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 84.902, + "Actual Total Time": 84.909, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 84.927, + "Actual Total Time": 84.934, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 84.949, + "Actual Total Time": 84.958, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 84.955, + "Actual Total Time": 84.964, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.53, + "Total Cost": 10139.08, + "Plan Rows": 1, + "Plan Width": 60, + "Actual Startup Time": 85.960, + "Actual Total Time": 86.164, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 84.446, + "Actual Total Time": 84.452, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.586, + "Actual Total Time": 85.592, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 84.779, + "Actual Total Time": 84.786, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 84.896, + "Actual Total Time": 84.903, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 84.921, + "Actual Total Time": 84.927, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 84.944, + "Actual Total Time": 84.953, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 84.950, + "Actual Total Time": 84.959, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.40, + "Total Cost": 10138.91, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 85.956, + "Actual Total Time": 86.149, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mc.company_type_id", "mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 84.445, + "Actual Total Time": 84.451, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.585, + "Actual Total Time": 85.590, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 84.778, + "Actual Total Time": 84.784, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 84.896, + "Actual Total Time": 84.901, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 84.919, + "Actual Total Time": 84.925, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 84.944, + "Actual Total Time": 84.951, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 84.950, + "Actual Total Time": 84.958, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.98, + "Total Cost": 10137.15, + "Plan Rows": 4, + "Plan Width": 68, + "Actual Startup Time": 85.949, + "Actual Total Time": 86.039, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mi.info", "mc.company_type_id", "mc.company_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 84.444, + "Actual Total Time": 84.449, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.584, + "Actual Total Time": 85.589, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 84.778, + "Actual Total Time": 84.783, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 84.895, + "Actual Total Time": 84.900, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 84.919, + "Actual Total Time": 84.924, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 84.942, + "Actual Total Time": 84.949, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 84.948, + "Actual Total Time": 84.956, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.55, + "Total Cost": 10136.44, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 85.941, + "Actual Total Time": 86.016, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi.info", "mi.movie_id", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 84.444, + "Actual Total Time": 84.448, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.583, + "Actual Total Time": 85.588, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 84.777, + "Actual Total Time": 84.782, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 84.894, + "Actual Total Time": 84.898, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 84.918, + "Actual Total Time": 84.923, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 84.942, + "Actual Total Time": 84.947, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 84.948, + "Actual Total Time": 84.954, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 10134.53, + "Plan Rows": 28, + "Plan Width": 76, + "Actual Startup Time": 85.680, + "Actual Total Time": 85.747, + "Actual Rows": 28, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 84.217, + "Actual Total Time": 84.220, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.311, + "Actual Total Time": 85.315, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 84.560, + "Actual Total Time": 84.563, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 84.669, + "Actual Total Time": 84.672, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 84.680, + "Actual Total Time": 84.684, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 84.703, + "Actual Total Time": 84.707, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 84.722, + "Actual Total Time": 84.726, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10132.19, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 85.670, + "Actual Total Time": 85.688, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 84.216, + "Actual Total Time": 84.219, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.310, + "Actual Total Time": 85.313, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 84.559, + "Actual Total Time": 84.562, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 84.668, + "Actual Total Time": 84.670, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 84.679, + "Actual Total Time": 84.682, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 84.702, + "Actual Total Time": 84.705, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 84.721, + "Actual Total Time": 84.724, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 85.624, + "Actual Total Time": 85.632, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 84.215, + "Actual Total Time": 84.217, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.310, + "Actual Total Time": 85.311, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 84.558, + "Actual Total Time": 84.560, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 84.667, + "Actual Total Time": 84.668, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 84.678, + "Actual Total Time": 84.680, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 84.701, + "Actual Total Time": 84.703, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 84.720, + "Actual Total Time": 84.722, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.015, + "Actual Total Time": 33.924, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 33.103, + "Actual Rows": 170111, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 33.661, + "Actual Rows": 178773, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 33.113, + "Actual Rows": 168036, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 35.182, + "Actual Rows": 164344, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 33.335, + "Actual Rows": 171669, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 33.936, + "Actual Rows": 158609, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 33.109, + "Actual Rows": 173414, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'bottom 10 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 10, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2000) AND ((t.title ~~ 'Birdemic%'::text) OR (t.title ~~ '%Movie%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 110, + "Plan Width": 51, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.151, + "Actual Rows": 110, + "Actual Loops": 2, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'budget'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 16, + "Plan Width": 12, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.071, + "Actual Rows": 16, + "Actual Loops": 2, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 33, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["ct.id", "ct.kind"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind IS NOT NULL) AND (((ct.kind)::text = 'production companies'::text) OR ((ct.kind)::text = 'distributors'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5632455736553151255, + "Planning Time": 50.518, + "Triggers": [ + ], + "Execution Time": 101.680, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 5632455736553151255, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS mainstream_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     title AS t
WHERE cn.country_code = '[us]'
  AND ct.kind = 'production companies'
  AND it1.info = 'genres'
  AND it2.info = 'rating'
  AND mi.info IN ('Drama',
                  'Horror',
                  'Western',
                  'Family')
  AND mi_idx.info > '7.0'
  AND t.production_year BETWEEN 2000 AND 2010
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND mi.info_type_id = it1.id
  AND mi_idx.info_type_id = it2.id
  AND t.id = mc.movie_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 29631.40, + "Total Cost": 29631.41, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 706.229, + "Actual Total Time": 724.948, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 29631.33, + "Total Cost": 29631.34, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 705.510, + "Actual Total Time": 724.921, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 29630.33, + "Total Cost": 29630.34, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 698.019, + "Actual Total Time": 698.028, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 697.000, + "Actual Total Time": 697.007, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 696.763, + "Actual Total Time": 696.769, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 697.596, + "Actual Total Time": 697.600, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 697.185, + "Actual Total Time": 697.192, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 697.084, + "Actual Total Time": 697.090, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 696.782, + "Actual Total Time": 696.789, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 697.219, + "Actual Total Time": 697.225, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.44, + "Total Cost": 29625.91, + "Plan Rows": 589, + "Plan Width": 41, + "Actual Startup Time": 7.826, + "Actual Total Time": 696.928, + "Actual Rows": 589, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.369, + "Actual Total Time": 695.945, + "Actual Rows": 594, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.561, + "Actual Total Time": 695.607, + "Actual Rows": 547, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.773, + "Actual Total Time": 696.507, + "Actual Rows": 599, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.971, + "Actual Total Time": 696.252, + "Actual Rows": 520, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.905, + "Actual Total Time": 696.044, + "Actual Rows": 585, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.659, + "Actual Total Time": 695.643, + "Actual Rows": 611, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.812, + "Actual Total Time": 696.055, + "Actual Rows": 618, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.60, + "Total Cost": 29622.46, + "Plan Rows": 589, + "Plan Width": 45, + "Actual Startup Time": 7.554, + "Actual Total Time": 695.814, + "Actual Rows": 589, + "Actual Loops": 8, + "Output": ["cn.name", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.121, + "Actual Total Time": 694.856, + "Actual Rows": 594, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.315, + "Actual Total Time": 694.559, + "Actual Rows": 547, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.479, + "Actual Total Time": 695.387, + "Actual Rows": 599, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.700, + "Actual Total Time": 695.239, + "Actual Rows": 520, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.661, + "Actual Total Time": 694.937, + "Actual Rows": 585, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.427, + "Actual Total Time": 694.510, + "Actual Rows": 611, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.541, + "Actual Total Time": 694.896, + "Actual Rows": 618, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.18, + "Total Cost": 28764.81, + "Plan Rows": 1942, + "Plan Width": 30, + "Actual Startup Time": 4.052, + "Actual Total Time": 660.164, + "Actual Rows": 1942, + "Actual Loops": 8, + "Output": ["mc.company_id", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.993, + "Actual Total Time": 658.600, + "Actual Rows": 2073, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.390, + "Actual Total Time": 659.840, + "Actual Rows": 1817, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.457, + "Actual Total Time": 662.086, + "Actual Rows": 1885, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.647, + "Actual Total Time": 656.659, + "Actual Rows": 1934, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.972, + "Actual Total Time": 660.599, + "Actual Rows": 1909, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.368, + "Actual Total Time": 658.087, + "Actual Rows": 2090, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.443, + "Actual Total Time": 660.511, + "Actual Rows": 1893, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 28733.36, + "Plan Rows": 5626, + "Plan Width": 34, + "Actual Startup Time": 3.070, + "Actual Total Time": 656.698, + "Actual Rows": 5626, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mc.company_type_id", "mc.company_id", "mi.info_type_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.388, + "Actual Total Time": 654.944, + "Actual Rows": 6153, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.364, + "Actual Total Time": 656.584, + "Actual Rows": 5174, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.434, + "Actual Total Time": 658.640, + "Actual Rows": 5792, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.556, + "Actual Total Time": 653.231, + "Actual Rows": 5406, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.961, + "Actual Total Time": 657.083, + "Actual Rows": 5795, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.348, + "Actual Total Time": 654.515, + "Actual Rows": 5777, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.419, + "Actual Total Time": 657.160, + "Actual Rows": 5443, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 28148.78, + "Plan Rows": 996, + "Plan Width": 38, + "Actual Startup Time": 3.003, + "Actual Total Time": 626.086, + "Actual Rows": 996, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.314, + "Actual Total Time": 622.979, + "Actual Rows": 1037, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.298, + "Actual Total Time": 626.646, + "Actual Rows": 954, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.369, + "Actual Total Time": 629.359, + "Actual Rows": 982, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.484, + "Actual Total Time": 623.630, + "Actual Rows": 984, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.894, + "Actual Total Time": 625.937, + "Actual Rows": 984, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.275, + "Actual Total Time": 623.487, + "Actual Rows": 1021, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.348, + "Actual Total Time": 626.779, + "Actual Rows": 1004, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 20739.59, + "Plan Rows": 6538, + "Plan Width": 30, + "Actual Startup Time": 0.212, + "Actual Total Time": 294.074, + "Actual Rows": 6538, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.095, + "Actual Total Time": 298.063, + "Actual Rows": 6588, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.138, + "Actual Total Time": 290.399, + "Actual Rows": 6135, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.271, + "Actual Total Time": 292.777, + "Actual Rows": 6554, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.386, + "Actual Total Time": 299.831, + "Actual Rows": 6711, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.109, + "Actual Total Time": 292.416, + "Actual Rows": 6475, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.111, + "Actual Total Time": 300.686, + "Actual Rows": 6629, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.428, + "Actual Total Time": 289.672, + "Actual Rows": 6865, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10159.15, + "Plan Rows": 15196, + "Plan Width": 9, + "Actual Startup Time": 0.047, + "Actual Total Time": 105.334, + "Actual Rows": 15196, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 108.332, + "Actual Rows": 15242, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.059, + "Actual Total Time": 101.704, + "Actual Rows": 14216, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 106.837, + "Actual Rows": 15412, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 106.006, + "Actual Rows": 15684, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 104.135, + "Actual Rows": 15398, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.034, + "Actual Total Time": 108.036, + "Actual Rows": 15969, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.040, + "Actual Total Time": 104.538, + "Actual Rows": 15148, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 10091.30, + "Plan Rows": 24237, + "Plan Width": 13, + "Actual Startup Time": 0.027, + "Actual Total Time": 87.586, + "Actual Rows": 24237, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Filter": "(mi_idx.info > '7.0'::text)", + "Rows Removed by Filter": 148268, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 91.090, + "Actual Rows": 24672, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 85.045, + "Actual Rows": 22459, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 89.033, + "Actual Rows": 24540, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 87.211, + "Actual Rows": 24978, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 85.921, + "Actual Rows": 24424, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 90.205, + "Actual Rows": 25527, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 87.281, + "Actual Rows": 24220, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.70, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 121572, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 15242 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 14216 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 15412 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 15684 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 15398 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 15969 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 15148 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.12, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 52304, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Drama,Horror,Western,Family}'::text[]))", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 6588 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 6135 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 6554 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 6711 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 6475 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 6629 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 6865 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 6, + "Plan Width": 12, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.027, + "Actual Rows": 6, + "Actual Loops": 7964, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.027, + "Actual Rows": 6, + "Actual Loops": 1037 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.027, + "Actual Rows": 5, + "Actual Loops": 954 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.026, + "Actual Rows": 6, + "Actual Loops": 982 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.027, + "Actual Rows": 5, + "Actual Loops": 984 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.028, + "Actual Rows": 6, + "Actual Loops": 984 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.027, + "Actual Rows": 6, + "Actual Loops": 1021 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.027, + "Actual Rows": 5, + "Actual Loops": 1004 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 15537, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 2073 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1817 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1885 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1934 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1909 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 2090 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1893 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6417179009749033666, + "Planning Time": 55.734, + "Triggers": [ + ], + "Execution Time": 725.366, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 6417179009749033666, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi.info) AS release_date,
       MIN(miidx.info) AS rating,
       MIN(t.title) AS german_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it,
     info_type AS it2,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS miidx,
     title AS t
WHERE cn.country_code ='[de]'
  AND ct.kind ='production companies'
  AND it.info ='rating'
  AND it2.info ='release dates'
  AND kt.kind ='movie'
  AND mi.movie_id = t.id
  AND it2.id = mi.info_type_id
  AND kt.id = t.kind_id
  AND mc.movie_id = t.id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND miidx.movie_id = t.id
  AND it.id = miidx.info_type_id
  AND mi.movie_id = miidx.movie_id
  AND mi.movie_id = mc.movie_id
  AND miidx.movie_id = mc.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 16914.78, + "Total Cost": 16914.79, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 541.699, + "Actual Total Time": 566.757, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(miidx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 16914.71, + "Total Cost": 16914.72, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 540.853, + "Actual Total Time": 566.730, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(miidx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 16913.71, + "Total Cost": 16913.72, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 533.422, + "Actual Total Time": 533.429, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(miidx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 531.142, + "Actual Total Time": 531.148, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 533.076, + "Actual Total Time": 533.083, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 532.890, + "Actual Total Time": 532.896, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 533.121, + "Actual Total Time": 533.127, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 532.532, + "Actual Total Time": 532.542, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 532.315, + "Actual Total Time": 532.320, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 532.195, + "Actual Total Time": 532.201, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.52, + "Total Cost": 16809.55, + "Plan Rows": 13888, + "Plan Width": 65, + "Actual Startup Time": 3.107, + "Actual Total Time": 521.257, + "Actual Rows": 13888, + "Actual Loops": 8, + "Output": ["mi.info", "miidx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.724, + "Actual Total Time": 520.592, + "Actual Rows": 12389, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.670, + "Actual Total Time": 521.234, + "Actual Rows": 13451, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.292, + "Actual Total Time": 519.508, + "Actual Rows": 15133, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.807, + "Actual Total Time": 519.651, + "Actual Rows": 15867, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.935, + "Actual Total Time": 520.485, + "Actual Rows": 14090, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.274, + "Actual Total Time": 520.369, + "Actual Rows": 12481, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.042, + "Actual Total Time": 521.466, + "Actual Rows": 12134, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.67, + "Total Cost": 16631.94, + "Plan Rows": 64541, + "Plan Width": 69, + "Actual Startup Time": 2.620, + "Actual Total Time": 495.570, + "Actual Rows": 64541, + "Actual Loops": 8, + "Output": ["mi.info", "mi.info_type_id", "miidx.info", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.309, + "Actual Total Time": 497.653, + "Actual Rows": 60219, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.403, + "Actual Total Time": 496.638, + "Actual Rows": 62917, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.990, + "Actual Total Time": 491.206, + "Actual Rows": 67170, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.536, + "Actual Total Time": 490.666, + "Actual Rows": 75659, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.689, + "Actual Total Time": 494.868, + "Actual Rows": 66617, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.056, + "Actual Total Time": 495.903, + "Actual Rows": 54276, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.180, + "Actual Total Time": 498.062, + "Actual Rows": 61007, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.24, + "Total Cost": 14141.85, + "Plan Rows": 2059, + "Plan Width": 34, + "Actual Startup Time": 2.177, + "Actual Total Time": 314.399, + "Actual Rows": 2059, + "Actual Loops": 8, + "Output": ["mc.movie_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(miidx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.026, + "Actual Total Time": 337.848, + "Actual Rows": 1885, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.291, + "Actual Total Time": 310.722, + "Actual Rows": 1989, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.903, + "Actual Total Time": 301.458, + "Actual Rows": 1930, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.457, + "Actual Total Time": 307.204, + "Actual Rows": 2116, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.321, + "Actual Total Time": 313.516, + "Actual Rows": 2148, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.994, + "Actual Total Time": 326.472, + "Actual Rows": 1810, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.112, + "Actual Total Time": 319.530, + "Actual Rows": 2414, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.39, + "Total Cost": 14123.17, + "Plan Rows": 6181, + "Plan Width": 38, + "Actual Startup Time": 2.157, + "Actual Total Time": 311.021, + "Actual Rows": 6181, + "Actual Loops": 8, + "Output": ["mc.movie_id", "miidx.info", "miidx.movie_id", "miidx.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = miidx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.007, + "Actual Total Time": 334.937, + "Actual Rows": 5662, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.276, + "Actual Total Time": 307.548, + "Actual Rows": 5972, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.885, + "Actual Total Time": 298.369, + "Actual Rows": 5794, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.443, + "Actual Total Time": 303.894, + "Actual Rows": 6352, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.306, + "Actual Total Time": 310.230, + "Actual Rows": 6448, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.980, + "Actual Total Time": 323.591, + "Actual Rows": 5434, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.095, + "Actual Total Time": 315.886, + "Actual Rows": 7244, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.97, + "Total Cost": 12027.56, + "Plan Rows": 4107, + "Plan Width": 25, + "Actual Startup Time": 0.770, + "Actual Total Time": 247.896, + "Actual Rows": 4107, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.828, + "Actual Total Time": 276.136, + "Actual Rows": 3951, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.689, + "Actual Total Time": 246.211, + "Actual Rows": 3967, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.251, + "Actual Total Time": 237.130, + "Actual Rows": 3778, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.696, + "Actual Total Time": 244.882, + "Actual Rows": 3753, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.306, + "Actual Total Time": 252.840, + "Actual Rows": 3722, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.752, + "Actual Total Time": 262.275, + "Actual Rows": 3920, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.415, + "Actual Total Time": 241.546, + "Actual Rows": 5040, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.90, + "Total Cost": 11988.94, + "Plan Rows": 8912, + "Plan Width": 29, + "Actual Startup Time": 0.703, + "Actual Total Time": 242.737, + "Actual Rows": 8912, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.818, + "Actual Total Time": 270.788, + "Actual Rows": 10178, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.255, + "Actual Total Time": 241.099, + "Actual Rows": 8836, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.243, + "Actual Total Time": 232.592, + "Actual Rows": 7506, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.686, + "Actual Total Time": 240.007, + "Actual Rows": 8589, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.296, + "Actual Total Time": 247.427, + "Actual Rows": 10441, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.743, + "Actual Total Time": 256.970, + "Actual Rows": 9198, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.405, + "Actual Total Time": 236.134, + "Actual Rows": 8432, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 7839.38, + "Plan Rows": 8912, + "Plan Width": 4, + "Actual Startup Time": 0.622, + "Actual Total Time": 113.621, + "Actual Rows": 8912, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.736, + "Actual Total Time": 131.959, + "Actual Rows": 10178, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.167, + "Actual Total Time": 113.406, + "Actual Rows": 8836, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.158, + "Actual Total Time": 118.023, + "Actual Rows": 7506, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.605, + "Actual Total Time": 116.409, + "Actual Rows": 8589, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.225, + "Actual Total Time": 102.353, + "Actual Rows": 10441, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.627, + "Actual Total Time": 117.985, + "Actual Rows": 9198, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.322, + "Actual Total Time": 115.884, + "Actual Rows": 8432, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 7738.23, + "Plan Rows": 18516, + "Plan Width": 8, + "Actual Startup Time": 0.129, + "Actual Total Time": 103.257, + "Actual Rows": 18516, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.116, + "Actual Total Time": 120.184, + "Actual Rows": 23148, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.126, + "Actual Total Time": 103.563, + "Actual Rows": 17566, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.124, + "Actual Total Time": 108.483, + "Actual Rows": 18651, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.127, + "Actual Total Time": 106.174, + "Actual Rows": 19587, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.182, + "Actual Total Time": 91.565, + "Actual Rows": 18617, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.131, + "Actual Total Time": 107.606, + "Actual Rows": 18617, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.132, + "Actual Total Time": 104.353, + "Actual Rows": 19177, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 1222, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 13.523, + "Actual Rows": 1222, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[de]'::text)", + "Rows Removed by Filter": 28153, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 17.048, + "Actual Rows": 1562, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 14.461, + "Actual Rows": 1387, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 13.930, + "Actual Rows": 1153, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 12.496, + "Actual Rows": 1111, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.074, + "Actual Total Time": 10.922, + "Actual Rows": 979, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 13.534, + "Actual Rows": 1237, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.034, + "Actual Total Time": 13.538, + "Actual Rows": 1247, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 3.43, + "Plan Rows": 15, + "Plan Width": 12, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.067, + "Actual Rows": 15, + "Actual Loops": 9775, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.060, + "Actual Rows": 15, + "Actual Loops": 1562 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.058, + "Actual Rows": 13, + "Actual Loops": 1387 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.075, + "Actual Rows": 16, + "Actual Loops": 1153 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.077, + "Actual Rows": 18, + "Actual Loops": 1111 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.074, + "Actual Rows": 19, + "Actual Loops": 979 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.069, + "Actual Rows": 15, + "Actual Loops": 1237 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.066, + "Actual Rows": 15, + "Actual Loops": 1247 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 71294, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 10178 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 8836 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 7506 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 8589 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 10441 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 9198 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 8432 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "miidx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 32853, + "Output": ["miidx.id", "miidx.movie_id", "miidx.info_type_id", "miidx.info", "miidx.note"], + "Index Cond": "(miidx.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3951 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 3967 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 3778 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 3753 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 3722 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 3920 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 5040 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.90, + "Plan Rows": 31, + "Plan Width": 51, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.075, + "Actual Rows": 31, + "Actual Loops": 16470, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.072, + "Actual Rows": 32, + "Actual Loops": 1885 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.081, + "Actual Rows": 32, + "Actual Loops": 1989 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.084, + "Actual Rows": 35, + "Actual Loops": 1930 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.073, + "Actual Rows": 36, + "Actual Loops": 2116 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.072, + "Actual Rows": 31, + "Actual Loops": 2148 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.080, + "Actual Rows": 30, + "Actual Loops": 1810 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.064, + "Actual Rows": 25, + "Actual Loops": 2414 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1829334865866162189, + "Planning Time": 69.412, + "Triggers": [ + ], + "Execution Time": 567.106, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -1829334865866162189, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(miidx.info) AS rating,
       MIN(t.title) AS movie_about_winning
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it,
     info_type AS it2,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS miidx,
     title AS t
WHERE cn.country_code ='[us]'
  AND ct.kind ='production companies'
  AND it.info ='rating'
  AND it2.info ='release dates'
  AND kt.kind ='movie'
  AND t.title != ''
  AND (t.title LIKE '%Champion%'
       OR t.title LIKE '%Loser%')
  AND mi.movie_id = t.id
  AND it2.id = mi.info_type_id
  AND kt.id = t.kind_id
  AND mc.movie_id = t.id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND miidx.movie_id = t.id
  AND it.id = miidx.info_type_id
  AND mi.movie_id = miidx.movie_id
  AND mi.movie_id = mc.movie_id
  AND miidx.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 38288.37, + "Total Cost": 38288.38, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 772.637, + "Actual Total Time": 789.979, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(miidx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 38288.30, + "Total Cost": 38288.31, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 771.774, + "Actual Total Time": 789.949, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(miidx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 38287.30, + "Total Cost": 38287.31, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 764.479, + "Actual Total Time": 764.488, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(miidx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 763.769, + "Actual Total Time": 763.778, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 764.227, + "Actual Total Time": 764.235, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 763.542, + "Actual Total Time": 763.551, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 763.201, + "Actual Total Time": 763.208, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 763.788, + "Actual Total Time": 763.795, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 763.276, + "Actual Total Time": 763.283, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 763.160, + "Actual Total Time": 763.169, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.51, + "Total Cost": 38286.96, + "Plan Rows": 46, + "Plan Width": 41, + "Actual Startup Time": 410.967, + "Actual Total Time": 764.422, + "Actual Rows": 46, + "Actual Loops": 8, + "Output": ["cn.name", "miidx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 311.263, + "Actual Total Time": 763.721, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 363.500, + "Actual Total Time": 764.019, + "Actual Rows": 230, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 763.538, + "Actual Total Time": 763.546, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 347.705, + "Actual Total Time": 763.135, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 452.230, + "Actual Total Time": 763.771, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 337.629, + "Actual Total Time": 763.249, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 348.333, + "Actual Total Time": 763.146, + "Actual Rows": 10, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.66, + "Total Cost": 38284.40, + "Plan Rows": 265, + "Plan Width": 45, + "Actual Startup Time": 410.661, + "Actual Total Time": 764.028, + "Actual Rows": 265, + "Actual Loops": 8, + "Output": ["cn.name", "mi.info_type_id", "miidx.info", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 310.811, + "Actual Total Time": 763.214, + "Actual Rows": 128, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 363.201, + "Actual Total Time": 763.265, + "Actual Rows": 1362, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 763.274, + "Actual Total Time": 763.281, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 347.437, + "Actual Total Time": 762.814, + "Actual Rows": 126, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 451.981, + "Actual Total Time": 763.515, + "Actual Rows": 67, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 337.350, + "Actual Total Time": 762.949, + "Actual Rows": 66, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 348.059, + "Actual Total Time": 762.860, + "Actual Rows": 42, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.23, + "Total Cost": 38274.37, + "Plan Rows": 8, + "Plan Width": 53, + "Actual Startup Time": 410.391, + "Actual Total Time": 762.734, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 309.590, + "Actual Total Time": 761.410, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 363.116, + "Actual Total Time": 759.641, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 763.273, + "Actual Total Time": 763.280, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 347.349, + "Actual Total Time": 762.545, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 451.872, + "Actual Total Time": 763.204, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 337.051, + "Actual Total Time": 760.517, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 347.746, + "Actual Total Time": 762.225, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.81, + "Total Cost": 38267.75, + "Plan Rows": 15, + "Plan Width": 38, + "Actual Startup Time": 371.529, + "Actual Total Time": 762.384, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 309.541, + "Actual Total Time": 760.968, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 363.037, + "Actual Total Time": 758.953, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 563.630, + "Actual Total Time": 763.197, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 347.300, + "Actual Total Time": 762.213, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 405.763, + "Actual Total Time": 763.005, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 318.875, + "Actual Total Time": 760.247, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 347.702, + "Actual Total Time": 762.016, + "Actual Rows": 9, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.77, + "Total Cost": 38266.49, + "Plan Rows": 39, + "Plan Width": 42, + "Actual Startup Time": 371.504, + "Actual Total Time": 762.338, + "Actual Rows": 39, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 309.519, + "Actual Total Time": 760.903, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 362.999, + "Actual Total Time": 758.880, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 563.607, + "Actual Total Time": 763.177, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 347.288, + "Actual Total Time": 762.180, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 405.733, + "Actual Total Time": 762.977, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 318.859, + "Actual Total Time": 760.216, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 347.683, + "Actual Total Time": 761.986, + "Actual Rows": 25, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.34, + "Total Cost": 38260.36, + "Plan Rows": 11, + "Plan Width": 30, + "Actual Startup Time": 371.434, + "Actual Total Time": 761.966, + "Actual Rows": 11, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 309.427, + "Actual Total Time": 760.508, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 362.934, + "Actual Total Time": 758.336, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 563.549, + "Actual Total Time": 763.000, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 347.225, + "Actual Total Time": 761.900, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 405.641, + "Actual Total Time": 762.695, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 318.793, + "Actual Total Time": 759.828, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 347.608, + "Actual Total Time": 761.678, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 38259.11, + "Plan Rows": 44, + "Plan Width": 34, + "Actual Startup Time": 11.331, + "Actual Total Time": 761.903, + "Actual Rows": 44, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.268, + "Actual Total Time": 760.426, + "Actual Rows": 56, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.620, + "Actual Total Time": 758.265, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.520, + "Actual Total Time": 762.958, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.374, + "Actual Total Time": 761.849, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.351, + "Actual Total Time": 762.644, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 25.324, + "Actual Total Time": 759.772, + "Actual Rows": 40, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.977, + "Actual Total Time": 761.628, + "Actual Rows": 41, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 57491, + "Plan Width": 9, + "Actual Startup Time": 0.051, + "Actual Total Time": 133.665, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(miidx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 134.182, + "Actual Rows": 58321, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.039, + "Actual Total Time": 132.671, + "Actual Rows": 58369, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 134.471, + "Actual Rows": 59064, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.060, + "Actual Total Time": 135.267, + "Actual Rows": 57278, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 133.312, + "Actual Rows": 54049, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.062, + "Actual Total Time": 132.528, + "Actual Rows": 58205, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.084, + "Actual Total Time": 132.469, + "Actual Rows": 55261, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "miidx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 13, + "Actual Startup Time": 0.026, + "Actual Total Time": 38.471, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["miidx.id", "miidx.movie_id", "miidx.info_type_id", "miidx.info", "miidx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 38.582, + "Actual Rows": 174979, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 38.617, + "Actual Rows": 175123, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 38.938, + "Actual Rows": 177215, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.034, + "Actual Total Time": 39.025, + "Actual Rows": 171828, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 36.255, + "Actual Rows": 162122, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.038, + "Actual Total Time": 38.459, + "Actual Rows": 174620, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.066, + "Actual Total Time": 38.606, + "Actual Rows": 165867, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 459925, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.title <> ''::text) AND ((t.title ~~ '%Champion%'::text) OR (t.title ~~ '%Loser%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 58321 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 58369 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 59064 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 57278 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 54049 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 58205 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 55261 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.029, + "Actual Rows": 3, + "Actual Loops": 90, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.021, + "Actual Rows": 4, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.032, + "Actual Rows": 6, + "Actual Loops": 14 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.054, + "Actual Rows": 2, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.034, + "Actual Rows": 4, + "Actual Loops": 7 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.041, + "Actual Rows": 2, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.034, + "Actual Rows": 3, + "Actual Loops": 8 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 117, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 20 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 32 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 12 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 9 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 9 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 23, + "Plan Width": 8, + "Actual Startup Time": 0.123, + "Actual Total Time": 0.152, + "Actual Rows": 35, + "Actual Loops": 61, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.135, + "Actual Total Time": 0.144, + "Actual Rows": 11, + "Actual Loops": 12 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.098, + "Actual Total Time": 0.166, + "Actual Rows": 76, + "Actual Loops": 18 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.050, + "Actual Rows": 32, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.052, + "Actual Rows": 13, + "Actual Loops": 5 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.468, + "Actual Total Time": 0.477, + "Actual Rows": 13, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.286, + "Actual Total Time": 0.303, + "Actual Rows": 21, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.223, + "Actual Total Time": 0.224, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4778871310081631647, + "Planning Time": 76.145, + "Triggers": [ + ], + "Execution Time": 790.353, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 4778871310081631647, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(miidx.info) AS rating,
       MIN(t.title) AS movie_about_winning
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it,
     info_type AS it2,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS miidx,
     title AS t
WHERE cn.country_code ='[us]'
  AND ct.kind ='production companies'
  AND it.info ='rating'
  AND it2.info ='release dates'
  AND kt.kind ='movie'
  AND t.title != ''
  AND (t.title LIKE 'Champion%'
       OR t.title LIKE 'Loser%')
  AND mi.movie_id = t.id
  AND it2.id = mi.info_type_id
  AND kt.id = t.kind_id
  AND mc.movie_id = t.id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND miidx.movie_id = t.id
  AND it.id = miidx.info_type_id
  AND mi.movie_id = miidx.movie_id
  AND mi.movie_id = mc.movie_id
  AND miidx.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 38273.83, + "Total Cost": 38273.84, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 857.800, + "Actual Total Time": 879.617, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(miidx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 38273.76, + "Total Cost": 38273.77, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 857.232, + "Actual Total Time": 879.587, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(miidx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 38272.76, + "Total Cost": 38272.77, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 848.278, + "Actual Total Time": 848.286, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(miidx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 847.604, + "Actual Total Time": 847.611, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 849.548, + "Actual Total Time": 849.555, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 843.753, + "Actual Total Time": 843.760, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 848.500, + "Actual Total Time": 848.506, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 848.154, + "Actual Total Time": 848.162, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 843.991, + "Actual Total Time": 843.999, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 848.258, + "Actual Total Time": 848.265, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.61, + "Total Cost": 38272.70, + "Plan Rows": 7, + "Plan Width": 41, + "Actual Startup Time": 762.229, + "Actual Total Time": 848.269, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["cn.name", "miidx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 847.601, + "Actual Total Time": 847.607, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 597.619, + "Actual Total Time": 849.518, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 843.747, + "Actual Total Time": 843.754, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 848.495, + "Actual Total Time": 848.502, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 848.148, + "Actual Total Time": 848.155, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 843.985, + "Actual Total Time": 843.992, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 848.254, + "Actual Total Time": 848.260, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.76, + "Total Cost": 38270.79, + "Plan Rows": 27, + "Plan Width": 45, + "Actual Startup Time": 762.095, + "Actual Total Time": 848.122, + "Actual Rows": 27, + "Actual Loops": 8, + "Output": ["cn.name", "mi.info_type_id", "miidx.info", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 847.552, + "Actual Total Time": 847.557, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 597.555, + "Actual Total Time": 849.429, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 843.619, + "Actual Total Time": 843.625, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 848.436, + "Actual Total Time": 848.441, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 848.062, + "Actual Total Time": 848.067, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 843.852, + "Actual Total Time": 843.858, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 848.002, + "Actual Total Time": 848.008, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.33, + "Total Cost": 38268.28, + "Plan Rows": 2, + "Plan Width": 53, + "Actual Startup Time": 762.082, + "Actual Total Time": 848.048, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 847.551, + "Actual Total Time": 847.556, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 597.489, + "Actual Total Time": 849.191, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 843.618, + "Actual Total Time": 843.623, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 848.435, + "Actual Total Time": 848.440, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 848.061, + "Actual Total Time": 848.066, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 843.851, + "Actual Total Time": 843.856, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 848.002, + "Actual Total Time": 848.007, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.19, + "Total Cost": 38267.74, + "Plan Rows": 6, + "Plan Width": 57, + "Actual Startup Time": 762.024, + "Actual Total Time": 848.026, + "Actual Rows": 6, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 847.551, + "Actual Total Time": 847.555, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 597.297, + "Actual Total Time": 849.107, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 843.617, + "Actual Total Time": 843.622, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 848.435, + "Actual Total Time": 848.439, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 848.060, + "Actual Total Time": 848.065, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 843.850, + "Actual Total Time": 843.854, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 848.001, + "Actual Total Time": 848.005, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.77, + "Total Cost": 38262.44, + "Plan Rows": 12, + "Plan Width": 42, + "Actual Startup Time": 762.002, + "Actual Total Time": 847.782, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 847.550, + "Actual Total Time": 847.553, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 597.180, + "Actual Total Time": 848.184, + "Actual Rows": 43, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 843.616, + "Actual Total Time": 843.620, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 848.434, + "Actual Total Time": 848.437, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 848.060, + "Actual Total Time": 848.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 843.849, + "Actual Total Time": 843.853, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 848.000, + "Actual Total Time": 848.004, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.34, + "Total Cost": 38260.21, + "Plan Rows": 4, + "Plan Width": 30, + "Actual Startup Time": 761.987, + "Actual Total Time": 847.708, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 847.549, + "Actual Total Time": 847.552, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 597.111, + "Actual Total Time": 847.926, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 843.616, + "Actual Total Time": 843.618, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 848.434, + "Actual Total Time": 848.436, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 848.059, + "Actual Total Time": 848.062, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 843.849, + "Actual Total Time": 843.851, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 848.000, + "Actual Total Time": 848.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 38259.11, + "Plan Rows": 8, + "Plan Width": 34, + "Actual Startup Time": 92.530, + "Actual Total Time": 847.686, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.732, + "Actual Total Time": 847.546, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.022, + "Actual Total Time": 847.897, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.054, + "Actual Total Time": 843.587, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.862, + "Actual Total Time": 848.427, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 307.932, + "Actual Total Time": 848.054, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 70.462, + "Actual Total Time": 843.838, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 107.452, + "Actual Total Time": 847.993, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 57491, + "Plan Width": 9, + "Actual Startup Time": 0.045, + "Actual Total Time": 152.867, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(miidx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 150.084, + "Actual Rows": 56240, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 153.048, + "Actual Rows": 59080, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.062, + "Actual Total Time": 156.535, + "Actual Rows": 55654, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 154.101, + "Actual Rows": 59023, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 153.388, + "Actual Rows": 57677, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.077, + "Actual Total Time": 150.208, + "Actual Rows": 57510, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.033, + "Actual Total Time": 151.100, + "Actual Rows": 55085, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "miidx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 13, + "Actual Startup Time": 0.019, + "Actual Total Time": 44.059, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["miidx.id", "miidx.movie_id", "miidx.info_type_id", "miidx.info", "miidx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 42.283, + "Actual Rows": 168809, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 44.223, + "Actual Rows": 177233, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 47.207, + "Actual Rows": 166961, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 44.248, + "Actual Rows": 177052, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 43.197, + "Actual Rows": 173040, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.036, + "Actual Total Time": 43.464, + "Actual Rows": 172543, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 43.156, + "Actual Rows": 165421, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 459925, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.title <> ''::text) AND ((t.title ~~ 'Champion%'::text) OR (t.title ~~ 'Loser%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 56240 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 59080 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 55654 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 59023 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 57677 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 57510 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 55085 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 29, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.018, + "Actual Rows": 4, + "Actual Loops": 12 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 95, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 43 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 47, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 26, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 19, + "Cache Hits": 17, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 4, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 23, + "Plan Width": 8, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.031, + "Actual Rows": 16, + "Actual Loops": 14, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.028, + "Actual Rows": 8, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.065, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.066, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.220, + "Actual Total Time": 0.221, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4778871310081631647, + "Planning Time": 70.005, + "Triggers": [ + ], + "Execution Time": 879.997, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 4778871310081631647, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(miidx.info) AS rating,
       MIN(t.title) AS movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it,
     info_type AS it2,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS miidx,
     title AS t
WHERE cn.country_code ='[us]'
  AND ct.kind ='production companies'
  AND it.info ='rating'
  AND it2.info ='release dates'
  AND kt.kind ='movie'
  AND mi.movie_id = t.id
  AND it2.id = mi.info_type_id
  AND kt.id = t.kind_id
  AND mc.movie_id = t.id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND miidx.movie_id = t.id
  AND it.id = miidx.info_type_id
  AND mi.movie_id = miidx.movie_id
  AND mi.movie_id = mc.movie_id
  AND miidx.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 64722.85, + "Total Cost": 64722.86, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 2442.262, + "Actual Total Time": 2482.766, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(miidx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 64722.78, + "Total Cost": 64722.79, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 2435.671, + "Actual Total Time": 2482.722, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(miidx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 64721.78, + "Total Cost": 64721.79, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 2428.203, + "Actual Total Time": 2428.214, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(miidx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2432.156, + "Actual Total Time": 2432.169, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2426.102, + "Actual Total Time": 2426.110, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2428.138, + "Actual Total Time": 2428.149, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2427.585, + "Actual Total Time": 2427.594, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2423.283, + "Actual Total Time": 2423.293, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2426.665, + "Actual Total Time": 2426.673, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2426.837, + "Actual Total Time": 2426.845, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 10855.58, + "Total Cost": 64093.28, + "Plan Rows": 83799, + "Plan Width": 41, + "Actual Startup Time": 163.638, + "Actual Total Time": 2354.759, + "Actual Rows": 83799, + "Actual Loops": 8, + "Output": ["cn.name", "miidx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 166.580, + "Actual Total Time": 2355.792, + "Actual Rows": 92612, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 163.199, + "Actual Total Time": 2356.142, + "Actual Rows": 84743, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 163.488, + "Actual Total Time": 2364.305, + "Actual Rows": 77858, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 164.025, + "Actual Total Time": 2347.236, + "Actual Rows": 96212, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 157.172, + "Actual Total Time": 2360.584, + "Actual Rows": 75032, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 162.020, + "Actual Total Time": 2345.828, + "Actual Rows": 77838, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 161.862, + "Actual Total Time": 2347.378, + "Actual Rows": 79480, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 10853.74, + "Total Cost": 62621.94, + "Plan Rows": 539573, + "Plan Width": 45, + "Actual Startup Time": 163.216, + "Actual Total Time": 2159.483, + "Actual Rows": 539573, + "Actual Loops": 8, + "Output": ["cn.name", "mi.info_type_id", "miidx.info", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 166.385, + "Actual Total Time": 2135.550, + "Actual Rows": 610362, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 161.863, + "Actual Total Time": 2156.253, + "Actual Rows": 555147, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 163.248, + "Actual Total Time": 2180.130, + "Actual Rows": 510617, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 163.748, + "Actual Total Time": 2117.318, + "Actual Rows": 638992, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 156.891, + "Actual Total Time": 2193.139, + "Actual Rows": 457093, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 161.709, + "Actual Total Time": 2167.582, + "Actual Rows": 491498, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 161.612, + "Actual Total Time": 2159.022, + "Actual Rows": 506900, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 10853.30, + "Total Cost": 48661.51, + "Plan Rows": 10912, + "Plan Width": 53, + "Actual Startup Time": 162.896, + "Actual Total Time": 1196.267, + "Actual Rows": 10912, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 166.112, + "Actual Total Time": 1074.550, + "Actual Rows": 11209, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 160.829, + "Actual Total Time": 1174.638, + "Actual Rows": 10996, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 162.926, + "Actual Total Time": 1208.785, + "Actual Rows": 11422, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 163.668, + "Actual Total Time": 1021.042, + "Actual Rows": 11017, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 156.800, + "Actual Total Time": 1370.139, + "Actual Rows": 9834, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 161.662, + "Actual Total Time": 1243.814, + "Actual Rows": 11226, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 161.535, + "Actual Total Time": 1277.300, + "Actual Rows": 10095, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 10852.24, + "Total Cost": 48529.51, + "Plan Rows": 31069, + "Plan Width": 57, + "Actual Startup Time": 162.187, + "Actual Total Time": 1180.193, + "Actual Rows": 31069, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "miidx.info", "miidx.movie_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 162.955, + "Actual Total Time": 1059.654, + "Actual Rows": 24813, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 160.819, + "Actual Total Time": 1159.138, + "Actual Rows": 29077, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 162.293, + "Actual Total Time": 1191.740, + "Actual Rows": 33725, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 162.300, + "Actual Total Time": 1006.561, + "Actual Rows": 26073, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 156.789, + "Actual Total Time": 1354.863, + "Actual Rows": 31386, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 161.651, + "Actual Total Time": 1225.553, + "Actual Rows": 36779, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 161.524, + "Actual Total Time": 1261.435, + "Actual Rows": 31864, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 10851.81, + "Total Cost": 34063.32, + "Plan Rows": 31069, + "Plan Width": 32, + "Actual Startup Time": 162.120, + "Actual Total Time": 789.029, + "Actual Rows": 31069, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "miidx.info", "miidx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 162.888, + "Actual Total Time": 733.734, + "Actual Rows": 24813, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 160.747, + "Actual Total Time": 777.905, + "Actual Rows": 29077, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 162.222, + "Actual Total Time": 765.074, + "Actual Rows": 33725, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 162.231, + "Actual Total Time": 671.312, + "Actual Rows": 26073, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 156.718, + "Actual Total Time": 963.615, + "Actual Rows": 31386, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 161.590, + "Actual Total Time": 783.523, + "Actual Rows": 36779, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 161.450, + "Actual Total Time": 857.313, + "Actual Rows": 31864, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 10850.77, + "Total Cost": 33670.25, + "Plan Rows": 72514, + "Plan Width": 36, + "Actual Startup Time": 161.853, + "Actual Total Time": 754.857, + "Actual Rows": 72514, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "miidx.info", "miidx.movie_id"], + "Inner Unique": false, + "Hash Cond": "(mc.movie_id = miidx.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 161.038, + "Actual Total Time": 705.935, + "Actual Rows": 55813, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 160.739, + "Actual Total Time": 743.822, + "Actual Rows": 75933, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 162.083, + "Actual Total Time": 727.536, + "Actual Rows": 77877, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 162.211, + "Actual Total Time": 644.744, + "Actual Rows": 52385, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 156.710, + "Actual Total Time": 923.479, + "Actual Rows": 94172, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 161.582, + "Actual Total Time": 747.057, + "Actual Rows": 74356, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 161.389, + "Actual Total Time": 819.953, + "Actual Rows": 85948, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 22139.26, + "Plan Rows": 144225, + "Plan Width": 27, + "Actual Startup Time": 0.128, + "Actual Total Time": 454.708, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.107, + "Actual Total Time": 420.452, + "Actual Rows": 115589, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.145, + "Actual Total Time": 445.384, + "Actual Rows": 149773, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.113, + "Actual Total Time": 433.693, + "Actual Rows": 129679, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.160, + "Actual Total Time": 381.193, + "Actual Rows": 106064, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.146, + "Actual Total Time": 572.970, + "Actual Rows": 211435, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.104, + "Actual Total Time": 453.973, + "Actual Rows": 137444, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.107, + "Actual Total Time": 497.473, + "Actual Rows": 171338, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 23, + "Actual Startup Time": 0.016, + "Actual Total Time": 18.873, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 18.491, + "Actual Rows": 9543, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 17.227, + "Actual Rows": 10036, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 18.536, + "Actual Rows": 10760, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 18.447, + "Actual Rows": 10478, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 21.847, + "Actual Rows": 12060, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 18.546, + "Actual Rows": 10850, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 18.971, + "Actual Rows": 10306, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.63, + "Plan Rows": 14, + "Plan Width": 12, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.035, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.036, + "Actual Rows": 12, + "Actual Loops": 9543 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.036, + "Actual Rows": 15, + "Actual Loops": 10036 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.033, + "Actual Rows": 12, + "Actual Loops": 10760 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.030, + "Actual Rows": 10, + "Actual Loops": 10478 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.038, + "Actual Rows": 18, + "Actual Loops": 12060 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.034, + "Actual Rows": 13, + "Actual Loops": 10850 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.039, + "Actual Rows": 17, + "Actual Loops": 10306 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 10131.70, + "Total Cost": 10131.70, + "Plan Rows": 57491, + "Plan Width": 9, + "Actual Startup Time": 160.631, + "Actual Total Time": 160.634, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id"], + "Hash Buckets": 524288, + "Original Hash Buckets": 524288, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 22208, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 160.838, + "Actual Total Time": 160.842, + "Actual Rows": 57852, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 160.544, + "Actual Total Time": 160.546, + "Actual Rows": 58094, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 161.890, + "Actual Total Time": 161.894, + "Actual Rows": 57518, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 161.930, + "Actual Total Time": 161.932, + "Actual Rows": 57109, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 156.524, + "Actual Total Time": 156.527, + "Actual Rows": 56939, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 161.369, + "Actual Total Time": 161.372, + "Actual Rows": 58320, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 161.255, + "Actual Total Time": 161.257, + "Actual Rows": 54783, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 57491, + "Plan Width": 9, + "Actual Startup Time": 0.122, + "Actual Total Time": 117.170, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(miidx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.140, + "Actual Total Time": 117.588, + "Actual Rows": 57852, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 116.926, + "Actual Rows": 58094, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.137, + "Actual Total Time": 116.887, + "Actual Rows": 57518, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.153, + "Actual Total Time": 117.706, + "Actual Rows": 57109, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 114.729, + "Actual Rows": 56939, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.151, + "Actual Total Time": 116.796, + "Actual Rows": 58320, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.153, + "Actual Total Time": 119.016, + "Actual Rows": 54783, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "miidx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 13, + "Actual Startup Time": 0.018, + "Actual Total Time": 36.551, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["miidx.id", "miidx.movie_id", "miidx.info_type_id", "miidx.info", "miidx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 37.629, + "Actual Rows": 173566, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 36.998, + "Actual Rows": 174438, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 35.792, + "Actual Rows": 172649, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 35.930, + "Actual Rows": 171313, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 35.247, + "Actual Rows": 170804, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 36.475, + "Actual Rows": 174967, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 37.603, + "Actual Rows": 164361, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.069, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.088, + "Actual Total Time": 0.089, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.083, + "Actual Total Time": 0.084, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.094, + "Actual Total Time": 0.095, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.092, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.095, + "Actual Total Time": 0.096, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 19, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 248554, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 24813 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 29077 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 33725 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 26073 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 31386 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 36779 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 31864 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.90, + "Plan Rows": 38, + "Plan Width": 8, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.070, + "Actual Rows": 49, + "Actual Loops": 87293, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.074, + "Actual Rows": 54, + "Actual Loops": 11209 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.071, + "Actual Rows": 50, + "Actual Loops": 10996 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.068, + "Actual Rows": 45, + "Actual Loops": 11422 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.079, + "Actual Rows": 58, + "Actual Loops": 11017 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.067, + "Actual Rows": 46, + "Actual Loops": 9834 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.066, + "Actual Rows": 44, + "Actual Loops": 11226 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.068, + "Actual Rows": 50, + "Actual Loops": 10095 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2434959201386717317, + "Planning Time": 68.073, + "Triggers": [ + ], + "Execution Time": 2483.127, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 2434959201386717317, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS northern_dark_movie
FROM info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind = 'movie'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2010
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4297.98, + "Total Cost": 4297.99, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 341.459, + "Actual Total Time": 373.324, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4297.94, + "Total Cost": 4297.95, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 226.714, + "Actual Total Time": 373.296, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4296.94, + "Total Cost": 4296.95, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 106.292, + "Actual Total Time": 106.301, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.596, + "Actual Total Time": 14.605, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 216.915, + "Actual Total Time": 216.920, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.828, + "Actual Total Time": 14.836, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.170, + "Actual Total Time": 15.178, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 332.872, + "Actual Total Time": 332.878, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.984, + "Actual Total Time": 14.993, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.176, + "Actual Total Time": 15.184, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.48, + "Total Cost": 4296.39, + "Plan Rows": 109, + "Plan Width": 22, + "Actual Startup Time": 19.577, + "Actual Total Time": 106.178, + "Actual Rows": 95, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.592, + "Actual Total Time": 14.601, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.311, + "Actual Total Time": 216.630, + "Actual Rows": 235, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.824, + "Actual Total Time": 14.832, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.166, + "Actual Total Time": 15.174, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 42.637, + "Actual Total Time": 332.491, + "Actual Rows": 346, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.980, + "Actual Total Time": 14.987, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.173, + "Actual Total Time": 15.180, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.63, + "Total Cost": 4294.21, + "Plan Rows": 125, + "Plan Width": 26, + "Actual Startup Time": 19.293, + "Actual Total Time": 105.775, + "Actual Rows": 110, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.334, + "Actual Total Time": 14.342, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.980, + "Actual Total Time": 215.984, + "Actual Rows": 271, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.537, + "Actual Total Time": 14.543, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.929, + "Actual Total Time": 14.934, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 42.405, + "Actual Total Time": 331.896, + "Actual Rows": 398, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.695, + "Actual Total Time": 14.701, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.935, + "Actual Total Time": 14.941, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.20, + "Total Cost": 4105.31, + "Plan Rows": 164, + "Plan Width": 34, + "Actual Startup Time": 19.175, + "Actual Total Time": 90.793, + "Actual Rows": 143, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.334, + "Actual Total Time": 14.340, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.907, + "Actual Total Time": 176.500, + "Actual Rows": 346, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.536, + "Actual Total Time": 14.541, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.928, + "Actual Total Time": 14.933, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 42.302, + "Actual Total Time": 284.426, + "Actual Rows": 512, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.694, + "Actual Total Time": 14.699, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.934, + "Actual Total Time": 14.939, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.35, + "Total Cost": 4102.14, + "Plan Rows": 486, + "Plan Width": 38, + "Actual Startup Time": 19.095, + "Actual Total Time": 90.546, + "Actual Rows": 425, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.329, + "Actual Total Time": 14.333, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.890, + "Actual Total Time": 175.902, + "Actual Rows": 1028, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.530, + "Actual Total Time": 14.534, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.923, + "Actual Total Time": 14.926, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 42.289, + "Actual Total Time": 283.678, + "Actual Rows": 1515, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.688, + "Actual Total Time": 14.692, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.929, + "Actual Total Time": 14.932, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 3957.28, + "Plan Rows": 281, + "Plan Width": 25, + "Actual Startup Time": 19.030, + "Actual Total Time": 86.397, + "Actual Rows": 246, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.328, + "Actual Total Time": 14.332, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.538, + "Actual Total Time": 165.097, + "Actual Rows": 573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.529, + "Actual Total Time": 14.533, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.922, + "Actual Total Time": 14.925, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 42.179, + "Actual Total Time": 270.476, + "Actual Rows": 903, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.687, + "Actual Total Time": 14.691, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.928, + "Actual Total Time": 14.931, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3954.66, + "Plan Rows": 369, + "Plan Width": 29, + "Actual Startup Time": 9.912, + "Actual Total Time": 86.029, + "Actual Rows": 323, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.320, + "Actual Total Time": 14.322, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.925, + "Actual Total Time": 164.203, + "Actual Rows": 710, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.519, + "Actual Total Time": 14.521, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.915, + "Actual Total Time": 14.916, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.403, + "Actual Total Time": 269.283, + "Actual Rows": 1236, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.679, + "Actual Total Time": 14.680, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.921, + "Actual Total Time": 14.923, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1514.74, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 9.659, + "Actual Total Time": 34.232, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.319, + "Actual Total Time": 14.320, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.284, + "Actual Total Time": 58.218, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.519, + "Actual Total Time": 14.520, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.914, + "Actual Total Time": 14.915, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.424, + "Actual Total Time": 78.175, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.678, + "Actual Total Time": 14.679, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.921, + "Actual Total Time": 14.921, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 9.607, + "Actual Total Time": 9.614, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.318, + "Actual Total Time": 14.319, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.123, + "Actual Total Time": 0.135, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.518, + "Actual Total Time": 14.518, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.913, + "Actual Total Time": 14.914, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.289, + "Actual Total Time": 0.294, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.677, + "Actual Total Time": 14.677, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.919, + "Actual Total Time": 14.920, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.129, + "Actual Total Time": 62.050, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.158, + "Actual Total Time": 55.369, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.130, + "Actual Total Time": 72.876, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 1966, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.017, + "Actual Rows": 2, + "Actual Loops": 573 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 2, + "Actual Loops": 903 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.103, + "Actual Rows": 1, + "Actual Loops": 1147, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 69, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.113, + "Actual Rows": 1, + "Actual Loops": 346 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.092, + "Actual Rows": 1, + "Actual Loops": 512 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 274192810335693858, + "Planning Time": 51.078, + "Triggers": [ + ], + "Execution Time": 373.773, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 274192810335693858, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_dark_production
FROM info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title')
  AND kt.kind = 'movie'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info > '6.0'
  AND t.production_year > 2010
  AND (t.title LIKE '%murder%'
       OR t.title LIKE '%Murder%'
       OR t.title LIKE '%Mord%')
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2848.54, + "Total Cost": 2848.55, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 244.582, + "Actual Total Time": 244.734, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2848.50, + "Total Cost": 2848.51, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 244.561, + "Actual Total Time": 244.722, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2847.50, + "Total Cost": 2847.51, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 38.465, + "Actual Total Time": 38.472, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.098, + "Actual Total Time": 9.104, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.345, + "Actual Total Time": 9.351, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.074, + "Actual Total Time": 9.081, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.055, + "Actual Total Time": 9.062, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.960, + "Actual Total Time": 9.967, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.067, + "Actual Total Time": 9.074, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.543, + "Actual Total Time": 8.550, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 2847.49, + "Plan Rows": 1, + "Plan Width": 22, + "Actual Startup Time": 28.053, + "Actual Total Time": 38.466, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.093, + "Actual Total Time": 9.098, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.341, + "Actual Total Time": 9.348, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.070, + "Actual Total Time": 9.076, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.051, + "Actual Total Time": 9.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.955, + "Actual Total Time": 9.961, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.063, + "Actual Total Time": 9.069, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.538, + "Actual Total Time": 8.544, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.01, + "Total Cost": 2847.31, + "Plan Rows": 1, + "Plan Width": 26, + "Actual Startup Time": 28.050, + "Actual Total Time": 38.462, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.092, + "Actual Total Time": 9.097, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.341, + "Actual Total Time": 9.346, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.069, + "Actual Total Time": 9.074, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.051, + "Actual Total Time": 9.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.954, + "Actual Total Time": 9.959, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.063, + "Actual Total Time": 9.068, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.537, + "Actual Total Time": 8.543, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.58, + "Total Cost": 2846.81, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 13.956, + "Actual Total Time": 38.445, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.092, + "Actual Total Time": 9.096, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.340, + "Actual Total Time": 9.345, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.068, + "Actual Total Time": 9.073, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.050, + "Actual Total Time": 9.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.954, + "Actual Total Time": 9.958, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.062, + "Actual Total Time": 9.066, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.537, + "Actual Total Time": 8.541, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.43, + "Total Cost": 2846.62, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 13.952, + "Actual Total Time": 38.435, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.091, + "Actual Total Time": 9.095, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.340, + "Actual Total Time": 9.343, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.068, + "Actual Total Time": 9.071, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.049, + "Actual Total Time": 9.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.953, + "Actual Total Time": 9.957, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.062, + "Actual Total Time": 9.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.536, + "Actual Total Time": 8.540, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.00, + "Total Cost": 2845.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 13.942, + "Actual Total Time": 38.379, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.090, + "Actual Total Time": 9.093, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.339, + "Actual Total Time": 9.342, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.067, + "Actual Total Time": 9.069, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.049, + "Actual Total Time": 9.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.953, + "Actual Total Time": 9.955, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.061, + "Actual Total Time": 9.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.536, + "Actual Total Time": 8.539, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2845.14, + "Plan Rows": 2, + "Plan Width": 29, + "Actual Startup Time": 8.755, + "Actual Total Time": 38.360, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.090, + "Actual Total Time": 9.092, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.338, + "Actual Total Time": 9.340, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.066, + "Actual Total Time": 9.067, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.048, + "Actual Total Time": 9.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.952, + "Actual Total Time": 9.954, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.060, + "Actual Total Time": 9.062, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.535, + "Actual Total Time": 8.537, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1539.57, + "Plan Rows": 2790, + "Plan Width": 4, + "Actual Startup Time": 8.413, + "Actual Total Time": 15.616, + "Actual Rows": 2441, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.089, + "Actual Total Time": 9.090, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.338, + "Actual Total Time": 9.339, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.065, + "Actual Total Time": 9.066, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.047, + "Actual Total Time": 9.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.951, + "Actual Total Time": 9.953, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.060, + "Actual Total Time": 9.061, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.535, + "Actual Total Time": 8.536, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 8.402, + "Actual Total Time": 8.403, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.088, + "Actual Total Time": 9.089, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.337, + "Actual Total Time": 9.337, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.064, + "Actual Total Time": 9.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.047, + "Actual Total Time": 9.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.950, + "Actual Total Time": 9.950, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.059, + "Actual Total Time": 9.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.534, + "Actual Total Time": 8.534, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 19528, + "Plan Width": 8, + "Actual Startup Time": 0.078, + "Actual Total Time": 53.005, + "Actual Rows": 19528, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 19528, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2010) AND ((t.title ~~ '%murder%'::text) OR (t.title ~~ '%Murder%'::text) OR (t.title ~~ '%Mord%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 15, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 12, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 5, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '6.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4506995590541967356, + "Planning Time": 64.291, + "Triggers": [ + ], + "Execution Time": 245.138, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -4506995590541967356, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS north_european_dark_production
FROM info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IS NOT NULL
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5551.54, + "Total Cost": 5551.55, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 454.129, + "Actual Total Time": 485.673, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5551.50, + "Total Cost": 5551.51, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 302.595, + "Actual Total Time": 485.642, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5550.50, + "Total Cost": 5550.51, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 143.665, + "Actual Total Time": 143.674, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.273, + "Actual Total Time": 14.281, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.503, + "Actual Total Time": 14.512, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 329.009, + "Actual Total Time": 329.014, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.573, + "Actual Total Time": 14.581, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.899, + "Actual Total Time": 14.907, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 445.289, + "Actual Total Time": 445.294, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.034, + "Actual Total Time": 15.042, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.48, + "Total Cost": 5547.56, + "Plan Rows": 588, + "Plan Width": 22, + "Actual Startup Time": 9.893, + "Actual Total Time": 143.309, + "Actual Rows": 514, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.269, + "Actual Total Time": 14.276, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.498, + "Actual Total Time": 14.506, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.919, + "Actual Total Time": 328.011, + "Actual Rows": 1382, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.570, + "Actual Total Time": 14.577, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.895, + "Actual Total Time": 14.903, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.370, + "Actual Total Time": 444.158, + "Actual Rows": 1772, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.029, + "Actual Total Time": 15.036, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.63, + "Total Cost": 5543.88, + "Plan Rows": 673, + "Plan Width": 26, + "Actual Startup Time": 9.632, + "Actual Total Time": 142.681, + "Actual Rows": 589, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.037, + "Actual Total Time": 14.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.240, + "Actual Total Time": 14.246, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.603, + "Actual Total Time": 326.696, + "Actual Rows": 1574, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.332, + "Actual Total Time": 14.338, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.677, + "Actual Total Time": 14.684, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.103, + "Actual Total Time": 442.696, + "Actual Rows": 2007, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.798, + "Actual Total Time": 14.803, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.20, + "Total Cost": 4564.80, + "Plan Rows": 850, + "Plan Width": 34, + "Actual Startup Time": 9.603, + "Actual Total Time": 80.539, + "Actual Rows": 744, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.036, + "Actual Total Time": 14.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.239, + "Actual Total Time": 14.244, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.523, + "Actual Total Time": 153.297, + "Actual Rows": 1969, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.331, + "Actual Total Time": 14.336, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.677, + "Actual Total Time": 14.683, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.038, + "Actual Total Time": 258.004, + "Actual Rows": 2608, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.797, + "Actual Total Time": 14.802, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.35, + "Total Cost": 4555.99, + "Plan Rows": 2556, + "Plan Width": 38, + "Actual Startup Time": 9.590, + "Actual Total Time": 79.703, + "Actual Rows": 2236, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.032, + "Actual Total Time": 14.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.233, + "Actual Total Time": 14.238, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.507, + "Actual Total Time": 151.016, + "Actual Rows": 5901, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.327, + "Actual Total Time": 14.330, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.672, + "Actual Total Time": 14.677, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.023, + "Actual Total Time": 255.304, + "Actual Rows": 7869, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.792, + "Actual Total Time": 14.796, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 3961.59, + "Plan Rows": 1153, + "Plan Width": 25, + "Actual Startup Time": 9.563, + "Actual Total Time": 66.317, + "Actual Rows": 1009, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.031, + "Actual Total Time": 14.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.233, + "Actual Total Time": 14.236, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.427, + "Actual Total Time": 115.276, + "Actual Rows": 2502, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.326, + "Actual Total Time": 14.329, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.671, + "Actual Total Time": 14.675, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.963, + "Actual Total Time": 212.263, + "Actual Rows": 3653, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.791, + "Actual Total Time": 14.794, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3954.66, + "Plan Rows": 1391, + "Plan Width": 29, + "Actual Startup Time": 9.494, + "Actual Total Time": 65.433, + "Actual Rows": 1217, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.024, + "Actual Total Time": 14.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.225, + "Actual Total Time": 14.226, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.307, + "Actual Total Time": 113.047, + "Actual Rows": 3009, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.320, + "Actual Total Time": 14.321, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.665, + "Actual Total Time": 14.667, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.689, + "Actual Total Time": 209.333, + "Actual Rows": 4326, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.783, + "Actual Total Time": 14.785, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1514.74, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 9.468, + "Actual Total Time": 22.815, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.023, + "Actual Total Time": 14.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.224, + "Actual Total Time": 14.225, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.232, + "Actual Total Time": 28.695, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.319, + "Actual Total Time": 14.320, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.664, + "Actual Total Time": 14.665, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.617, + "Actual Total Time": 46.944, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.782, + "Actual Total Time": 14.783, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 9.426, + "Actual Total Time": 9.433, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "((k.keyword IS NOT NULL) AND (k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[])))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.022, + "Actual Total Time": 14.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.223, + "Actual Total Time": 14.224, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.108, + "Actual Total Time": 0.119, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.319, + "Actual Total Time": 14.319, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.663, + "Actual Total Time": 14.663, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.515, + "Actual Total Time": 0.520, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.781, + "Actual Total Time": 14.782, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.104, + "Actual Total Time": 32.845, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.120, + "Actual Total Time": 26.536, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.097, + "Actual Total Time": 42.224, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.017, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 8073, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 2, + "Actual Loops": 2502 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 3653 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.083, + "Actual Rows": 1, + "Actual Loops": 5949, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 71, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.087, + "Actual Rows": 1, + "Actual Loops": 1969 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.070, + "Actual Rows": 1, + "Actual Loops": 2608 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 299267792258938541, + "Planning Time": 53.805, + "Triggers": [ + ], + "Execution Time": 486.100, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 299267792258938541, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi.info) AS release_date,
       MIN(t.title) AS internet_movie
FROM aka_title AS at,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND mc.note LIKE '%(200%)%'
  AND mc.note LIKE '%(worldwide)%'
  AND mi.note LIKE '%internet%'
  AND mi.info LIKE 'USA:% 200%'
  AND t.production_year > 2000
  AND t.id = at.movie_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = at.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = at.movie_id
  AND mc.movie_id = at.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 27897.73, + "Total Cost": 27897.74, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 574.221, + "Actual Total Time": 604.407, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 27897.68, + "Total Cost": 27897.69, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 573.514, + "Actual Total Time": 604.375, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 27896.68, + "Total Cost": 27896.69, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 562.778, + "Actual Total Time": 562.786, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 564.327, + "Actual Total Time": 564.334, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 558.765, + "Actual Total Time": 558.774, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 558.546, + "Actual Total Time": 558.553, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 563.193, + "Actual Total Time": 563.199, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 565.620, + "Actual Total Time": 565.627, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 559.657, + "Actual Total Time": 559.663, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 559.515, + "Actual Total Time": 559.520, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.85, + "Total Cost": 27896.48, + "Plan Rows": 41, + "Plan Width": 60, + "Actual Startup Time": 182.958, + "Actual Total Time": 562.732, + "Actual Rows": 41, + "Actual Loops": 8, + "Output": ["mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 43.427, + "Actual Total Time": 564.264, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 558.758, + "Actual Total Time": 558.767, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 155.229, + "Actual Total Time": 558.531, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.612, + "Actual Total Time": 563.025, + "Actual Rows": 190, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 152.557, + "Actual Total Time": 565.575, + "Actual Rows": 34, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 270.946, + "Actual Total Time": 559.648, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 177.430, + "Actual Total Time": 559.506, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.43, + "Total Cost": 27878.53, + "Plan Rows": 41, + "Plan Width": 64, + "Actual Startup Time": 182.906, + "Actual Total Time": 562.247, + "Actual Rows": 41, + "Actual Loops": 8, + "Output": ["mi.info", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 43.343, + "Actual Total Time": 563.761, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 558.757, + "Actual Total Time": 558.765, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 155.168, + "Actual Total Time": 558.439, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.551, + "Actual Total Time": 561.065, + "Actual Rows": 190, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 152.489, + "Actual Total Time": 565.119, + "Actual Rows": 34, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 270.898, + "Actual Total Time": 559.588, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 177.382, + "Actual Total Time": 559.441, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.00, + "Total Cost": 27871.23, + "Plan Rows": 7, + "Plan Width": 76, + "Actual Startup Time": 126.035, + "Actual Total Time": 561.254, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 43.269, + "Actual Total Time": 563.276, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 105.030, + "Actual Total Time": 558.123, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 155.095, + "Actual Total Time": 553.742, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.479, + "Actual Total Time": 560.663, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 152.414, + "Actual Total Time": 564.591, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 270.844, + "Actual Total Time": 559.530, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 177.333, + "Actual Total Time": 558.997, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.86, + "Total Cost": 27869.99, + "Plan Rows": 7, + "Plan Width": 80, + "Actual Startup Time": 126.005, + "Actual Total Time": 561.163, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 43.237, + "Actual Total Time": 563.188, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 105.001, + "Actual Total Time": 558.062, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 155.071, + "Actual Total Time": 553.650, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.440, + "Actual Total Time": 560.564, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 152.380, + "Actual Total Time": 564.503, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 270.817, + "Actual Total Time": 559.502, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 177.294, + "Actual Total Time": 558.886, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 27869.44, + "Plan Rows": 7, + "Plan Width": 84, + "Actual Startup Time": 125.924, + "Actual Total Time": 561.046, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 43.152, + "Actual Total Time": 563.065, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 104.907, + "Actual Total Time": 557.947, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 154.977, + "Actual Total Time": 553.512, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.374, + "Actual Total Time": 560.465, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 152.294, + "Actual Total Time": 564.384, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 270.723, + "Actual Total Time": 559.406, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 177.200, + "Actual Total Time": 558.751, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.28, + "Total Cost": 27172.60, + "Plan Rows": 642, + "Plan Width": 33, + "Actual Startup Time": 3.691, + "Actual Total Time": 508.051, + "Actual Rows": 642, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.595, + "Actual Total Time": 502.527, + "Actual Rows": 540, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.860, + "Actual Total Time": 489.561, + "Actual Rows": 819, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.324, + "Actual Total Time": 510.244, + "Actual Rows": 758, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.290, + "Actual Total Time": 509.955, + "Actual Rows": 559, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.719, + "Actual Total Time": 471.434, + "Actual Rows": 716, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.583, + "Actual Total Time": 535.109, + "Actual Rows": 506, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.869, + "Actual Total Time": 516.858, + "Actual Rows": 595, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 26178.35, + "Plan Rows": 1712, + "Plan Width": 12, + "Actual Startup Time": 3.580, + "Actual Total Time": 484.369, + "Actual Rows": 1712, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.513, + "Actual Total Time": 490.241, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.726, + "Actual Total Time": 464.645, + "Actual Rows": 1679, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.200, + "Actual Total Time": 494.535, + "Actual Rows": 957, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.211, + "Actual Total Time": 440.655, + "Actual Rows": 5932, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.645, + "Actual Total Time": 452.037, + "Actual Rows": 1254, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.433, + "Actual Total Time": 518.257, + "Actual Rows": 1146, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.741, + "Actual Total Time": 499.670, + "Actual Rows": 1139, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 23517.91, + "Plan Rows": 5480, + "Plan Width": 8, + "Actual Startup Time": 0.595, + "Actual Total Time": 426.233, + "Actual Rows": 5480, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.426, + "Actual Total Time": 448.919, + "Actual Rows": 3895, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.181, + "Actual Total Time": 408.740, + "Actual Rows": 5290, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.311, + "Actual Total Time": 429.953, + "Actual Rows": 6540, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.529, + "Actual Total Time": 375.666, + "Actual Rows": 6110, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.331, + "Actual Total Time": 398.138, + "Actual Rows": 4871, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.354, + "Actual Total Time": 473.909, + "Actual Rows": 4259, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.253, + "Actual Total Time": 436.048, + "Actual Rows": 6179, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 16.540, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 17.235, + "Actual Rows": 11143, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.039, + "Actual Total Time": 12.922, + "Actual Rows": 7895, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.035, + "Actual Total Time": 18.163, + "Actual Rows": 11888, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.055, + "Actual Total Time": 15.920, + "Actual Rows": 10647, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 16.360, + "Actual Rows": 9986, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.037, + "Actual Total Time": 16.275, + "Actual Rows": 10716, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.089, + "Actual Total Time": 17.341, + "Actual Rows": 10778, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.89, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(200%)%'::text) AND (mc.note ~~ '%(worldwide)%'::text))", + "Rows Removed by Filter": 13, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 11143 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 7895 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 11888 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 10647 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 9986 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 10716 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 10778 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_aka_title", + "Relation Name": "aka_title", + "Schema": "public", + "Alias": "at", + "Startup Cost": 0.42, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 43837, + "Output": ["at.movie_id"], + "Index Cond": "(at.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 3895 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 5290 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6540 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 6110 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 4871 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 4259 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 6179 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.58, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 13699, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = at.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 753 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1679 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 957 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 5932 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 1254 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1146 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 1139 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.08, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.082, + "Actual Rows": 0, + "Actual Loops": 5134, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.note ~~ '%internet%'::text) AND (mi.info ~~ 'USA:% 200%'::text))", + "Rows Removed by Filter": 72, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.111, + "Actual Total Time": 0.111, + "Actual Rows": 0, + "Actual Loops": 540 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.083, + "Actual Total Time": 0.083, + "Actual Rows": 0, + "Actual Loops": 819 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 758 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.089, + "Actual Rows": 0, + "Actual Loops": 559 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.129, + "Actual Total Time": 0.129, + "Actual Rows": 0, + "Actual Loops": 716 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 506 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.069, + "Actual Rows": 0, + "Actual Loops": 595 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 57, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 15, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 7, + "Cache Hits": 6, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 4, + "Cache Hits": 3, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 7, + "Cache Hits": 6, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 7, + "Cache Hits": 6, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 7, + "Cache Hits": 6, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.090, + "Actual Total Time": 0.091, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 8, + "Cache Hits": 7, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.068, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.073, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.080, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.079, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.074, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.079, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.080, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 57, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 8 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 6, + "Plan Width": 8, + "Actual Startup Time": 0.130, + "Actual Total Time": 0.135, + "Actual Rows": 6, + "Actual Loops": 57, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.065, + "Actual Rows": 6, + "Actual Loops": 7 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.158, + "Actual Total Time": 0.158, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.668, + "Actual Total Time": 0.668, + "Actual Rows": 0, + "Actual Loops": 7 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.046, + "Actual Rows": 27, + "Actual Loops": 7 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.070, + "Actual Rows": 5, + "Actual Loops": 7 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.053, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 8 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 328, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 42 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 190 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 34 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -460740518707800565, + "Planning Time": 113.262, + "Triggers": [ + ], + "Execution Time": 604.791, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -460740518707800565, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi.info) AS release_date,
       MIN(t.title) AS youtube_movie
FROM aka_title AS at,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code = '[us]'
  AND cn.name = 'YouTube'
  AND it1.info = 'release dates'
  AND mc.note LIKE '%(200%)%'
  AND mc.note LIKE '%(worldwide)%'
  AND mi.note LIKE '%internet%'
  AND mi.info LIKE 'USA:% 200%'
  AND t.production_year BETWEEN 2005 AND 2010
  AND t.id = at.movie_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = at.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = at.movie_id
  AND mc.movie_id = at.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3507.30, + "Total Cost": 3507.31, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 34.857, + "Actual Total Time": 41.280, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3507.25, + "Total Cost": 3507.26, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 34.436, + "Actual Total Time": 41.264, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3506.25, + "Total Cost": 3506.26, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 22.738, + "Actual Total Time": 22.747, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.022, + "Actual Total Time": 18.032, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.753, + "Actual Total Time": 25.762, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.348, + "Actual Total Time": 17.359, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.907, + "Actual Total Time": 16.917, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.632, + "Actual Total Time": 25.638, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.992, + "Actual Total Time": 19.003, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.625, + "Actual Total Time": 25.632, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.85, + "Total Cost": 3506.22, + "Plan Rows": 5, + "Plan Width": 60, + "Actual Startup Time": 21.430, + "Actual Total Time": 22.734, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.015, + "Actual Total Time": 18.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.333, + "Actual Total Time": 25.706, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.339, + "Actual Total Time": 17.348, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.901, + "Actual Total Time": 16.911, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.628, + "Actual Total Time": 25.634, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.984, + "Actual Total Time": 18.994, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.620, + "Actual Total Time": 25.626, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.43, + "Total Cost": 3504.03, + "Plan Rows": 5, + "Plan Width": 64, + "Actual Startup Time": 21.415, + "Actual Total Time": 22.655, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mi.info", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.014, + "Actual Total Time": 18.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.222, + "Actual Total Time": 25.088, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.337, + "Actual Total Time": 17.346, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.900, + "Actual Total Time": 16.908, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.627, + "Actual Total Time": 25.633, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.983, + "Actual Total Time": 18.992, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.619, + "Actual Total Time": 25.625, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.00, + "Total Cost": 3502.90, + "Plan Rows": 1, + "Plan Width": 76, + "Actual Startup Time": 20.597, + "Actual Total Time": 22.631, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.013, + "Actual Total Time": 18.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.684, + "Actual Total Time": 24.909, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.336, + "Actual Total Time": 17.344, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.899, + "Actual Total Time": 16.906, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.627, + "Actual Total Time": 25.631, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.982, + "Actual Total Time": 18.990, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.618, + "Actual Total Time": 25.623, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.57, + "Total Cost": 3502.32, + "Plan Rows": 1, + "Plan Width": 55, + "Actual Startup Time": 20.587, + "Actual Total Time": 22.612, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mi.info", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.011, + "Actual Total Time": 18.017, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.608, + "Actual Total Time": 24.767, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.335, + "Actual Total Time": 17.342, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.898, + "Actual Total Time": 16.905, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.626, + "Actual Total Time": 25.630, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.981, + "Actual Total Time": 18.987, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.618, + "Actual Total Time": 25.622, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.44, + "Total Cost": 3502.17, + "Plan Rows": 1, + "Plan Width": 59, + "Actual Startup Time": 20.577, + "Actual Total Time": 22.598, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id", "mi.info", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.011, + "Actual Total Time": 18.015, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.535, + "Actual Total Time": 24.673, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.334, + "Actual Total Time": 17.339, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.897, + "Actual Total Time": 16.903, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.625, + "Actual Total Time": 25.628, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.980, + "Actual Total Time": 18.985, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.617, + "Actual Total Time": 25.621, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 3501.97, + "Plan Rows": 1, + "Plan Width": 63, + "Actual Startup Time": 20.568, + "Actual Total Time": 22.585, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.009, + "Actual Total Time": 18.013, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.465, + "Actual Total Time": 24.583, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.333, + "Actual Total Time": 17.336, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.896, + "Actual Total Time": 16.900, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.625, + "Actual Total Time": 25.627, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.979, + "Actual Total Time": 18.983, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.617, + "Actual Total Time": 25.619, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 3497.49, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 19.974, + "Actual Total Time": 22.416, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.008, + "Actual Total Time": 18.011, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.742, + "Actual Total Time": 23.262, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.332, + "Actual Total Time": 17.334, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.872, + "Actual Total Time": 16.875, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.624, + "Actual Total Time": 25.625, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.978, + "Actual Total Time": 18.980, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.616, + "Actual Total Time": 25.618, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 3478.82, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 19.806, + "Actual Total Time": 21.927, + "Actual Rows": 35, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.008, + "Actual Total Time": 18.009, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.405, + "Actual Total Time": 19.368, + "Actual Rows": 278, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.331, + "Actual Total Time": 17.333, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.872, + "Actual Total Time": 16.873, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.623, + "Actual Total Time": 25.624, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.977, + "Actual Total Time": 18.978, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.616, + "Actual Total Time": 25.617, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3435.62, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 19.772, + "Actual Total Time": 20.501, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "(((cn.country_code)::text = '[us]'::text) AND (cn.name = 'YouTube'::text))", + "Rows Removed by Filter": 29374, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.006, + "Actual Total Time": 18.007, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.142, + "Actual Total Time": 7.972, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.330, + "Actual Total Time": 17.330, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.871, + "Actual Total Time": 16.871, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.623, + "Actual Total Time": 25.623, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.976, + "Actual Total Time": 18.976, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.615, + "Actual Total Time": 25.615, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 40.42, + "Plan Rows": 278, + "Plan Width": 12, + "Actual Startup Time": 0.257, + "Actual Total Time": 11.283, + "Actual Rows": 278, + "Actual Loops": 1, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(200%)%'::text) AND (mc.note ~~ '%(worldwide)%'::text))", + "Rows Removed by Filter": 1180, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.257, + "Actual Total Time": 11.283, + "Actual Rows": 278, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_aka_title", + "Relation Name": "aka_title", + "Schema": "public", + "Alias": "at", + "Startup Cost": 0.42, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 278, + "Output": ["at.movie_id"], + "Index Cond": "(at.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 278 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.49, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 27, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = at.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.note ~~ '%internet%'::text) AND (mi.info ~~ 'USA:% 200%'::text))", + "Rows Removed by Filter": 19, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 27 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 3, + "Cache Hits": 2, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.58, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = at.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 1.01, + "Plan Rows": 12, + "Plan Width": 8, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.051, + "Actual Rows": 12, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.051, + "Actual Rows": 12, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 37, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 37 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4209927756710409746, + "Planning Time": 111.130, + "Triggers": [ + ], + "Execution Time": 41.610, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -4209927756710409746, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi.info) AS release_date,
       MIN(t.title) AS modern_american_internet_movie
FROM aka_title AS at,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND mi.note LIKE '%internet%'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'USA:% 199%'
       OR mi.info LIKE 'USA:% 200%')
  AND t.production_year > 1990
  AND t.id = at.movie_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = at.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = at.movie_id
  AND mc.movie_id = at.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 55998.36, + "Total Cost": 55998.37, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1458.253, + "Actual Total Time": 1482.093, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 55998.31, + "Total Cost": 55998.32, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 1449.640, + "Actual Total Time": 1482.040, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 55997.31, + "Total Cost": 55997.32, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1444.030, + "Actual Total Time": 1444.038, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1437.896, + "Actual Total Time": 1437.902, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1441.383, + "Actual Total Time": 1441.390, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1447.659, + "Actual Total Time": 1447.667, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1439.064, + "Actual Total Time": 1439.071, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1447.259, + "Actual Total Time": 1447.266, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1443.855, + "Actual Total Time": 1443.862, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1446.528, + "Actual Total Time": 1446.536, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.27, + "Total Cost": 55995.69, + "Plan Rows": 324, + "Plan Width": 60, + "Actual Startup Time": 84.528, + "Actual Total Time": 1443.735, + "Actual Rows": 284, + "Actual Loops": 8, + "Output": ["mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.595, + "Actual Total Time": 1437.584, + "Actual Rows": 282, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.561, + "Actual Total Time": 1441.238, + "Actual Rows": 115, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 57.068, + "Actual Total Time": 1447.139, + "Actual Rows": 508, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.186, + "Actual Total Time": 1438.584, + "Actual Rows": 483, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 124.912, + "Actual Total Time": 1446.641, + "Actual Rows": 634, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.291, + "Actual Total Time": 1443.608, + "Actual Rows": 221, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 324.239, + "Actual Total Time": 1446.486, + "Actual Rows": 27, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.85, + "Total Cost": 55853.90, + "Plan Rows": 324, + "Plan Width": 64, + "Actual Startup Time": 84.458, + "Actual Total Time": 1440.646, + "Actual Rows": 284, + "Actual Loops": 8, + "Output": ["mi.info", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.514, + "Actual Total Time": 1434.659, + "Actual Rows": 282, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.483, + "Actual Total Time": 1439.845, + "Actual Rows": 115, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 56.995, + "Actual Total Time": 1442.037, + "Actual Rows": 508, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.122, + "Actual Total Time": 1432.552, + "Actual Rows": 483, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 124.842, + "Actual Total Time": 1440.067, + "Actual Rows": 634, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.202, + "Actual Total Time": 1441.324, + "Actual Rows": 221, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 324.164, + "Actual Total Time": 1446.114, + "Actual Rows": 27, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.42, + "Total Cost": 55810.51, + "Plan Rows": 41, + "Plan Width": 76, + "Actual Startup Time": 82.231, + "Actual Total Time": 1438.600, + "Actual Rows": 36, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.431, + "Actual Total Time": 1432.877, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.386, + "Actual Total Time": 1438.793, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 56.684, + "Actual Total Time": 1439.745, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.062, + "Actual Total Time": 1426.762, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 124.449, + "Actual Total Time": 1437.900, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.455, + "Actual Total Time": 1439.625, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 324.098, + "Actual Total Time": 1445.085, + "Actual Rows": 16, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.28, + "Total Cost": 55809.15, + "Plan Rows": 41, + "Plan Width": 80, + "Actual Startup Time": 82.170, + "Actual Total Time": 1438.407, + "Actual Rows": 36, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.363, + "Actual Total Time": 1432.607, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.324, + "Actual Total Time": 1438.640, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 56.617, + "Actual Total Time": 1439.526, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.994, + "Actual Total Time": 1426.557, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 124.378, + "Actual Total Time": 1437.659, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.384, + "Actual Total Time": 1439.405, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 324.040, + "Actual Total Time": 1444.969, + "Actual Rows": 16, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.86, + "Total Cost": 55783.98, + "Plan Rows": 57, + "Plan Width": 84, + "Actual Startup Time": 82.109, + "Actual Total Time": 1437.388, + "Actual Rows": 50, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.297, + "Actual Total Time": 1431.044, + "Actual Rows": 89, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.262, + "Actual Total Time": 1437.661, + "Actual Rows": 54, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 56.545, + "Actual Total Time": 1438.294, + "Actual Rows": 53, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.938, + "Actual Total Time": 1425.366, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 124.312, + "Actual Total Time": 1436.571, + "Actual Rows": 53, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.326, + "Actual Total Time": 1438.384, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 323.978, + "Actual Total Time": 1444.422, + "Actual Rows": 21, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.43, + "Total Cost": 55774.69, + "Plan Rows": 17, + "Plan Width": 72, + "Actual Startup Time": 82.021, + "Actual Total Time": 1436.799, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["at.movie_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.200, + "Actual Total Time": 1430.279, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.175, + "Actual Total Time": 1437.137, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 56.451, + "Actual Total Time": 1437.575, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.841, + "Actual Total Time": 1424.638, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 124.220, + "Actual Total Time": 1435.971, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.232, + "Actual Total Time": 1437.692, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 323.882, + "Actual Total Time": 1444.090, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 55771.76, + "Plan Rows": 17, + "Plan Width": 76, + "Actual Startup Time": 81.960, + "Actual Total Time": 1436.581, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["at.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.134, + "Actual Total Time": 1430.009, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.118, + "Actual Total Time": 1436.938, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 56.385, + "Actual Total Time": 1437.323, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.773, + "Actual Total Time": 1424.368, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 124.162, + "Actual Total Time": 1435.763, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.165, + "Actual Total Time": 1437.415, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 323.820, + "Actual Total Time": 1443.961, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 33422.65, + "Plan Rows": 20139, + "Plan Width": 25, + "Actual Startup Time": 0.280, + "Actual Total Time": 537.411, + "Actual Rows": 17622, + "Actual Loops": 8, + "Output": ["at.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.206, + "Actual Total Time": 515.077, + "Actual Rows": 17620, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.267, + "Actual Total Time": 540.636, + "Actual Rows": 17680, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.157, + "Actual Total Time": 542.687, + "Actual Rows": 18111, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.180, + "Actual Total Time": 544.411, + "Actual Rows": 17034, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.256, + "Actual Total Time": 533.156, + "Actual Rows": 16812, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.143, + "Actual Total Time": 542.709, + "Actual Rows": 18550, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.333, + "Actual Total Time": 529.387, + "Actual Rows": 16863, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_aka_title", + "Relation Name": "aka_title", + "Schema": "public", + "Alias": "at", + "Startup Cost": 0.42, + "Total Cost": 3432.97, + "Plan Rows": 51639, + "Plan Width": 4, + "Actual Startup Time": 0.081, + "Actual Total Time": 30.735, + "Actual Rows": 45184, + "Actual Loops": 8, + "Output": ["at.movie_id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.096, + "Actual Total Time": 29.560, + "Actual Rows": 44040, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.076, + "Actual Total Time": 30.740, + "Actual Rows": 46070, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.066, + "Actual Total Time": 30.906, + "Actual Rows": 46523, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.071, + "Actual Total Time": 31.434, + "Actual Rows": 45086, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.100, + "Actual Total Time": 30.422, + "Actual Rows": 43762, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.072, + "Actual Total Time": 30.993, + "Actual Rows": 45839, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.120, + "Actual Total Time": 29.186, + "Actual Rows": 42845, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.58, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 361472, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = at.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 44040 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 46070 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 46523 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 45086 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 43762 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 45839 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 42845 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.10, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 140974, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND (mi.note ~~ '%internet%'::text) AND ((mi.info ~~ 'USA:% 199%'::text) OR (mi.info ~~ 'USA:% 200%'::text)))", + "Rows Removed by Filter": 38, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 17620 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 17680 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 18111 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 17034 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 16812 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 18550 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 16863 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 120, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 20 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 14 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 18 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 14 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 19 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.035, + "Actual Rows": 3, + "Actual Loops": 120, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.034, + "Actual Rows": 4, + "Actual Loops": 20 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.033, + "Actual Rows": 4, + "Actual Loops": 14 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.040, + "Actual Rows": 3, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.036, + "Actual Rows": 3, + "Actual Loops": 18 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.038, + "Actual Rows": 4, + "Actual Loops": 14 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.032, + "Actual Rows": 3, + "Actual Loops": 19 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.043, + "Actual Rows": 3, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 400, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 89 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 54 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 53 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 52 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 53 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 48 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 21 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 284, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 27, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 63, + "Cache Hits": 61, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 23, + "Cache Hits": 21, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 37, + "Cache Hits": 35, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 30, + "Cache Hits": 28, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 47, + "Cache Hits": 45, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 39, + "Cache Hits": 37, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 16, + "Cache Hits": 14, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 8, + "Plan Width": 8, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.053, + "Actual Rows": 8, + "Actual Loops": 284, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.025, + "Actual Rows": 4, + "Actual Loops": 63 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.042, + "Actual Rows": 5, + "Actual Loops": 23 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.056, + "Actual Rows": 14, + "Actual Loops": 37 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.172, + "Actual Total Time": 0.186, + "Actual Rows": 16, + "Actual Loops": 30 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.040, + "Actual Rows": 13, + "Actual Loops": 47 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.040, + "Actual Rows": 6, + "Actual Loops": 39 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.062, + "Actual Rows": 2, + "Actual Loops": 16 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 2271, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 282 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 115 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 508 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 483 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 634 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 221 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 27 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4486446217020337985, + "Planning Time": 128.775, + "Triggers": [ + ], + "Execution Time": 1482.521, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 4486446217020337985, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(at.title) AS aka_title,
       MIN(t.title) AS internet_movie_title
FROM aka_title AS at,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND mi.note LIKE '%internet%'
  AND t.production_year > 1990
  AND t.id = at.movie_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = at.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = at.movie_id
  AND mc.movie_id = at.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 51411.71, + "Total Cost": 51411.72, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1509.090, + "Actual Total Time": 1543.447, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(at.title)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 51411.66, + "Total Cost": 51411.67, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 1509.055, + "Actual Total Time": 1543.421, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(at.title))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 51410.66, + "Total Cost": 51410.67, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1500.308, + "Actual Total Time": 1500.315, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(at.title)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1498.386, + "Actual Total Time": 1498.394, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1500.279, + "Actual Total Time": 1500.287, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1498.260, + "Actual Total Time": 1498.267, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1499.102, + "Actual Total Time": 1499.109, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1499.204, + "Actual Total Time": 1499.211, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1499.686, + "Actual Total Time": 1499.695, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1499.320, + "Actual Total Time": 1499.326, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.46, + "Total Cost": 51403.57, + "Plan Rows": 1418, + "Plan Width": 38, + "Actual Startup Time": 46.694, + "Actual Total Time": 1499.155, + "Actual Rows": 1418, + "Actual Loops": 8, + "Output": ["at.title", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 80.665, + "Actual Total Time": 1497.504, + "Actual Rows": 987, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 74.676, + "Actual Total Time": 1499.586, + "Actual Rows": 816, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 36.725, + "Actual Total Time": 1497.196, + "Actual Rows": 1313, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.282, + "Actual Total Time": 1498.072, + "Actual Rows": 1294, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.592, + "Actual Total Time": 1497.863, + "Actual Rows": 1653, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.896, + "Actual Total Time": 1497.873, + "Actual Rows": 2348, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 111.565, + "Actual Total Time": 1497.782, + "Actual Rows": 1939, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.04, + "Total Cost": 50783.02, + "Plan Rows": 1418, + "Plan Width": 42, + "Actual Startup Time": 46.619, + "Actual Total Time": 1485.845, + "Actual Rows": 1418, + "Actual Loops": 8, + "Output": ["at.title", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 80.556, + "Actual Total Time": 1487.626, + "Actual Rows": 987, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 74.598, + "Actual Total Time": 1491.944, + "Actual Rows": 816, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 36.633, + "Actual Total Time": 1485.172, + "Actual Rows": 1313, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.217, + "Actual Total Time": 1486.405, + "Actual Rows": 1294, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.518, + "Actual Total Time": 1482.238, + "Actual Rows": 1653, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.844, + "Actual Total Time": 1476.192, + "Actual Rows": 2348, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 111.485, + "Actual Total Time": 1479.503, + "Actual Rows": 1939, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.61, + "Total Cost": 50662.21, + "Plan Rows": 109, + "Plan Width": 54, + "Actual Startup Time": 18.718, + "Actual Total Time": 1480.191, + "Actual Rows": 109, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mc.movie_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.825, + "Actual Total Time": 1483.505, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.557, + "Actual Total Time": 1487.760, + "Actual Rows": 90, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.805, + "Actual Total Time": 1480.490, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.499, + "Actual Total Time": 1481.185, + "Actual Rows": 99, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.453, + "Actual Total Time": 1476.138, + "Actual Rows": 117, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.728, + "Actual Total Time": 1469.065, + "Actual Rows": 126, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.528, + "Actual Total Time": 1471.147, + "Actual Rows": 162, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.56, + "Total Cost": 50660.57, + "Plan Rows": 109, + "Plan Width": 58, + "Actual Startup Time": 18.419, + "Actual Total Time": 1479.530, + "Actual Rows": 109, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.521, + "Actual Total Time": 1482.995, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.207, + "Actual Total Time": 1486.257, + "Actual Rows": 90, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.518, + "Actual Total Time": 1480.004, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.219, + "Actual Total Time": 1480.682, + "Actual Rows": 99, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.199, + "Actual Total Time": 1475.634, + "Actual Rows": 117, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.450, + "Actual Total Time": 1468.495, + "Actual Rows": 126, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.239, + "Actual Total Time": 1470.514, + "Actual Rows": 162, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 50544.86, + "Plan Rows": 262, + "Plan Width": 62, + "Actual Startup Time": 15.036, + "Actual Total Time": 1474.596, + "Actual Rows": 262, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.031, + "Actual Total Time": 1478.107, + "Actual Rows": 224, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.164, + "Actual Total Time": 1480.922, + "Actual Rows": 256, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.441, + "Actual Total Time": 1476.113, + "Actual Rows": 213, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.166, + "Actual Total Time": 1476.887, + "Actual Rows": 220, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.117, + "Actual Total Time": 1470.773, + "Actual Rows": 263, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.346, + "Actual Total Time": 1462.743, + "Actual Rows": 336, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.179, + "Actual Total Time": 1464.214, + "Actual Rows": 330, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 50504.28, + "Plan Rows": 73, + "Plan Width": 50, + "Actual Startup Time": 13.349, + "Actual Total Time": 1472.080, + "Actual Rows": 73, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.948, + "Actual Total Time": 1475.756, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.089, + "Actual Total Time": 1478.465, + "Actual Rows": 64, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.578, + "Actual Total Time": 1473.600, + "Actual Rows": 75, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.087, + "Actual Total Time": 1474.643, + "Actual Rows": 71, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.021, + "Actual Total Time": 1468.417, + "Actual Rows": 68, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.230, + "Actual Total Time": 1459.851, + "Actual Rows": 85, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.053, + "Actual Total Time": 1461.207, + "Actual Rows": 92, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 50502.21, + "Plan Rows": 83, + "Plan Width": 54, + "Actual Startup Time": 13.325, + "Actual Total Time": 1471.682, + "Actual Rows": 83, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.935, + "Actual Total Time": 1475.410, + "Actual Rows": 71, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.070, + "Actual Total Time": 1478.118, + "Actual Rows": 73, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.558, + "Actual Total Time": 1473.210, + "Actual Rows": 83, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.067, + "Actual Total Time": 1474.293, + "Actual Rows": 81, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.001, + "Actual Total Time": 1468.048, + "Actual Rows": 77, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.209, + "Actual Total Time": 1459.377, + "Actual Rows": 95, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.034, + "Actual Total Time": 1460.756, + "Actual Rows": 96, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 32884.74, + "Plan Rows": 17622, + "Plan Width": 46, + "Actual Startup Time": 0.273, + "Actual Total Time": 629.297, + "Actual Rows": 17622, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.118, + "Actual Total Time": 624.744, + "Actual Rows": 17665, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.782, + "Actual Total Time": 640.936, + "Actual Rows": 17512, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.112, + "Actual Total Time": 624.248, + "Actual Rows": 17786, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.121, + "Actual Total Time": 633.111, + "Actual Rows": 17948, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.186, + "Actual Total Time": 619.793, + "Actual Rows": 17854, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.586, + "Actual Total Time": 619.550, + "Actual Rows": 17624, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.171, + "Actual Total Time": 630.333, + "Actual Rows": 17442, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "aka_title", + "Schema": "public", + "Alias": "at", + "Startup Cost": 0.00, + "Total Cost": 6643.84, + "Plan Rows": 45184, + "Plan Width": 25, + "Actual Startup Time": 0.125, + "Actual Total Time": 31.401, + "Actual Rows": 45184, + "Actual Loops": 8, + "Output": ["at.id", "at.movie_id", "at.title", "at.imdb_index", "at.kind_id", "at.production_year", "at.phonetic_code", "at.episode_of_id", "at.season_nr", "at.episode_nr", "at.note", "at.md5sum"],+ "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 32.937, + "Actual Rows": 45350, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.624, + "Actual Total Time": 31.447, + "Actual Rows": 45166, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 32.100, + "Actual Rows": 45556, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 29.067, + "Actual Rows": 45914, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 28.988, + "Actual Rows": 45414, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.178, + "Actual Total Time": 30.313, + "Actual Rows": 45237, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.044, + "Actual Total Time": 34.331, + "Actual Rows": 44796, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.58, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 361472, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"], + "Index Cond": "(t.id = at.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 45350 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 45166 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 45556 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 45914 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 45414 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 45237 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 44796 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.99, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 140974, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.note ~~ '%internet%'::text)", + "Rows Removed by Filter": 38, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 17665 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 17512 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 17786 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 17948 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 17854 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 17624 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 17442 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.030, + "Actual Rows": 4, + "Actual Loops": 584, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.035, + "Actual Rows": 4, + "Actual Loops": 59 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.033, + "Actual Rows": 4, + "Actual Loops": 64 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.029, + "Actual Rows": 3, + "Actual Loops": 75 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.027, + "Actual Rows": 3, + "Actual Loops": 71 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.030, + "Actual Rows": 4, + "Actual Loops": 68 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.029, + "Actual Rows": 4, + "Actual Loops": 85 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.028, + "Actual Rows": 4, + "Actual Loops": 92 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 2099, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 224 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 256 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 213 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 220 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 263 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 336 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 330 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.02, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.032, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["ct.id"], + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 13, + "Plan Width": 8, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.045, + "Actual Rows": 13, + "Actual Loops": 875, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.041, + "Actual Rows": 11, + "Actual Loops": 88 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.041, + "Actual Rows": 9, + "Actual Loops": 90 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.044, + "Actual Rows": 14, + "Actual Loops": 93 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.046, + "Actual Rows": 13, + "Actual Loops": 99 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.045, + "Actual Rows": 14, + "Actual Loops": 117 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.048, + "Actual Rows": 19, + "Actual Loops": 126 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.046, + "Actual Rows": 12, + "Actual Loops": 162 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 11347, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 987 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 816 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1313 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1294 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1653 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 2348 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1939 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -321921298358758659, + "Planning Time": 95.398, + "Triggers": [ + ], + "Execution Time": 1543.843, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -321921298358758659, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(an.name) AS cool_actor_pseudonym,
       MIN(t.title) AS series_named_after_char
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND t.episode_nr >= 50
  AND t.episode_nr < 100
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4595.09, + "Total Cost": 4595.10, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 499.384, + "Actual Total Time": 499.554, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4595.04, + "Total Cost": 4595.05, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 499.363, + "Actual Total Time": 499.543, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4594.04, + "Total Cost": 4594.05, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 68.139, + "Actual Total Time": 68.144, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.212, + "Actual Total Time": 6.218, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.408, + "Actual Total Time": 7.414, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.656, + "Actual Total Time": 6.661, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.650, + "Actual Total Time": 6.655, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.804, + "Actual Total Time": 6.811, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.797, + "Actual Total Time": 6.803, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.047, + "Actual Total Time": 6.053, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.01, + "Total Cost": 4593.75, + "Plan Rows": 58, + "Plan Width": 33, + "Actual Startup Time": 8.243, + "Actual Total Time": 68.110, + "Actual Rows": 48, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.206, + "Actual Total Time": 6.212, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.403, + "Actual Total Time": 7.408, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.650, + "Actual Total Time": 6.655, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.646, + "Actual Total Time": 6.651, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.799, + "Actual Total Time": 6.805, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.792, + "Actual Total Time": 6.797, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.043, + "Actual Total Time": 6.049, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 4571.05, + "Plan Rows": 48, + "Plan Width": 25, + "Actual Startup Time": 8.237, + "Actual Total Time": 67.589, + "Actual Rows": 40, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.205, + "Actual Total Time": 6.211, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.402, + "Actual Total Time": 7.407, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.650, + "Actual Total Time": 6.653, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.645, + "Actual Total Time": 6.649, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.798, + "Actual Total Time": 6.804, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.791, + "Actual Total Time": 6.796, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.042, + "Actual Total Time": 6.047, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 4549.55, + "Plan Rows": 48, + "Plan Width": 21, + "Actual Startup Time": 8.231, + "Actual Total Time": 67.119, + "Actual Rows": 40, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.204, + "Actual Total Time": 6.208, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.401, + "Actual Total Time": 7.405, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.649, + "Actual Total Time": 6.652, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.645, + "Actual Total Time": 6.647, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.797, + "Actual Total Time": 6.802, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.790, + "Actual Total Time": 6.794, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.041, + "Actual Total Time": 6.045, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 4544.15, + "Plan Rows": 4, + "Plan Width": 29, + "Actual Startup Time": 8.001, + "Actual Total Time": 66.527, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.204, + "Actual Total Time": 6.207, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.400, + "Actual Total Time": 7.404, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.648, + "Actual Total Time": 6.651, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.644, + "Actual Total Time": 6.646, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.797, + "Actual Total Time": 6.800, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.789, + "Actual Total Time": 6.792, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.040, + "Actual Total Time": 6.044, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 4540.62, + "Plan Rows": 8, + "Plan Width": 33, + "Actual Startup Time": 7.965, + "Actual Total Time": 66.427, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.203, + "Actual Total Time": 6.206, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.400, + "Actual Total Time": 7.402, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.648, + "Actual Total Time": 6.650, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.643, + "Actual Total Time": 6.645, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.796, + "Actual Total Time": 6.798, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.788, + "Actual Total Time": 6.791, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.039, + "Actual Total Time": 6.042, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4529.73, + "Plan Rows": 21, + "Plan Width": 25, + "Actual Startup Time": 7.382, + "Actual Total Time": 66.247, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.202, + "Actual Total Time": 6.204, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.399, + "Actual Total Time": 7.401, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.647, + "Actual Total Time": 6.649, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.642, + "Actual Total Time": 6.643, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.795, + "Actual Total Time": 6.797, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.788, + "Actual Total Time": 6.790, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.039, + "Actual Total Time": 6.040, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.69, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.005, + "Actual Total Time": 19.381, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.201, + "Actual Total Time": 6.202, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.398, + "Actual Total Time": 7.399, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.646, + "Actual Total Time": 6.647, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.642, + "Actual Total Time": 6.642, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.794, + "Actual Total Time": 6.795, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.787, + "Actual Total Time": 6.788, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.038, + "Actual Total Time": 6.039, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.988, + "Actual Total Time": 5.989, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.200, + "Actual Total Time": 6.201, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.397, + "Actual Total Time": 7.398, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.645, + "Actual Total Time": 6.646, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.641, + "Actual Total Time": 6.641, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.793, + "Actual Total Time": 6.794, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.786, + "Actual Total Time": 6.787, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.031, + "Actual Total Time": 6.032, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.110, + "Actual Total Time": 97.590, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 41840, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.episode_nr >= 50) AND (t.episode_nr < 100))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 146, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 54, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 18, + "Plan Width": 8, + "Actual Startup Time": 0.103, + "Actual Total Time": 0.183, + "Actual Rows": 13, + "Actual Loops": 25, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 323, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 323, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 816913887554954199, + "Planning Time": 50.385, + "Triggers": [ + ], + "Execution Time": 499.926, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 816913887554954199, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS cool_actor_pseudonym,
       MIN(t.title) AS series_named_after_char
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 93521.24, + "Total Cost": 93521.25, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 11337.317, + "Actual Total Time": 11371.968, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 93521.19, + "Total Cost": 93521.20, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 11337.278, + "Actual Total Time": 11371.946, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 93520.19, + "Total Cost": 93520.20, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 11285.850, + "Actual Total Time": 11285.860, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11278.666, + "Actual Total Time": 11278.675, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11278.660, + "Actual Total Time": 11278.670, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11278.577, + "Actual Total Time": 11278.587, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11278.661, + "Actual Total Time": 11278.672, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11278.609, + "Actual Total Time": 11278.618, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11278.715, + "Actual Total Time": 11278.726, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11278.602, + "Actual Total Time": 11278.614, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 78146.49, + "Total Cost": 91201.07, + "Plan Rows": 463824, + "Plan Width": 33, + "Actual Startup Time": 10638.743, + "Actual Total Time": 11035.304, + "Actual Rows": 463824, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": false, + "Hash Cond": "(an.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10636.890, + "Actual Total Time": 11032.111, + "Actual Rows": 529133, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10636.922, + "Actual Total Time": 11024.713, + "Actual Rows": 457529, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10636.871, + "Actual Total Time": 11029.612, + "Actual Rows": 429103, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10636.896, + "Actual Total Time": 11028.235, + "Actual Rows": 459085, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10638.571, + "Actual Total Time": 11030.561, + "Actual Rows": 410340, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10636.811, + "Actual Total Time": 11026.093, + "Actual Rows": 544264, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10636.897, + "Actual Total Time": 11025.333, + "Actual Rows": 460740, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.00, + "Total Cost": 12522.68, + "Plan Rows": 112668, + "Plan Width": 20, + "Actual Startup Time": 0.071, + "Actual Total Time": 40.800, + "Actual Rows": 112668, + "Actual Loops": 8, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.078, + "Actual Total Time": 41.659, + "Actual Rows": 131166, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.064, + "Actual Total Time": 41.128, + "Actual Rows": 112320, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.084, + "Actual Total Time": 39.173, + "Actual Rows": 98926, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.062, + "Actual Total Time": 42.178, + "Actual Rows": 110725, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.072, + "Actual Total Time": 42.941, + "Actual Rows": 98135, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.077, + "Actual Total Time": 36.528, + "Actual Rows": 137062, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.072, + "Actual Total Time": 41.245, + "Actual Rows": 112283, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 73088.35, + "Total Cost": 73088.35, + "Plan Rows": 404651, + "Plan Width": 25, + "Actual Startup Time": 10628.949, + "Actual Total Time": 10628.957, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 209760, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10636.326, + "Actual Total Time": 10636.334, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10636.357, + "Actual Total Time": 10636.366, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10636.337, + "Actual Total Time": 10636.347, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10636.393, + "Actual Total Time": 10636.402, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10636.342, + "Actual Total Time": 10636.350, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10636.335, + "Actual Total Time": 10636.345, + "Actual Rows": 2832555, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10636.380, + "Actual Total Time": 10636.389, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 48627.33, + "Total Cost": 73088.35, + "Plan Rows": 404651, + "Plan Width": 25, + "Actual Startup Time": 725.244, + "Actual Total Time": 1782.044, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 725.844, + "Actual Total Time": 725.852, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 725.828, + "Actual Total Time": 725.836, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 725.842, + "Actual Total Time": 725.851, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 725.857, + "Actual Total Time": 725.865, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 725.837, + "Actual Total Time": 725.845, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 720.954, + "Actual Total Time": 9175.297, + "Actual Rows": 2832555, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 725.855, + "Actual Total Time": 725.863, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3496.48, + "Total Cost": 26895.29, + "Plan Rows": 404651, + "Plan Width": 21, + "Actual Startup Time": 28.374, + "Actual Total Time": 862.231, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.979, + "Actual Total Time": 28.985, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.981, + "Actual Total Time": 28.988, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.974, + "Actual Total Time": 28.981, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.996, + "Actual Total Time": 29.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.972, + "Actual Total Time": 28.977, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 24.104, + "Actual Total Time": 6694.917, + "Actual Rows": 2832555, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.989, + "Actual Total Time": 28.995, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3496.04, + "Total Cost": 11343.96, + "Plan Rows": 9759, + "Plan Width": 29, + "Actual Startup Time": 28.303, + "Actual Total Time": 158.692, + "Actual Rows": 8540, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.978, + "Actual Total Time": 28.983, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.980, + "Actual Total Time": 28.985, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.973, + "Actual Total Time": 28.979, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.994, + "Actual Total Time": 29.000, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.970, + "Actual Total Time": 28.975, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.547, + "Actual Total Time": 1066.624, + "Actual Rows": 68316, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.987, + "Actual Total Time": 28.993, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 7793.51, + "Plan Rows": 21222, + "Plan Width": 33, + "Actual Startup Time": 5.424, + "Actual Total Time": 124.019, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.111, + "Actual Total Time": 6.114, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.106, + "Actual Total Time": 6.109, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.104, + "Actual Total Time": 6.107, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.117, + "Actual Total Time": 6.120, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.102, + "Actual Total Time": 6.105, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.604, + "Actual Total Time": 949.348, + "Actual Rows": 148552, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.122, + "Actual Total Time": 6.125, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4499.84, + "Plan Rows": 5977, + "Plan Width": 25, + "Actual Startup Time": 5.404, + "Actual Total Time": 64.554, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.110, + "Actual Total Time": 6.112, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.105, + "Actual Total Time": 6.107, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.103, + "Actual Total Time": 6.105, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.116, + "Actual Total Time": 6.118, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.101, + "Actual Total Time": 6.103, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.454, + "Actual Total Time": 473.642, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.121, + "Actual Total Time": 6.123, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.69, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 5.393, + "Actual Total Time": 17.101, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.108, + "Actual Total Time": 6.110, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.104, + "Actual Total Time": 6.105, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.102, + "Actual Total Time": 6.103, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.114, + "Actual Total Time": 6.116, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.101, + "Actual Total Time": 6.102, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.371, + "Actual Total Time": 94.029, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.120, + "Actual Total Time": 6.122, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.376, + "Actual Total Time": 5.377, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.107, + "Actual Total Time": 6.107, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.103, + "Actual Total Time": 6.104, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.101, + "Actual Total Time": 6.101, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.112, + "Actual Total Time": 6.113, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.100, + "Actual Total Time": 6.100, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.246, + "Actual Total Time": 0.253, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.120, + "Actual Total Time": 6.120, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.118, + "Actual Total Time": 83.808, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.118, + "Actual Total Time": 83.808, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 41840, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.010, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.010, + "Actual Rows": 4, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 3362.18, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 22.641, + "Actual Total Time": 22.642, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Hash Buckets": 131072, + "Original Hash Buckets": 131072, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 4480, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.815, + "Actual Total Time": 22.816, + "Actual Rows": 10721, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.825, + "Actual Total Time": 22.826, + "Actual Rows": 10664, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 22.826, + "Actual Total Time": 22.827, + "Actual Rows": 10820, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.398, + "Actual Total Time": 21.398, + "Actual Rows": 10335, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.817, + "Actual Total Time": 22.818, + "Actual Rows": 10866, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.813, + "Actual Total Time": 22.814, + "Actual Rows": 9793, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.815, + "Actual Total Time": 22.815, + "Actual Rows": 10626, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 15.413, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 15.320, + "Actual Rows": 10721, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 15.410, + "Actual Rows": 10664, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 15.280, + "Actual Rows": 10820, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 15.692, + "Actual Rows": 10335, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.060, + "Actual Total Time": 15.230, + "Actual Rows": 10866, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.056, + "Actual Total Time": 15.898, + "Actual Rows": 9793, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.058, + "Actual Total Time": 15.275, + "Actual Rows": 10626, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.18, + "Plan Rows": 41, + "Plan Width": 8, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.073, + "Actual Rows": 41, + "Actual Loops": 68316, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.073, + "Actual Rows": 41, + "Actual Loops": 68316 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 38619.15, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 688.014, + "Actual Total Time": 688.015, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 195904, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 696.829, + "Actual Total Time": 696.830, + "Actual Rows": 515328, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 696.807, + "Actual Total Time": 696.808, + "Actual Rows": 503250, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 696.834, + "Actual Total Time": 696.835, + "Actual Rows": 502152, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 696.828, + "Actual Total Time": 696.828, + "Actual Rows": 540216, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 696.833, + "Actual Total Time": 696.834, + "Actual Rows": 543510, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 696.803, + "Actual Total Time": 696.805, + "Actual Rows": 505080, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 696.838, + "Actual Total Time": 696.838, + "Actual Rows": 510419, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 0.379, + "Actual Total Time": 225.423, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n.id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.493, + "Actual Total Time": 222.758, + "Actual Rows": 515328, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.698, + "Actual Total Time": 225.240, + "Actual Rows": 503250, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.128, + "Actual Total Time": 229.269, + "Actual Rows": 502152, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.254, + "Actual Total Time": 224.241, + "Actual Rows": 540216, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.429, + "Actual Total Time": 223.388, + "Actual Rows": 543510, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.601, + "Actual Total Time": 226.379, + "Actual Rows": 505080, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.347, + "Actual Total Time": 225.838, + "Actual Rows": 510419, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3350265702090035455, + "Planning Time": 56.290, + "Triggers": [ + ], + "Execution Time": 11372.307, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 3350265702090035455, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS cool_actor_pseudonym,
       MIN(t.title) AS series_named_after_char
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND t.episode_nr < 100
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 35257.85, + "Total Cost": 35257.86, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 3052.468, + "Actual Total Time": 3055.115, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 35257.80, + "Total Cost": 35257.81, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 3048.341, + "Actual Total Time": 3055.077, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 35256.80, + "Total Cost": 35256.81, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 3039.661, + "Actual Total Time": 3039.670, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3035.998, + "Actual Total Time": 3036.005, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3038.784, + "Actual Total Time": 3038.792, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3038.379, + "Actual Total Time": 3038.387, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3038.645, + "Actual Total Time": 3038.653, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3041.303, + "Actual Total Time": 3041.316, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3037.899, + "Actual Total Time": 3037.906, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3038.812, + "Actual Total Time": 3038.818, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 22103.10, + "Total Cost": 35056.84, + "Plan Rows": 39992, + "Plan Width": 33, + "Actual Startup Time": 2894.241, + "Actual Total Time": 3015.263, + "Actual Rows": 39992, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": false, + "Hash Cond": "(an.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2890.936, + "Actual Total Time": 3014.548, + "Actual Rows": 37306, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2893.755, + "Actual Total Time": 3012.113, + "Actual Rows": 50724, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2893.503, + "Actual Total Time": 3012.467, + "Actual Rows": 41796, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2893.689, + "Actual Total Time": 3012.728, + "Actual Rows": 31908, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2893.028, + "Actual Total Time": 3018.463, + "Actual Rows": 44994, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2893.016, + "Actual Total Time": 3012.908, + "Actual Rows": 34939, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2893.785, + "Actual Total Time": 3015.984, + "Actual Rows": 30332, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.00, + "Total Cost": 12522.68, + "Plan Rows": 112668, + "Plan Width": 20, + "Actual Startup Time": 0.074, + "Actual Total Time": 38.870, + "Actual Rows": 112668, + "Actual Loops": 8, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.072, + "Actual Total Time": 40.873, + "Actual Rows": 119658, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.070, + "Actual Total Time": 36.924, + "Actual Rows": 119056, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.068, + "Actual Total Time": 38.422, + "Actual Rows": 122633, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.094, + "Actual Total Time": 39.411, + "Actual Rows": 83036, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.066, + "Actual Total Time": 39.849, + "Actual Rows": 122031, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.102, + "Actual Total Time": 38.650, + "Actual Rows": 109693, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.104, + "Actual Total Time": 41.750, + "Actual Rows": 90567, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 21707.37, + "Total Cost": 21707.37, + "Plan Rows": 31658, + "Plan Width": 25, + "Actual Startup Time": 2893.087, + "Actual Total Time": 2893.093, + "Actual Rows": 27701, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Hash Buckets": 262144, + "Original Hash Buckets": 262144, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 16512, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2890.400, + "Actual Total Time": 2890.406, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2893.092, + "Actual Total Time": 2893.098, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2892.756, + "Actual Total Time": 2892.763, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2893.080, + "Actual Total Time": 2893.086, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2892.579, + "Actual Total Time": 2892.588, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2892.352, + "Actual Total Time": 2892.357, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2893.245, + "Actual Total Time": 2893.250, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 21707.37, + "Plan Rows": 31658, + "Plan Width": 25, + "Actual Startup Time": 7.025, + "Actual Total Time": 351.963, + "Actual Rows": 27701, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.366, + "Actual Total Time": 5.371, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.114, + "Actual Total Time": 8.120, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.761, + "Actual Total Time": 7.767, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.102, + "Actual Total Time": 8.107, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.619, + "Actual Total Time": 7.626, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.353, + "Actual Total Time": 7.357, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.240, + "Actual Total Time": 8.244, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 7529.44, + "Plan Rows": 31658, + "Plan Width": 21, + "Actual Startup Time": 7.017, + "Actual Total Time": 158.635, + "Actual Rows": 27701, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.364, + "Actual Total Time": 5.369, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.113, + "Actual Total Time": 8.118, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.759, + "Actual Total Time": 7.764, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.101, + "Actual Total Time": 8.105, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.618, + "Actual Total Time": 7.624, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.351, + "Actual Total Time": 7.355, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.238, + "Actual Total Time": 8.242, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 5759.54, + "Plan Rows": 1220, + "Plan Width": 29, + "Actual Startup Time": 7.010, + "Actual Total Time": 83.244, + "Actual Rows": 1067, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.364, + "Actual Total Time": 5.367, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.113, + "Actual Total Time": 8.117, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.759, + "Actual Total Time": 7.763, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.099, + "Actual Total Time": 8.103, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.617, + "Actual Total Time": 7.622, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.350, + "Actual Total Time": 7.354, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.237, + "Actual Total Time": 8.241, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 5040.12, + "Plan Rows": 1629, + "Plan Width": 33, + "Actual Startup Time": 6.887, + "Actual Total Time": 71.602, + "Actual Rows": 1426, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.363, + "Actual Total Time": 5.366, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.112, + "Actual Total Time": 8.116, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.758, + "Actual Total Time": 7.761, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.098, + "Actual Total Time": 8.101, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.616, + "Actual Total Time": 7.620, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.349, + "Actual Total Time": 7.352, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.236, + "Actual Total Time": 8.239, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4514.78, + "Plan Rows": 989, + "Plan Width": 25, + "Actual Startup Time": 6.868, + "Actual Total Time": 62.832, + "Actual Rows": 866, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.361, + "Actual Total Time": 5.364, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.111, + "Actual Total Time": 8.114, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.757, + "Actual Total Time": 7.760, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.097, + "Actual Total Time": 8.099, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.615, + "Actual Total Time": 7.618, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.348, + "Actual Total Time": 7.350, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.236, + "Actual Total Time": 8.237, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.69, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.862, + "Actual Total Time": 18.162, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.361, + "Actual Total Time": 5.362, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.111, + "Actual Total Time": 8.112, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.757, + "Actual Total Time": 7.758, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.096, + "Actual Total Time": 8.098, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.614, + "Actual Total Time": 7.616, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.347, + "Actual Total Time": 7.348, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.235, + "Actual Total Time": 8.236, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.848, + "Actual Total Time": 6.849, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.360, + "Actual Total Time": 5.360, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.110, + "Actual Total Time": 8.110, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.756, + "Actual Total Time": 7.756, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.095, + "Actual Total Time": 8.096, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.613, + "Actual Total Time": 7.614, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.346, + "Actual Total Time": 7.347, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.234, + "Actual Total Time": 8.234, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.097, + "Actual Total Time": 81.360, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 41840, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.episode_nr < 100)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 2, + "Actual Loops": 6926, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 11406, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 26, + "Plan Width": 8, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.062, + "Actual Rows": 26, + "Actual Loops": 8538, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 221609, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 607840843579539521, + "Planning Time": 58.504, + "Triggers": [ + ], + "Execution Time": 3055.470, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 607840843579539521, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS cool_actor_pseudonym,
       MIN(t.title) AS series_named_after_char
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND t.episode_nr >= 5
  AND t.episode_nr < 100
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 28676.79, + "Total Cost": 28676.80, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 3344.585, + "Actual Total Time": 3344.731, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 28676.75, + "Total Cost": 28676.76, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 3344.566, + "Actual Total Time": 3344.720, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 28675.75, + "Total Cost": 28675.76, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 423.593, + "Actual Total Time": 423.599, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.988, + "Actual Total Time": 5.993, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.955, + "Actual Total Time": 6.961, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.433, + "Actual Total Time": 6.439, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.987, + "Actual Total Time": 5.993, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.547, + "Actual Total Time": 6.553, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.587, + "Actual Total Time": 6.594, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.476, + "Actual Total Time": 6.482, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.01, + "Total Cost": 28501.73, + "Plan Rows": 34804, + "Plan Width": 33, + "Actual Startup Time": 5.947, + "Actual Total Time": 410.743, + "Actual Rows": 31182, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.983, + "Actual Total Time": 5.987, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.950, + "Actual Total Time": 6.956, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.428, + "Actual Total Time": 6.433, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.982, + "Actual Total Time": 5.987, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.544, + "Actual Total Time": 6.549, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.583, + "Actual Total Time": 6.591, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.472, + "Actual Total Time": 6.478, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 17324.00, + "Plan Rows": 23635, + "Plan Width": 25, + "Actual Startup Time": 5.939, + "Actual Total Time": 245.482, + "Actual Rows": 21159, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.983, + "Actual Total Time": 5.986, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.949, + "Actual Total Time": 6.954, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.428, + "Actual Total Time": 6.432, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.981, + "Actual Total Time": 5.986, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.543, + "Actual Total Time": 6.548, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.582, + "Actual Total Time": 6.589, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.471, + "Actual Total Time": 6.476, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 6739.13, + "Plan Rows": 23635, + "Plan Width": 21, + "Actual Startup Time": 5.933, + "Actual Total Time": 107.136, + "Actual Rows": 21159, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.982, + "Actual Total Time": 5.985, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.948, + "Actual Total Time": 6.953, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.427, + "Actual Total Time": 6.430, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.980, + "Actual Total Time": 5.985, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.543, + "Actual Total Time": 6.546, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.581, + "Actual Total Time": 6.586, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.471, + "Actual Total Time": 6.475, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 5459.99, + "Plan Rows": 947, + "Plan Width": 29, + "Actual Startup Time": 5.926, + "Actual Total Time": 63.822, + "Actual Rows": 846, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.981, + "Actual Total Time": 5.984, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.948, + "Actual Total Time": 6.951, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.426, + "Actual Total Time": 6.429, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.980, + "Actual Total Time": 5.983, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.542, + "Actual Total Time": 6.545, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.581, + "Actual Total Time": 6.585, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.470, + "Actual Total Time": 6.473, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 4923.40, + "Plan Rows": 1215, + "Plan Width": 33, + "Actual Startup Time": 5.838, + "Actual Total Time": 55.832, + "Actual Rows": 1083, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.981, + "Actual Total Time": 5.983, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.947, + "Actual Total Time": 6.949, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.425, + "Actual Total Time": 6.427, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.979, + "Actual Total Time": 5.982, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.541, + "Actual Total Time": 6.544, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.580, + "Actual Total Time": 6.583, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.469, + "Actual Total Time": 6.471, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4529.73, + "Plan Rows": 759, + "Plan Width": 25, + "Actual Startup Time": 5.817, + "Actual Total Time": 50.037, + "Actual Rows": 673, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.980, + "Actual Total Time": 5.981, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.946, + "Actual Total Time": 6.948, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.425, + "Actual Total Time": 6.426, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.978, + "Actual Total Time": 5.980, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.541, + "Actual Total Time": 6.542, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.579, + "Actual Total Time": 6.582, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.468, + "Actual Total Time": 6.470, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.69, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 5.810, + "Actual Total Time": 12.361, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.979, + "Actual Total Time": 5.980, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.946, + "Actual Total Time": 6.947, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.424, + "Actual Total Time": 6.425, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.978, + "Actual Total Time": 5.979, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.540, + "Actual Total Time": 6.541, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.579, + "Actual Total Time": 6.580, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.467, + "Actual Total Time": 6.468, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.795, + "Actual Total Time": 5.797, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.978, + "Actual Total Time": 5.979, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.945, + "Actual Total Time": 6.945, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.423, + "Actual Total Time": 6.423, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.977, + "Actual Total Time": 5.977, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.539, + "Actual Total Time": 6.540, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.578, + "Actual Total Time": 6.579, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.467, + "Actual Total Time": 6.467, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.104, + "Actual Total Time": 44.233, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 41840, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.episode_nr >= 5) AND (t.episode_nr < 100))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 2, + "Actual Loops": 5385, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 8661, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 18, + "Plan Width": 8, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.044, + "Actual Rows": 25, + "Actual Loops": 6766, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 169273, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 169273, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 816913887554954199, + "Planning Time": 52.756, + "Triggers": [ + ], + "Execution Time": 3345.069, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 816913887554954199, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_american_movie,
       MIN(n.name) AS a1
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND n.name LIKE 'B%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 87890.55, + "Total Cost": 87890.56, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 6015.033, + "Actual Total Time": 6060.237, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 87890.52, + "Total Cost": 87890.53, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 279.491, + "Actual Total Time": 6060.210, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 87889.52, + "Total Cost": 87889.53, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 988.816, + "Actual Total Time": 988.825, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 271.180, + "Actual Total Time": 271.187, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 270.268, + "Actual Total Time": 270.276, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6005.241, + "Actual Total Time": 6005.254, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 271.542, + "Actual Total Time": 271.549, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 271.537, + "Actual Total Time": 271.543, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 271.547, + "Actual Total Time": 271.554, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 270.801, + "Actual Total Time": 270.809, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 66208.74, + "Total Cost": 87797.28, + "Plan Rows": 36898, + "Plan Width": 15, + "Actual Startup Time": 272.136, + "Actual Total Time": 978.000, + "Actual Rows": 32286, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 271.175, + "Actual Total Time": 271.182, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 270.264, + "Actual Total Time": 270.271, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 271.834, + "Actual Total Time": 5918.690, + "Actual Rows": 258289, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 271.537, + "Actual Total Time": 271.544, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 271.533, + "Actual Total Time": 271.539, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 271.543, + "Actual Total Time": 271.549, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 270.797, + "Actual Total Time": 270.804, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62714.00, + "Total Cost": 84038.96, + "Plan Rows": 100407, + "Plan Width": 19, + "Actual Startup Time": 249.543, + "Actual Total Time": 926.334, + "Actual Rows": 87856, + "Actual Loops": 8, + "Output": ["mc.company_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 249.587, + "Actual Total Time": 249.593, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 249.601, + "Actual Total Time": 249.607, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 249.122, + "Actual Total Time": 5663.414, + "Actual Rows": 702849, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 249.609, + "Actual Total Time": 249.614, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 249.604, + "Actual Total Time": 249.609, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 249.612, + "Actual Total Time": 249.616, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 249.592, + "Actual Total Time": 249.598, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62713.57, + "Total Cost": 76296.70, + "Plan Rows": 13331, + "Plan Width": 27, + "Actual Startup Time": 249.250, + "Actual Total Time": 781.682, + "Actual Rows": 11664, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name", "t.id"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 249.587, + "Actual Total Time": 249.591, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 249.600, + "Actual Total Time": 249.605, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 246.785, + "Actual Total Time": 4506.205, + "Actual Rows": 93315, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 249.608, + "Actual Total Time": 249.613, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 249.603, + "Actual Total Time": 249.607, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 249.610, + "Actual Total Time": 249.614, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 249.591, + "Actual Total Time": 249.596, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 13195.03, + "Plan Rows": 148342, + "Plan Width": 16, + "Actual Startup Time": 5.883, + "Actual Total Time": 476.925, + "Actual Rows": 129799, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "mk.movie_id", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.295, + "Actual Total Time": 6.297, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.319, + "Actual Total Time": 6.321, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.488, + "Actual Total Time": 3771.811, + "Actual Rows": 1038393, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.319, + "Actual Total Time": 6.322, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.697, + "Actual Total Time": 5.699, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.316, + "Actual Total Time": 6.319, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.302, + "Actual Total Time": 6.304, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4447.47, + "Plan Rows": 5977, + "Plan Width": 8, + "Actual Startup Time": 5.507, + "Actual Total Time": 50.090, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.293, + "Actual Total Time": 6.295, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.318, + "Actual Total Time": 6.319, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.494, + "Actual Total Time": 357.140, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.317, + "Actual Total Time": 6.319, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.696, + "Actual Total Time": 5.697, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.315, + "Actual Total Time": 6.317, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.300, + "Actual Total Time": 6.302, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.69, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 5.496, + "Actual Total Time": 15.214, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.292, + "Actual Total Time": 6.293, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.317, + "Actual Total Time": 6.318, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.410, + "Actual Total Time": 78.143, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.316, + "Actual Total Time": 6.317, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.695, + "Actual Total Time": 5.696, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.314, + "Actual Total Time": 6.315, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.299, + "Actual Total Time": 6.300, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.482, + "Actual Total Time": 5.483, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.291, + "Actual Total Time": 6.292, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.316, + "Actual Total Time": 6.317, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.300, + "Actual Total Time": 0.307, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.315, + "Actual Total Time": 6.316, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.695, + "Actual Total Time": 5.695, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.313, + "Actual Total Time": 6.314, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.298, + "Actual Total Time": 6.299, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.102, + "Actual Total Time": 68.428, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.102, + "Actual Total Time": 68.428, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840, + "Output": ["t.id"], + "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.18, + "Plan Rows": 28, + "Plan Width": 8, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.076, + "Actual Rows": 25, + "Actual Loops": 41840, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"],+ "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.076, + "Actual Rows": 25, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 62175.70, + "Total Cost": 62175.70, + "Plan Rows": 42925, + "Plan Width": 19, + "Actual Startup Time": 241.676, + "Actual Total Time": 241.678, + "Actual Rows": 42925, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Hash Buckets": 524288, + "Original Hash Buckets": 524288, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 22848, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 242.175, + "Actual Total Time": 242.176, + "Actual Rows": 40966, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 242.155, + "Actual Total Time": 242.156, + "Actual Rows": 47068, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 243.238, + "Actual Total Time": 243.239, + "Actual Rows": 43899, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 233.968, + "Actual Total Time": 233.969, + "Actual Rows": 38729, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 243.237, + "Actual Total Time": 243.237, + "Actual Rows": 45444, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 243.248, + "Actual Total Time": 243.249, + "Actual Rows": 44183, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 243.239, + "Actual Total Time": 243.240, + "Actual Rows": 41317, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 62175.70, + "Plan Rows": 42925, + "Plan Width": 19, + "Actual Startup Time": 21.130, + "Actual Total Time": 200.175, + "Actual Rows": 42925, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Filter": "(n.name ~~ 'B%'::text)", + "Rows Removed by Filter": 478012, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.594, + "Actual Total Time": 201.953, + "Actual Rows": 40966, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.285, + "Actual Total Time": 195.651, + "Actual Rows": 47068, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.960, + "Actual Total Time": 199.545, + "Actual Rows": 43899, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.380, + "Actual Total Time": 205.024, + "Actual Rows": 38729, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.157, + "Actual Total Time": 195.311, + "Actual Rows": 45444, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.228, + "Actual Total Time": 199.171, + "Actual Rows": 44183, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.551, + "Actual Total Time": 201.721, + "Actual Rows": 41317, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 8, + "Plan Width": 8, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.010, + "Actual Rows": 8, + "Actual Loops": 93315, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.010, + "Actual Rows": 8, + "Actual Loops": 93315 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 3362.18, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 21.924, + "Actual Total Time": 21.925, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Hash Buckets": 131072, + "Original Hash Buckets": 131072, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 4480, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.322, + "Actual Total Time": 21.323, + "Actual Rows": 10396, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.397, + "Actual Total Time": 20.397, + "Actual Rows": 9470, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.594, + "Actual Total Time": 21.595, + "Actual Rows": 11009, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.666, + "Actual Total Time": 21.667, + "Actual Rows": 10224, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.667, + "Actual Total Time": 21.668, + "Actual Rows": 10717, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.667, + "Actual Total Time": 21.668, + "Actual Rows": 10465, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.977, + "Actual Total Time": 20.978, + "Actual Rows": 10172, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 15.615, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 14.901, + "Actual Rows": 10396, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 14.580, + "Actual Rows": 9470, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 15.376, + "Actual Rows": 11009, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 15.265, + "Actual Rows": 10224, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 15.629, + "Actual Rows": 10717, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.058, + "Actual Total Time": 15.186, + "Actual Rows": 10465, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 14.831, + "Actual Rows": 10172, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -917204397272063480, + "Planning Time": 28.838, + "Triggers": [ + ], + "Execution Time": 6060.507, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -917204397272063480, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie,
       MIN(n.name) AS a1
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword ='character-name-in-title'
  AND n.name LIKE 'Z%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 76521.64, + "Total Cost": 76521.65, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 4058.631, + "Actual Total Time": 4104.884, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 76521.61, + "Total Cost": 76521.62, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 242.485, + "Actual Total Time": 4104.859, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 76520.61, + "Total Cost": 76520.62, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 711.190, + "Actual Total Time": 711.198, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4047.930, + "Actual Total Time": 4047.942, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 232.519, + "Actual Total Time": 232.526, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 234.029, + "Actual Total Time": 234.037, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 234.352, + "Actual Total Time": 234.360, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 234.377, + "Actual Total Time": 234.384, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 230.320, + "Actual Total Time": 230.326, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 234.378, + "Actual Total Time": 234.385, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 65135.98, + "Total Cost": 76502.05, + "Plan Rows": 7427, + "Plan Width": 15, + "Actual Startup Time": 234.147, + "Actual Total Time": 708.889, + "Actual Rows": 6538, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 231.623, + "Actual Total Time": 4029.504, + "Actual Rows": 52306, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 232.515, + "Actual Total Time": 232.521, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 234.024, + "Actual Total Time": 234.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 234.346, + "Actual Total Time": 234.354, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 234.372, + "Actual Total Time": 234.378, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 230.316, + "Actual Total Time": 230.322, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 234.372, + "Actual Total Time": 234.378, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62233.92, + "Total Cost": 73580.38, + "Plan Rows": 7472, + "Plan Width": 19, + "Actual Startup Time": 199.217, + "Actual Total Time": 668.844, + "Actual Rows": 6538, + "Actual Loops": 8, + "Output": ["mc.company_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 197.942, + "Actual Total Time": 3954.925, + "Actual Rows": 52306, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 199.378, + "Actual Total Time": 199.383, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 199.406, + "Actual Total Time": 199.411, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 199.411, + "Actual Total Time": 199.417, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 199.406, + "Actual Total Time": 199.411, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 199.384, + "Actual Total Time": 199.389, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 199.402, + "Actual Total Time": 199.407, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62233.49, + "Total Cost": 73029.23, + "Plan Rows": 949, + "Plan Width": 27, + "Actual Startup Time": 199.206, + "Actual Total Time": 654.618, + "Actual Rows": 830, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 197.862, + "Actual Total Time": 3841.126, + "Actual Rows": 6642, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 199.377, + "Actual Total Time": 199.381, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 199.405, + "Actual Total Time": 199.410, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 199.410, + "Actual Total Time": 199.414, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 199.405, + "Actual Total Time": 199.409, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 199.383, + "Actual Total Time": 199.386, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 199.401, + "Actual Total Time": 199.405, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62233.06, + "Total Cost": 72607.04, + "Plan Rows": 943, + "Plan Width": 23, + "Actual Startup Time": 199.189, + "Actual Total Time": 647.557, + "Actual Rows": 830, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 197.731, + "Actual Total Time": 3784.654, + "Actual Rows": 6642, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 199.376, + "Actual Total Time": 199.380, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 199.405, + "Actual Total Time": 199.408, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 199.409, + "Actual Total Time": 199.413, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 199.404, + "Actual Total Time": 199.408, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 199.382, + "Actual Total Time": 199.385, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 199.400, + "Actual Total Time": 199.403, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 9985.45, + "Plan Rows": 148342, + "Plan Width": 12, + "Actual Startup Time": 6.785, + "Actual Total Time": 407.850, + "Actual Rows": 129799, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.520, + "Actual Total Time": 3209.025, + "Actual Rows": 1038393, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.662, + "Actual Total Time": 7.664, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.684, + "Actual Total Time": 7.686, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.688, + "Actual Total Time": 7.689, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.688, + "Actual Total Time": 7.689, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.669, + "Actual Total Time": 7.670, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.688, + "Actual Total Time": 7.690, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.69, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.774, + "Actual Total Time": 16.617, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.441, + "Actual Total Time": 79.179, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.661, + "Actual Total Time": 7.662, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.683, + "Actual Total Time": 7.684, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.686, + "Actual Total Time": 7.687, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.687, + "Actual Total Time": 7.687, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.667, + "Actual Total Time": 7.668, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.687, + "Actual Total Time": 7.688, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.756, + "Actual Total Time": 6.757, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.303, + "Actual Total Time": 0.310, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.660, + "Actual Total Time": 7.660, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.682, + "Actual Total Time": 7.683, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.686, + "Actual Total Time": 7.686, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.685, + "Actual Total Time": 7.686, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.666, + "Actual Total Time": 7.667, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.686, + "Actual Total Time": 7.687, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.131, + "Actual Total Time": 69.907, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.131, + "Actual Total Time": 69.907, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 25, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.069, + "Actual Rows": 25, + "Actual Loops": 41840, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"],+ "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.069, + "Actual Rows": 25, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 62175.70, + "Total Cost": 62175.70, + "Plan Rows": 4519, + "Plan Width": 19, + "Actual Startup Time": 191.598, + "Actual Total Time": 191.599, + "Actual Rows": 4522, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Hash Buckets": 65536, + "Original Hash Buckets": 65536, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 2560, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 191.685, + "Actual Total Time": 191.686, + "Actual Rows": 5819, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 191.682, + "Actual Total Time": 191.683, + "Actual Rows": 6313, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 191.030, + "Actual Total Time": 191.031, + "Actual Rows": 2434, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 191.685, + "Actual Total Time": 191.686, + "Actual Rows": 2666, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 191.683, + "Actual Total Time": 191.684, + "Actual Rows": 5599, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 191.682, + "Actual Total Time": 191.683, + "Actual Rows": 5305, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 191.657, + "Actual Total Time": 191.658, + "Actual Rows": 3430, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 62175.70, + "Plan Rows": 4519, + "Plan Width": 19, + "Actual Startup Time": 66.028, + "Actual Total Time": 187.791, + "Actual Rows": 4522, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Filter": "(n.name ~~ 'Z%'::text)", + "Rows Removed by Filter": 516415, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 99.318, + "Actual Total Time": 187.353, + "Actual Rows": 5819, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.643, + "Actual Total Time": 187.067, + "Actual Rows": 6313, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 161.651, + "Actual Total Time": 189.454, + "Actual Rows": 2434, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 99.548, + "Actual Total Time": 186.448, + "Actual Rows": 2666, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.135, + "Actual Total Time": 187.507, + "Actual Rows": 5599, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.774, + "Actual Total Time": 187.603, + "Actual Rows": 5305, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 99.511, + "Actual Total Time": 188.751, + "Actual Rows": 3430, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 6642, + "Output": ["t.id"], + "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 6642 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 8, + "Plan Width": 8, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.015, + "Actual Rows": 8, + "Actual Loops": 6642, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.015, + "Actual Rows": 8, + "Actual Loops": 6642 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 2482.42, + "Total Cost": 2482.42, + "Plan Rows": 33571, + "Plan Width": 4, + "Actual Startup Time": 34.180, + "Actual Total Time": 34.181, + "Actual Rows": 29375, + "Actual Loops": 8, + "Output": ["cn.id"], + "Hash Buckets": 262144, + "Original Hash Buckets": 262144, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 11392, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.443, + "Actual Total Time": 33.444, + "Actual Rows": 31922, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.890, + "Actual Total Time": 32.891, + "Actual Rows": 28342, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 34.346, + "Actual Total Time": 34.347, + "Actual Rows": 30013, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.693, + "Actual Total Time": 34.694, + "Actual Rows": 28922, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.701, + "Actual Total Time": 34.702, + "Actual Rows": 28063, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.610, + "Actual Total Time": 30.611, + "Actual Rows": 26783, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.705, + "Actual Total Time": 34.706, + "Actual Rows": 31370, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 2482.42, + "Plan Rows": 33571, + "Plan Width": 4, + "Actual Startup Time": 0.087, + "Actual Total Time": 13.016, + "Actual Rows": 29375, + "Actual Loops": 8, + "Output": ["cn.id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.048, + "Actual Total Time": 12.737, + "Actual Rows": 31922, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.069, + "Actual Total Time": 11.375, + "Actual Rows": 28342, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.065, + "Actual Total Time": 14.568, + "Actual Rows": 30013, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.193, + "Actual Total Time": 14.446, + "Actual Rows": 28922, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.067, + "Actual Total Time": 12.340, + "Actual Rows": 28063, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.095, + "Actual Total Time": 11.204, + "Actual Rows": 26783, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.127, + "Actual Total Time": 14.268, + "Actual Rows": 31370, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5459870143170781696, + "Planning Time": 30.519, + "Triggers": [ + ], + "Execution Time": 4105.305, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -5459870143170781696, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie,
       MIN(n.name) AS a1
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword ='character-name-in-title'
  AND n.name LIKE 'X%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 72820.87, + "Total Cost": 72820.88, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 3654.551, + "Actual Total Time": 3699.310, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 72820.84, + "Total Cost": 72820.85, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 206.332, + "Actual Total Time": 3699.292, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 72819.84, + "Total Cost": 72819.85, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 630.124, + "Actual Total Time": 630.131, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 197.928, + "Actual Total Time": 197.935, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3645.749, + "Actual Total Time": 3645.754, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 198.194, + "Actual Total Time": 198.200, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 198.065, + "Actual Total Time": 198.072, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 198.467, + "Actual Total Time": 198.474, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 198.495, + "Actual Total Time": 198.502, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 198.480, + "Actual Total Time": 198.488, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62182.02, + "Total Cost": 72819.15, + "Plan Rows": 275, + "Plan Width": 15, + "Actual Startup Time": 204.031, + "Actual Total Time": 629.928, + "Actual Rows": 240, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 197.924, + "Actual Total Time": 197.930, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 237.041, + "Actual Total Time": 3644.166, + "Actual Rows": 1918, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 198.189, + "Actual Total Time": 198.194, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 198.061, + "Actual Total Time": 198.067, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 198.463, + "Actual Total Time": 198.469, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 198.491, + "Actual Total Time": 198.497, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 198.475, + "Actual Total Time": 198.482, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62181.59, + "Total Cost": 72696.03, + "Plan Rows": 275, + "Plan Width": 27, + "Actual Startup Time": 204.023, + "Actual Total Time": 628.415, + "Actual Rows": 240, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 197.923, + "Actual Total Time": 197.928, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 236.982, + "Actual Total Time": 3632.078, + "Actual Rows": 1918, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 198.188, + "Actual Total Time": 198.193, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 198.060, + "Actual Total Time": 198.066, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 198.462, + "Actual Total Time": 198.467, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 198.490, + "Actual Total Time": 198.495, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 198.474, + "Actual Total Time": 198.480, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62181.17, + "Total Cost": 72575.62, + "Plan Rows": 275, + "Plan Width": 31, + "Actual Startup Time": 204.014, + "Actual Total Time": 626.642, + "Actual Rows": 240, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mc.company_id", "mk.movie_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 197.923, + "Actual Total Time": 197.927, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 236.912, + "Actual Total Time": 3617.909, + "Actual Rows": 1918, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 198.188, + "Actual Total Time": 198.192, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 198.059, + "Actual Total Time": 198.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 198.461, + "Actual Total Time": 198.466, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 198.488, + "Actual Total Time": 198.493, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 198.473, + "Actual Total Time": 198.478, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62180.74, + "Total Cost": 72554.71, + "Plan Rows": 36, + "Plan Width": 23, + "Actual Startup Time": 204.001, + "Actual Total Time": 625.805, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 197.922, + "Actual Total Time": 197.925, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 236.814, + "Actual Total Time": 3611.221, + "Actual Rows": 250, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 198.187, + "Actual Total Time": 198.190, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 198.058, + "Actual Total Time": 198.062, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 198.460, + "Actual Total Time": 198.464, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 198.488, + "Actual Total Time": 198.491, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 198.472, + "Actual Total Time": 198.476, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 9985.45, + "Plan Rows": 148342, + "Plan Width": 12, + "Actual Startup Time": 6.095, + "Actual Total Time": 397.363, + "Actual Rows": 129799, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.890, + "Actual Total Time": 6.892, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.529, + "Actual Total Time": 3130.667, + "Actual Rows": 1038393, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.869, + "Actual Total Time": 6.870, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.887, + "Actual Total Time": 6.889, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.894, + "Actual Total Time": 6.896, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.912, + "Actual Total Time": 6.914, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.886, + "Actual Total Time": 6.888, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.69, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.082, + "Actual Total Time": 15.591, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.889, + "Actual Total Time": 6.890, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.438, + "Actual Total Time": 76.504, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.868, + "Actual Total Time": 6.869, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.886, + "Actual Total Time": 6.887, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.893, + "Actual Total Time": 6.894, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.910, + "Actual Total Time": 6.911, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.885, + "Actual Total Time": 6.886, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.064, + "Actual Total Time": 6.066, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.888, + "Actual Total Time": 6.889, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.302, + "Actual Total Time": 0.310, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.867, + "Actual Total Time": 6.867, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.885, + "Actual Total Time": 6.885, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.892, + "Actual Total Time": 6.892, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.909, + "Actual Total Time": 6.910, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.883, + "Actual Total Time": 6.884, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.129, + "Actual Total Time": 67.395, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.129, + "Actual Total Time": 67.395, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 25, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.067, + "Actual Rows": 25, + "Actual Loops": 41840, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"],+ "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.067, + "Actual Rows": 25, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 62175.70, + "Total Cost": 62175.70, + "Plan Rows": 333, + "Plan Width": 19, + "Actual Startup Time": 191.970, + "Actual Total Time": 191.971, + "Actual Rows": 333, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Hash Buckets": 4096, + "Original Hash Buckets": 4096, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 352, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 190.780, + "Actual Total Time": 190.781, + "Actual Rows": 143, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 190.625, + "Actual Total Time": 190.626, + "Actual Rows": 723, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 191.094, + "Actual Total Time": 191.095, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 190.932, + "Actual Total Time": 190.933, + "Actual Rows": 358, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 191.337, + "Actual Total Time": 191.338, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 191.337, + "Actual Total Time": 191.338, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 191.340, + "Actual Total Time": 191.341, + "Actual Rows": 1169, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 62175.70, + "Plan Rows": 333, + "Plan Width": 19, + "Actual Startup Time": 109.564, + "Actual Total Time": 191.670, + "Actual Rows": 333, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Filter": "(n.name ~~ 'X%'::text)", + "Rows Removed by Filter": 520603, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.355, + "Actual Total Time": 190.564, + "Actual Rows": 143, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 23.748, + "Actual Total Time": 190.086, + "Actual Rows": 723, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 180.033, + "Actual Total Time": 191.003, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.680, + "Actual Total Time": 190.627, + "Actual Rows": 358, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 178.976, + "Actual Total Time": 191.209, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 185.758, + "Actual Total Time": 191.179, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 102.569, + "Actual Total Time": 190.554, + "Actual Rows": 1169, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 8, + "Plan Width": 8, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.023, + "Actual Rows": 8, + "Actual Loops": 250, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.023, + "Actual Rows": 8, + "Actual Loops": 250 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 1918, + "Output": ["cn.id"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 1918 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 1918, + "Output": ["t.id"], + "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 1918 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5459870143170781696, + "Planning Time": 30.278, + "Triggers": [ + ], + "Execution Time": 3699.661, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -5459870143170781696, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword ='character-name-in-title'
  AND n.name LIKE '%Bert%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 73574.84, + "Total Cost": 73574.85, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 4005.407, + "Actual Total Time": 4050.864, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 73574.82, + "Total Cost": 73574.83, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 241.050, + "Actual Total Time": 4050.846, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 73573.82, + "Total Cost": 73573.83, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 704.309, + "Actual Total Time": 704.316, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 233.407, + "Actual Total Time": 233.413, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3995.346, + "Actual Total Time": 3995.351, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 233.698, + "Actual Total Time": 233.705, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 233.707, + "Actual Total Time": 233.713, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 233.703, + "Actual Total Time": 233.710, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 231.678, + "Actual Total Time": 231.684, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 232.494, + "Actual Total Time": 232.502, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62186.02, + "Total Cost": 73569.68, + "Plan Rows": 1656, + "Plan Width": 15, + "Actual Startup Time": 236.664, + "Actual Total Time": 703.437, + "Actual Rows": 1442, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 233.402, + "Actual Total Time": 233.408, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 254.226, + "Actual Total Time": 3988.359, + "Actual Rows": 11538, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 233.693, + "Actual Total Time": 233.700, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 233.704, + "Actual Total Time": 233.709, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 233.697, + "Actual Total Time": 233.704, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 231.672, + "Actual Total Time": 231.678, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 232.488, + "Actual Total Time": 232.495, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62185.60, + "Total Cost": 72844.56, + "Plan Rows": 1656, + "Plan Width": 19, + "Actual Startup Time": 236.657, + "Actual Total Time": 693.366, + "Actual Rows": 1442, + "Actual Loops": 8, + "Output": ["mc.company_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 233.401, + "Actual Total Time": 233.406, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 254.177, + "Actual Total Time": 3907.805, + "Actual Rows": 11538, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 233.692, + "Actual Total Time": 233.698, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 233.703, + "Actual Total Time": 233.708, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 233.696, + "Actual Total Time": 233.702, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 231.671, + "Actual Total Time": 231.676, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 232.487, + "Actual Total Time": 232.493, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62185.17, + "Total Cost": 72685.86, + "Plan Rows": 283, + "Plan Width": 27, + "Actual Startup Time": 236.649, + "Actual Total Time": 688.336, + "Actual Rows": 246, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 233.400, + "Actual Total Time": 233.404, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 254.115, + "Actual Total Time": 3867.575, + "Actual Rows": 1972, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 233.690, + "Actual Total Time": 233.695, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 233.702, + "Actual Total Time": 233.706, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 233.695, + "Actual Total Time": 233.700, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 231.670, + "Actual Total Time": 231.675, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 232.487, + "Actual Total Time": 232.492, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62184.74, + "Total Cost": 72558.71, + "Plan Rows": 284, + "Plan Width": 23, + "Actual Startup Time": 236.636, + "Actual Total Time": 685.570, + "Actual Rows": 246, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 233.399, + "Actual Total Time": 233.403, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 254.019, + "Actual Total Time": 3845.453, + "Actual Rows": 1972, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 233.689, + "Actual Total Time": 233.694, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 233.701, + "Actual Total Time": 233.705, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 233.694, + "Actual Total Time": 233.699, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 231.670, + "Actual Total Time": 231.674, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 232.486, + "Actual Total Time": 232.490, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 9985.45, + "Plan Rows": 148342, + "Plan Width": 12, + "Actual Startup Time": 6.367, + "Actual Total Time": 417.073, + "Actual Rows": 129799, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.249, + "Actual Total Time": 7.251, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.598, + "Actual Total Time": 3286.234, + "Actual Rows": 1038393, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.878, + "Actual Total Time": 6.880, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.257, + "Actual Total Time": 7.259, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.248, + "Actual Total Time": 7.250, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.201, + "Actual Total Time": 7.203, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.249, + "Actual Total Time": 7.251, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.69, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.354, + "Actual Total Time": 16.377, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.248, + "Actual Total Time": 7.249, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.513, + "Actual Total Time": 80.688, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.877, + "Actual Total Time": 6.878, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.256, + "Actual Total Time": 7.257, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.241, + "Actual Total Time": 7.242, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.200, + "Actual Total Time": 7.201, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.247, + "Actual Total Time": 7.248, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.335, + "Actual Total Time": 6.336, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.236, + "Actual Total Time": 7.236, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.375, + "Actual Total Time": 0.381, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.876, + "Actual Total Time": 6.876, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.255, + "Actual Total Time": 7.255, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.240, + "Actual Total Time": 7.240, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.198, + "Actual Total Time": 7.199, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.246, + "Actual Total Time": 7.247, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.130, + "Actual Total Time": 70.831, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.130, + "Actual Total Time": 70.831, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 25, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.071, + "Actual Rows": 25, + "Actual Loops": 41840, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"],+ "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.071, + "Actual Rows": 25, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 62175.70, + "Total Cost": 62175.70, + "Plan Rows": 653, + "Plan Width": 19, + "Actual Startup Time": 226.243, + "Actual Total Time": 226.244, + "Actual Rows": 652, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Hash Buckets": 8192, + "Original Hash Buckets": 8192, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 448, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 225.849, + "Actual Total Time": 225.850, + "Actual Rows": 343, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 223.730, + "Actual Total Time": 223.731, + "Actual Rows": 603, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 226.138, + "Actual Total Time": 226.139, + "Actual Rows": 575, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 226.141, + "Actual Total Time": 226.142, + "Actual Rows": 1114, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 226.188, + "Actual Total Time": 226.189, + "Actual Rows": 394, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 224.165, + "Actual Total Time": 224.166, + "Actual Rows": 453, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 224.940, + "Actual Total Time": 224.940, + "Actual Rows": 1351, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 62175.70, + "Plan Rows": 653, + "Plan Width": 19, + "Actual Startup Time": 1.446, + "Actual Total Time": 225.428, + "Actual Rows": 652, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Filter": "(n.name ~~ '%Bert%'::text)", + "Rows Removed by Filter": 520284, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.942, + "Actual Total Time": 225.242, + "Actual Rows": 343, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.349, + "Actual Total Time": 222.861, + "Actual Rows": 603, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.792, + "Actual Total Time": 225.384, + "Actual Rows": 575, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.605, + "Actual Total Time": 225.083, + "Actual Rows": 1114, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.283, + "Actual Total Time": 225.447, + "Actual Rows": 394, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.298, + "Actual Total Time": 223.428, + "Actual Rows": 453, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.280, + "Actual Total Time": 223.779, + "Actual Rows": 1351, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1972, + "Output": ["t.id"], + "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1972 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 6, + "Plan Width": 8, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.018, + "Actual Rows": 6, + "Actual Loops": 1972, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.018, + "Actual Rows": 6, + "Actual Loops": 1972 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 11538, + "Output": ["cn.id"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 11538 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3199076743843001296, + "Planning Time": 49.689, + "Triggers": [ + ], + "Execution Time": 4051.178, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 3199076743843001296, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 96302.85, + "Total Cost": 96302.86, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 9331.013, + "Actual Total Time": 9384.624, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 96302.83, + "Total Cost": 96302.84, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 744.898, + "Actual Total Time": 9384.604, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 96301.83, + "Total Cost": 96301.84, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1803.438, + "Actual Total Time": 1803.447, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9303.366, + "Actual Total Time": 9303.374, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 731.324, + "Actual Total Time": 731.332, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 728.785, + "Actual Total Time": 728.792, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 731.028, + "Actual Total Time": 731.036, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 731.421, + "Actual Total Time": 731.428, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 728.800, + "Actual Total Time": 728.807, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 728.684, + "Actual Total Time": 728.692, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 70881.54, + "Total Cost": 95290.20, + "Plan Rows": 404651, + "Plan Width": 15, + "Actual Startup Time": 731.197, + "Actual Total Time": 1708.966, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 725.463, + "Actual Total Time": 8547.567, + "Actual Rows": 2832555, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 731.320, + "Actual Total Time": 731.327, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 728.780, + "Actual Total Time": 728.787, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 731.024, + "Actual Total Time": 731.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 731.417, + "Actual Total Time": 731.424, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 728.796, + "Actual Total Time": 728.802, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 728.680, + "Actual Total Time": 728.688, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3496.48, + "Total Cost": 26842.93, + "Plan Rows": 404651, + "Plan Width": 4, + "Actual Startup Time": 28.928, + "Actual Total Time": 790.146, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["ci.person_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.058, + "Actual Total Time": 6113.764, + "Actual Rows": 2832555, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.607, + "Actual Total Time": 29.611, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.604, + "Actual Total Time": 29.609, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.630, + "Actual Total Time": 29.635, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.629, + "Actual Total Time": 29.634, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.624, + "Actual Total Time": 29.628, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.640, + "Actual Total Time": 29.646, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3496.04, + "Total Cost": 11291.59, + "Plan Rows": 9759, + "Plan Width": 12, + "Actual Startup Time": 28.853, + "Actual Total Time": 147.462, + "Actual Rows": 8540, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.466, + "Actual Total Time": 972.307, + "Actual Rows": 68316, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.606, + "Actual Total Time": 29.609, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.603, + "Actual Total Time": 29.607, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.628, + "Actual Total Time": 29.633, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.628, + "Actual Total Time": 29.632, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.623, + "Actual Total Time": 29.627, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.639, + "Actual Total Time": 29.644, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 7741.14, + "Plan Rows": 21222, + "Plan Width": 16, + "Actual Startup Time": 6.086, + "Actual Total Time": 113.101, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.645, + "Actual Total Time": 856.748, + "Actual Rows": 148552, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.846, + "Actual Total Time": 6.848, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.843, + "Actual Total Time": 6.846, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.867, + "Actual Total Time": 6.870, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.876, + "Actual Total Time": 6.878, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.862, + "Actual Total Time": 6.865, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.880, + "Actual Total Time": 6.882, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4447.47, + "Plan Rows": 5977, + "Plan Width": 8, + "Actual Startup Time": 6.068, + "Actual Total Time": 54.252, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.512, + "Actual Total Time": 385.965, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.845, + "Actual Total Time": 6.846, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.842, + "Actual Total Time": 6.844, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.866, + "Actual Total Time": 6.868, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.875, + "Actual Total Time": 6.876, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.861, + "Actual Total Time": 6.863, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.878, + "Actual Total Time": 6.880, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.69, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.058, + "Actual Total Time": 17.572, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.437, + "Actual Total Time": 92.542, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.844, + "Actual Total Time": 6.845, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.841, + "Actual Total Time": 6.842, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.865, + "Actual Total Time": 6.867, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.874, + "Actual Total Time": 6.875, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.860, + "Actual Total Time": 6.861, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.877, + "Actual Total Time": 6.878, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.040, + "Actual Total Time": 6.042, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.303, + "Actual Total Time": 0.309, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.843, + "Actual Total Time": 6.843, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.840, + "Actual Total Time": 6.841, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.864, + "Actual Total Time": 6.865, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.873, + "Actual Total Time": 6.873, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.859, + "Actual Total Time": 6.860, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.876, + "Actual Total Time": 6.876, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.129, + "Actual Total Time": 82.939, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.129, + "Actual Total Time": 82.939, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840, + "Output": ["t.id"], + "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.010, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.010, + "Actual Rows": 4, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 3362.18, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 22.508, + "Actual Total Time": 22.509, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Hash Buckets": 131072, + "Original Hash Buckets": 131072, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 4448, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.713, + "Actual Total Time": 22.714, + "Actual Rows": 10688, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.722, + "Actual Total Time": 22.723, + "Actual Rows": 10567, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 22.720, + "Actual Total Time": 22.722, + "Actual Rows": 9633, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.041, + "Actual Total Time": 21.042, + "Actual Rows": 11098, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.717, + "Actual Total Time": 22.718, + "Actual Rows": 10676, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.712, + "Actual Total Time": 22.713, + "Actual Rows": 10433, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.729, + "Actual Total Time": 22.730, + "Actual Rows": 11131, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.063, + "Actual Total Time": 15.046, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.060, + "Actual Total Time": 15.004, + "Actual Rows": 10688, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.069, + "Actual Total Time": 15.073, + "Actual Rows": 10567, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.065, + "Actual Total Time": 14.701, + "Actual Rows": 9633, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.061, + "Actual Total Time": 15.183, + "Actual Rows": 11098, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.070, + "Actual Total Time": 15.026, + "Actual Rows": 10676, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.060, + "Actual Total Time": 15.193, + "Actual Rows": 10433, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.064, + "Actual Total Time": 15.091, + "Actual Rows": 11131, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.18, + "Plan Rows": 41, + "Plan Width": 8, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.067, + "Actual Rows": 41, + "Actual Loops": 68316, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"],+ "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.067, + "Actual Rows": 41, + "Actual Loops": 68316 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 60873.36, + "Total Cost": 60873.36, + "Plan Rows": 520936, + "Plan Width": 19, + "Actual Startup Time": 694.293, + "Actual Total Time": 694.294, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 259072, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 701.117, + "Actual Total Time": 701.118, + "Actual Rows": 492013, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 701.487, + "Actual Total Time": 701.488, + "Actual Rows": 530983, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 698.930, + "Actual Total Time": 698.931, + "Actual Rows": 508674, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 701.117, + "Actual Total Time": 701.119, + "Actual Rows": 529660, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 701.579, + "Actual Total Time": 701.580, + "Actual Rows": 536661, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 698.928, + "Actual Total Time": 698.929, + "Actual Rows": 508049, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 698.817, + "Actual Total Time": 698.818, + "Actual Rows": 529391, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 60873.36, + "Plan Rows": 520936, + "Plan Width": 19, + "Actual Startup Time": 0.046, + "Actual Total Time": 222.521, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.055, + "Actual Total Time": 224.355, + "Actual Rows": 492013, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 221.019, + "Actual Rows": 530983, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.046, + "Actual Total Time": 219.133, + "Actual Rows": 508674, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.045, + "Actual Total Time": 224.906, + "Actual Rows": 529660, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 223.015, + "Actual Rows": 536661, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.046, + "Actual Total Time": 223.992, + "Actual Rows": 508049, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.046, + "Actual Total Time": 220.756, + "Actual Rows": 529391, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1944885556475480423, + "Planning Time": 31.458, + "Triggers": [ + ], + "Execution Time": 9384.900, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -1944885556475480423, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword ='character-name-in-title'
  AND n.name LIKE '%B%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 92025.80, + "Total Cost": 92025.81, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 7314.852, + "Actual Total Time": 7362.954, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 92025.77, + "Total Cost": 92025.78, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 359.932, + "Actual Total Time": 7362.926, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 92024.77, + "Total Cost": 92024.78, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1220.948, + "Actual Total Time": 1220.958, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 351.819, + "Actual Total Time": 351.827, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 351.285, + "Actual Total Time": 351.292, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 351.318, + "Actual Total Time": 351.325, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 349.670, + "Actual Total Time": 349.679, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 351.297, + "Actual Total Time": 351.305, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 351.341, + "Actual Total Time": 351.351, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7301.608, + "Actual Total Time": 7301.622, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 65911.29, + "Total Cost": 91630.78, + "Plan Rows": 157596, + "Plan Width": 15, + "Actual Startup Time": 351.335, + "Actual Total Time": 1184.871, + "Actual Rows": 139140, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 351.814, + "Actual Total Time": 351.822, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 351.282, + "Actual Total Time": 351.288, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 351.314, + "Actual Total Time": 351.321, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 349.665, + "Actual Total Time": 349.673, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 351.292, + "Actual Total Time": 351.299, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 351.336, + "Actual Total Time": 351.346, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 344.734, + "Actual Total Time": 7012.963, + "Actual Rows": 1113120, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 63009.24, + "Total Cost": 88315.03, + "Plan Rows": 157596, + "Plan Width": 19, + "Actual Startup Time": 318.498, + "Actual Total Time": 1085.313, + "Actual Rows": 139140, + "Actual Loops": 8, + "Output": ["mc.company_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 319.104, + "Actual Total Time": 319.109, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 319.104, + "Actual Total Time": 319.109, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 319.123, + "Actual Total Time": 319.128, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 319.092, + "Actual Total Time": 319.098, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 319.117, + "Actual Total Time": 319.124, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 319.143, + "Actual Total Time": 319.150, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 314.158, + "Actual Total Time": 6448.636, + "Actual Rows": 1113120, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 63008.81, + "Total Cost": 76440.70, + "Plan Rows": 21175, + "Plan Width": 27, + "Actual Startup Time": 318.342, + "Actual Total Time": 850.114, + "Actual Rows": 18687, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name", "t.id"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 319.103, + "Actual Total Time": 319.107, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 319.103, + "Actual Total Time": 319.107, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 319.122, + "Actual Total Time": 319.126, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 319.091, + "Actual Total Time": 319.096, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 319.116, + "Actual Total Time": 319.122, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 319.142, + "Actual Total Time": 319.148, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 312.922, + "Actual Total Time": 4567.060, + "Actual Rows": 149494, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 13043.79, + "Plan Rows": 148342, + "Plan Width": 16, + "Actual Startup Time": 6.044, + "Actual Total Time": 471.102, + "Actual Rows": 129799, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "mk.movie_id", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.804, + "Actual Total Time": 6.806, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.814, + "Actual Total Time": 6.816, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.820, + "Actual Total Time": 6.822, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.795, + "Actual Total Time": 6.797, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.813, + "Actual Total Time": 6.817, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.842, + "Actual Total Time": 6.846, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.635, + "Actual Total Time": 3721.076, + "Actual Rows": 1038393, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4447.47, + "Plan Rows": 5977, + "Plan Width": 8, + "Actual Startup Time": 6.032, + "Actual Total Time": 52.603, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.803, + "Actual Total Time": 6.804, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.813, + "Actual Total Time": 6.815, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.819, + "Actual Total Time": 6.820, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.793, + "Actual Total Time": 6.795, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.813, + "Actual Total Time": 6.815, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.841, + "Actual Total Time": 6.844, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.542, + "Actual Total Time": 373.095, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.69, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.020, + "Actual Total Time": 16.496, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.802, + "Actual Total Time": 6.803, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.812, + "Actual Total Time": 6.812, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.818, + "Actual Total Time": 6.819, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.793, + "Actual Total Time": 6.794, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.811, + "Actual Total Time": 6.813, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.839, + "Actual Total Time": 6.841, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.452, + "Actual Total Time": 84.255, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.001, + "Actual Total Time": 6.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.801, + "Actual Total Time": 6.802, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.811, + "Actual Total Time": 6.811, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.816, + "Actual Total Time": 6.817, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.791, + "Actual Total Time": 6.792, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.810, + "Actual Total Time": 6.811, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.838, + "Actual Total Time": 6.839, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.315, + "Actual Total Time": 0.323, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.130, + "Actual Total Time": 73.565, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.130, + "Actual Total Time": 73.565, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840, + "Output": ["t.id"], + "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 25, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.072, + "Actual Rows": 25, + "Actual Loops": 41840, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"],+ "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.072, + "Actual Rows": 25, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 62175.70, + "Total Cost": 62175.70, + "Plan Rows": 66544, + "Plan Width": 19, + "Actual Startup Time": 310.307, + "Actual Total Time": 310.309, + "Actual Rows": 67090, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Hash Buckets": 1048576, + "Original Hash Buckets": 1048576, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 37536, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 312.262, + "Actual Total Time": 312.263, + "Actual Rows": 69714, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 312.261, + "Actual Total Time": 312.262, + "Actual Rows": 64199, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 312.263, + "Actual Total Time": 312.264, + "Actual Rows": 72635, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 312.258, + "Actual Total Time": 312.259, + "Actual Rows": 67629, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 296.621, + "Actual Total Time": 296.622, + "Actual Rows": 68554, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 312.268, + "Actual Total Time": 312.269, + "Actual Rows": 65333, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 312.265, + "Actual Total Time": 312.266, + "Actual Rows": 62729, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 62175.70, + "Plan Rows": 66544, + "Plan Width": 19, + "Actual Startup Time": 0.073, + "Actual Total Time": 242.138, + "Actual Rows": 67090, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Filter": "(n.name ~~ '%B%'::text)", + "Rows Removed by Filter": 453847, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.060, + "Actual Total Time": 240.192, + "Actual Rows": 69714, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.069, + "Actual Total Time": 244.336, + "Actual Rows": 64199, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.088, + "Actual Total Time": 238.832, + "Actual Rows": 72635, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.062, + "Actual Total Time": 244.372, + "Actual Rows": 67629, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.110, + "Actual Total Time": 240.367, + "Actual Rows": 68554, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.088, + "Actual Total Time": 242.845, + "Actual Rows": 65333, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.060, + "Actual Total Time": 240.609, + "Actual Rows": 62729, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 6, + "Plan Width": 8, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.011, + "Actual Rows": 7, + "Actual Loops": 149494, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.011, + "Actual Rows": 7, + "Actual Loops": 149494 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 2482.42, + "Total Cost": 2482.42, + "Plan Rows": 33571, + "Plan Width": 4, + "Actual Startup Time": 32.023, + "Actual Total Time": 32.025, + "Actual Rows": 29375, + "Actual Loops": 8, + "Output": ["cn.id"], + "Hash Buckets": 262144, + "Original Hash Buckets": 262144, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 11392, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.450, + "Actual Total Time": 32.451, + "Actual Rows": 29896, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.939, + "Actual Total Time": 31.939, + "Actual Rows": 28842, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.948, + "Actual Total Time": 31.949, + "Actual Rows": 28978, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.312, + "Actual Total Time": 30.313, + "Actual Rows": 27934, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.938, + "Actual Total Time": 31.938, + "Actual Rows": 29017, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.952, + "Actual Total Time": 31.953, + "Actual Rows": 30054, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 30.311, + "Actual Total Time": 30.313, + "Actual Rows": 27984, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 2482.42, + "Plan Rows": 33571, + "Plan Width": 4, + "Actual Startup Time": 0.142, + "Actual Total Time": 12.479, + "Actual Rows": 29375, + "Actual Loops": 8, + "Output": ["cn.id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.055, + "Actual Total Time": 12.338, + "Actual Rows": 29896, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.168, + "Actual Total Time": 12.351, + "Actual Rows": 28842, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.116, + "Actual Total Time": 12.428, + "Actual Rows": 28978, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.073, + "Actual Total Time": 12.168, + "Actual Rows": 27934, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.500, + "Actual Total Time": 12.622, + "Actual Rows": 29017, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.078, + "Actual Total Time": 12.425, + "Actual Rows": 30054, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.110, + "Actual Total Time": 11.984, + "Actual Rows": 27984, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3199076743843001296, + "Planning Time": 25.825, + "Triggers": [ + ], + "Execution Time": 7363.310, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 3199076743843001296, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(t.title) AS movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     name AS n,
     title AS t
WHERE ci.note IN ('(producer)',
                  '(executive producer)')
  AND it1.info = 'budget'
  AND it2.info = 'votes'
  AND n.gender = 'm'
  AND n.name LIKE '%Tim%'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 87669.60, + "Total Cost": 87669.61, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 332.619, + "Actual Total Time": 339.319, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 87669.53, + "Total Cost": 87669.54, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 332.332, + "Actual Total Time": 339.285, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 87668.53, + "Total Cost": 87668.54, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 325.305, + "Actual Total Time": 325.314, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 324.984, + "Actual Total Time": 324.992, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 324.983, + "Actual Total Time": 324.991, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 324.984, + "Actual Total Time": 324.990, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 323.208, + "Actual Total Time": 323.217, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 324.820, + "Actual Total Time": 324.826, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 324.705, + "Actual Total Time": 324.713, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 323.215, + "Actual Total Time": 323.221, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.42, + "Total Cost": 87668.14, + "Plan Rows": 51, + "Plan Width": 65, + "Actual Startup Time": 37.863, + "Actual Total Time": 325.089, + "Actual Rows": 51, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.664, + "Actual Total Time": 324.725, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.261, + "Actual Total Time": 324.824, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.161, + "Actual Total Time": 324.854, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 37.111, + "Actual Total Time": 323.048, + "Actual Rows": 50, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.926, + "Actual Total Time": 324.678, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 45.567, + "Actual Total Time": 324.567, + "Actual Rows": 40, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 56.853, + "Actual Total Time": 323.110, + "Actual Rows": 25, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.99, + "Total Cost": 87645.16, + "Plan Rows": 51, + "Plan Width": 60, + "Actual Startup Time": 37.769, + "Actual Total Time": 323.350, + "Actual Rows": 51, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.585, + "Actual Total Time": 321.623, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.182, + "Actual Total Time": 323.102, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.081, + "Actual Total Time": 323.770, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 36.993, + "Actual Total Time": 321.392, + "Actual Rows": 50, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.831, + "Actual Total Time": 323.315, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 45.443, + "Actual Total Time": 323.183, + "Actual Rows": 40, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 56.737, + "Actual Total Time": 322.061, + "Actual Rows": 25, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.15, + "Total Cost": 87615.26, + "Plan Rows": 10301, + "Plan Width": 64, + "Actual Startup Time": 33.305, + "Actual Total Time": 320.089, + "Actual Rows": 10301, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.322, + "Actual Total Time": 313.734, + "Actual Rows": 26828, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.800, + "Actual Total Time": 320.142, + "Actual Rows": 9255, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.679, + "Actual Total Time": 322.240, + "Actual Rows": 4354, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 35.444, + "Actual Total Time": 319.575, + "Actual Rows": 5300, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.519, + "Actual Total Time": 318.776, + "Actual Rows": 14907, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.778, + "Actual Total Time": 321.511, + "Actual Rows": 4807, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 37.964, + "Actual Total Time": 320.160, + "Actual Rows": 5547, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 87115.31, + "Plan Rows": 429, + "Plan Width": 13, + "Actual Startup Time": 33.228, + "Actual Total Time": 297.540, + "Actual Rows": 429, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.245, + "Actual Total Time": 257.943, + "Actual Rows": 500, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.711, + "Actual Total Time": 299.352, + "Actual Rows": 488, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.602, + "Actual Total Time": 311.945, + "Actual Rows": 264, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 35.363, + "Actual Total Time": 307.381, + "Actual Rows": 265, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.438, + "Actual Total Time": 291.996, + "Actual Rows": 514, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.701, + "Actual Total Time": 310.228, + "Actual Rows": 176, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 37.881, + "Actual Total Time": 304.218, + "Actual Rows": 510, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 87109.96, + "Plan Rows": 1289, + "Plan Width": 17, + "Actual Startup Time": 33.202, + "Actual Total Time": 296.571, + "Actual Rows": 1289, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.225, + "Actual Total Time": 256.002, + "Actual Rows": 1502, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.692, + "Actual Total Time": 298.416, + "Actual Rows": 1464, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.582, + "Actual Total Time": 311.384, + "Actual Rows": 792, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 35.343, + "Actual Total Time": 306.808, + "Actual Rows": 795, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.414, + "Actual Total Time": 291.059, + "Actual Rows": 1543, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.684, + "Actual Total Time": 309.720, + "Actual Rows": 529, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 37.862, + "Actual Total Time": 303.313, + "Actual Rows": 1530, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.44, + "Total Cost": 86685.19, + "Plan Rows": 840, + "Plan Width": 4, + "Actual Startup Time": 31.476, + "Actual Total Time": 282.968, + "Actual Rows": 840, + "Actual Loops": 8, + "Output": ["ci.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.149, + "Actual Total Time": 240.573, + "Actual Rows": 804, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.458, + "Actual Total Time": 284.182, + "Actual Rows": 1001, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.498, + "Actual Total Time": 302.055, + "Actual Rows": 608, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.110, + "Actual Total Time": 296.545, + "Actual Rows": 611, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.340, + "Actual Total Time": 278.047, + "Actual Rows": 881, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.599, + "Actual Total Time": 299.829, + "Actual Rows": 470, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 30.859, + "Actual Total Time": 289.938, + "Actual Rows": 910, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 63478.05, + "Plan Rows": 1133, + "Plan Width": 4, + "Actual Startup Time": 27.785, + "Actual Total Time": 243.883, + "Actual Rows": 1133, + "Actual Loops": 8, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Filter": "((n.name ~~ '%Tim%'::text) AND ((n.gender)::text = 'm'::text))", + "Rows Removed by Filter": 519804, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.526, + "Actual Total Time": 214.438, + "Actual Rows": 709, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.629, + "Actual Total Time": 246.934, + "Actual Rows": 1018, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.111, + "Actual Total Time": 258.024, + "Actual Rows": 1233, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.557, + "Actual Total Time": 255.993, + "Actual Rows": 1195, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.945, + "Actual Total Time": 241.772, + "Actual Rows": 1008, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.558, + "Actual Total Time": 260.442, + "Actual Rows": 1087, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.652, + "Actual Total Time": 252.882, + "Actual Rows": 1040, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 20.47, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 9062, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(producer),\"(executive producer)\"}'::text[]))", + "Rows Removed by Filter": 10, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 709 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 1018 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1233 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 1195 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 1008 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1087 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 1040 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 6719, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.017, + "Actual Rows": 2, + "Actual Loops": 804 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1001 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 608 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 611 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 2, + "Actual Loops": 881 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 470 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 2, + "Actual Loops": 910 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 20, + "Plan Width": 51, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.042, + "Actual Rows": 24, + "Actual Loops": 3435, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.090, + "Actual Rows": 54, + "Actual Loops": 500 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.035, + "Actual Rows": 19, + "Actual Loops": 488 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.032, + "Actual Rows": 16, + "Actual Loops": 264 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.038, + "Actual Rows": 20, + "Actual Loops": 265 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.041, + "Actual Rows": 29, + "Actual Loops": 514 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.048, + "Actual Rows": 27, + "Actual Loops": 176 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.026, + "Actual Rows": 11, + "Actual Loops": 510 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'budget'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 410, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 93 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 52 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 30 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 50 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 37 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 40 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 25 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -3485514449383768787, + "Planning Time": 46.628, + "Triggers": [ + ], + "Execution Time": 339.614, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -3485514449383768787, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(t.title) AS movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'rating'
  AND mi.info IN ('Horror',
                  'Thriller')
  AND mi.note IS NULL
  AND mi_idx.info > '8.0'
  AND n.gender IS NOT NULL
  AND n.gender = 'f'
  AND t.production_year BETWEEN 2008 AND 2014
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13511.45, + "Total Cost": 13511.46, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 171.135, + "Actual Total Time": 180.455, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13511.38, + "Total Cost": 13511.39, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 169.942, + "Actual Total Time": 180.422, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13510.38, + "Total Cost": 13510.39, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 162.551, + "Actual Total Time": 162.557, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 160.828, + "Actual Total Time": 160.834, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 160.267, + "Actual Total Time": 160.273, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 161.847, + "Actual Total Time": 161.853, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 162.534, + "Actual Total Time": 162.541, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 161.867, + "Actual Total Time": 161.872, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 161.423, + "Actual Total Time": 161.428, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 162.534, + "Actual Total Time": 162.542, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.73, + "Total Cost": 13510.37, + "Plan Rows": 1, + "Plan Width": 65, + "Actual Startup Time": 116.142, + "Actual Total Time": 162.543, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 76.248, + "Actual Total Time": 160.822, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 149.820, + "Actual Total Time": 160.257, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 161.842, + "Actual Total Time": 161.847, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 162.528, + "Actual Total Time": 162.535, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 86.250, + "Actual Total Time": 161.855, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 76.719, + "Actual Total Time": 161.414, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 82.904, + "Actual Total Time": 162.521, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 13510.19, + "Plan Rows": 1, + "Plan Width": 69, + "Actual Startup Time": 116.099, + "Actual Total Time": 162.494, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi.info", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 76.203, + "Actual Total Time": 160.774, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 149.751, + "Actual Total Time": 160.182, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 161.842, + "Actual Total Time": 161.845, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 162.528, + "Actual Total Time": 162.533, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 86.184, + "Actual Total Time": 161.783, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 76.657, + "Actual Total Time": 161.350, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 82.830, + "Actual Total Time": 162.434, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.15, + "Total Cost": 13492.84, + "Plan Rows": 34, + "Plan Width": 73, + "Actual Startup Time": 55.553, + "Actual Total Time": 161.358, + "Actual Rows": 34, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.711, + "Actual Total Time": 159.965, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 73.991, + "Actual Total Time": 159.132, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 35.918, + "Actual Total Time": 160.048, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 57.647, + "Actual Total Time": 161.257, + "Actual Rows": 38, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 73.708, + "Actual Total Time": 160.456, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 73.409, + "Actual Total Time": 160.345, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 78.514, + "Actual Total Time": 161.530, + "Actual Rows": 27, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 13416.16, + "Plan Rows": 45, + "Plan Width": 81, + "Actual Startup Time": 30.692, + "Actual Total Time": 147.726, + "Actual Rows": 45, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.059, + "Actual Total Time": 147.547, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 43.069, + "Actual Total Time": 144.814, + "Actual Rows": 50, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.460, + "Actual Total Time": 145.050, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 57.198, + "Actual Total Time": 151.815, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.980, + "Actual Total Time": 151.273, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.108, + "Actual Total Time": 145.267, + "Actual Rows": 51, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 78.267, + "Actual Total Time": 138.828, + "Actual Rows": 30, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 12538.65, + "Plan Rows": 769, + "Plan Width": 30, + "Actual Startup Time": 1.448, + "Actual Total Time": 115.359, + "Actual Rows": 769, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.417, + "Actual Total Time": 118.937, + "Actual Rows": 794, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.033, + "Actual Total Time": 108.301, + "Actual Rows": 872, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.161, + "Actual Total Time": 108.870, + "Actual Rows": 793, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.118, + "Actual Total Time": 124.329, + "Actual Rows": 693, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.131, + "Actual Total Time": 111.209, + "Actual Rows": 873, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.554, + "Actual Total Time": 114.802, + "Actual Rows": 746, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.224, + "Actual Total Time": 111.295, + "Actual Rows": 666, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10111.41, + "Plan Rows": 1981, + "Plan Width": 9, + "Actual Startup Time": 0.237, + "Actual Total Time": 84.966, + "Actual Rows": 1981, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.367, + "Actual Total Time": 88.614, + "Actual Rows": 1975, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.103, + "Actual Total Time": 80.398, + "Actual Rows": 1890, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.312, + "Actual Total Time": 81.792, + "Actual Rows": 1760, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.123, + "Actual Total Time": 93.784, + "Actual Rows": 1826, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.279, + "Actual Total Time": 82.280, + "Actual Rows": 1936, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.131, + "Actual Total Time": 83.064, + "Actual Rows": 2200, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.121, + "Actual Total Time": 78.087, + "Actual Rows": 2161, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 10091.30, + "Plan Rows": 6706, + "Plan Width": 13, + "Actual Startup Time": 0.072, + "Actual Total Time": 81.369, + "Actual Rows": 6706, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Filter": "(mi_idx.info > '8.0'::text)", + "Rows Removed by Filter": 165798, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.072, + "Actual Total Time": 85.000, + "Actual Rows": 6935, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 77.027, + "Actual Rows": 6450, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.225, + "Actual Total Time": 78.494, + "Actual Rows": 6336, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 90.100, + "Actual Rows": 7142, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 78.764, + "Actual Rows": 6586, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.047, + "Actual Total Time": 79.342, + "Actual Rows": 6869, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.046, + "Actual Total Time": 74.643, + "Actual Rows": 6245, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.23, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 15849, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2008) AND (t.production_year <= 2014))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1975 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1890 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1760 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1826 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1936 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 2200 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2161 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 6152, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.note IS NULL) AND (mi.info = ANY ('{Horror,Thriller}'::text[])))", + "Rows Removed by Filter": 18, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 794 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 872 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 793 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 693 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 873 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 746 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 666 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.69, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.233, + "Actual Total Time": 0.302, + "Actual Rows": 1, + "Actual Loops": 358, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 34, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.232, + "Actual Total Time": 0.280, + "Actual Rows": 1, + "Actual Loops": 44 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.254, + "Actual Total Time": 0.284, + "Actual Rows": 1, + "Actual Loops": 50 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.196, + "Actual Total Time": 0.251, + "Actual Rows": 1, + "Actual Loops": 59 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.177, + "Actual Total Time": 0.222, + "Actual Rows": 1, + "Actual Loops": 42 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.173, + "Actual Total Time": 0.216, + "Actual Rows": 1, + "Actual Loops": 42 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.262, + "Actual Total Time": 0.293, + "Actual Rows": 1, + "Actual Loops": 51 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.418, + "Actual Total Time": 0.754, + "Actual Rows": 1, + "Actual Loops": 30 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 268, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender IS NOT NULL) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 24 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 30 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 57 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 38 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 37 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 28 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 27 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 11, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 3, + "Cache Hits": 2, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.060, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2924466581088026648, + "Planning Time": 40.369, + "Triggers": [ + ], + "Execution Time": 180.810, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -2924466581088026648, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(t.title) AS movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND mi.info IN ('Horror',
                  'Action',
                  'Sci-Fi',
                  'Thriller',
                  'Crime',
                  'War')
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 100473.99, + "Total Cost": 100474.00, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 4258.584, + "Actual Total Time": 4305.630, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 100473.92, + "Total Cost": 100473.93, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 4254.676, + "Actual Total Time": 4305.591, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 100472.92, + "Total Cost": 100472.93, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 4248.404, + "Actual Total Time": 4248.410, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4248.557, + "Actual Total Time": 4248.563, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4246.720, + "Actual Total Time": 4246.727, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4246.262, + "Actual Total Time": 4246.270, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4246.557, + "Actual Total Time": 4246.563, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4247.265, + "Actual Total Time": 4247.272, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4247.025, + "Actual Total Time": 4247.032, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4250.923, + "Actual Total Time": 4250.929, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.42, + "Total Cost": 100446.60, + "Plan Rows": 3509, + "Plan Width": 65, + "Actual Startup Time": 25.403, + "Actual Total Time": 4237.121, + "Actual Rows": 3509, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 17.475, + "Actual Total Time": 4227.145, + "Actual Rows": 3514, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.501, + "Actual Total Time": 4232.427, + "Actual Rows": 3297, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.900, + "Actual Total Time": 4236.152, + "Actual Rows": 3572, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.793, + "Actual Total Time": 4237.641, + "Actual Rows": 3609, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.651, + "Actual Total Time": 4238.672, + "Actual Rows": 3424, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 49.005, + "Actual Total Time": 4237.472, + "Actual Rows": 3821, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.470, + "Actual Total Time": 4242.114, + "Actual Rows": 3373, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.99, + "Total Cost": 98712.28, + "Plan Rows": 3509, + "Plan Width": 60, + "Actual Startup Time": 25.309, + "Actual Total Time": 4178.879, + "Actual Rows": 3509, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 17.359, + "Actual Total Time": 4170.815, + "Actual Rows": 3514, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.408, + "Actual Total Time": 4163.640, + "Actual Rows": 3297, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.810, + "Actual Total Time": 4178.101, + "Actual Rows": 3572, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.669, + "Actual Total Time": 4180.795, + "Actual Rows": 3609, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.578, + "Actual Total Time": 4184.124, + "Actual Rows": 3424, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 48.878, + "Actual Total Time": 4178.352, + "Actual Rows": 3821, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.391, + "Actual Total Time": 4186.526, + "Actual Rows": 3373, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.56, + "Total Cost": 95258.32, + "Plan Rows": 6769, + "Plan Width": 64, + "Actual Startup Time": 11.901, + "Actual Total Time": 4041.617, + "Actual Rows": 6769, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.367, + "Actual Total Time": 4038.479, + "Actual Rows": 6723, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.564, + "Actual Total Time": 4031.010, + "Actual Rows": 6486, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.592, + "Actual Total Time": 4040.530, + "Actual Rows": 7064, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.726, + "Actual Total Time": 4044.487, + "Actual Rows": 7098, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.575, + "Actual Total Time": 4052.950, + "Actual Rows": 6561, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.437, + "Actual Total Time": 4043.024, + "Actual Rows": 7008, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.196, + "Actual Total Time": 4035.820, + "Actual Rows": 6536, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.12, + "Total Cost": 75732.10, + "Plan Rows": 12814, + "Plan Width": 56, + "Actual Startup Time": 1.525, + "Actual Total Time": 1998.726, + "Actual Rows": 12814, + "Actual Loops": 8, + "Output": ["mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.705, + "Actual Total Time": 1975.362, + "Actual Rows": 12939, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.596, + "Actual Total Time": 1999.745, + "Actual Rows": 12085, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.545, + "Actual Total Time": 1978.013, + "Actual Rows": 13044, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.568, + "Actual Total Time": 1998.237, + "Actual Rows": 13052, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.040, + "Actual Total Time": 2082.027, + "Actual Rows": 12813, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.313, + "Actual Total Time": 1964.723, + "Actual Rows": 13229, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.333, + "Actual Total Time": 2015.789, + "Actual Rows": 12684, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.28, + "Total Cost": 75694.55, + "Plan Rows": 13112, + "Plan Width": 60, + "Actual Startup Time": 1.255, + "Actual Total Time": 1980.945, + "Actual Rows": 13112, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.417, + "Actual Total Time": 1957.490, + "Actual Rows": 13225, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.361, + "Actual Total Time": 1982.124, + "Actual Rows": 12342, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.245, + "Actual Total Time": 1959.342, + "Actual Rows": 13402, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.324, + "Actual Total Time": 1980.433, + "Actual Rows": 13362, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.774, + "Actual Total Time": 2064.568, + "Actual Rows": 13023, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.052, + "Actual Total Time": 1946.988, + "Actual Rows": 13567, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.089, + "Actual Total Time": 1998.514, + "Actual Rows": 12942, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 57491, + "Plan Width": 9, + "Actual Startup Time": 0.040, + "Actual Total Time": 156.390, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 156.333, + "Actual Rows": 57566, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 158.149, + "Actual Rows": 54431, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 158.639, + "Actual Rows": 58558, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 156.709, + "Actual Rows": 58502, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 160.428, + "Actual Rows": 59998, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.036, + "Actual Total Time": 153.080, + "Actual Rows": 57924, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 157.318, + "Actual Rows": 57588, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 13, + "Actual Startup Time": 0.019, + "Actual Total Time": 47.446, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 46.730, + "Actual Rows": 172707, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 49.679, + "Actual Rows": 163304, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 48.429, + "Actual Rows": 175781, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 46.859, + "Actual Rows": 175668, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 48.161, + "Actual Rows": 180000, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 46.342, + "Actual Rows": 173766, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 47.175, + "Actual Rows": 172733, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 459925, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Action,Sci-Fi,Thriller,Crime,War}'::text[]))", + "Rows Removed by Filter": 15, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 57566 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 54431 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 58558 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 58502 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 59998 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 57924 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 57588 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.51, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.135, + "Actual Total Time": 0.158, + "Actual Rows": 1, + "Actual Loops": 102516, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 39, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.135, + "Actual Total Time": 0.158, + "Actual Rows": 1, + "Actual Loops": 12939 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.143, + "Actual Total Time": 0.166, + "Actual Rows": 1, + "Actual Loops": 12085 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.133, + "Actual Total Time": 0.157, + "Actual Rows": 1, + "Actual Loops": 13044 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.131, + "Actual Total Time": 0.155, + "Actual Rows": 1, + "Actual Loops": 13052 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.131, + "Actual Total Time": 0.152, + "Actual Rows": 1, + "Actual Loops": 12813 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.132, + "Actual Total Time": 0.156, + "Actual Rows": 1, + "Actual Loops": 13229 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.136, + "Actual Total Time": 0.158, + "Actual Rows": 1, + "Actual Loops": 12684 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 54155, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 6723 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 6486 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 7064 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 7098 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 6561 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 7008 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 6536 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 28073, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3514 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 3297 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3572 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3609 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3424 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3821 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3373 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1168076528610430802, + "Planning Time": 36.811, + "Triggers": [ + ], + "Execution Time": 4305.932, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 1168076528610430802, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS voicing_actress,
       MIN(t.title) AS voiced_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND mc.note IS NOT NULL
  AND (mc.note LIKE '%(USA)%'
       OR mc.note LIKE '%(worldwide)%')
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%200%'
       OR mi.info LIKE 'USA:%200%')
  AND n.gender ='f'
  AND n.name LIKE '%Ang%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2005 AND 2009
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mi.movie_id = ci.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 65093.85, + "Total Cost": 65093.86, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 319.385, + "Actual Total Time": 323.705, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 65093.80, + "Total Cost": 65093.81, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 318.925, + "Actual Total Time": 323.668, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 65092.80, + "Total Cost": 65092.81, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 308.163, + "Actual Total Time": 308.175, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 303.168, + "Actual Total Time": 303.178, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 310.111, + "Actual Total Time": 310.121, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 309.577, + "Actual Total Time": 309.587, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 304.631, + "Actual Total Time": 304.641, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 309.660, + "Actual Total Time": 309.671, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 304.911, + "Actual Total Time": 304.924, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 305.252, + "Actual Total Time": 305.262, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.95, + "Total Cost": 65092.69, + "Plan Rows": 23, + "Plan Width": 32, + "Actual Startup Time": 212.608, + "Actual Total Time": 308.133, + "Actual Rows": 23, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 168.757, + "Actual Total Time": 303.139, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 173.233, + "Actual Total Time": 310.048, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 194.638, + "Actual Total Time": 309.570, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 304.626, + "Actual Total Time": 304.635, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 231.738, + "Actual Total Time": 309.631, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 304.905, + "Actual Total Time": 304.917, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 154.132, + "Actual Total Time": 305.204, + "Actual Rows": 22, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.11, + "Total Cost": 65090.78, + "Plan Rows": 23, + "Plan Width": 36, + "Actual Startup Time": 212.195, + "Actual Total Time": 307.690, + "Actual Rows": 23, + "Actual Loops": 8, + "Output": ["mi.info_type_id", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 168.191, + "Actual Total Time": 302.545, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 172.964, + "Actual Total Time": 309.722, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 194.406, + "Actual Total Time": 309.333, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 304.079, + "Actual Total Time": 304.087, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 231.504, + "Actual Total Time": 309.367, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 304.378, + "Actual Total Time": 304.389, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 153.587, + "Actual Total Time": 304.630, + "Actual Rows": 22, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.68, + "Total Cost": 65078.93, + "Plan Rows": 10, + "Plan Width": 44, + "Actual Startup Time": 212.112, + "Actual Total Time": 305.611, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 168.089, + "Actual Total Time": 301.953, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 172.860, + "Actual Total Time": 307.704, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 194.282, + "Actual Total Time": 309.183, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 304.078, + "Actual Total Time": 304.085, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 231.357, + "Actual Total Time": 306.027, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 304.377, + "Actual Total Time": 304.387, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 153.476, + "Actual Total Time": 301.446, + "Actual Rows": 12, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.25, + "Total Cost": 65074.34, + "Plan Rows": 10, + "Plan Width": 48, + "Actual Startup Time": 212.049, + "Actual Total Time": 305.419, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_role_id", "mc.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 167.988, + "Actual Total Time": 301.647, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 172.769, + "Actual Total Time": 307.373, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 194.198, + "Actual Total Time": 309.097, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 304.078, + "Actual Total Time": 304.084, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 231.271, + "Actual Total Time": 305.813, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 304.376, + "Actual Total Time": 304.385, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 153.382, + "Actual Total Time": 301.196, + "Actual Rows": 12, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 65069.43, + "Plan Rows": 11, + "Plan Width": 52, + "Actual Startup Time": 211.111, + "Actual Total Time": 305.155, + "Actual Rows": 11, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_role_id", "mc.movie_id", "mc.company_id", "n.name", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 160.917, + "Actual Total Time": 301.190, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 172.668, + "Actual Total Time": 306.894, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 194.076, + "Actual Total Time": 308.974, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 304.077, + "Actual Total Time": 304.083, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 231.186, + "Actual Total Time": 305.496, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 304.375, + "Actual Total Time": 304.382, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 153.296, + "Actual Total Time": 300.909, + "Actual Rows": 12, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 65061.52, + "Plan Rows": 14, + "Plan Width": 44, + "Actual Startup Time": 174.265, + "Actual Total Time": 304.616, + "Actual Rows": 14, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_role_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 160.819, + "Actual Total Time": 300.002, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 167.266, + "Actual Total Time": 306.215, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 191.230, + "Actual Total Time": 308.778, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 168.900, + "Actual Total Time": 303.842, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 231.056, + "Actual Total Time": 305.094, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 153.421, + "Actual Total Time": 303.838, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 153.188, + "Actual Total Time": 300.521, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 65060.37, + "Plan Rows": 14, + "Plan Width": 48, + "Actual Startup Time": 174.236, + "Actual Total Time": 304.550, + "Actual Rows": 14, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.role_id", "ci.person_role_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 160.792, + "Actual Total Time": 299.888, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 167.242, + "Actual Total Time": 306.150, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 191.205, + "Actual Total Time": 308.743, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 168.871, + "Actual Total Time": 303.794, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 231.034, + "Actual Total Time": 305.053, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 153.395, + "Actual Total Time": 303.741, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 153.157, + "Actual Total Time": 300.471, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 65033.51, + "Plan Rows": 53, + "Plan Width": 27, + "Actual Startup Time": 159.296, + "Actual Total Time": 303.358, + "Actual Rows": 53, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.role_id", "ci.person_role_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(n.id = ci.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 154.608, + "Actual Total Time": 297.258, + "Actual Rows": 115, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 167.053, + "Actual Total Time": 305.120, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 155.779, + "Actual Total Time": 308.373, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 160.384, + "Actual Total Time": 301.181, + "Actual Rows": 152, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 162.128, + "Actual Total Time": 304.468, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 153.295, + "Actual Total Time": 303.019, + "Actual Rows": 38, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 152.992, + "Actual Total Time": 299.591, + "Actual Rows": 25, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.42, + "Total Cost": 64262.73, + "Plan Rows": 195, + "Plan Width": 23, + "Actual Startup Time": 150.815, + "Actual Total Time": 289.835, + "Actual Rows": 195, + "Actual Loops": 8, + "Output": ["an.person_id", "n.name", "n.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 145.603, + "Actual Total Time": 270.848, + "Actual Rows": 444, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 153.151, + "Actual Total Time": 290.845, + "Actual Rows": 184, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 152.570, + "Actual Total Time": 298.682, + "Actual Rows": 128, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 148.413, + "Actual Total Time": 285.860, + "Actual Rows": 159, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 151.663, + "Actual Total Time": 287.485, + "Actual Rows": 197, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 147.265, + "Actual Total Time": 295.339, + "Actual Rows": 158, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 146.948, + "Actual Total Time": 292.429, + "Actual Rows": 117, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 63478.05, + "Plan Rows": 846, + "Plan Width": 19, + "Actual Startup Time": 149.996, + "Actual Total Time": 279.602, + "Actual Rows": 846, + "Actual Loops": 8, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Filter": "((n.name ~~ '%Ang%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 520090, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 144.861, + "Actual Total Time": 256.425, + "Actual Rows": 1455, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 151.732, + "Actual Total Time": 282.247, + "Actual Rows": 756, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 152.019, + "Actual Total Time": 288.158, + "Actual Rows": 724, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 146.466, + "Actual Total Time": 272.945, + "Actual Rows": 794, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 151.574, + "Actual Total Time": 279.316, + "Actual Rows": 687, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 146.232, + "Actual Total Time": 285.372, + "Actual Rows": 870, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 146.812, + "Actual Total Time": 283.605, + "Actual Rows": 745, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 6768, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1455 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 756 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 724 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 794 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 687 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 870 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 745 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 3.94, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.068, + "Actual Rows": 0, + "Actual Loops": 1558, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.person_id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 444 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.076, + "Actual Rows": 0, + "Actual Loops": 184 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.074, + "Actual Rows": 0, + "Actual Loops": 128 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.095, + "Actual Rows": 1, + "Actual Loops": 159 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.085, + "Actual Rows": 0, + "Actual Loops": 197 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 158 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 117 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 425, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2009))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 115 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 30 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 7 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 152 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 18 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 38 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 25 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.55, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 115, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note IS NOT NULL) AND ((mc.note ~~ '%(USA)%'::text) OR (mc.note ~~ '%(worldwide)%'::text)))", + "Rows Removed by Filter": 5, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 41 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.058, + "Actual Rows": 2, + "Actual Loops": 11 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.093, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 10 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.063, + "Actual Rows": 2, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 28 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.045, + "Actual Rows": 2, + "Actual Loops": 8 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 85, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 17 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 17 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.117, + "Actual Total Time": 0.117, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 15 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 12 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 82, + "Output": ["chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 15 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.081, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 15 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 12 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.16, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.213, + "Actual Rows": 2, + "Actual Loops": 77, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%200%'::text) OR (mi.info ~~ 'USA:%200%'::text)))", + "Rows Removed by Filter": 166, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 14 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.131, + "Actual Rows": 3, + "Actual Loops": 15 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.118, + "Actual Total Time": 0.142, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.276, + "Actual Rows": 2, + "Actual Loops": 12 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.263, + "Actual Rows": 2, + "Actual Loops": 12 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.065, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.061, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2080431693778951356, + "Planning Time": 202.027, + "Triggers": [ + ], + "Execution Time": 324.131, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -2080431693778951356, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(n.name) AS voicing_actress,
       MIN(t.title) AS kung_fu_panda
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note = '(voice)'
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND mc.note LIKE '%(200%)%'
  AND (mc.note LIKE '%(USA)%'
       OR mc.note LIKE '%(worldwide)%')
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%2007%'
       OR mi.info LIKE 'USA:%2008%')
  AND n.gender ='f'
  AND n.name LIKE '%Angel%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2007 AND 2008
  AND t.title LIKE '%Kung%Fu%Panda%'
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mi.movie_id = ci.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 40352.11, + "Total Cost": 40352.12, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 765.294, + "Actual Total Time": 792.540, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 40352.06, + "Total Cost": 40352.07, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 764.778, + "Actual Total Time": 792.524, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 40351.06, + "Total Cost": 40351.07, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 753.422, + "Actual Total Time": 753.431, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 755.037, + "Actual Total Time": 755.046, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 755.741, + "Actual Total Time": 755.750, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 749.935, + "Actual Total Time": 749.943, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 749.494, + "Actual Total Time": 749.502, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 755.288, + "Actual Total Time": 755.295, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 748.346, + "Actual Total Time": 748.354, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 749.679, + "Actual Total Time": 749.686, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.27, + "Total Cost": 40351.05, + "Plan Rows": 2, + "Plan Width": 32, + "Actual Startup Time": 671.606, + "Actual Total Time": 753.421, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 755.033, + "Actual Total Time": 755.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 506.633, + "Actual Total Time": 755.733, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 749.929, + "Actual Total Time": 749.937, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 749.488, + "Actual Total Time": 749.495, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 755.284, + "Actual Total Time": 755.291, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 342.956, + "Actual Total Time": 748.331, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 749.674, + "Actual Total Time": 749.681, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.85, + "Total Cost": 40350.54, + "Plan Rows": 1, + "Plan Width": 40, + "Actual Startup Time": 671.591, + "Actual Total Time": 753.403, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 755.031, + "Actual Total Time": 755.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 506.579, + "Actual Total Time": 755.673, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 749.928, + "Actual Total Time": 749.935, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 749.487, + "Actual Total Time": 749.494, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 755.283, + "Actual Total Time": 755.289, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 342.899, + "Actual Total Time": 748.249, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 749.673, + "Actual Total Time": 749.679, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.70, + "Total Cost": 40350.35, + "Plan Rows": 1, + "Plan Width": 44, + "Actual Startup Time": 671.579, + "Actual Total Time": 753.388, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info_type_id", "n.name", "n.id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 755.031, + "Actual Total Time": 755.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 506.525, + "Actual Total Time": 755.617, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 749.927, + "Actual Total Time": 749.933, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 749.486, + "Actual Total Time": 749.492, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 755.282, + "Actual Total Time": 755.287, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 342.861, + "Actual Total Time": 748.200, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 749.672, + "Actual Total Time": 749.677, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 40349.13, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 671.555, + "Actual Total Time": 753.225, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "n.name", "n.id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 755.030, + "Actual Total Time": 755.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 506.429, + "Actual Total Time": 755.179, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 749.926, + "Actual Total Time": 749.932, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 749.485, + "Actual Total Time": 749.491, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 755.281, + "Actual Total Time": 755.286, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 342.763, + "Actual Total Time": 747.338, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 749.672, + "Actual Total Time": 749.676, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 40348.67, + "Plan Rows": 1, + "Plan Width": 56, + "Actual Startup Time": 671.535, + "Actual Total Time": 753.202, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id", "mc.movie_id", "n.name", "n.id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 755.029, + "Actual Total Time": 755.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 506.338, + "Actual Total Time": 755.087, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 749.926, + "Actual Total Time": 749.930, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 749.484, + "Actual Total Time": 749.489, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 755.281, + "Actual Total Time": 755.285, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 342.699, + "Actual Total Time": 747.253, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 749.671, + "Actual Total Time": 749.675, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 40347.00, + "Plan Rows": 3, + "Plan Width": 37, + "Actual Startup Time": 670.375, + "Actual Total Time": 753.131, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 755.028, + "Actual Total Time": 755.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 497.219, + "Actual Total Time": 754.819, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 749.925, + "Actual Total Time": 749.928, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 749.484, + "Actual Total Time": 749.488, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 755.280, + "Actual Total Time": 755.283, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 342.546, + "Actual Total Time": 746.966, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 749.670, + "Actual Total Time": 749.673, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 40345.85, + "Plan Rows": 12, + "Plan Width": 41, + "Actual Startup Time": 670.195, + "Actual Total Time": 752.973, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 754.920, + "Actual Total Time": 754.923, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 497.009, + "Actual Total Time": 754.689, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 749.767, + "Actual Total Time": 749.769, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 749.346, + "Actual Total Time": 749.348, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 755.224, + "Actual Total Time": 755.226, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 342.230, + "Actual Total Time": 746.758, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 749.533, + "Actual Total Time": 749.535, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 40342.73, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 670.172, + "Actual Total Time": 752.617, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 754.919, + "Actual Total Time": 754.921, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 496.941, + "Actual Total Time": 753.591, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 749.766, + "Actual Total Time": 749.767, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 749.345, + "Actual Total Time": 749.347, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 755.224, + "Actual Total Time": 755.225, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 342.123, + "Actual Total Time": 745.024, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 749.532, + "Actual Total Time": 749.533, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 25002.61, + "Plan Rows": 22133, + "Plan Width": 4, + "Actual Startup Time": 0.256, + "Actual Total Time": 450.007, + "Actual Rows": 22133, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.158, + "Actual Total Time": 486.810, + "Actual Rows": 19558, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.440, + "Actual Total Time": 438.428, + "Actual Rows": 23544, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.403, + "Actual Total Time": 462.312, + "Actual Rows": 21165, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.275, + "Actual Total Time": 457.286, + "Actual Rows": 22781, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.160, + "Actual Total Time": 437.427, + "Actual Rows": 23261, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.246, + "Actual Total Time": 412.976, + "Actual Rows": 25072, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.272, + "Actual Total Time": 428.830, + "Actual Rows": 23150, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.058, + "Actual Total Time": 17.086, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.039, + "Actual Total Time": 19.657, + "Actual Rows": 11282, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.036, + "Actual Total Time": 16.778, + "Actual Rows": 10966, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 18.517, + "Actual Rows": 11731, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.096, + "Actual Total Time": 16.413, + "Actual Rows": 10546, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 16.128, + "Actual Rows": 10243, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.081, + "Actual Total Time": 13.330, + "Actual Rows": 8231, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.097, + "Actual Total Time": 16.973, + "Actual Rows": 11115, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 2.02, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.039, + "Actual Rows": 2, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(200%)%'::text) AND ((mc.note ~~ '%(USA)%'::text) OR (mc.note ~~ '%(worldwide)%'::text)))", + "Rows Removed by Filter": 12, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.040, + "Actual Rows": 2, + "Actual Loops": 11282 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.037, + "Actual Rows": 2, + "Actual Loops": 10966 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.037, + "Actual Rows": 2, + "Actual Loops": 11731 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.040, + "Actual Rows": 2, + "Actual Loops": 10546 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.040, + "Actual Rows": 2, + "Actual Loops": 10243 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.047, + "Actual Rows": 3, + "Actual Loops": 8231 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.036, + "Actual Rows": 2, + "Actual Loops": 11115 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.69, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 177065, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2007) AND (t.production_year <= 2008) AND (t.title ~~ '%Kung%Fu%Panda%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 19558 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 23544 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 21165 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 22781 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 23261 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 25072 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 23150 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 2.81, + "Plan Rows": 25, + "Plan Width": 16, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.690, + "Actual Rows": 25, + "Actual Loops": 4, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = '(voice)'::text)", + "Rows Removed by Filter": 127, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.533, + "Actual Rows": 24, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.848, + "Actual Rows": 26, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.086, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.075, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.56, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 24, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%Angel%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 12 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 12 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.088, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.21, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.086, + "Actual Total Time": 0.429, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%2007%'::text) OR (mi.info ~~ 'USA:%2008%'::text)))", + "Rows Removed by Filter": 372, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.432, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.083, + "Actual Total Time": 0.427, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["it.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["it.id"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.041, + "Actual Rows": 5, + "Actual Loops": 3, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.054, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.035, + "Actual Rows": 5, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2216088972165640435, + "Planning Time": 188.409, + "Triggers": [ + ], + "Execution Time": 792.931, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -2216088972165640435, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(n.name) AS voicing_actress,
       MIN(t.title) AS jap_engl_voiced_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%200%'
       OR mi.info LIKE 'USA:%200%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.production_year > 2000
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mi.movie_id = ci.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 74272.03, + "Total Cost": 74272.04, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 556.740, + "Actual Total Time": 565.639, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 74271.98, + "Total Cost": 74271.99, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 556.312, + "Actual Total Time": 565.608, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 74270.98, + "Total Cost": 74270.99, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 544.084, + "Actual Total Time": 544.096, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 546.485, + "Actual Total Time": 546.497, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 546.601, + "Actual Total Time": 546.612, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 539.489, + "Actual Total Time": 539.500, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 546.601, + "Actual Total Time": 546.614, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 538.788, + "Actual Total Time": 538.800, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 539.602, + "Actual Total Time": 539.615, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 539.845, + "Actual Total Time": 539.855, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.95, + "Total Cost": 74268.75, + "Plan Rows": 447, + "Plan Width": 32, + "Actual Startup Time": 172.276, + "Actual Total Time": 543.526, + "Actual Rows": 447, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 164.733, + "Actual Total Time": 546.253, + "Actual Rows": 188, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 164.841, + "Actual Total Time": 546.376, + "Actual Rows": 155, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 173.740, + "Actual Total Time": 538.716, + "Actual Rows": 646, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 180.074, + "Actual Total Time": 545.909, + "Actual Rows": 528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 178.314, + "Actual Total Time": 537.757, + "Actual Rows": 903, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 160.515, + "Actual Total Time": 538.972, + "Actual Rows": 430, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 172.713, + "Actual Total Time": 539.409, + "Actual Rows": 368, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.11, + "Total Cost": 74265.69, + "Plan Rows": 447, + "Plan Width": 36, + "Actual Startup Time": 171.789, + "Actual Total Time": 542.429, + "Actual Rows": 447, + "Actual Loops": 8, + "Output": ["mi.info_type_id", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 164.467, + "Actual Total Time": 545.715, + "Actual Rows": 188, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 164.520, + "Actual Total Time": 545.832, + "Actual Rows": 155, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 173.113, + "Actual Total Time": 537.233, + "Actual Rows": 646, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 179.754, + "Actual Total Time": 544.863, + "Actual Rows": 528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 177.658, + "Actual Total Time": 535.883, + "Actual Rows": 903, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 159.886, + "Actual Total Time": 537.750, + "Actual Rows": 430, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 172.039, + "Actual Total Time": 538.219, + "Actual Rows": 368, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.68, + "Total Cost": 74051.16, + "Plan Rows": 468, + "Plan Width": 40, + "Actual Startup Time": 171.711, + "Actual Total Time": 537.058, + "Actual Rows": 468, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "mi.info_type_id", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 164.391, + "Actual Total Time": 543.432, + "Actual Rows": 188, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 164.427, + "Actual Total Time": 543.886, + "Actual Rows": 160, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 173.003, + "Actual Total Time": 529.525, + "Actual Rows": 682, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 179.678, + "Actual Total Time": 538.610, + "Actual Rows": 603, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 177.584, + "Actual Total Time": 524.786, + "Actual Rows": 940, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 159.796, + "Actual Total Time": 532.570, + "Actual Rows": 442, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 171.965, + "Actual Total Time": 533.883, + "Actual Rows": 370, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.25, + "Total Cost": 73504.76, + "Plan Rows": 536, + "Plan Width": 48, + "Actual Startup Time": 168.281, + "Actual Total Time": 491.658, + "Actual Rows": 536, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_role_id", "mc.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 164.254, + "Actual Total Time": 534.973, + "Actual Rows": 194, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 163.206, + "Actual Total Time": 529.703, + "Actual Rows": 162, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 160.440, + "Actual Total Time": 452.757, + "Actual Rows": 1587, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 171.063, + "Actual Total Time": 453.251, + "Actual Rows": 502, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 177.468, + "Actual Total Time": 451.993, + "Actual Rows": 811, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 155.780, + "Actual Total Time": 506.890, + "Actual Rows": 332, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 171.253, + "Actual Total Time": 489.628, + "Actual Rows": 429, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 72852.91, + "Plan Rows": 1476, + "Plan Width": 52, + "Actual Startup Time": 162.980, + "Actual Total Time": 470.482, + "Actual Rows": 1476, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_role_id", "mc.movie_id", "mc.company_id", "n.name", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 159.431, + "Actual Total Time": 524.781, + "Actual Rows": 681, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 160.168, + "Actual Total Time": 517.436, + "Actual Rows": 735, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 160.376, + "Actual Total Time": 402.117, + "Actual Rows": 4085, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 162.873, + "Actual Total Time": 426.037, + "Actual Rows": 1882, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 177.237, + "Actual Total Time": 427.156, + "Actual Rows": 1729, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 155.690, + "Actual Total Time": 493.385, + "Actual Rows": 828, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 159.490, + "Actual Total Time": 470.212, + "Actual Rows": 1178, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 72525.51, + "Plan Rows": 606, + "Plan Width": 44, + "Actual Startup Time": 162.429, + "Actual Total Time": 459.804, + "Actual Rows": 606, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_role_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 159.350, + "Actual Total Time": 519.639, + "Actual Rows": 240, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 160.089, + "Actual Total Time": 511.683, + "Actual Rows": 254, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 160.307, + "Actual Total Time": 367.601, + "Actual Rows": 2530, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 162.792, + "Actual Total Time": 418.302, + "Actual Rows": 232, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 173.378, + "Actual Total Time": 415.850, + "Actual Rows": 521, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 155.604, + "Actual Total Time": 484.443, + "Actual Rows": 545, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 159.400, + "Actual Total Time": 463.660, + "Actual Rows": 269, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 72522.26, + "Plan Rows": 606, + "Plan Width": 48, + "Actual Startup Time": 162.400, + "Actual Total Time": 458.901, + "Actual Rows": 606, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.role_id", "ci.person_role_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 159.327, + "Actual Total Time": 519.187, + "Actual Rows": 240, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 160.068, + "Actual Total Time": 511.184, + "Actual Rows": 254, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 160.277, + "Actual Total Time": 364.352, + "Actual Rows": 2530, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 162.768, + "Actual Total Time": 417.826, + "Actual Rows": 232, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 173.347, + "Actual Total Time": 415.056, + "Actual Rows": 521, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 155.575, + "Actual Total Time": 483.648, + "Actual Rows": 545, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 159.368, + "Actual Total Time": 463.148, + "Actual Rows": 269, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 72004.86, + "Plan Rows": 1026, + "Plan Width": 27, + "Actual Startup Time": 159.874, + "Actual Total Time": 443.664, + "Actual Rows": 1026, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.role_id", "ci.person_role_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(n.id = ci.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 159.246, + "Actual Total Time": 511.869, + "Actual Rows": 429, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 159.983, + "Actual Total Time": 502.386, + "Actual Rows": 490, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 160.170, + "Actual Total Time": 321.517, + "Actual Rows": 3281, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 162.622, + "Actual Total Time": 408.627, + "Actual Rows": 454, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 161.343, + "Actual Total Time": 399.830, + "Actual Rows": 1080, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 155.470, + "Actual Total Time": 463.008, + "Actual Rows": 1427, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 151.753, + "Actual Total Time": 454.313, + "Actual Rows": 512, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.42, + "Total Cost": 66803.05, + "Plan Rows": 1316, + "Plan Width": 23, + "Actual Startup Time": 155.831, + "Actual Total Time": 354.585, + "Actual Rows": 1316, + "Actual Loops": 8, + "Output": ["an.person_id", "n.name", "n.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 158.711, + "Actual Total Time": 413.257, + "Actual Rows": 1601, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 158.336, + "Actual Total Time": 390.459, + "Actual Rows": 1644, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 150.795, + "Actual Total Time": 259.220, + "Actual Rows": 773, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 158.772, + "Actual Total Time": 329.381, + "Actual Rows": 1266, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 149.915, + "Actual Total Time": 332.970, + "Actual Rows": 957, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 150.757, + "Actual Total Time": 357.704, + "Actual Rows": 1594, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 151.621, + "Actual Total Time": 362.699, + "Actual Rows": 1247, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 63478.05, + "Plan Rows": 6251, + "Plan Width": 19, + "Actual Startup Time": 155.571, + "Actual Total Time": 292.913, + "Actual Rows": 6251, + "Actual Loops": 8, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 514685, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 158.137, + "Actual Total Time": 336.138, + "Actual Rows": 8041, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 158.178, + "Actual Total Time": 307.410, + "Actual Rows": 8114, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 150.441, + "Actual Total Time": 225.862, + "Actual Rows": 3439, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 158.449, + "Actual Total Time": 274.856, + "Actual Rows": 5604, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 149.811, + "Actual Total Time": 284.078, + "Actual Rows": 4622, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 150.614, + "Actual Total Time": 286.094, + "Actual Rows": 7615, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 151.503, + "Actual Total Time": 302.038, + "Actual Rows": 5980, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 50011, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 8041 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 8114 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 3439 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 5604 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 4622 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 7615 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 5980 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 3.94, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.066, + "Actual Rows": 1, + "Actual Loops": 10525, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.person_id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 1601 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 1644 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.077, + "Actual Rows": 4, + "Actual Loops": 773 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 1266 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.068, + "Actual Rows": 1, + "Actual Loops": 957 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.065, + "Actual Rows": 1, + "Actual Loops": 1594 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.072, + "Actual Rows": 0, + "Actual Loops": 1247 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 8204, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 429 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 490 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 3281 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 454 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1080 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1427 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 512 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 4845, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 240 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.020, + "Actual Rows": 3, + "Actual Loops": 254 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 2530 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.028, + "Actual Rows": 8, + "Actual Loops": 232 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 521 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 545 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.021, + "Actual Rows": 4, + "Actual Loops": 269 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 11811, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 681 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 735 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 4085 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1882 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1729 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 828 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1178 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.01, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.083, + "Actual Rows": 1, + "Actual Loops": 4284, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%200%'::text) OR (mi.info ~~ 'USA:%200%'::text)))", + "Rows Removed by Filter": 55, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 194 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.086, + "Actual Rows": 1, + "Actual Loops": 162 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1587 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.168, + "Actual Rows": 1, + "Actual Loops": 502 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.088, + "Actual Rows": 1, + "Actual Loops": 811 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.076, + "Actual Rows": 1, + "Actual Loops": 332 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.102, + "Actual Rows": 1, + "Actual Loops": 429 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 3744, + "Output": ["chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 188 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 160 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 682 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 603 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 940 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 442 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 370 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.076, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.061, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5068614643165729469, + "Planning Time": 194.969, + "Triggers": [ + ], + "Execution Time": 566.070, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 5068614643165729469, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(n.name) AS voicing_actress,
       MIN(t.title) AS jap_engl_voiced_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND n.gender ='f'
  AND rt.role ='actress'
  AND t.production_year > 2000
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mi.movie_id = ci.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 185645.53, + "Total Cost": 185645.54, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 10291.890, + "Actual Total Time": 10340.455, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 185645.48, + "Total Cost": 185645.49, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 10238.745, + "Actual Total Time": 10340.417, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 185644.48, + "Total Cost": 185644.49, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 10233.722, + "Actual Total Time": 10233.739, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10227.868, + "Actual Total Time": 10227.885, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10227.766, + "Actual Total Time": 10227.781, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10228.433, + "Actual Total Time": 10228.448, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10221.679, + "Actual Total Time": 10221.695, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10228.433, + "Actual Total Time": 10228.449, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10276.178, + "Actual Total Time": 10276.197, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10221.685, + "Actual Total Time": 10221.701, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 175423.34, + "Total Cost": 184544.07, + "Plan Rows": 220081, + "Plan Width": 32, + "Actual Startup Time": 9962.256, + "Actual Total Time": 10121.129, + "Actual Rows": 220081, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": false, + "Hash Cond": "(an.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9962.597, + "Actual Total Time": 10121.072, + "Actual Rows": 248687, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9962.379, + "Actual Total Time": 10121.880, + "Actual Rows": 246351, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9963.050, + "Actual Total Time": 10120.810, + "Actual Rows": 200231, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9956.466, + "Actual Total Time": 10123.267, + "Actual Rows": 182813, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9963.029, + "Actual Total Time": 10114.905, + "Actual Rows": 207908, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9962.457, + "Actual Total Time": 10128.983, + "Actual Rows": 273889, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9956.465, + "Actual Total Time": 10100.048, + "Actual Rows": 221760, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 8730.32, + "Plan Rows": 98049, + "Plan Width": 4, + "Actual Startup Time": 0.234, + "Actual Total Time": 45.480, + "Actual Rows": 112668, + "Actual Loops": 8, + "Output": ["an.person_id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.128, + "Actual Total Time": 47.269, + "Actual Rows": 138424, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.258, + "Actual Total Time": 48.516, + "Actual Rows": 141367, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.323, + "Actual Total Time": 44.101, + "Actual Rows": 108186, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.228, + "Actual Total Time": 57.876, + "Actual Rows": 139595, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.363, + "Actual Total Time": 42.982, + "Actual Rows": 106310, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.295, + "Actual Total Time": 30.571, + "Actual Rows": 60414, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.188, + "Actual Total Time": 33.277, + "Actual Rows": 81141, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 174193.17, + "Total Cost": 174193.17, + "Plan Rows": 98380, + "Plan Width": 40, + "Actual Startup Time": 9919.970, + "Actual Total Time": 9919.985, + "Actual Rows": 98380, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.name", "n.id", "t.title"], + "Hash Buckets": 1048576, + "Original Hash Buckets": 1048576, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 69376, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9922.727, + "Actual Total Time": 9922.742, + "Actual Rows": 61402, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9922.611, + "Actual Total Time": 9922.625, + "Actual Rows": 126837, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9923.334, + "Actual Total Time": 9923.348, + "Actual Rows": 101509, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9916.136, + "Actual Total Time": 9916.149, + "Actual Rows": 88779, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9923.333, + "Actual Total Time": 9923.348, + "Actual Rows": 94092, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9922.717, + "Actual Total Time": 9922.732, + "Actual Rows": 127597, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9916.136, + "Actual Total Time": 9916.150, + "Actual Rows": 101557, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42148.12, + "Total Cost": 174193.17, + "Plan Rows": 98380, + "Plan Width": 40, + "Actual Startup Time": 358.448, + "Actual Total Time": 9797.056, + "Actual Rows": 98380, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 358.878, + "Actual Total Time": 9841.792, + "Actual Rows": 61402, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 354.555, + "Actual Total Time": 9783.722, + "Actual Rows": 126837, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 353.725, + "Actual Total Time": 9782.812, + "Actual Rows": 101509, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 352.081, + "Actual Total Time": 9809.513, + "Actual Rows": 88779, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 362.127, + "Actual Total Time": 9803.833, + "Actual Rows": 94092, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 357.860, + "Actual Total Time": 9784.117, + "Actual Rows": 127597, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 362.905, + "Actual Total Time": 9779.372, + "Actual Rows": 101557, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42146.28, + "Total Cost": 172684.29, + "Plan Rows": 553355, + "Plan Width": 44, + "Actual Startup Time": 358.311, + "Actual Total Time": 9578.171, + "Actual Rows": 553355, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info_type_id", "n.name", "n.id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 358.768, + "Actual Total Time": 9707.136, + "Actual Rows": 339523, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 354.443, + "Actual Total Time": 9520.796, + "Actual Rows": 653141, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 353.593, + "Actual Total Time": 9503.360, + "Actual Rows": 749150, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 351.926, + "Actual Total Time": 9627.605, + "Actual Rows": 440421, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 362.017, + "Actual Total Time": 9617.356, + "Actual Rows": 468053, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 357.749, + "Actual Total Time": 9480.815, + "Actual Rows": 762702, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 362.748, + "Actual Total Time": 9556.971, + "Actual Rows": 551734, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42145.84, + "Total Cost": 157414.14, + "Plan Rows": 12165, + "Plan Width": 52, + "Actual Startup Time": 358.231, + "Actual Total Time": 8789.381, + "Actual Rows": 12165, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "n.name", "n.id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 358.681, + "Actual Total Time": 9181.021, + "Actual Rows": 10496, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 354.322, + "Actual Total Time": 8611.677, + "Actual Rows": 11816, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 353.508, + "Actual Total Time": 8487.398, + "Actual Rows": 13660, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 351.837, + "Actual Total Time": 8941.961, + "Actual Rows": 15023, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 361.953, + "Actual Total Time": 8936.707, + "Actual Rows": 12433, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 357.683, + "Actual Total Time": 8374.605, + "Actual Rows": 16936, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 362.663, + "Actual Total Time": 8801.474, + "Actual Rows": 8488, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42145.41, + "Total Cost": 150904.23, + "Plan Rows": 12173, + "Plan Width": 33, + "Actual Startup Time": 358.135, + "Actual Total Time": 8589.994, + "Actual Rows": 12173, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 358.562, + "Actual Total Time": 9017.956, + "Actual Rows": 10505, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 354.206, + "Actual Total Time": 8418.005, + "Actual Rows": 11826, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 353.402, + "Actual Total Time": 8266.870, + "Actual Rows": 13668, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 351.736, + "Actual Total Time": 8699.832, + "Actual Rows": 15031, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 361.872, + "Actual Total Time": 8746.156, + "Actual Rows": 12445, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 357.608, + "Actual Total Time": 8098.667, + "Actual Rows": 16946, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 362.555, + "Actual Total Time": 8646.179, + "Actual Rows": 8492, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42144.98, + "Total Cost": 144922.78, + "Plan Rows": 13049, + "Plan Width": 37, + "Actual Startup Time": 357.535, + "Actual Total Time": 8410.925, + "Actual Rows": 13049, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 358.437, + "Actual Total Time": 8864.311, + "Actual Rows": 11339, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 354.101, + "Actual Total Time": 8245.006, + "Actual Rows": 12554, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 353.279, + "Actual Total Time": 8058.416, + "Actual Rows": 14508, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 351.618, + "Actual Total Time": 8495.412, + "Actual Rows": 15830, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 361.778, + "Actual Total Time": 8568.809, + "Actual Rows": 13396, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 357.522, + "Actual Total Time": 7844.580, + "Actual Rows": 18337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 358.458, + "Actual Total Time": 8510.278, + "Actual Rows": 9329, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42143.88, + "Total Cost": 144763.08, + "Plan Rows": 44650, + "Plan Width": 41, + "Actual Startup Time": 355.983, + "Actual Total Time": 8383.215, + "Actual Rows": 44650, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 356.376, + "Actual Total Time": 8841.797, + "Actual Rows": 36065, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 353.876, + "Actual Total Time": 8216.728, + "Actual Rows": 45431, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 353.094, + "Actual Total Time": 8028.718, + "Actual Rows": 50667, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 351.110, + "Actual Total Time": 8466.101, + "Actual Rows": 48688, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 356.744, + "Actual Total Time": 8541.102, + "Actual Rows": 45383, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 357.316, + "Actual Total Time": 7803.344, + "Actual Rows": 66694, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 354.485, + "Actual Total Time": 8487.521, + "Actual Rows": 34188, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42143.44, + "Total Cost": 64660.86, + "Plan Rows": 58598, + "Plan Width": 25, + "Actual Startup Time": 350.457, + "Actual Total Time": 1097.834, + "Actual Rows": 58598, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 350.454, + "Actual Total Time": 1159.807, + "Actual Rows": 63827, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 350.465, + "Actual Total Time": 1102.024, + "Actual Rows": 57860, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 350.456, + "Actual Total Time": 997.796, + "Actual Rows": 51526, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 350.449, + "Actual Total Time": 1154.302, + "Actual Rows": 63129, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 350.480, + "Actual Total Time": 1115.099, + "Actual Rows": 60627, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 350.459, + "Actual Total Time": 1081.266, + "Actual Rows": 54592, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 350.441, + "Actual Total Time": 1063.869, + "Actual Rows": 58764, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 22139.26, + "Plan Rows": 144225, + "Plan Width": 4, + "Actual Startup Time": 0.094, + "Actual Total Time": 584.195, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.102, + "Actual Total Time": 615.160, + "Actual Rows": 174047, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.090, + "Actual Total Time": 598.308, + "Actual Rows": 133269, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.090, + "Actual Total Time": 498.426, + "Actual Rows": 109735, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.095, + "Actual Total Time": 637.860, + "Actual Rows": 153556, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.101, + "Actual Total Time": 606.318, + "Actual Rows": 143746, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.089, + "Actual Total Time": 581.199, + "Actual Rows": 125617, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.093, + "Actual Total Time": 556.420, + "Actual Rows": 142969, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 24.685, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 24.216, + "Actual Rows": 10382, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 26.814, + "Actual Rows": 11036, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 21.931, + "Actual Rows": 9563, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 28.098, + "Actual Rows": 12129, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 25.157, + "Actual Rows": 11183, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 24.604, + "Actual Rows": 11136, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 24.369, + "Actual Rows": 9833, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.63, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.046, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.050, + "Actual Rows": 17, + "Actual Loops": 10382 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.045, + "Actual Rows": 12, + "Actual Loops": 11036 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.043, + "Actual Rows": 11, + "Actual Loops": 9563 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.044, + "Actual Rows": 13, + "Actual Loops": 12129 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.046, + "Actual Rows": 13, + "Actual Loops": 11183 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.044, + "Actual Rows": 11, + "Actual Loops": 11136 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.047, + "Actual Rows": 15, + "Actual Loops": 9833 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 39984.49, + "Total Cost": 39984.49, + "Plan Rows": 172682, + "Plan Width": 21, + "Actual Startup Time": 345.977, + "Actual Total Time": 345.979, + "Actual Rows": 172682, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Hash Buckets": 2097152, + "Original Hash Buckets": 2097152, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 93952, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 350.306, + "Actual Total Time": 350.307, + "Actual Rows": 176662, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 315.590, + "Actual Total Time": 315.591, + "Actual Rows": 183948, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 350.332, + "Actual Total Time": 350.333, + "Actual Rows": 181648, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 350.310, + "Actual Total Time": 350.311, + "Actual Rows": 161924, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 350.311, + "Actual Total Time": 350.313, + "Actual Rows": 174554, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 350.336, + "Actual Total Time": 350.337, + "Actual Rows": 154147, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 350.309, + "Actual Total Time": 350.310, + "Actual Rows": 163483, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.00, + "Total Cost": 39984.49, + "Plan Rows": 172682, + "Plan Width": 21, + "Actual Startup Time": 0.064, + "Actual Total Time": 167.720, + "Actual Rows": 172682, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 143357, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.048, + "Actual Total Time": 164.452, + "Actual Rows": 176662, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.062, + "Actual Total Time": 170.565, + "Actual Rows": 183948, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.060, + "Actual Total Time": 170.061, + "Actual Rows": 181648, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.084, + "Actual Total Time": 167.717, + "Actual Rows": 161924, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.101, + "Actual Total Time": 165.442, + "Actual Rows": 174554, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.062, + "Actual Total Time": 170.213, + "Actual Rows": 154147, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.048, + "Actual Total Time": 165.779, + "Actual Rows": 163483, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.35, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.107, + "Actual Total Time": 0.123, + "Actual Rows": 1, + "Actual Loops": 468787, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))",+ "Rows Removed by Filter": 34, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.107, + "Actual Total Time": 0.119, + "Actual Rows": 1, + "Actual Loops": 63827 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.106, + "Actual Total Time": 0.121, + "Actual Rows": 1, + "Actual Loops": 57860 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.116, + "Actual Total Time": 0.135, + "Actual Rows": 1, + "Actual Loops": 51526 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.100, + "Actual Total Time": 0.114, + "Actual Rows": 1, + "Actual Loops": 63129 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.106, + "Actual Total Time": 0.121, + "Actual Rows": 1, + "Actual Loops": 60627 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.102, + "Actual Total Time": 0.121, + "Actual Rows": 1, + "Actual Loops": 54592 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.109, + "Actual Total Time": 0.125, + "Actual Rows": 1, + "Actual Loops": 58764 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.088, + "Actual Total Time": 0.089, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.086, + "Actual Total Time": 0.087, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.077, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.096, + "Actual Total Time": 0.097, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.081, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.090, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.097, + "Actual Total Time": 0.098, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.091, + "Actual Total Time": 0.092, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 104391, + "Output": ["chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 11339 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 12554 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 14508 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 15830 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 13396 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 18337 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 9329 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 97386, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'f'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 10505 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 11826 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 13668 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 15031 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 12445 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 16946 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 8492 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 29, + "Plan Width": 8, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.047, + "Actual Rows": 45, + "Actual Loops": 97320, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.037, + "Actual Rows": 32, + "Actual Loops": 10496 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.055, + "Actual Rows": 55, + "Actual Loops": 11816 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.052, + "Actual Rows": 55, + "Actual Loops": 13660 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.033, + "Actual Rows": 29, + "Actual Loops": 15023 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.040, + "Actual Rows": 38, + "Actual Loops": 12433 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.047, + "Actual Rows": 45, + "Actual Loops": 16936 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.063, + "Actual Rows": 65, + "Actual Loops": 8488 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 14, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7915967579038312663, + "Planning Time": 207.025, + "Triggers": [ + ], + "Execution Time": 10340.874, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7915967579038312663, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_title,
       MIN(t.production_year) AS movie_year
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info_idx AS mi_idx,
     title AS t
WHERE ct.kind = 'production companies'
  AND it.info = 'top 250 rank'
  AND mc.note NOT LIKE '%(as Metro-Goldwyn-Mayer Pictures)%'
  AND (mc.note LIKE '%(co-production)%'
       OR mc.note LIKE '%(presents)%')
  AND ct.id = mc.company_type_id
  AND t.id = mc.movie_id
  AND t.id = mi_idx.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10160.05, + "Total Cost": 10160.06, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 127.456, + "Actual Total Time": 130.484, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mc.note)", "min(t.title)", "min(t.production_year)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10159.98, + "Total Cost": 10159.99, + "Plan Rows": 8, + "Plan Width": 68, + "Actual Startup Time": 120.283, + "Actual Total Time": 130.470, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mc.note))", "(PARTIAL min(t.title))", "(PARTIAL min(t.production_year))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10158.98, + "Total Cost": 10158.99, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 106.825, + "Actual Total Time": 106.831, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mc.note)", "PARTIAL min(t.title)", "PARTIAL min(t.production_year)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.127, + "Actual Total Time": 104.132, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 101.888, + "Actual Total Time": 101.895, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 102.429, + "Actual Total Time": 102.436, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 101.932, + "Actual Total Time": 101.940, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 102.974, + "Actual Total Time": 102.980, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 119.266, + "Actual Total Time": 119.269, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 102.684, + "Actual Total Time": 102.690, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 10158.84, + "Plan Rows": 18, + "Plan Width": 45, + "Actual Startup Time": 103.644, + "Actual Total Time": 106.799, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["mc.note", "t.title", "t.production_year"], + "Inner Unique": true, + "Join Filter": "(mc.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.122, + "Actual Total Time": 104.127, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 101.882, + "Actual Total Time": 101.888, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 102.424, + "Actual Total Time": 102.430, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 101.925, + "Actual Total Time": 101.931, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 102.967, + "Actual Total Time": 102.973, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 103.135, + "Actual Total Time": 119.147, + "Actual Rows": 95, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 102.678, + "Actual Total Time": 102.684, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.41, + "Total Cost": 10149.95, + "Plan Rows": 18, + "Plan Width": 32, + "Actual Startup Time": 103.621, + "Actual Total Time": 106.382, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["mc.note", "mc.movie_id", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.121, + "Actual Total Time": 104.125, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 101.881, + "Actual Total Time": 101.886, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 102.423, + "Actual Total Time": 102.428, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 101.924, + "Actual Total Time": 101.930, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 102.967, + "Actual Total Time": 102.971, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 103.045, + "Actual Total Time": 117.087, + "Actual Rows": 95, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 102.677, + "Actual Total Time": 102.683, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10149.07, + "Plan Rows": 18, + "Plan Width": 36, + "Actual Startup Time": 103.604, + "Actual Total Time": 106.327, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "mc.note", "mc.company_type_id", "mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.121, + "Actual Total Time": 104.124, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 101.881, + "Actual Total Time": 101.884, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 102.423, + "Actual Total Time": 102.426, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 101.923, + "Actual Total Time": 101.927, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 102.966, + "Actual Total Time": 102.969, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 102.982, + "Actual Total Time": 116.854, + "Actual Rows": 95, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 102.677, + "Actual Total Time": 102.681, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 31, + "Plan Width": 4, + "Actual Startup Time": 103.542, + "Actual Total Time": 103.599, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.120, + "Actual Total Time": 104.122, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 101.880, + "Actual Total Time": 101.883, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 102.422, + "Actual Total Time": 102.424, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 101.922, + "Actual Total Time": 101.925, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 102.965, + "Actual Total Time": 102.968, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 102.661, + "Actual Total Time": 102.944, + "Actual Rows": 162, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 102.676, + "Actual Total Time": 102.679, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.029, + "Actual Total Time": 43.628, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 44.502, + "Actual Rows": 181583, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 41.599, + "Actual Rows": 161749, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 45.867, + "Actual Rows": 156880, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.035, + "Actual Total Time": 42.385, + "Actual Rows": 168362, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 43.910, + "Actual Rows": 201209, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 41.504, + "Actual Rows": 159850, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 43.503, + "Actual Rows": 168023, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.074, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'top 250 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.55, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.086, + "Actual Rows": 1, + "Actual Loops": 250, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(as Metro-Goldwyn-Mayer Pictures)%'::text) AND ((mc.note ~~ '%(co-production)%'::text) OR (mc.note ~~ '%(presents)%'::text)))", + "Rows Removed by Filter": 33, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.084, + "Actual Total Time": 0.085, + "Actual Rows": 1, + "Actual Loops": 162 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 147, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 50, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 95, + "Cache Hits": 94, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 142, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 95 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1116224040252844741, + "Planning Time": 16.021, + "Triggers": [ + ], + "Execution Time": 130.816, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -1116224040252844741, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_title,
       MIN(t.production_year) AS movie_year
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info_idx AS mi_idx,
     title AS t
WHERE ct.kind = 'production companies'
  AND it.info = 'bottom 10 rank'
  AND mc.note NOT LIKE '%(as Metro-Goldwyn-Mayer Pictures)%'
  AND t.production_year BETWEEN 2005 AND 2010
  AND ct.id = mc.company_type_id
  AND t.id = mc.movie_id
  AND t.id = mi_idx.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10134.58, + "Total Cost": 10134.59, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 95.679, + "Actual Total Time": 100.789, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mc.note)", "min(t.title)", "min(t.production_year)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10134.51, + "Total Cost": 10134.52, + "Plan Rows": 8, + "Plan Width": 68, + "Actual Startup Time": 94.351, + "Actual Total Time": 100.767, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mc.note))", "(PARTIAL min(t.title))", "(PARTIAL min(t.production_year))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10133.51, + "Total Cost": 10133.52, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 87.847, + "Actual Total Time": 87.852, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mc.note)", "PARTIAL min(t.title)", "PARTIAL min(t.production_year)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 86.839, + "Actual Total Time": 86.843, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 86.860, + "Actual Total Time": 86.863, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 87.126, + "Actual Total Time": 87.131, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 86.441, + "Actual Total Time": 86.446, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 88.199, + "Actual Total Time": 88.205, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 87.078, + "Actual Total Time": 87.082, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 86.621, + "Actual Total Time": 86.626, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 10133.50, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 87.836, + "Actual Total Time": 87.845, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.note", "t.title", "t.production_year"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 86.833, + "Actual Total Time": 86.837, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 86.856, + "Actual Total Time": 86.860, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 87.120, + "Actual Total Time": 87.124, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 86.435, + "Actual Total Time": 86.440, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 88.150, + "Actual Total Time": 88.186, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 87.073, + "Actual Total Time": 87.077, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 86.615, + "Actual Total Time": 86.619, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 10132.89, + "Plan Rows": 8, + "Plan Width": 49, + "Actual Startup Time": 87.765, + "Actual Total Time": 87.824, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_type_id", "t.title", "t.production_year"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 86.832, + "Actual Total Time": 86.835, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 86.855, + "Actual Total Time": 86.858, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 87.119, + "Actual Total Time": 87.123, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 86.434, + "Actual Total Time": 86.438, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 87.591, + "Actual Total Time": 88.036, + "Actual Rows": 66, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 87.073, + "Actual Total Time": 87.075, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 86.614, + "Actual Total Time": 86.617, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10132.18, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 87.751, + "Actual Total Time": 87.775, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "t.title", "t.production_year", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 86.832, + "Actual Total Time": 86.834, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 86.855, + "Actual Total Time": 86.857, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 87.119, + "Actual Total Time": 87.121, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 86.433, + "Actual Total Time": 86.437, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 87.481, + "Actual Total Time": 87.645, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 87.072, + "Actual Total Time": 87.074, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 86.614, + "Actual Total Time": 86.616, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 87.705, + "Actual Total Time": 87.713, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 86.831, + "Actual Total Time": 86.833, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 86.854, + "Actual Total Time": 86.856, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 87.118, + "Actual Total Time": 87.120, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 86.433, + "Actual Total Time": 86.435, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 87.116, + "Actual Total Time": 87.160, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 87.072, + "Actual Total Time": 87.073, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 86.613, + "Actual Total Time": 86.615, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.014, + "Actual Total Time": 33.276, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 33.499, + "Actual Rows": 180527, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 31.668, + "Actual Rows": 170285, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 33.565, + "Actual Rows": 182458, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 31.293, + "Actual Rows": 148178, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 32.913, + "Actual Rows": 173856, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 33.482, + "Actual Rows": 167135, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 33.595, + "Actual Rows": 161729, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'bottom 10 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 10, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 10 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.55, + "Plan Rows": 16, + "Plan Width": 32, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.090, + "Actual Rows": 16, + "Actual Loops": 4, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note !~~ '%(as Metro-Goldwyn-Mayer Pictures)%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.090, + "Actual Rows": 16, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 66, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 66, + "Cache Hits": 64, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4074774145614403639, + "Planning Time": 15.775, + "Triggers": [ + ], + "Execution Time": 101.053, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -4074774145614403639, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_title,
       MIN(t.production_year) AS movie_year
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info_idx AS mi_idx,
     title AS t
WHERE ct.kind = 'production companies'
  AND it.info = 'top 250 rank'
  AND mc.note NOT LIKE '%(as Metro-Goldwyn-Mayer Pictures)%'
  AND (mc.note LIKE '%(co-production)%')
  AND t.production_year >2010
  AND ct.id = mc.company_type_id
  AND t.id = mc.movie_id
  AND t.id = mi_idx.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10149.06, + "Total Cost": 10149.07, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 111.572, + "Actual Total Time": 116.303, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mc.note)", "min(t.title)", "min(t.production_year)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10148.99, + "Total Cost": 10149.00, + "Plan Rows": 8, + "Plan Width": 68, + "Actual Startup Time": 103.738, + "Actual Total Time": 116.278, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mc.note))", "(PARTIAL min(t.title))", "(PARTIAL min(t.production_year))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10147.99, + "Total Cost": 10148.00, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 97.152, + "Actual Total Time": 97.158, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mc.note)", "PARTIAL min(t.title)", "PARTIAL min(t.production_year)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.042, + "Actual Total Time": 91.050, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.036, + "Actual Total Time": 95.041, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 95.690, + "Actual Total Time": 95.695, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 103.219, + "Actual Total Time": 103.224, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 96.583, + "Actual Total Time": 96.588, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 96.208, + "Actual Total Time": 96.213, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.463, + "Actual Total Time": 96.467, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 10147.99, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 96.653, + "Actual Total Time": 97.149, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.note", "t.title", "t.production_year"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.034, + "Actual Total Time": 91.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.032, + "Actual Total Time": 95.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 95.683, + "Actual Total Time": 95.688, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 99.273, + "Actual Total Time": 103.200, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 96.574, + "Actual Total Time": 96.579, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 96.202, + "Actual Total Time": 96.207, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.457, + "Actual Total Time": 96.461, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 10147.82, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 96.641, + "Actual Total Time": 97.134, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_type_id", "t.title", "t.production_year"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.032, + "Actual Total Time": 91.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.031, + "Actual Total Time": 95.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 95.683, + "Actual Total Time": 95.686, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 99.181, + "Actual Total Time": 103.094, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 96.573, + "Actual Total Time": 96.577, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 96.201, + "Actual Total Time": 96.205, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.456, + "Actual Total Time": 96.459, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10146.71, + "Plan Rows": 2, + "Plan Width": 29, + "Actual Startup Time": 96.106, + "Actual Total Time": 96.937, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "t.title", "t.production_year", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 87.914, + "Actual Total Time": 90.248, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.030, + "Actual Total Time": 95.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 95.682, + "Actual Total Time": 95.685, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 98.028, + "Actual Total Time": 102.318, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 96.573, + "Actual Total Time": 96.576, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 96.200, + "Actual Total Time": 96.203, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.455, + "Actual Total Time": 96.457, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 31, + "Plan Width": 4, + "Actual Startup Time": 95.747, + "Actual Total Time": 95.816, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 86.701, + "Actual Total Time": 86.907, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.030, + "Actual Total Time": 95.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 95.681, + "Actual Total Time": 95.683, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 96.375, + "Actual Total Time": 96.701, + "Actual Rows": 162, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 96.572, + "Actual Total Time": 96.574, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 96.200, + "Actual Total Time": 96.202, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.454, + "Actual Total Time": 96.456, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.013, + "Actual Total Time": 36.400, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 33.380, + "Actual Rows": 164429, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 34.860, + "Actual Rows": 181733, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 36.455, + "Actual Rows": 157401, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 36.653, + "Actual Rows": 152898, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 36.902, + "Actual Rows": 204194, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 37.041, + "Actual Rows": 184029, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 36.220, + "Actual Rows": 160367, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'top 250 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 250, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 88 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 162 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 0.127, + "Actual Total Time": 0.128, + "Actual Rows": 0, + "Actual Loops": 12, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(as Metro-Goldwyn-Mayer Pictures)%'::text) AND (mc.note ~~ '%(co-production)%'::text))", + "Rows Removed by Filter": 31, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.129, + "Actual Total Time": 0.130, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.124, + "Actual Total Time": 0.126, + "Actual Rows": 0, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 3, + "Cache Hits": 2, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.078, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.078, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 946838174961328458, + "Planning Time": 15.803, + "Triggers": [ + ], + "Execution Time": 116.545, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 946838174961328458, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_title,
       MIN(t.production_year) AS movie_year
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info_idx AS mi_idx,
     title AS t
WHERE ct.kind = 'production companies'
  AND it.info = 'bottom 10 rank'
  AND mc.note NOT LIKE '%(as Metro-Goldwyn-Mayer Pictures)%'
  AND t.production_year >2000
  AND ct.id = mc.company_type_id
  AND t.id = mc.movie_id
  AND t.id = mi_idx.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10134.59, + "Total Cost": 10134.60, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 96.013, + "Actual Total Time": 101.239, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mc.note)", "min(t.title)", "min(t.production_year)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10134.52, + "Total Cost": 10134.53, + "Plan Rows": 8, + "Plan Width": 68, + "Actual Startup Time": 94.782, + "Actual Total Time": 101.218, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mc.note))", "(PARTIAL min(t.title))", "(PARTIAL min(t.production_year))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10133.52, + "Total Cost": 10133.53, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 85.902, + "Actual Total Time": 85.908, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mc.note)", "PARTIAL min(t.title)", "PARTIAL min(t.production_year)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 73.722, + "Actual Total Time": 73.726, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.534, + "Actual Total Time": 85.538, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 85.927, + "Actual Total Time": 85.932, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 87.879, + "Actual Total Time": 87.883, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 86.903, + "Actual Total Time": 86.909, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 86.886, + "Actual Total Time": 86.890, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 86.733, + "Actual Total Time": 86.738, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 10133.51, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 85.877, + "Actual Total Time": 85.900, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.note", "t.title", "t.production_year"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 73.717, + "Actual Total Time": 73.721, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.531, + "Actual Total Time": 85.534, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 85.923, + "Actual Total Time": 85.927, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 87.719, + "Actual Total Time": 87.867, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 86.896, + "Actual Total Time": 86.901, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 86.881, + "Actual Total Time": 86.884, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 86.727, + "Actual Total Time": 86.732, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 10132.84, + "Plan Rows": 10, + "Plan Width": 49, + "Actual Startup Time": 85.800, + "Actual Total Time": 85.880, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_type_id", "t.title", "t.production_year"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 73.716, + "Actual Total Time": 73.719, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.530, + "Actual Total Time": 85.532, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 85.922, + "Actual Total Time": 85.925, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 87.103, + "Actual Total Time": 87.718, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 86.896, + "Actual Total Time": 86.899, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 86.880, + "Actual Total Time": 86.883, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 86.727, + "Actual Total Time": 86.730, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10132.18, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 85.783, + "Actual Total Time": 85.817, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "t.title", "t.production_year", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 73.715, + "Actual Total Time": 73.718, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.529, + "Actual Total Time": 85.531, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 85.921, + "Actual Total Time": 85.924, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 86.973, + "Actual Total Time": 87.221, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 86.895, + "Actual Total Time": 86.898, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 86.879, + "Actual Total Time": 86.881, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 86.726, + "Actual Total Time": 86.729, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 85.766, + "Actual Total Time": 85.773, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 73.714, + "Actual Total Time": 73.716, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.528, + "Actual Total Time": 85.529, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 85.920, + "Actual Total Time": 85.923, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 86.843, + "Actual Total Time": 86.886, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 86.894, + "Actual Total Time": 86.897, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 86.878, + "Actual Total Time": 86.880, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 86.725, + "Actual Total Time": 86.727, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.014, + "Actual Total Time": 33.171, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 28.218, + "Actual Rows": 149213, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 32.795, + "Actual Rows": 153743, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 34.342, + "Actual Rows": 165563, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 33.583, + "Actual Rows": 180649, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 33.190, + "Actual Rows": 181771, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 33.513, + "Actual Rows": 181075, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 33.306, + "Actual Rows": 175475, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'bottom 10 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 10 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 13, + "Plan Width": 32, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.078, + "Actual Rows": 13, + "Actual Loops": 6, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note !~~ '%(as Metro-Goldwyn-Mayer Pictures)%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.078, + "Actual Rows": 13, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 78, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 78, + "Cache Hits": 76, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6885312641126422993, + "Planning Time": 13.541, + "Triggers": [ + ], + "Execution Time": 101.494, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -6885312641126422993, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS complete_downey_ironman_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     keyword AS k,
     kind_type AS kt,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name NOT LIKE '%Sherlock%'
  AND (chn.name LIKE '%Tony%Stark%'
       OR chn.name LIKE '%Iron%Man%')
  AND k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND kt.kind = 'movie'
  AND t.production_year > 1950
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND ci.movie_id = cc.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 39686.06, + "Total Cost": 39686.07, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1103.206, + "Actual Total Time": 1138.496, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 39686.03, + "Total Cost": 39686.04, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 1069.920, + "Actual Total Time": 1138.461, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 39685.03, + "Total Cost": 39685.04, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1064.263, + "Actual Total Time": 1064.275, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1059.361, + "Actual Total Time": 1059.371, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1093.764, + "Actual Total Time": 1093.778, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1055.402, + "Actual Total Time": 1055.412, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1065.264, + "Actual Total Time": 1065.274, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1055.404, + "Actual Total Time": 1055.415, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1060.484, + "Actual Total Time": 1060.494, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1055.386, + "Actual Total Time": 1055.397, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1596.63, + "Total Cost": 39685.02, + "Plan Rows": 5, + "Plan Width": 17, + "Actual Startup Time": 882.964, + "Actual Total Time": 1064.254, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 892.652, + "Actual Total Time": 1059.342, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 346.733, + "Actual Total Time": 1093.762, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1055.397, + "Actual Total Time": 1055.406, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1065.257, + "Actual Total Time": 1065.267, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 518.777, + "Actual Total Time": 1055.316, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1060.479, + "Actual Total Time": 1060.490, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1055.381, + "Actual Total Time": 1055.391, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1596.20, + "Total Cost": 39682.78, + "Plan Rows": 5, + "Plan Width": 21, + "Actual Startup Time": 882.929, + "Actual Total Time": 1064.152, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 892.581, + "Actual Total Time": 1059.209, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 346.643, + "Actual Total Time": 1093.671, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1055.396, + "Actual Total Time": 1055.405, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1065.256, + "Actual Total Time": 1065.265, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 518.666, + "Actual Total Time": 1054.732, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1060.479, + "Actual Total Time": 1060.488, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1055.380, + "Actual Total Time": 1055.389, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1596.06, + "Total Cost": 39682.27, + "Plan Rows": 5, + "Plan Width": 25, + "Actual Startup Time": 882.897, + "Actual Total Time": 1064.099, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["cc.status_id", "ci.person_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 892.479, + "Actual Total Time": 1059.084, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 346.554, + "Actual Total Time": 1093.580, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1055.395, + "Actual Total Time": 1055.403, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1065.255, + "Actual Total Time": 1065.263, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 518.596, + "Actual Total Time": 1054.538, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1060.478, + "Actual Total Time": 1060.486, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1055.379, + "Actual Total Time": 1055.387, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1595.63, + "Total Cost": 4945.38, + "Plan Rows": 76116, + "Plan Width": 29, + "Actual Startup Time": 73.494, + "Actual Total Time": 475.427, + "Actual Rows": 66601, + "Actual Loops": 8, + "Output": ["cc.status_id", "ci.person_role_id", "ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 73.753, + "Actual Total Time": 477.537, + "Actual Rows": 76121, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 75.351, + "Actual Total Time": 490.624, + "Actual Rows": 77257, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 70.032, + "Actual Total Time": 468.275, + "Actual Rows": 62160, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 69.900, + "Actual Total Time": 461.110, + "Actual Rows": 63868, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 69.867, + "Actual Total Time": 466.746, + "Actual Rows": 61376, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 74.862, + "Actual Total Time": 464.610, + "Actual Rows": 62803, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 70.855, + "Actual Total Time": 472.263, + "Actual Rows": 67175, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1595.19, + "Total Cost": 3212.48, + "Plan Rows": 859, + "Plan Width": 33, + "Actual Startup Time": 73.391, + "Actual Total Time": 118.138, + "Actual Rows": 752, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 73.681, + "Actual Total Time": 123.978, + "Actual Rows": 830, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 75.274, + "Actual Total Time": 120.300, + "Actual Rows": 875, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 69.867, + "Actual Total Time": 111.872, + "Actual Rows": 740, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 69.815, + "Actual Total Time": 109.867, + "Actual Rows": 723, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 69.768, + "Actual Total Time": 114.416, + "Actual Rows": 669, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 74.762, + "Actual Total Time": 118.194, + "Actual Rows": 728, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 70.702, + "Actual Total Time": 117.642, + "Actual Rows": 720, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1594.13, + "Total Cost": 3206.99, + "Plan Rows": 1052, + "Plan Width": 37, + "Actual Startup Time": 73.101, + "Actual Total Time": 116.066, + "Actual Rows": 920, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 72.833, + "Actual Total Time": 121.252, + "Actual Rows": 1048, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 75.184, + "Actual Total Time": 118.271, + "Actual Rows": 1084, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 69.673, + "Actual Total Time": 109.926, + "Actual Rows": 900, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 69.546, + "Actual Total Time": 107.880, + "Actual Rows": 885, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 69.585, + "Actual Total Time": 112.572, + "Actual Rows": 852, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 74.686, + "Actual Total Time": 116.375, + "Actual Rows": 878, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 70.505, + "Actual Total Time": 115.697, + "Actual Rows": 845, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1593.70, + "Total Cost": 2630.51, + "Plan Rows": 1252, + "Plan Width": 12, + "Actual Startup Time": 72.980, + "Actual Total Time": 92.459, + "Actual Rows": 1096, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 72.736, + "Actual Total Time": 97.614, + "Actual Rows": 1219, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 75.107, + "Actual Total Time": 92.649, + "Actual Rows": 1330, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 69.485, + "Actual Total Time": 86.219, + "Actual Rows": 1065, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 69.420, + "Actual Total Time": 83.725, + "Actual Rows": 1068, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 69.485, + "Actual Total Time": 90.318, + "Actual Rows": 1009, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 74.573, + "Actual Total Time": 93.672, + "Actual Rows": 1041, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 70.325, + "Actual Total Time": 92.091, + "Actual Rows": 1012, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1592.66, + "Total Cost": 2619.57, + "Plan Rows": 1830, + "Plan Width": 16, + "Actual Startup Time": 72.957, + "Actual Total Time": 90.231, + "Actual Rows": 1601, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": false, + "Hash Cond": "(cc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 72.719, + "Actual Total Time": 95.141, + "Actual Rows": 2219, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 75.098, + "Actual Total Time": 90.377, + "Actual Rows": 1330, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 69.467, + "Actual Total Time": 84.152, + "Actual Rows": 1186, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 69.405, + "Actual Total Time": 81.664, + "Actual Rows": 1068, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 69.470, + "Actual Total Time": 88.173, + "Actual Rows": 1829, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 74.561, + "Actual Total Time": 91.483, + "Actual Rows": 1487, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 70.308, + "Actual Total Time": 89.783, + "Actual Rows": 2037, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.060, + "Actual Total Time": 4.764, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.047, + "Actual Total Time": 6.380, + "Actual Rows": 25715, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 4.039, + "Actual Rows": 13690, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.086, + "Actual Total Time": 4.072, + "Actual Rows": 12765, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.066, + "Actual Total Time": 3.290, + "Actual Rows": 9990, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.056, + "Actual Total Time": 5.440, + "Actual Rows": 19831, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.067, + "Actual Total Time": 4.348, + "Actual Rows": 14800, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.078, + "Actual Total Time": 5.624, + "Actual Rows": 20350, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1529.18, + "Total Cost": 1529.18, + "Plan Rows": 5078, + "Plan Width": 4, + "Actual Startup Time": 72.561, + "Actual Total Time": 72.562, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 65536, + "Original Hash Buckets": 65536, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 2016, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 72.592, + "Actual Total Time": 72.594, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 74.961, + "Actual Total Time": 74.964, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 69.266, + "Actual Total Time": 69.268, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 69.269, + "Actual Total Time": 69.271, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 69.254, + "Actual Total Time": 69.256, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 74.427, + "Actual Total Time": 74.429, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 69.263, + "Actual Total Time": 69.264, + "Actual Rows": 248, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1529.18, + "Plan Rows": 5078, + "Plan Width": 4, + "Actual Startup Time": 5.826, + "Actual Total Time": 45.212, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.411, + "Actual Total Time": 65.674, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.149, + "Actual Total Time": 39.643, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.861, + "Actual Total Time": 55.000, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.157, + "Actual Total Time": 32.557, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 36.230, + "Actual Total Time": 36.231, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.366, + "Actual Total Time": 50.798, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.977, + "Actual Total Time": 34.960, + "Actual Rows": 248, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1332.34, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.652, + "Actual Total Time": 16.878, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.244, + "Actual Total Time": 2.292, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.004, + "Actual Total Time": 25.761, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.589, + "Actual Total Time": 0.615, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.863, + "Actual Total Time": 8.448, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 36.229, + "Actual Total Time": 36.229, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.180, + "Actual Total Time": 1.257, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.758, + "Actual Total Time": 32.484, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.40, + "Plan Rows": 4444, + "Plan Width": 8, + "Actual Startup Time": 0.173, + "Actual Total Time": 26.859, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.105, + "Actual Total Time": 30.097, + "Actual Rows": 5412, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.140, + "Actual Total Time": 13.281, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.263, + "Actual Total Time": 51.063, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.285, + "Actual Total Time": 22.394, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.177, + "Actual Total Time": 47.450, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.205, + "Actual Total Time": 2.327, + "Actual Rows": 248, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 8765, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1950)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 1219 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 1330 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 1065 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 1068 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 1009 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 1041 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1012 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.080, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.081, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.069, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.20, + "Plan Rows": 82, + "Plan Width": 12, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.431, + "Actual Rows": 89, + "Actual Loops": 6016, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.387, + "Actual Rows": 92, + "Actual Loops": 830 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.385, + "Actual Rows": 88, + "Actual Loops": 875 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.440, + "Actual Rows": 84, + "Actual Loops": 740 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.444, + "Actual Rows": 88, + "Actual Loops": 723 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.457, + "Actual Rows": 92, + "Actual Loops": 669 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.434, + "Actual Rows": 86, + "Actual Loops": 728 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.448, + "Actual Rows": 93, + "Actual Loops": 720 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 532809, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name !~~ '%Sherlock%'::text) AND ((chn.name ~~ '%Tony%Stark%'::text) OR (chn.name ~~ '%Iron%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 76121 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 77257 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 62160 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 63868 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 61376 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 62803 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 67175 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 33, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 4, + "Cache Hits": 3, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.086, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 28, + "Cache Hits": 26, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 4, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.090, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.079, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 33, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.086, + "Actual Total Time": 0.086, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 28 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2202723705874175045, + "Planning Time": 117.298, + "Triggers": [ + ], + "Execution Time": 1138.923, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -2202723705874175045, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(t.title) AS complete_downey_ironman_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     keyword AS k,
     kind_type AS kt,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name NOT LIKE '%Sherlock%'
  AND (chn.name LIKE '%Tony%Stark%'
       OR chn.name LIKE '%Iron%Man%')
  AND k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND kt.kind = 'movie'
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND ci.movie_id = cc.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 18130.33, + "Total Cost": 18130.34, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 791.299, + "Actual Total Time": 821.825, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 18130.30, + "Total Cost": 18130.31, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 753.905, + "Actual Total Time": 821.804, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 18129.30, + "Total Cost": 18129.31, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 744.432, + "Actual Total Time": 744.442, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 731.738, + "Actual Total Time": 731.746, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 739.639, + "Actual Total Time": 739.647, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 738.100, + "Actual Total Time": 738.111, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 781.805, + "Actual Total Time": 781.812, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 738.755, + "Actual Total Time": 738.764, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 733.765, + "Actual Total Time": 733.774, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 738.673, + "Actual Total Time": 738.682, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1596.62, + "Total Cost": 18129.29, + "Plan Rows": 2, + "Plan Width": 17, + "Actual Startup Time": 685.250, + "Actual Total Time": 744.427, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 731.733, + "Actual Total Time": 731.741, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 739.634, + "Actual Total Time": 739.641, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 738.096, + "Actual Total Time": 738.106, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 781.800, + "Actual Total Time": 781.806, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 378.828, + "Actual Total Time": 738.706, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 620.261, + "Actual Total Time": 733.746, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 738.670, + "Actual Total Time": 738.679, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1596.49, + "Total Cost": 18128.98, + "Plan Rows": 2, + "Plan Width": 21, + "Actual Startup Time": 685.235, + "Actual Total Time": 744.394, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["cc.status_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 731.732, + "Actual Total Time": 731.739, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 739.633, + "Actual Total Time": 739.640, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 738.095, + "Actual Total Time": 738.104, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 781.799, + "Actual Total Time": 781.805, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 378.770, + "Actual Total Time": 738.538, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 620.207, + "Actual Total Time": 733.659, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 738.669, + "Actual Total Time": 738.677, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1596.06, + "Total Cost": 18127.15, + "Plan Rows": 4, + "Plan Width": 25, + "Actual Startup Time": 561.368, + "Actual Total Time": 744.279, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["cc.status_id", "ci.person_role_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 731.731, + "Actual Total Time": 731.737, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.076, + "Actual Total Time": 739.525, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 697.909, + "Actual Total Time": 738.050, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 781.799, + "Actual Total Time": 781.804, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 378.711, + "Actual Total Time": 738.071, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 314.070, + "Actual Total Time": 733.377, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 738.669, + "Actual Total Time": 738.676, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1595.63, + "Total Cost": 3757.82, + "Plan Rows": 31788, + "Plan Width": 29, + "Actual Startup Time": 75.311, + "Actual Total Time": 262.564, + "Actual Rows": 27815, + "Actual Loops": 8, + "Output": ["cc.status_id", "ci.person_role_id", "ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 69.284, + "Actual Total Time": 254.740, + "Actual Rows": 26029, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 76.808, + "Actual Total Time": 271.657, + "Actual Rows": 25932, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 74.933, + "Actual Total Time": 260.294, + "Actual Rows": 27757, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 75.458, + "Actual Total Time": 261.071, + "Actual Rows": 33315, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 75.458, + "Actual Total Time": 251.249, + "Actual Rows": 29859, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 70.881, + "Actual Total Time": 258.540, + "Actual Rows": 27271, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 75.851, + "Actual Total Time": 272.532, + "Actual Rows": 26517, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1595.19, + "Total Cost": 3209.18, + "Plan Rows": 210, + "Plan Width": 33, + "Actual Startup Time": 75.207, + "Actual Total Time": 112.936, + "Actual Rows": 184, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 69.153, + "Actual Total Time": 108.500, + "Actual Rows": 163, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 76.675, + "Actual Total Time": 115.540, + "Actual Rows": 182, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 74.837, + "Actual Total Time": 110.635, + "Actual Rows": 177, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 75.367, + "Actual Total Time": 107.774, + "Actual Rows": 207, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 75.367, + "Actual Total Time": 107.339, + "Actual Rows": 190, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 70.763, + "Actual Total Time": 108.730, + "Actual Rows": 178, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 75.749, + "Actual Total Time": 124.895, + "Actual Rows": 192, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1594.13, + "Total Cost": 3206.99, + "Plan Rows": 267, + "Plan Width": 37, + "Actual Startup Time": 74.760, + "Actual Total Time": 111.924, + "Actual Rows": 234, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 68.521, + "Actual Total Time": 107.401, + "Actual Rows": 193, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 76.352, + "Actual Total Time": 114.673, + "Actual Rows": 250, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 74.541, + "Actual Total Time": 109.840, + "Actual Rows": 228, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 75.046, + "Actual Total Time": 106.870, + "Actual Rows": 254, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 75.046, + "Actual Total Time": 106.504, + "Actual Rows": 239, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 70.110, + "Actual Total Time": 107.583, + "Actual Rows": 215, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 75.131, + "Actual Total Time": 124.070, + "Actual Rows": 262, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1593.70, + "Total Cost": 2630.51, + "Plan Rows": 1252, + "Plan Width": 12, + "Actual Startup Time": 74.323, + "Actual Total Time": 91.214, + "Actual Rows": 1096, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 67.694, + "Actual Total Time": 89.011, + "Actual Rows": 864, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 74.966, + "Actual Total Time": 89.619, + "Actual Rows": 1174, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 74.323, + "Actual Total Time": 90.039, + "Actual Rows": 1091, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 74.947, + "Actual Total Time": 86.553, + "Actual Rows": 1125, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 74.947, + "Actual Total Time": 89.119, + "Actual Rows": 984, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 69.691, + "Actual Total Time": 87.440, + "Actual Rows": 1101, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 74.904, + "Actual Total Time": 101.237, + "Actual Rows": 1297, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1592.66, + "Total Cost": 2619.57, + "Plan Rows": 1830, + "Plan Width": 16, + "Actual Startup Time": 74.305, + "Actual Total Time": 89.684, + "Actual Rows": 1601, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": false, + "Hash Cond": "(cc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 67.674, + "Actual Total Time": 87.561, + "Actual Rows": 1855, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 74.953, + "Actual Total Time": 88.160, + "Actual Rows": 1174, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 74.309, + "Actual Total Time": 88.456, + "Actual Rows": 1685, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 74.937, + "Actual Total Time": 85.116, + "Actual Rows": 1125, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 74.937, + "Actual Total Time": 87.758, + "Actual Rows": 1382, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 69.673, + "Actual Total Time": 85.836, + "Actual Rows": 1708, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 74.892, + "Actual Total Time": 99.295, + "Actual Rows": 2752, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.053, + "Actual Total Time": 4.403, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.066, + "Actual Total Time": 6.067, + "Actual Rows": 23310, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.058, + "Actual Total Time": 3.646, + "Actual Rows": 12025, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 4.061, + "Actual Rows": 16095, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.044, + "Actual Total Time": 2.730, + "Actual Rows": 9620, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 3.738, + "Actual Rows": 14615, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.062, + "Actual Total Time": 4.377, + "Actual Rows": 17390, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.063, + "Actual Total Time": 7.170, + "Actual Rows": 30006, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1529.18, + "Total Cost": 1529.18, + "Plan Rows": 5078, + "Plan Width": 4, + "Actual Startup Time": 74.100, + "Actual Total Time": 74.102, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 65536, + "Original Hash Buckets": 65536, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 2016, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 67.485, + "Actual Total Time": 67.486, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 74.807, + "Actual Total Time": 74.808, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 74.215, + "Actual Total Time": 74.217, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 74.839, + "Actual Total Time": 74.840, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 74.820, + "Actual Total Time": 74.821, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 69.528, + "Actual Total Time": 69.529, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 74.777, + "Actual Total Time": 74.779, + "Actual Rows": 1573, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1529.18, + "Plan Rows": 5078, + "Plan Width": 4, + "Actual Startup Time": 5.380, + "Actual Total Time": 44.913, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.660, + "Actual Total Time": 32.661, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.228, + "Actual Total Time": 36.217, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.590, + "Actual Total Time": 52.515, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.704, + "Actual Total Time": 51.352, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.574, + "Actual Total Time": 67.822, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.389, + "Actual Total Time": 34.210, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.552, + "Actual Total Time": 38.729, + "Actual Rows": 1573, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1332.34, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.255, + "Actual Total Time": 17.178, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.658, + "Actual Total Time": 32.658, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.065, + "Actual Total Time": 16.818, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.442, + "Actual Total Time": 1.460, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.582, + "Actual Total Time": 0.655, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.444, + "Actual Total Time": 1.504, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.187, + "Actual Total Time": 31.293, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.413, + "Actual Total Time": 27.009, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.40, + "Plan Rows": 4444, + "Plan Width": 8, + "Actual Startup Time": 0.128, + "Actual Total Time": 26.316, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.156, + "Actual Total Time": 18.164, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.142, + "Actual Total Time": 47.619, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.116, + "Actual Total Time": 48.613, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.096, + "Actual Total Time": 31.587, + "Actual Rows": 5412, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.189, + "Actual Total Time": 2.734, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.134, + "Actual Total Time": 11.194, + "Actual Rows": 1573, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 8765, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 864 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1174 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1091 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1125 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 984 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1101 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1297 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.082, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.29, + "Plan Rows": 132, + "Plan Width": 12, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.736, + "Actual Rows": 151, + "Actual Loops": 1472, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.813, + "Actual Rows": 160, + "Actual Loops": 163 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.781, + "Actual Rows": 142, + "Actual Loops": 182 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.765, + "Actual Rows": 157, + "Actual Loops": 177 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.665, + "Actual Rows": 161, + "Actual Loops": 207 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.681, + "Actual Rows": 157, + "Actual Loops": 190 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.765, + "Actual Rows": 153, + "Actual Loops": 178 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.699, + "Actual Rows": 138, + "Actual Loops": 192 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 222518, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 26029 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 25932 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 27757 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 33315 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 29859 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 27271 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 26517 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 27, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name !~~ '%Sherlock%'::text) AND ((chn.name ~~ '%Tony%Stark%'::text) OR (chn.name ~~ '%Iron%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 13 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 11 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 17, + "Output": ["cct2.id", "cct2.kind"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 13 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -310926232940389306, + "Planning Time": 132.886, + "Triggers": [ + ], + "Execution Time": 822.210, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -310926232940389306, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(n.name) AS cast_member,
       MIN(t.title) AS complete_dynamic_hero_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     keyword AS k,
     kind_type AS kt,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name IS NOT NULL
  AND (chn.name LIKE '%man%'
       OR chn.name LIKE '%Man%')
  AND k.keyword IN ('superhero',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence',
                    'magnet',
                    'web',
                    'claw',
                    'laser')
  AND kt.kind = 'movie'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND ci.movie_id = cc.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 16045.67, + "Total Cost": 16045.68, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 496.544, + "Actual Total Time": 499.509, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 16045.63, + "Total Cost": 16045.64, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 496.521, + "Actual Total Time": 499.494, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 16044.63, + "Total Cost": 16044.64, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 454.447, + "Actual Total Time": 454.457, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 451.404, + "Actual Total Time": 451.416, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 451.554, + "Actual Total Time": 451.565, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 443.812, + "Actual Total Time": 443.823, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 452.812, + "Actual Total Time": 452.823, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 451.692, + "Actual Total Time": 451.704, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 444.337, + "Actual Total Time": 444.347, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 444.712, + "Actual Total Time": 444.723, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1460.15, + "Total Cost": 16040.77, + "Plan Rows": 772, + "Plan Width": 32, + "Actual Startup Time": 76.896, + "Actual Total Time": 453.065, + "Actual Rows": 676, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 83.409, + "Actual Total Time": 450.205, + "Actual Rows": 622, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 79.779, + "Actual Total Time": 450.248, + "Actual Rows": 697, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.718, + "Actual Total Time": 442.604, + "Actual Rows": 634, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 70.079, + "Actual Total Time": 450.566, + "Actual Rows": 812, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 77.173, + "Actual Total Time": 450.516, + "Actual Rows": 590, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 74.626, + "Actual Total Time": 443.048, + "Actual Rows": 715, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 71.544, + "Actual Total Time": 443.517, + "Actual Rows": 575, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1459.72, + "Total Cost": 15693.72, + "Plan Rows": 772, + "Plan Width": 21, + "Actual Startup Time": 76.812, + "Actual Total Time": 438.179, + "Actual Rows": 676, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 83.330, + "Actual Total Time": 436.051, + "Actual Rows": 622, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 79.675, + "Actual Total Time": 435.445, + "Actual Rows": 697, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.638, + "Actual Total Time": 429.072, + "Actual Rows": 634, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 70.002, + "Actual Total Time": 433.163, + "Actual Rows": 812, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 77.093, + "Actual Total Time": 436.822, + "Actual Rows": 590, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 74.523, + "Actual Total Time": 427.572, + "Actual Rows": 715, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 71.452, + "Actual Total Time": 430.177, + "Actual Rows": 575, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1459.29, + "Total Cost": 3384.37, + "Plan Rows": 27121, + "Plan Width": 25, + "Actual Startup Time": 74.526, + "Actual Total Time": 251.297, + "Actual Rows": 23730, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 76.762, + "Actual Total Time": 257.152, + "Actual Rows": 22298, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 77.195, + "Actual Total Time": 244.482, + "Actual Rows": 25004, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 69.368, + "Actual Total Time": 235.503, + "Actual Rows": 23144, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 69.680, + "Actual Total Time": 248.274, + "Actual Rows": 20928, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 77.013, + "Actual Total Time": 256.153, + "Actual Rows": 23429, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 69.685, + "Actual Total Time": 250.463, + "Actual Rows": 24740, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 71.072, + "Actual Total Time": 246.760, + "Actual Rows": 23513, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1458.85, + "Total Cost": 2913.30, + "Plan Rows": 181, + "Plan Width": 29, + "Actual Startup Time": 74.426, + "Actual Total Time": 108.238, + "Actual Rows": 158, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 76.612, + "Actual Total Time": 109.154, + "Actual Rows": 145, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 77.088, + "Actual Total Time": 106.770, + "Actual Rows": 143, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 69.303, + "Actual Total Time": 101.193, + "Actual Rows": 172, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 69.576, + "Actual Total Time": 100.357, + "Actual Rows": 124, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 76.924, + "Actual Total Time": 115.401, + "Actual Rows": 167, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 69.579, + "Actual Total Time": 110.364, + "Actual Rows": 164, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 70.956, + "Actual Total Time": 106.533, + "Actual Rows": 170, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1457.81, + "Total Cost": 2911.29, + "Plan Rows": 181, + "Plan Width": 33, + "Actual Startup Time": 73.950, + "Actual Total Time": 107.377, + "Actual Rows": 158, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 76.328, + "Actual Total Time": 108.523, + "Actual Rows": 145, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 76.800, + "Actual Total Time": 106.128, + "Actual Rows": 143, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 68.763, + "Actual Total Time": 100.252, + "Actual Rows": 172, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 68.922, + "Actual Total Time": 99.398, + "Actual Rows": 124, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 76.614, + "Actual Total Time": 114.664, + "Actual Rows": 167, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 68.986, + "Actual Total Time": 109.366, + "Actual Rows": 164, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 70.244, + "Actual Total Time": 105.417, + "Actual Rows": 170, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1456.75, + "Total Cost": 2909.26, + "Plan Rows": 228, + "Plan Width": 37, + "Actual Startup Time": 73.903, + "Actual Total Time": 106.897, + "Actual Rows": 199, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 76.314, + "Actual Total Time": 108.098, + "Actual Rows": 168, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 76.789, + "Actual Total Time": 105.682, + "Actual Rows": 187, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 68.543, + "Actual Total Time": 99.741, + "Actual Rows": 216, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 68.904, + "Actual Total Time": 99.014, + "Actual Rows": 169, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 76.603, + "Actual Total Time": 114.186, + "Actual Rows": 195, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 68.969, + "Actual Total Time": 108.862, + "Actual Rows": 210, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 70.225, + "Actual Total Time": 104.911, + "Actual Rows": 226, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1456.32, + "Total Cost": 2488.41, + "Plan Rows": 914, + "Plan Width": 12, + "Actual Startup Time": 73.577, + "Actual Total Time": 90.344, + "Actual Rows": 800, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 76.231, + "Actual Total Time": 94.996, + "Actual Rows": 634, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 76.361, + "Actual Total Time": 90.685, + "Actual Rows": 741, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 68.334, + "Actual Total Time": 83.656, + "Actual Rows": 808, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 68.783, + "Actual Total Time": 81.222, + "Actual Rows": 810, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 76.421, + "Actual Total Time": 97.973, + "Actual Rows": 765, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 68.866, + "Actual Total Time": 90.556, + "Actual Rows": 908, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 69.093, + "Actual Total Time": 86.682, + "Actual Rows": 887, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1455.28, + "Total Cost": 2480.11, + "Plan Rows": 1342, + "Plan Width": 16, + "Actual Startup Time": 73.558, + "Actual Total Time": 89.170, + "Actual Rows": 1174, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": false, + "Hash Cond": "(cc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 76.219, + "Actual Total Time": 93.889, + "Actual Rows": 1384, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 76.348, + "Actual Total Time": 89.650, + "Actual Rows": 966, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 68.315, + "Actual Total Time": 82.517, + "Actual Rows": 1012, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 68.762, + "Actual Total Time": 80.213, + "Actual Rows": 810, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 76.407, + "Actual Total Time": 96.686, + "Actual Rows": 1511, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 68.847, + "Actual Total Time": 89.162, + "Actual Rows": 1617, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 69.072, + "Actual Total Time": 85.432, + "Actual Rows": 1249, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.089, + "Actual Total Time": 4.807, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.098, + "Actual Total Time": 5.612, + "Actual Rows": 20535, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.079, + "Actual Total Time": 4.079, + "Actual Rows": 14430, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.087, + "Actual Total Time": 4.848, + "Actual Rows": 14096, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.088, + "Actual Total Time": 3.163, + "Actual Rows": 10545, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.095, + "Actual Total Time": 6.276, + "Actual Rows": 23125, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.087, + "Actual Total Time": 6.287, + "Actual Rows": 23310, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.097, + "Actual Total Time": 5.003, + "Actual Rows": 18315, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1412.25, + "Total Cost": 1412.25, + "Plan Rows": 3442, + "Plan Width": 4, + "Actual Startup Time": 73.315, + "Actual Total Time": 73.317, + "Actual Rows": 3011, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 32768, + "Original Hash Buckets": 32768, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 1312, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 75.999, + "Actual Total Time": 76.001, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 76.153, + "Actual Total Time": 76.155, + "Actual Rows": 685, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 68.155, + "Actual Total Time": 68.156, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 68.551, + "Actual Total Time": 68.553, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 76.239, + "Actual Total Time": 76.241, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 68.627, + "Actual Total Time": 68.628, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 68.832, + "Actual Total Time": 68.833, + "Actual Rows": 248, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.46, + "Total Cost": 1412.25, + "Plan Rows": 3442, + "Plan Width": 4, + "Actual Startup Time": 3.748, + "Actual Total Time": 34.962, + "Actual Rows": 3011, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.442, + "Actual Total Time": 28.683, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.567, + "Actual Total Time": 29.479, + "Actual Rows": 685, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.444, + "Actual Total Time": 62.394, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.438, + "Actual Total Time": 29.455, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.094, + "Actual Total Time": 48.693, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.550, + "Actual Total Time": 22.551, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.100, + "Actual Total Time": 22.309, + "Actual Rows": 248, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.03, + "Total Cost": 1236.53, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 3.558, + "Actual Total Time": 12.130, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,marvel-comics,based-on-comic,tv-special,fight,violence,magnet,web,claw,laser}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.290, + "Actual Total Time": 16.516, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.433, + "Actual Total Time": 19.593, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.134, + "Actual Total Time": 0.170, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.096, + "Actual Total Time": 1.110, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.925, + "Actual Total Time": 0.973, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.549, + "Actual Total Time": 22.549, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.812, + "Actual Total Time": 19.123, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.63, + "Plan Rows": 2409, + "Plan Width": 8, + "Actual Startup Time": 0.164, + "Actual Total Time": 17.436, + "Actual Rows": 2409, + "Actual Loops": 10, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.147, + "Actual Total Time": 11.573, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.075, + "Actual Total Time": 2.397, + "Actual Rows": 171, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.302, + "Actual Total Time": 59.689, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.330, + "Actual Total Time": 26.433, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.162, + "Actual Total Time": 45.825, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.278, + "Actual Total Time": 2.970, + "Actual Rows": 248, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 6396, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 634 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 741 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 808 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 810 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 765 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 908 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 887 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.080, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.029, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.29, + "Plan Rows": 131, + "Plan Width": 12, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.831, + "Actual Rows": 150, + "Actual Loops": 1267, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.948, + "Actual Rows": 154, + "Actual Loops": 145 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.874, + "Actual Rows": 175, + "Actual Loops": 143 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.717, + "Actual Rows": 135, + "Actual Loops": 172 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.045, + "Actual Total Time": 1.104, + "Actual Rows": 169, + "Actual Loops": 124 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.777, + "Actual Rows": 140, + "Actual Loops": 167 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.784, + "Actual Rows": 151, + "Actual Loops": 164 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.761, + "Actual Rows": 138, + "Actual Loops": 170 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 189844, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name IS NOT NULL) AND ((chn.name ~~ '%man%'::text) OR (chn.name ~~ '%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 22298 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 25004 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 23144 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 20928 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 23429 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 24740 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 23513 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 5406, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 622 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 697 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 634 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 812 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 590 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 715 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 575 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6387362809141986757, + "Planning Time": 150.970, + "Triggers": [ + ], + "Execution Time": 499.921, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -6387362809141986757, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(cn.name) AS company_name,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS western_follow_up
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German')
  AND t.production_year BETWEEN 1950 AND 2000
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1916.56, + "Total Cost": 1916.57, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 80.525, + "Actual Total Time": 82.083, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1916.52, + "Total Cost": 1916.53, + "Plan Rows": 5, + "Plan Width": 96, + "Actual Startup Time": 71.590, + "Actual Total Time": 82.055, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1915.52, + "Total Cost": 1915.53, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 63.262, + "Actual Total Time": 63.273, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 56.286, + "Actual Total Time": 56.299, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 70.789, + "Actual Total Time": 70.795, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 63.429, + "Actual Total Time": 63.443, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 56.289, + "Actual Total Time": 56.302, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 62.082, + "Actual Total Time": 62.090, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1472.45, + "Total Cost": 1913.40, + "Plan Rows": 282, + "Plan Width": 48, + "Actual Startup Time": 58.329, + "Actual Total Time": 62.999, + "Actual Rows": 235, + "Actual Loops": 6, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 56.278, + "Actual Total Time": 56.290, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 57.700, + "Actual Total Time": 70.047, + "Actual Rows": 820, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 51.376, + "Actual Total Time": 62.858, + "Actual Rows": 289, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 56.279, + "Actual Total Time": 56.291, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 62.076, + "Actual Total Time": 62.083, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1471.31, + "Total Cost": 1911.34, + "Plan Rows": 282, + "Plan Width": 40, + "Actual Startup Time": 57.845, + "Actual Total Time": 62.307, + "Actual Rows": 235, + "Actual Loops": 6, + "Output": ["cn.name", "ml.link_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 55.579, + "Actual Total Time": 55.589, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 57.406, + "Actual Total Time": 69.156, + "Actual Rows": 820, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 50.874, + "Actual Total Time": 61.923, + "Actual Rows": 289, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 55.591, + "Actual Total Time": 55.601, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.776, + "Actual Total Time": 61.782, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1470.87, + "Total Cost": 1836.47, + "Plan Rows": 66, + "Plan Width": 56, + "Actual Startup Time": 56.535, + "Actual Total Time": 59.860, + "Actual Rows": 55, + "Actual Loops": 6, + "Output": ["cn.name", "mc.movie_id", "mk.movie_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 55.578, + "Actual Total Time": 55.587, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 57.315, + "Actual Total Time": 63.187, + "Actual Rows": 182, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 50.731, + "Actual Total Time": 58.227, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 55.589, + "Actual Total Time": 55.598, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 57.443, + "Actual Total Time": 58.502, + "Actual Rows": 22, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1470.45, + "Total Cost": 1770.11, + "Plan Rows": 148, + "Plan Width": 41, + "Actual Startup Time": 53.575, + "Actual Total Time": 58.073, + "Actual Rows": 124, + "Actual Loops": 6, + "Output": ["mc.movie_id", "mc.company_id", "mk.movie_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 52.830, + "Actual Total Time": 54.888, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 53.938, + "Actual Total Time": 59.347, + "Actual Rows": 357, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 50.619, + "Actual Total Time": 55.194, + "Actual Rows": 137, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.143, + "Actual Total Time": 54.815, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.772, + "Actual Total Time": 57.793, + "Actual Rows": 38, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1469.41, + "Total Cost": 1768.16, + "Plan Rows": 169, + "Plan Width": 45, + "Actual Startup Time": 53.546, + "Actual Total Time": 57.894, + "Actual Rows": 141, + "Actual Loops": 6, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 52.800, + "Actual Total Time": 54.779, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 53.923, + "Actual Total Time": 58.996, + "Actual Rows": 396, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 50.598, + "Actual Total Time": 54.927, + "Actual Rows": 137, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.115, + "Actual Total Time": 54.718, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.756, + "Actual Total Time": 57.723, + "Actual Rows": 60, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1468.98, + "Total Cost": 1745.91, + "Plan Rows": 40, + "Plan Width": 33, + "Actual Startup Time": 53.403, + "Actual Total Time": 56.894, + "Actual Rows": 33, + "Actual Loops": 6, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 52.567, + "Actual Total Time": 53.690, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 53.808, + "Actual Total Time": 57.425, + "Actual Rows": 80, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 50.462, + "Actual Total Time": 53.868, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 47.897, + "Actual Total Time": 53.692, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.637, + "Actual Total Time": 57.113, + "Actual Rows": 23, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1468.55, + "Total Cost": 1722.14, + "Plan Rows": 50, + "Plan Width": 12, + "Actual Startup Time": 52.126, + "Actual Total Time": 55.999, + "Actual Rows": 42, + "Actual Loops": 6, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Hash Cond": "(ml.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 45.534, + "Actual Total Time": 52.468, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 53.711, + "Actual Total Time": 56.278, + "Actual Rows": 98, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 50.302, + "Actual Total Time": 52.818, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 47.710, + "Actual Total Time": 52.834, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.498, + "Actual Total Time": 56.474, + "Actual Rows": 28, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.00, + "Total Cost": 222.99, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.074, + "Actual Total Time": 1.853, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.114, + "Actual Total Time": 2.948, + "Actual Rows": 4995, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.065, + "Actual Total Time": 1.337, + "Actual Rows": 4255, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.083, + "Actual Total Time": 1.470, + "Actual Rows": 3700, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.099, + "Actual Total Time": 2.603, + "Actual Rows": 4440, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.069, + "Actual Total Time": 1.273, + "Actual Rows": 4097, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1449.73, + "Total Cost": 1449.73, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 51.278, + "Actual Total Time": 51.281, + "Actual Rows": 1757, + "Actual Loops": 6, + "Output": ["mk.movie_id"], + "Hash Buckets": 16384, + "Original Hash Buckets": 16384, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 544, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 45.102, + "Actual Total Time": 45.104, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 52.811, + "Actual Total Time": 52.812, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 49.152, + "Actual Total Time": 49.155, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 46.261, + "Actual Total Time": 46.263, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.238, + "Actual Total Time": 53.240, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1449.73, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 11.328, + "Actual Total Time": 20.098, + "Actual Rows": 1757, + "Actual Loops": 6, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.962, + "Actual Total Time": 8.963, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.664, + "Actual Total Time": 16.665, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.987, + "Actual Total Time": 12.988, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.150, + "Actual Total Time": 10.152, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.084, + "Actual Total Time": 17.085, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 11.311, + "Actual Total Time": 11.314, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 22362, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.960, + "Actual Total Time": 8.961, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.663, + "Actual Total Time": 16.663, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.985, + "Actual Total Time": 12.986, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.149, + "Actual Total Time": 10.149, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.083, + "Actual Total Time": 17.083, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 10544, + "Plan Width": 8, + "Actual Startup Time": 0.088, + "Actual Total Time": 49.851, + "Actual Rows": 10544, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 251, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2000))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 31 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 98 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 41 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 21 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 28 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.026, + "Actual Rows": 4, + "Actual Loops": 199, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.045, + "Actual Rows": 2, + "Actual Loops": 22 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.017, + "Actual Rows": 5, + "Actual Loops": 80 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.040, + "Actual Rows": 6, + "Actual Loops": 22 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.044, + "Actual Rows": 2, + "Actual Loops": 21 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.024, + "Actual Rows": 3, + "Actual Loops": 23 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 742, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 22 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 357 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 137 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 21 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 38 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.08, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.042, + "Actual Rows": 4, + "Actual Loops": 330, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German}'::text[]))", + "Rows Removed by Filter": 17, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.031, + "Actual Rows": 5, + "Actual Loops": 182 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.058, + "Actual Rows": 5, + "Actual Loops": 59 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.148, + "Actual Total Time": 0.148, + "Actual Rows": 0, + "Actual Loops": 22 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.13, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["lt.link", "lt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.073, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.052, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["lt.link", "lt.id"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1038524182031953798, + "Planning Time": 138.108, + "Triggers": [ + ], + "Execution Time": 82.482, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 1038524182031953798, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS company_name,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS german_follow_up
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Germany',
                  'German')
  AND t.production_year BETWEEN 2000 AND 2010
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1737.55, + "Total Cost": 1737.56, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 56.865, + "Actual Total Time": 59.852, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1737.53, + "Total Cost": 1737.54, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 47.357, + "Actual Total Time": 59.840, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 1, + "Workers Launched": 1, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1736.53, + "Total Cost": 1736.54, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 45.304, + "Actual Total Time": 45.311, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 44.065, + "Actual Total Time": 44.071, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1470.69, + "Total Cost": 1736.36, + "Plan Rows": 22, + "Plan Width": 48, + "Actual Startup Time": 42.182, + "Actual Total Time": 45.279, + "Actual Rows": 19, + "Actual Loops": 2, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 37.826, + "Actual Total Time": 44.013, + "Actual Rows": 38, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1470.55, + "Total Cost": 1735.38, + "Plan Rows": 22, + "Plan Width": 52, + "Actual Startup Time": 42.166, + "Actual Total Time": 45.237, + "Actual Rows": 19, + "Actual Loops": 2, + "Output": ["cn.name", "mc.company_type_id", "lt.link", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 37.796, + "Actual Total Time": 43.930, + "Actual Rows": 38, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1470.13, + "Total Cost": 1700.41, + "Plan Rows": 78, + "Plan Width": 37, + "Actual Startup Time": 42.117, + "Actual Total Time": 44.677, + "Actual Rows": 66, + "Actual Loops": 2, + "Output": ["mc.company_type_id", "mc.company_id", "lt.link", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 37.696, + "Actual Total Time": 42.811, + "Actual Rows": 133, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1469.70, + "Total Cost": 1693.88, + "Plan Rows": 11, + "Plan Width": 45, + "Actual Startup Time": 42.087, + "Actual Total Time": 44.470, + "Actual Rows": 10, + "Actual Loops": 2, + "Output": ["mk.movie_id", "mi.movie_id", "ml.movie_id", "lt.link", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 37.637, + "Actual Total Time": 42.399, + "Actual Rows": 19, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1469.27, + "Total Cost": 1667.79, + "Plan Rows": 28, + "Plan Width": 41, + "Actual Startup Time": 41.238, + "Actual Total Time": 43.704, + "Actual Rows": 24, + "Actual Loops": 2, + "Output": ["mk.movie_id", "ml.movie_id", "lt.link", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.941, + "Actual Total Time": 40.867, + "Actual Rows": 48, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1468.84, + "Total Cost": 1612.16, + "Plan Rows": 117, + "Plan Width": 20, + "Actual Startup Time": 41.207, + "Actual Total Time": 42.805, + "Actual Rows": 100, + "Actual Loops": 2, + "Output": ["mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": false, + "Hash Cond": "(ml.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.879, + "Actual Total Time": 39.071, + "Actual Rows": 199, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.29, + "Total Cost": 136.66, + "Plan Rows": 1362, + "Plan Width": 16, + "Actual Startup Time": 0.540, + "Actual Total Time": 1.764, + "Actual Rows": 1158, + "Actual Loops": 2, + "Output": ["lt.link", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.078, + "Actual Total Time": 3.524, + "Actual Rows": 2315, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["lt.id", "lt.link"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 8, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.032, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 123.95, + "Plan Rows": 1158, + "Plan Width": 8, + "Actual Startup Time": 0.624, + "Actual Total Time": 1.475, + "Actual Rows": 1158, + "Actual Loops": 2, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.link_type_id = lt.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.624, + "Actual Total Time": 1.475, + "Actual Rows": 1158, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1449.73, + "Total Cost": 1449.73, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 40.355, + "Actual Total Time": 40.356, + "Actual Rows": 5272, + "Actual Loops": 2, + "Output": ["mk.movie_id"], + "Hash Buckets": 16384, + "Original Hash Buckets": 16384, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 544, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.691, + "Actual Total Time": 34.692, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1449.73, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 18.134, + "Actual Total Time": 37.888, + "Actual Rows": 5272, + "Actual Loops": 2, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.605, + "Actual Total Time": 34.606, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 18.099, + "Actual Total Time": 23.358, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 67084, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.603, + "Actual Total Time": 34.604, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 10544, + "Plan Width": 8, + "Actual Startup Time": 0.063, + "Actual Total Time": 26.712, + "Actual Rows": 10544, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 199, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 199 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 48, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Germany,German}'::text[]))", + "Rows Removed by Filter": 29, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 48 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 7, + "Plan Width": 12, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.019, + "Actual Rows": 7, + "Actual Loops": 19, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 6, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.019, + "Actual Rows": 7, + "Actual Loops": 19 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 133, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 133 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 38, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 38, + "Cache Hits": 37, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4184495773567888797, + "Planning Time": 125.913, + "Triggers": [ + ], + "Execution Time": 60.253, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 4184495773567888797, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS company_name,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS western_follow_up
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'English')
  AND t.production_year BETWEEN 1950 AND 2010
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1960.85, + "Total Cost": 1960.86, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 50.545, + "Actual Total Time": 52.123, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1960.80, + "Total Cost": 1960.81, + "Plan Rows": 5, + "Plan Width": 96, + "Actual Startup Time": 39.453, + "Actual Total Time": 52.095, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1959.80, + "Total Cost": 1959.81, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 33.951, + "Actual Total Time": 33.959, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.800, + "Actual Total Time": 33.809, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.913, + "Actual Total Time": 27.919, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.011, + "Actual Total Time": 32.019, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 37.321, + "Actual Total Time": 37.328, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.028, + "Actual Total Time": 34.034, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1472.48, + "Total Cost": 1956.99, + "Plan Rows": 375, + "Plan Width": 48, + "Actual Startup Time": 27.952, + "Actual Total Time": 33.684, + "Actual Rows": 312, + "Actual Loops": 6, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.726, + "Actual Total Time": 33.302, + "Actual Rows": 301, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 23.751, + "Actual Total Time": 27.894, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.100, + "Actual Total Time": 31.995, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.434, + "Actual Total Time": 36.638, + "Actual Rows": 1090, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.185, + "Actual Total Time": 33.646, + "Actual Rows": 475, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1472.02, + "Total Cost": 1872.24, + "Plan Rows": 80, + "Plan Width": 64, + "Actual Startup Time": 27.855, + "Actual Total Time": 31.642, + "Actual Rows": 67, + "Actual Loops": 6, + "Output": ["cn.name", "mc.movie_id", "mk.movie_id", "ml.movie_id", "lt.link", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.631, + "Actual Total Time": 30.088, + "Actual Rows": 65, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 23.671, + "Actual Total Time": 27.777, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.022, + "Actual Total Time": 31.889, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.372, + "Actual Total Time": 31.020, + "Actual Rows": 236, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.085, + "Actual Total Time": 30.777, + "Actual Rows": 95, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1470.87, + "Total Cost": 1870.82, + "Plan Rows": 84, + "Plan Width": 56, + "Actual Startup Time": 27.452, + "Actual Total Time": 31.187, + "Actual Rows": 70, + "Actual Loops": 6, + "Output": ["cn.name", "mc.movie_id", "mk.movie_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.227, + "Actual Total Time": 29.570, + "Actual Rows": 65, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 23.127, + "Actual Total Time": 27.230, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.792, + "Actual Total Time": 31.655, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.798, + "Actual Total Time": 30.271, + "Actual Rows": 236, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.813, + "Actual Total Time": 30.427, + "Actual Rows": 95, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1470.45, + "Total Cost": 1776.66, + "Plan Rows": 210, + "Plan Width": 41, + "Actual Startup Time": 25.478, + "Actual Total Time": 29.401, + "Actual Rows": 175, + "Actual Loops": 6, + "Output": ["mc.movie_id", "mc.company_id", "mk.movie_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.978, + "Actual Total Time": 26.675, + "Actual Rows": 161, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 23.059, + "Actual Total Time": 26.871, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.999, + "Actual Total Time": 31.062, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.057, + "Actual Total Time": 26.939, + "Actual Rows": 464, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.937, + "Actual Total Time": 27.892, + "Actual Rows": 272, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1469.41, + "Total Cost": 1774.35, + "Plan Rows": 235, + "Plan Width": 45, + "Actual Startup Time": 25.456, + "Actual Total Time": 29.224, + "Actual Rows": 196, + "Actual Loops": 6, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.954, + "Actual Total Time": 26.405, + "Actual Rows": 161, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 23.041, + "Actual Total Time": 26.820, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.986, + "Actual Total Time": 30.990, + "Actual Rows": 87, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.042, + "Actual Total Time": 26.611, + "Actual Rows": 501, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.912, + "Actual Total Time": 27.663, + "Actual Rows": 275, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1468.98, + "Total Cost": 1745.91, + "Plan Rows": 50, + "Plan Width": 33, + "Actual Startup Time": 25.377, + "Actual Total Time": 28.406, + "Actual Rows": 42, + "Actual Loops": 6, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.812, + "Actual Total Time": 25.457, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.970, + "Actual Total Time": 26.376, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.921, + "Actual Total Time": 30.410, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.972, + "Actual Total Time": 25.300, + "Actual Rows": 101, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.848, + "Actual Total Time": 26.668, + "Actual Rows": 42, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1468.55, + "Total Cost": 1722.14, + "Plan Rows": 50, + "Plan Width": 12, + "Actual Startup Time": 25.298, + "Actual Total Time": 27.874, + "Actual Rows": 42, + "Actual Loops": 6, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Hash Cond": "(ml.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.702, + "Actual Total Time": 24.901, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.893, + "Actual Total Time": 25.987, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.832, + "Actual Total Time": 29.887, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.907, + "Actual Total Time": 24.456, + "Actual Rows": 101, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.767, + "Actual Total Time": 26.156, + "Actual Rows": 42, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.00, + "Total Cost": 222.99, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.030, + "Actual Total Time": 1.178, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.051, + "Actual Total Time": 1.245, + "Actual Rows": 3885, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 1.506, + "Actual Rows": 5550, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 1.146, + "Actual Rows": 5920, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 1.193, + "Actual Rows": 6290, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 1.129, + "Actual Rows": 3885, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1449.73, + "Total Cost": 1449.73, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 24.576, + "Actual Total Time": 24.578, + "Actual Rows": 1757, + "Actual Loops": 6, + "Output": ["mk.movie_id"], + "Hash Buckets": 16384, + "Original Hash Buckets": 16384, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 544, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.475, + "Actual Total Time": 21.476, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.830, + "Actual Total Time": 21.831, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.642, + "Actual Total Time": 26.643, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.128, + "Actual Total Time": 21.129, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.036, + "Actual Total Time": 23.037, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1449.73, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 9.400, + "Actual Total Time": 13.957, + "Actual Rows": 1757, + "Actual Loops": 6, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.624, + "Actual Total Time": 9.625, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.034, + "Actual Total Time": 10.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.802, + "Actual Total Time": 14.803, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.329, + "Actual Total Time": 9.329, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.188, + "Actual Total Time": 11.189, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 9.388, + "Actual Total Time": 9.390, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 22362, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.622, + "Actual Total Time": 9.623, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.033, + "Actual Total Time": 10.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.802, + "Actual Total Time": 14.802, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.327, + "Actual Total Time": 9.327, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.188, + "Actual Total Time": 11.188, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 10544, + "Plan Width": 8, + "Actual Startup Time": 0.059, + "Actual Total Time": 25.213, + "Actual Rows": 10544, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 251, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 24 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 24 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 33 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 101 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 42 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 5, + "Plan Width": 12, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.017, + "Actual Rows": 5, + "Actual Loops": 251, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.032, + "Actual Rows": 7, + "Actual Loops": 24 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.017, + "Actual Rows": 2, + "Actual Loops": 24 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 33 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.011, + "Actual Rows": 5, + "Actual Loops": 101 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.020, + "Actual Rows": 7, + "Actual Loops": 42 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1052, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 161 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 25 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 47 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 464 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 272 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.13, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["lt.link", "lt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.035, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["lt.link", "lt.id"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.46, + "Total Cost": 1.00, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.028, + "Actual Rows": 5, + "Actual Loops": 402, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,English}'::text[]))", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.045, + "Actual Rows": 5, + "Actual Loops": 65 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.053, + "Actual Rows": 2, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.050, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.022, + "Actual Rows": 5, + "Actual Loops": 236 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.028, + "Actual Rows": 5, + "Actual Loops": 95 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7971004576533452411, + "Planning Time": 120.619, + "Triggers": [ + ], + "Execution Time": 52.496, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -7971004576533452411, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_violent_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Germany',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '7.0'
  AND t.production_year > 2008
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4951.80, + "Total Cost": 4951.81, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 403.135, + "Actual Total Time": 433.382, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4951.74, + "Total Cost": 4951.75, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 259.980, + "Actual Total Time": 433.353, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4950.74, + "Total Cost": 4950.75, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 129.164, + "Actual Total Time": 129.177, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.967, + "Actual Total Time": 25.982, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 251.152, + "Actual Total Time": 251.160, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.798, + "Actual Total Time": 25.813, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 389.007, + "Actual Total Time": 389.014, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.320, + "Actual Total Time": 27.334, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.730, + "Actual Total Time": 26.745, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.278, + "Actual Total Time": 28.289, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 8.37, + "Total Cost": 4948.21, + "Plan Rows": 337, + "Plan Width": 41, + "Actual Startup Time": 27.236, + "Actual Total Time": 128.894, + "Actual Rows": 356, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.958, + "Actual Total Time": 25.972, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.385, + "Actual Total Time": 250.297, + "Actual Rows": 1173, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.789, + "Actual Total Time": 25.804, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 57.567, + "Actual Total Time": 388.234, + "Actual Rows": 1040, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.313, + "Actual Total Time": 27.327, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.722, + "Actual Total Time": 26.737, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.271, + "Actual Total Time": 28.281, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.95, + "Total Cost": 4786.02, + "Plan Rows": 345, + "Plan Width": 26, + "Actual Startup Time": 26.468, + "Actual Total Time": 124.718, + "Actual Rows": 403, + "Actual Loops": 8, + "Output": ["mc.company_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.957, + "Actual Total Time": 25.970, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.311, + "Actual Total Time": 237.198, + "Actual Rows": 1298, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.788, + "Actual Total Time": 25.801, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 51.551, + "Actual Total Time": 376.766, + "Actual Rows": 1195, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.312, + "Actual Total Time": 27.325, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.721, + "Actual Total Time": 26.735, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.270, + "Actual Total Time": 28.280, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.91, + "Total Cost": 4782.48, + "Plan Rows": 460, + "Plan Width": 30, + "Actual Startup Time": 25.965, + "Actual Total Time": 123.956, + "Actual Rows": 403, + "Actual Loops": 8, + "Output": ["mc.company_type_id", "mc.company_id", "mi_idx.info", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.397, + "Actual Total Time": 25.408, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.009, + "Actual Total Time": 236.097, + "Actual Rows": 1298, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.242, + "Actual Total Time": 25.254, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 50.939, + "Actual Total Time": 375.431, + "Actual Rows": 1195, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.782, + "Actual Total Time": 26.793, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.121, + "Actual Total Time": 26.132, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.690, + "Actual Total Time": 27.698, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.48, + "Total Cost": 4666.67, + "Plan Rows": 215, + "Plan Width": 38, + "Actual Startup Time": 21.599, + "Actual Total Time": 117.185, + "Actual Rows": 188, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.395, + "Actual Total Time": 25.406, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.877, + "Actual Total Time": 217.352, + "Actual Rows": 502, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.241, + "Actual Total Time": 25.251, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.529, + "Actual Total Time": 354.990, + "Actual Rows": 641, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.781, + "Actual Total Time": 26.791, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.119, + "Actual Total Time": 26.129, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.689, + "Actual Total Time": 27.696, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.63, + "Total Cost": 4664.18, + "Plan Rows": 237, + "Plan Width": 42, + "Actual Startup Time": 21.576, + "Actual Total Time": 116.974, + "Actual Rows": 207, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.movie_id", "mi.info_type_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.381, + "Actual Total Time": 25.390, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.863, + "Actual Total Time": 216.853, + "Actual Rows": 550, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.226, + "Actual Total Time": 25.235, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.506, + "Actual Total Time": 354.375, + "Actual Rows": 705, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.765, + "Actual Total Time": 26.773, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.104, + "Actual Total Time": 26.112, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.674, + "Actual Total Time": 27.679, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.20, + "Total Cost": 4328.65, + "Plan Rows": 340, + "Plan Width": 34, + "Actual Startup Time": 18.107, + "Actual Total Time": 97.636, + "Actual Rows": 297, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.380, + "Actual Total Time": 25.387, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.443, + "Actual Total Time": 165.280, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.225, + "Actual Total Time": 25.233, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.065, + "Actual Total Time": 295.678, + "Actual Rows": 1035, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.764, + "Actual Total Time": 26.771, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.102, + "Actual Total Time": 26.109, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.673, + "Actual Total Time": 27.678, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.35, + "Total Cost": 4323.42, + "Plan Rows": 1243, + "Plan Width": 38, + "Actual Startup Time": 16.954, + "Actual Total Time": 97.108, + "Actual Rows": 1087, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.365, + "Actual Total Time": 25.371, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.483, + "Actual Total Time": 163.628, + "Actual Rows": 2763, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.210, + "Actual Total Time": 25.216, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.394, + "Actual Total Time": 294.179, + "Actual Rows": 3917, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.749, + "Actual Total Time": 26.754, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.086, + "Actual Total Time": 26.091, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.657, + "Actual Total Time": 27.661, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 3959.08, + "Plan Rows": 690, + "Plan Width": 25, + "Actual Startup Time": 16.934, + "Actual Total Time": 87.795, + "Actual Rows": 604, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.364, + "Actual Total Time": 25.369, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.433, + "Actual Total Time": 140.273, + "Actual Rows": 1434, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.210, + "Actual Total Time": 25.214, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.339, + "Actual Total Time": 263.114, + "Actual Rows": 2254, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.748, + "Actual Total Time": 26.752, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.085, + "Actual Total Time": 26.089, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.656, + "Actual Total Time": 27.660, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3954.66, + "Plan Rows": 796, + "Plan Width": 29, + "Actual Startup Time": 16.914, + "Actual Total Time": 87.126, + "Actual Rows": 701, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.350, + "Actual Total Time": 25.352, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.415, + "Actual Total Time": 138.750, + "Actual Rows": 1659, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.195, + "Actual Total Time": 25.197, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.315, + "Actual Total Time": 260.778, + "Actual Rows": 2577, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.733, + "Actual Total Time": 26.736, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.071, + "Actual Total Time": 26.073, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.641, + "Actual Total Time": 27.643, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1514.74, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 16.825, + "Actual Total Time": 37.075, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.349, + "Actual Total Time": 25.350, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.231, + "Actual Total Time": 42.894, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.194, + "Actual Total Time": 25.195, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.907, + "Actual Total Time": 70.854, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.732, + "Actual Total Time": 26.733, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.070, + "Actual Total Time": 26.071, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.640, + "Actual Total Time": 27.641, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 16.759, + "Actual Total Time": 16.766, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.348, + "Actual Total Time": 25.349, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.097, + "Actual Total Time": 0.105, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.193, + "Actual Total Time": 25.193, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.640, + "Actual Total Time": 0.646, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.731, + "Actual Total Time": 26.731, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.069, + "Actual Total Time": 26.069, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.640, + "Actual Total Time": 27.640, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.166, + "Actual Total Time": 51.035, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.131, + "Actual Total Time": 40.618, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.258, + "Actual Total Time": 65.552, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2008)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 4832, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '7.0'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 1434 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 2, + "Actual Loops": 2254 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.064, + "Actual Rows": 1, + "Actual Loops": 2378, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Germany,German,USA,American}'::text[]))", + "Rows Removed by Filter": 58, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.067, + "Actual Rows": 1, + "Actual Loops": 753 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 1035 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.034, + "Actual Rows": 2, + "Actual Loops": 1507, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 13, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.036, + "Actual Rows": 3, + "Actual Loops": 502 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.031, + "Actual Rows": 2, + "Actual Loops": 641 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.02, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["ct.id"], + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 3223, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1298 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1195 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7110568913434103698, + "Planning Time": 256.688, + "Triggers": [ + ], + "Execution Time": 433.897, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -7110568913434103698, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_violent_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Germany',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '7.0'
  AND t.production_year > 2009
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4297.50, + "Total Cost": 4297.51, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 290.772, + "Actual Total Time": 320.733, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4297.43, + "Total Cost": 4297.44, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 170.812, + "Actual Total Time": 320.708, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4296.43, + "Total Cost": 4296.44, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 95.128, + "Actual Total Time": 95.137, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.035, + "Actual Total Time": 30.045, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 160.982, + "Actual Total Time": 160.990, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.951, + "Actual Total Time": 30.961, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.270, + "Actual Total Time": 31.278, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.232, + "Actual Total Time": 31.242, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 275.565, + "Actual Total Time": 275.572, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.184, + "Actual Total Time": 31.190, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 4296.40, + "Plan Rows": 5, + "Plan Width": 41, + "Actual Startup Time": 35.632, + "Actual Total Time": 95.120, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.029, + "Actual Total Time": 30.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.675, + "Actual Total Time": 160.964, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.943, + "Actual Total Time": 30.952, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.265, + "Actual Total Time": 31.272, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.224, + "Actual Total Time": 31.233, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 75.072, + "Actual Total Time": 275.529, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.178, + "Actual Total Time": 31.183, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.01, + "Total Cost": 4295.48, + "Plan Rows": 6, + "Plan Width": 45, + "Actual Startup Time": 35.622, + "Actual Total Time": 95.088, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.028, + "Actual Total Time": 30.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.637, + "Actual Total Time": 160.891, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.942, + "Actual Total Time": 30.950, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.264, + "Actual Total Time": 31.271, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.223, + "Actual Total Time": 31.232, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 75.047, + "Actual Total Time": 275.441, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.177, + "Actual Total Time": 31.182, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.87, + "Total Cost": 4294.97, + "Plan Rows": 6, + "Plan Width": 49, + "Actual Startup Time": 35.601, + "Actual Total Time": 95.059, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["cn.name", "mc.company_type_id", "mi_idx.info", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.027, + "Actual Total Time": 30.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.561, + "Actual Total Time": 160.803, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.941, + "Actual Total Time": 30.948, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.264, + "Actual Total Time": 31.269, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.222, + "Actual Total Time": 31.230, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 74.983, + "Actual Total Time": 275.353, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.176, + "Actual Total Time": 31.181, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.73, + "Total Cost": 4293.97, + "Plan Rows": 6, + "Plan Width": 53, + "Actual Startup Time": 35.594, + "Actual Total Time": 95.026, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["cn.name", "mc.company_type_id", "mi.info_type_id", "mi_idx.info", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.026, + "Actual Total Time": 30.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.545, + "Actual Total Time": 160.751, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.940, + "Actual Total Time": 30.947, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.263, + "Actual Total Time": 31.268, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.221, + "Actual Total Time": 31.228, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 74.969, + "Actual Total Time": 275.257, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.175, + "Actual Total Time": 31.180, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 4292.57, + "Plan Rows": 19, + "Plan Width": 57, + "Actual Startup Time": 35.575, + "Actual Total Time": 94.984, + "Actual Rows": 13, + "Actual Loops": 8, + "Output": ["cn.name", "mc.company_type_id", "mi.info_type_id", "mi_idx.info", "mi_idx.info_type_id", "t.title", "t.kind_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.025, + "Actual Total Time": 30.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.484, + "Actual Total Time": 160.647, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.939, + "Actual Total Time": 30.945, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.262, + "Actual Total Time": 31.267, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.221, + "Actual Total Time": 31.226, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 74.925, + "Actual Total Time": 275.143, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.175, + "Actual Total Time": 31.179, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 4288.87, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 35.556, + "Actual Total Time": 94.892, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "mi.info_type_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.024, + "Actual Total Time": 30.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.414, + "Actual Total Time": 160.446, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.939, + "Actual Total Time": 30.943, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.262, + "Actual Total Time": 31.266, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.220, + "Actual Total Time": 31.224, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 74.877, + "Actual Total Time": 274.871, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.174, + "Actual Total Time": 31.178, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 4277.03, + "Plan Rows": 12, + "Plan Width": 56, + "Actual Startup Time": 30.500, + "Actual Total Time": 94.383, + "Actual Rows": 9, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.024, + "Actual Total Time": 30.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.786, + "Actual Total Time": 159.542, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.938, + "Actual Total Time": 30.942, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.261, + "Actual Total Time": 31.264, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.219, + "Actual Total Time": 31.223, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 46.110, + "Actual Total Time": 273.199, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.174, + "Actual Total Time": 31.176, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 4267.63, + "Plan Rows": 20, + "Plan Width": 41, + "Actual Startup Time": 23.500, + "Actual Total Time": 94.103, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.023, + "Actual Total Time": 30.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.718, + "Actual Total Time": 159.005, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.937, + "Actual Total Time": 30.940, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.261, + "Actual Total Time": 31.263, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.218, + "Actual Total Time": 31.222, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.951, + "Actual Total Time": 272.197, + "Actual Rows": 56, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.173, + "Actual Total Time": 31.175, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3954.66, + "Plan Rows": 581, + "Plan Width": 29, + "Actual Startup Time": 19.979, + "Actual Total Time": 81.438, + "Actual Rows": 505, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.022, + "Actual Total Time": 30.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.304, + "Actual Total Time": 126.259, + "Actual Rows": 1167, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.936, + "Actual Total Time": 30.938, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.260, + "Actual Total Time": 31.262, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.217, + "Actual Total Time": 31.220, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.540, + "Actual Total Time": 232.036, + "Actual Rows": 1858, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.172, + "Actual Total Time": 31.174, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1514.74, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 19.736, + "Actual Total Time": 34.820, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.021, + "Actual Total Time": 30.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.178, + "Actual Total Time": 33.315, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.935, + "Actual Total Time": 30.937, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.259, + "Actual Total Time": 31.261, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.217, + "Actual Total Time": 31.218, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.803, + "Actual Total Time": 53.091, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.172, + "Actual Total Time": 31.173, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 19.688, + "Actual Total Time": 19.695, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.019, + "Actual Total Time": 30.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.099, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.934, + "Actual Total Time": 30.935, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.258, + "Actual Total Time": 31.259, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.215, + "Actual Total Time": 31.216, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.608, + "Actual Total Time": 0.615, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.170, + "Actual Total Time": 31.171, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.119, + "Actual Total Time": 37.317, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.088, + "Actual Total Time": 31.030, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.188, + "Actual Total Time": 48.037, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2009)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 4040, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 8, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1167 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1858 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 123, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 32 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 56 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 71, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Germany,German,USA,American}'::text[]))", + "Rows Removed by Filter": 46, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.062, + "Actual Rows": 1, + "Actual Loops": 14 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 30 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 38, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '7.0'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.020, + "Actual Rows": 3, + "Actual Loops": 9 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 15 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 104, + "Output": ["it2.id"], + "Cache Key": "mi_idx.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 36, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 24, + "Cache Hits": 21, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 41, + "Cache Hits": 38, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 9, + "Output": ["it2.id"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 35, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 14 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 32, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 11, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 8, + "Cache Hits": 7, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 12, + "Cache Hits": 11, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.068, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 32, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 12 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7110568913434103698, + "Planning Time": 275.526, + "Triggers": [ + ], + "Execution Time": 321.234, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -7110568913434103698, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_violent_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6990.50, + "Total Cost": 6990.51, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 6428.871, + "Actual Total Time": 6463.883, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6990.44, + "Total Cost": 6990.45, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 4992.852, + "Actual Total Time": 6463.848, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6989.44, + "Total Cost": 6989.45, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 2128.771, + "Actual Total Time": 2128.783, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.898, + "Actual Total Time": 20.908, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5519.055, + "Actual Total Time": 5519.061, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.193, + "Actual Total Time": 20.215, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6414.318, + "Actual Total Time": 6414.323, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.608, + "Actual Total Time": 21.619, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.668, + "Actual Total Time": 21.676, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.491, + "Actual Total Time": 20.504, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.67, + "Total Cost": 6966.42, + "Plan Rows": 3070, + "Plan Width": 41, + "Actual Startup Time": 32.276, + "Actual Total Time": 2126.421, + "Actual Rows": 2686, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.893, + "Actual Total Time": 20.902, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 46.470, + "Actual Total Time": 5512.096, + "Actual Rows": 7787, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.185, + "Actual Total Time": 20.207, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 57.511, + "Actual Total Time": 6407.697, + "Actual Rows": 7733, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.601, + "Actual Total Time": 21.612, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.665, + "Actual Total Time": 21.673, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.483, + "Actual Total Time": 20.495, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.61, + "Total Cost": 6951.39, + "Plan Rows": 3314, + "Plan Width": 45, + "Actual Startup Time": 17.486, + "Actual Total Time": 2123.829, + "Actual Rows": 2900, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title", "t.kind_id"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.655, + "Actual Total Time": 20.663, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.527, + "Actual Total Time": 5505.524, + "Actual Rows": 8327, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.610, + "Actual Total Time": 19.630, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.566, + "Actual Total Time": 6400.972, + "Actual Rows": 8406, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.038, + "Actual Total Time": 21.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.397, + "Actual Total Time": 21.403, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 19.866, + "Actual Total Time": 19.877, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.18, + "Total Cost": 6950.92, + "Plan Rows": 1, + "Plan Width": 40, + "Actual Startup Time": 13.539, + "Actual Total Time": 2059.873, + "Actual Rows": 8219, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.654, + "Actual Total Time": 20.662, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.673, + "Actual Total Time": 5336.260, + "Actual Rows": 21665, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.609, + "Actual Total Time": 19.628, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.460, + "Actual Total Time": 6206.895, + "Actual Rows": 25677, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.037, + "Actual Total Time": 21.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.396, + "Actual Total Time": 21.402, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 19.865, + "Actual Total Time": 19.875, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.04, + "Total Cost": 6950.74, + "Plan Rows": 1, + "Plan Width": 44, + "Actual Startup Time": 13.525, + "Actual Total Time": 2006.520, + "Actual Rows": 13620, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.654, + "Actual Total Time": 20.660, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.645, + "Actual Total Time": 5199.001, + "Actual Rows": 34650, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.608, + "Actual Total Time": 19.626, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.396, + "Actual Total Time": 6042.847, + "Actual Rows": 42855, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.035, + "Actual Total Time": 21.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.395, + "Actual Total Time": 21.401, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 19.864, + "Actual Total Time": 19.873, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.62, + "Total Cost": 6950.27, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 13.478, + "Actual Total Time": 1888.858, + "Actual Rows": 14394, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_id", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.653, + "Actual Total Time": 20.659, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.578, + "Actual Total Time": 4897.056, + "Actual Rows": 36407, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.607, + "Actual Total Time": 19.624, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.276, + "Actual Total Time": 5677.392, + "Actual Rows": 45684, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.035, + "Actual Total Time": 21.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.395, + "Actual Total Time": 21.399, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 19.863, + "Actual Total Time": 19.872, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.18, + "Total Cost": 6949.12, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 13.352, + "Actual Total Time": 184.467, + "Actual Rows": 10393, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.652, + "Actual Total Time": 20.657, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.479, + "Actual Total Time": 355.297, + "Actual Rows": 27281, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.606, + "Actual Total Time": 19.622, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.068, + "Actual Total Time": 616.095, + "Actual Rows": 32836, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.034, + "Actual Total Time": 21.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.394, + "Actual Total Time": 21.398, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 19.862, + "Actual Total Time": 19.870, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.13, + "Total Cost": 6883.85, + "Plan Rows": 11878, + "Plan Width": 25, + "Actual Startup Time": 13.339, + "Actual Total Time": 176.509, + "Actual Rows": 10393, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.648, + "Actual Total Time": 20.652, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.469, + "Actual Total Time": 334.179, + "Actual Rows": 27281, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.596, + "Actual Total Time": 19.610, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.048, + "Actual Total Time": 591.807, + "Actual Rows": 32836, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.023, + "Actual Total Time": 21.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.389, + "Actual Total Time": 21.392, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 19.851, + "Actual Total Time": 19.857, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 4311.69, + "Plan Rows": 4543, + "Plan Width": 13, + "Actual Startup Time": 13.274, + "Actual Total Time": 88.587, + "Actual Rows": 3975, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.648, + "Actual Total Time": 20.651, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.279, + "Actual Total Time": 146.383, + "Actual Rows": 7453, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.595, + "Actual Total Time": 19.608, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.845, + "Actual Total Time": 283.391, + "Actual Rows": 16285, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.022, + "Actual Total Time": 21.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.388, + "Actual Total Time": 21.390, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 19.851, + "Actual Total Time": 19.855, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4273.04, + "Plan Rows": 13515, + "Plan Width": 17, + "Actual Startup Time": 13.252, + "Actual Total Time": 83.566, + "Actual Rows": 11826, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.641, + "Actual Total Time": 20.642, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.259, + "Actual Total Time": 136.645, + "Actual Rows": 22284, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.581, + "Actual Total Time": 19.591, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.802, + "Actual Total Time": 263.854, + "Actual Rows": 48281, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.010, + "Actual Total Time": 21.012, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.383, + "Actual Total Time": 21.384, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 19.839, + "Actual Total Time": 19.842, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1514.74, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 13.212, + "Actual Total Time": 28.184, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.640, + "Actual Total Time": 20.641, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.189, + "Actual Total Time": 30.776, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.580, + "Actual Total Time": 19.590, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.638, + "Actual Total Time": 52.866, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.009, + "Actual Total Time": 21.011, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.382, + "Actual Total Time": 21.383, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 19.838, + "Actual Total Time": 19.840, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 13.160, + "Actual Total Time": 13.167, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.639, + "Actual Total Time": 20.640, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.095, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.579, + "Actual Total Time": 19.579, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.419, + "Actual Total Time": 0.424, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.008, + "Actual Total Time": 21.009, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.381, + "Actual Total Time": 21.382, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 19.837, + "Actual Total Time": 19.838, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.129, + "Actual Total Time": 36.377, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.100, + "Actual Total Time": 28.016, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.211, + "Actual Total Time": 47.106, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 3, + "Actual Loops": 37091, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 3, + "Actual Loops": 8337 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.010, + "Actual Rows": 2, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.021, + "Actual Rows": 3, + "Actual Loops": 31800, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 7, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.024, + "Actual Rows": 4, + "Actual Loops": 7453 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.018, + "Actual Rows": 2, + "Actual Loops": 16285 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.02, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["ct.id"], + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.163, + "Actual Rows": 1, + "Actual Loops": 83144, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 173, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.165, + "Actual Rows": 1, + "Actual Loops": 27281 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.153, + "Actual Rows": 1, + "Actual Loops": 32836 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 115148, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 36407 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 45684 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 108961, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 34650 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 42855 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 65749, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 21665 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 25677 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.083, + "Actual Total Time": 0.083, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.025, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5949668645089970217, + "Planning Time": 274.052, + "Triggers": [ + ], + "Execution Time": 6464.328, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -5949668645089970217, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_violent_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 8416.17, + "Total Cost": 8416.18, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 3880.487, + "Actual Total Time": 3916.030, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 8416.11, + "Total Cost": 8416.12, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 67.603, + "Actual Total Time": 3915.992, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 8415.11, + "Total Cost": 8415.12, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 1288.658, + "Actual Total Time": 1288.669, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2718.803, + "Actual Total Time": 2718.811, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3870.041, + "Actual Total Time": 3870.053, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 52.684, + "Actual Total Time": 52.696, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 53.037, + "Actual Total Time": 53.047, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3441.866, + "Actual Total Time": 3441.874, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 53.108, + "Actual Total Time": 53.118, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 53.100, + "Actual Total Time": 53.108, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3565.87, + "Total Cost": 8365.52, + "Plan Rows": 6612, + "Plan Width": 41, + "Actual Startup Time": 51.010, + "Actual Total Time": 1284.916, + "Actual Rows": 5785, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.581, + "Actual Total Time": 2711.060, + "Actual Rows": 12180, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.997, + "Actual Total Time": 3858.278, + "Actual Rows": 18079, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 52.680, + "Actual Total Time": 52.690, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 53.032, + "Actual Total Time": 53.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 40.971, + "Actual Total Time": 3431.405, + "Actual Rows": 16022, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 53.102, + "Actual Total Time": 53.112, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 53.095, + "Actual Total Time": 53.104, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3564.82, + "Total Cost": 8328.72, + "Plan Rows": 6612, + "Plan Width": 45, + "Actual Startup Time": 50.706, + "Actual Total Time": 1282.035, + "Actual Rows": 5785, + "Actual Loops": 8, + "Output": ["cn.name", "mc.company_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.427, + "Actual Total Time": 2705.602, + "Actual Rows": 12180, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.915, + "Actual Total Time": 3850.065, + "Actual Rows": 18079, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 52.548, + "Actual Total Time": 52.558, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 51.748, + "Actual Total Time": 51.756, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 40.847, + "Actual Total Time": 3424.105, + "Actual Rows": 16022, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 52.945, + "Actual Total Time": 52.953, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 52.938, + "Actual Total Time": 52.945, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3562.98, + "Total Cost": 8305.64, + "Plan Rows": 7797, + "Plan Width": 49, + "Actual Startup Time": 50.687, + "Actual Total Time": 1277.913, + "Actual Rows": 6822, + "Actual Loops": 8, + "Output": ["cn.name", "mc.company_type_id", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.411, + "Actual Total Time": 2697.245, + "Actual Rows": 14376, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.906, + "Actual Total Time": 3837.038, + "Actual Rows": 21362, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 52.539, + "Actual Total Time": 52.547, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 51.735, + "Actual Total Time": 51.742, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 40.829, + "Actual Total Time": 3412.622, + "Actual Rows": 18840, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 52.936, + "Actual Total Time": 52.943, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 52.928, + "Actual Total Time": 52.934, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3562.83, + "Total Cost": 8304.61, + "Plan Rows": 7, + "Plan Width": 53, + "Actual Startup Time": 50.499, + "Actual Total Time": 1259.661, + "Actual Rows": 20605, + "Actual Loops": 8, + "Output": ["cn.name", "mc.company_type_id", "mi.info_type_id", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 41.046, + "Actual Total Time": 2659.342, + "Actual Rows": 43970, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.859, + "Actual Total Time": 3779.944, + "Actual Rows": 63969, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 52.538, + "Actual Total Time": 52.546, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 51.734, + "Actual Total Time": 51.740, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 40.738, + "Actual Total Time": 3361.615, + "Actual Rows": 56898, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 52.935, + "Actual Total Time": 52.941, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 52.927, + "Actual Total Time": 52.932, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3562.40, + "Total Cost": 8302.50, + "Plan Rows": 4, + "Plan Width": 60, + "Actual Startup Time": 50.468, + "Actual Total Time": 1189.329, + "Actual Rows": 7007, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "mi.info_type_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 40.944, + "Actual Total Time": 2513.256, + "Actual Rows": 14889, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.812, + "Actual Total Time": 3559.741, + "Actual Rows": 21908, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 52.537, + "Actual Total Time": 52.545, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 51.733, + "Actual Total Time": 51.739, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 40.641, + "Actual Total Time": 3165.255, + "Actual Rows": 19258, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 52.934, + "Actual Total Time": 52.940, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 52.926, + "Actual Total Time": 52.931, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3561.96, + "Total Cost": 8297.90, + "Plan Rows": 4, + "Plan Width": 52, + "Actual Startup Time": 50.392, + "Actual Total Time": 139.663, + "Actual Rows": 7323, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 40.656, + "Actual Total Time": 228.252, + "Actual Rows": 15120, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.723, + "Actual Total Time": 368.010, + "Actual Rows": 23314, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 52.537, + "Actual Total Time": 52.543, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 51.732, + "Actual Total Time": 51.737, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 40.420, + "Actual Total Time": 244.666, + "Actual Rows": 20149, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 52.933, + "Actual Total Time": 52.938, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 52.925, + "Actual Total Time": 52.929, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.36, + "Total Cost": 4708.33, + "Plan Rows": 11412, + "Plan Width": 37, + "Actual Startup Time": 9.559, + "Actual Total Time": 89.625, + "Actual Rows": 9986, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.149, + "Actual Total Time": 171.747, + "Actual Rows": 20116, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.204, + "Actual Total Time": 292.857, + "Actual Rows": 32167, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.560, + "Actual Total Time": 14.565, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.598, + "Actual Total Time": 14.602, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.221, + "Actual Total Time": 179.477, + "Actual Rows": 27602, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.583, + "Actual Total Time": 14.587, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.591, + "Actual Total Time": 14.594, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 3961.59, + "Plan Rows": 1153, + "Plan Width": 25, + "Actual Startup Time": 9.528, + "Actual Total Time": 68.405, + "Actual Rows": 1009, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.042, + "Actual Total Time": 128.597, + "Actual Rows": 1918, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.161, + "Actual Total Time": 224.292, + "Actual Rows": 3653, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.559, + "Actual Total Time": 14.563, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.596, + "Actual Total Time": 14.600, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.135, + "Actual Total Time": 121.437, + "Actual Rows": 2502, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.582, + "Actual Total Time": 14.585, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.590, + "Actual Total Time": 14.592, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3954.66, + "Plan Rows": 1391, + "Plan Width": 29, + "Actual Startup Time": 9.310, + "Actual Total Time": 67.278, + "Actual Rows": 1217, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.780, + "Actual Total Time": 126.510, + "Actual Rows": 2404, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.762, + "Actual Total Time": 220.785, + "Actual Rows": 4326, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.418, + "Actual Total Time": 14.420, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.443, + "Actual Total Time": 14.444, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.822, + "Actual Total Time": 118.797, + "Actual Rows": 3009, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.438, + "Actual Total Time": 14.439, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.424, + "Actual Total Time": 14.426, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1514.74, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 9.283, + "Actual Total Time": 23.568, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.705, + "Actual Total Time": 33.235, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.707, + "Actual Total Time": 51.510, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.417, + "Actual Total Time": 14.419, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.441, + "Actual Total Time": 14.442, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.737, + "Actual Total Time": 31.675, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.437, + "Actual Total Time": 14.437, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.423, + "Actual Total Time": 14.424, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 9.218, + "Actual Total Time": 9.226, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.479, + "Actual Total Time": 0.517, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.605, + "Actual Total Time": 0.610, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.416, + "Actual Total Time": 14.417, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.441, + "Actual Total Time": 14.441, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.551, + "Actual Total Time": 0.567, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.435, + "Actual Total Time": 14.436, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.423, + "Actual Total Time": 14.423, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.165, + "Actual Total Time": 35.184, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.216, + "Actual Total Time": 30.354, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.098, + "Actual Total Time": 46.347, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.180, + "Actual Total Time": 28.853, + "Actual Rows": 8337, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 9226 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 19528 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 8337 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.099, + "Actual Total Time": 0.100, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.106, + "Actual Total Time": 0.106, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.118, + "Actual Total Time": 0.119, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.099, + "Actual Total Time": 0.100, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.110, + "Actual Total Time": 0.111, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.105, + "Actual Total Time": 0.106, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.102, + "Actual Total Time": 0.103, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.093, + "Actual Total Time": 0.094, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.028, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 12, + "Plan Width": 12, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.017, + "Actual Rows": 10, + "Actual Loops": 8073, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.019, + "Actual Rows": 10, + "Actual Loops": 1918 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.016, + "Actual Rows": 9, + "Actual Loops": 3653 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.019, + "Actual Rows": 11, + "Actual Loops": 2502 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 3362.18, + "Total Cost": 3362.18, + "Plan Rows": 15794, + "Plan Width": 23, + "Actual Startup Time": 39.854, + "Actual Total Time": 39.854, + "Actual Rows": 15779, + "Actual Loops": 8, + "Output": ["cn.name", "cn.id"], + "Hash Buckets": 131072, + "Original Hash Buckets": 131072, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 8352, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 36.672, + "Actual Total Time": 36.673, + "Actual Rows": 9586, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 43.165, + "Actual Total Time": 43.166, + "Actual Rows": 26028, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 37.914, + "Actual Total Time": 37.915, + "Actual Rows": 15493, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 37.083, + "Actual Total Time": 37.084, + "Actual Rows": 10496, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 38.099, + "Actual Total Time": 38.100, + "Actual Rows": 10121, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 38.290, + "Actual Total Time": 38.291, + "Actual Rows": 9891, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 38.277, + "Actual Total Time": 38.278, + "Actual Rows": 15925, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 15794, + "Plan Width": 23, + "Actual Startup Time": 0.039, + "Actual Total Time": 23.834, + "Actual Rows": 15779, + "Actual Loops": 8, + "Output": ["cn.name", "cn.id"], + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 13596, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.038, + "Actual Total Time": 22.122, + "Actual Rows": 9586, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 26.303, + "Actual Rows": 26028, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.035, + "Actual Total Time": 23.035, + "Actual Rows": 15493, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 21.087, + "Actual Rows": 10496, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 23.105, + "Actual Rows": 10121, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.052, + "Actual Total Time": 23.425, + "Actual Rows": 9891, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.055, + "Actual Total Time": 23.209, + "Actual Rows": 15925, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.142, + "Actual Rows": 1, + "Actual Loops": 58583, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 154, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.150, + "Actual Rows": 1, + "Actual Loops": 15120 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.136, + "Actual Rows": 1, + "Actual Loops": 23314 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.144, + "Actual Rows": 1, + "Actual Loops": 20149 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 3, + "Actual Loops": 56055, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 3, + "Actual Loops": 14889 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 3, + "Actual Loops": 21908 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 3, + "Actual Loops": 19258 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 164837, + "Output": ["it2.id"], + "Cache Key": "mi_idx.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 43970, + "Cache Hits": 43966, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 63969, + "Cache Hits": 63965, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 56898, + "Cache Hits": 56893, + "Cache Misses": 5, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 13, + "Output": ["it2.id"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 5 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.02, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.018, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["ct.id"], + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1524343667767028728, + "Planning Time": 259.341, + "Triggers": [ + ], + "Execution Time": 3916.453, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 1524343667767028728, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(kt.kind) AS movie_kind,
       MIN(t.title) AS complete_us_internet_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'complete+verified'
  AND cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND kt.kind IN ('movie')
  AND mi.note LIKE '%internet%'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'USA:% 199%'
       OR mi.info LIKE 'USA:% 200%')
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND cct1.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4053.82, + "Total Cost": 4053.83, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 104.060, + "Actual Total Time": 111.929, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((kt.kind)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4053.78, + "Total Cost": 4053.79, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 101.754, + "Actual Total Time": 111.900, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((kt.kind)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4052.78, + "Total Cost": 4052.79, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 87.706, + "Actual Total Time": 87.717, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((kt.kind)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 85.129, + "Actual Total Time": 85.138, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 84.973, + "Actual Total Time": 84.982, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 86.654, + "Actual Total Time": 86.665, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 86.677, + "Actual Total Time": 86.686, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 86.606, + "Actual Total Time": 86.616, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 83.923, + "Actual Total Time": 83.934, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 86.781, + "Actual Total Time": 86.790, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.96, + "Total Cost": 4052.34, + "Plan Rows": 88, + "Plan Width": 27, + "Actual Startup Time": 78.477, + "Actual Total Time": 87.636, + "Actual Rows": 77, + "Actual Loops": 8, + "Output": ["kt.kind", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 48.420, + "Actual Total Time": 84.877, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 84.967, + "Actual Total Time": 84.976, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 86.649, + "Actual Total Time": 86.658, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 86.671, + "Actual Total Time": 86.679, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 86.600, + "Actual Total Time": 86.610, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 46.831, + "Actual Total Time": 83.582, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 86.776, + "Actual Total Time": 86.784, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.54, + "Total Cost": 4013.82, + "Plan Rows": 88, + "Plan Width": 31, + "Actual Startup Time": 78.458, + "Actual Total Time": 86.696, + "Actual Rows": 77, + "Actual Loops": 8, + "Output": ["mk.keyword_id", "t.title", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 48.343, + "Actual Total Time": 80.755, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 84.967, + "Actual Total Time": 84.975, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 86.647, + "Actual Total Time": 86.656, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 86.670, + "Actual Total Time": 86.678, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 86.600, + "Actual Total Time": 86.608, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 46.756, + "Actual Total Time": 80.191, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 86.776, + "Actual Total Time": 86.783, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.10, + "Total Cost": 4011.77, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 78.351, + "Actual Total Time": 86.479, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mi.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 48.269, + "Actual Total Time": 80.259, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 84.966, + "Actual Total Time": 84.973, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 86.647, + "Actual Total Time": 86.655, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 86.669, + "Actual Total Time": 86.676, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 86.599, + "Actual Total Time": 86.607, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 45.979, + "Actual Total Time": 78.960, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 86.775, + "Actual Total Time": 86.782, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.95, + "Total Cost": 4011.58, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 78.338, + "Actual Total Time": 86.461, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 48.233, + "Actual Total Time": 80.210, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 84.965, + "Actual Total Time": 84.971, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 86.646, + "Actual Total Time": 86.654, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 86.668, + "Actual Total Time": 86.674, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 86.599, + "Actual Total Time": 86.605, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 45.920, + "Actual Total Time": 78.880, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 86.774, + "Actual Total Time": 86.780, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.82, + "Total Cost": 4011.43, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 78.322, + "Actual Total Time": 86.440, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 48.181, + "Actual Total Time": 80.150, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 84.964, + "Actual Total Time": 84.970, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 86.645, + "Actual Total Time": 86.653, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 86.668, + "Actual Total Time": 86.673, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 86.598, + "Actual Total Time": 86.604, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 45.843, + "Actual Total Time": 78.776, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 86.774, + "Actual Total Time": 86.779, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.40, + "Total Cost": 4010.98, + "Plan Rows": 1, + "Plan Width": 55, + "Actual Startup Time": 78.265, + "Actual Total Time": 86.368, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 47.788, + "Actual Total Time": 79.734, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 84.964, + "Actual Total Time": 84.969, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 86.645, + "Actual Total Time": 86.651, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 86.667, + "Actual Total Time": 86.671, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 86.598, + "Actual Total Time": 86.603, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 45.788, + "Actual Total Time": 78.621, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 86.773, + "Actual Total Time": 86.777, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.97, + "Total Cost": 4010.45, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 78.250, + "Actual Total Time": 86.340, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 47.733, + "Actual Total Time": 79.656, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 84.962, + "Actual Total Time": 84.967, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 86.644, + "Actual Total Time": 86.650, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 86.666, + "Actual Total Time": 86.670, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 86.597, + "Actual Total Time": 86.602, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 45.722, + "Actual Total Time": 78.487, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 86.772, + "Actual Total Time": 86.775, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.54, + "Total Cost": 3841.67, + "Plan Rows": 148, + "Plan Width": 35, + "Actual Startup Time": 0.682, + "Actual Total Time": 58.776, + "Actual Rows": 129, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.227, + "Actual Total Time": 52.314, + "Actual Rows": 125, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.901, + "Actual Total Time": 59.803, + "Actual Rows": 128, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.656, + "Actual Total Time": 60.546, + "Actual Rows": 120, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.884, + "Actual Total Time": 61.326, + "Actual Rows": 115, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.431, + "Actual Total Time": 57.512, + "Actual Rows": 137, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.603, + "Actual Total Time": 52.379, + "Actual Rows": 114, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.128, + "Actual Total Time": 61.174, + "Actual Rows": 127, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 3839.35, + "Plan Rows": 298, + "Plan Width": 29, + "Actual Startup Time": 0.550, + "Actual Total Time": 58.416, + "Actual Rows": 260, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.134, + "Actual Total Time": 51.987, + "Actual Rows": 319, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.832, + "Actual Total Time": 59.542, + "Actual Rows": 183, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.579, + "Actual Total Time": 60.263, + "Actual Rows": 247, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.742, + "Actual Total Time": 60.972, + "Actual Rows": 244, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.345, + "Actual Total Time": 57.187, + "Actual Rows": 262, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.512, + "Actual Total Time": 52.059, + "Actual Rows": 277, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.032, + "Actual Total Time": 60.862, + "Actual Rows": 248, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 1029.35, + "Plan Rows": 3513, + "Plan Width": 4, + "Actual Startup Time": 0.084, + "Actual Total Time": 11.876, + "Actual Rows": 3074, + "Actual Loops": 8, + "Output": ["cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.054, + "Actual Total Time": 10.690, + "Actual Rows": 2673, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.049, + "Actual Total Time": 12.535, + "Actual Rows": 3148, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.057, + "Actual Total Time": 11.933, + "Actual Rows": 3023, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.114, + "Actual Total Time": 12.242, + "Actual Rows": 3242, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.071, + "Actual Total Time": 11.096, + "Actual Rows": 3121, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.049, + "Actual Total Time": 10.377, + "Actual Rows": 2696, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.190, + "Actual Total Time": 12.892, + "Actual Rows": 3250, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 8, + "Actual Startup Time": 0.042, + "Actual Total Time": 4.292, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 3.849, + "Actual Rows": 14430, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 4.293, + "Actual Rows": 17205, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 4.403, + "Actual Rows": 16280, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.079, + "Actual Total Time": 4.494, + "Actual Rows": 17981, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 4.029, + "Actual Rows": 16095, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 3.797, + "Actual Rows": 15170, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.054, + "Actual Total Time": 4.623, + "Actual Rows": 18500, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.80, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 24592, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 2673 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 3148 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 3023 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 3242 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 3121 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 2696 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 3250 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.kind", "kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.kind", "kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.212, + "Actual Total Time": 0.212, + "Actual Rows": 0, + "Actual Loops": 1033, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND (mi.note ~~ '%internet%'::text) AND ((mi.info ~~ 'USA:% 199%'::text) OR (mi.info ~~ 'USA:% 200%'::text)))", + "Rows Removed by Filter": 211, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.217, + "Actual Total Time": 0.218, + "Actual Rows": 0, + "Actual Loops": 125 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.195, + "Actual Total Time": 0.195, + "Actual Rows": 0, + "Actual Loops": 128 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.216, + "Actual Total Time": 0.216, + "Actual Rows": 0, + "Actual Loops": 120 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.219, + "Actual Total Time": 0.219, + "Actual Rows": 0, + "Actual Loops": 115 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.211, + "Actual Total Time": 0.211, + "Actual Rows": 0, + "Actual Loops": 137 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.227, + "Actual Total Time": 0.228, + "Actual Rows": 0, + "Actual Loops": 114 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.200, + "Actual Total Time": 0.200, + "Actual Rows": 0, + "Actual Loops": 127 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.091, + "Actual Total Time": 0.091, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.203, + "Actual Total Time": 0.203, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 4, + "Cache Hits": 3, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 107, + "Plan Width": 8, + "Actual Startup Time": 0.154, + "Actual Total Time": 0.246, + "Actual Rows": 103, + "Actual Loops": 6, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.188, + "Actual Rows": 153, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.208, + "Actual Total Time": 0.275, + "Actual Rows": 78, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 618, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 306 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 312 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4445581228366823766, + "Planning Time": 240.086, + "Triggers": [ + ], + "Execution Time": 112.343, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 4445581228366823766, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(kt.kind) AS movie_kind,
       MIN(t.title) AS complete_nerdy_internet_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'complete+verified'
  AND cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND k.keyword IN ('nerd',
                    'loner',
                    'alienation',
                    'dignity')
  AND kt.kind IN ('movie')
  AND mi.note LIKE '%internet%'
  AND mi.info LIKE 'USA:% 200%'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND cct1.id = cc.status_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1501.05, + "Total Cost": 1501.06, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 44.452, + "Actual Total Time": 51.325, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((kt.kind)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1501.01, + "Total Cost": 1501.02, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 30.188, + "Actual Total Time": 51.293, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((kt.kind)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1500.01, + "Total Cost": 1500.02, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 21.042, + "Actual Total Time": 21.053, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((kt.kind)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.427, + "Actual Total Time": 21.436, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.432, + "Actual Total Time": 21.441, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.855, + "Actual Total Time": 14.868, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 20.159, + "Actual Total Time": 20.168, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.663, + "Actual Total Time": 15.677, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.659, + "Actual Total Time": 15.671, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.803, + "Actual Total Time": 29.813, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.01, + "Total Cost": 1500.00, + "Plan Rows": 2, + "Plan Width": 27, + "Actual Startup Time": 17.813, + "Actual Total Time": 21.039, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["kt.kind", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.422, + "Actual Total Time": 21.430, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.428, + "Actual Total Time": 21.437, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.847, + "Actual Total Time": 14.859, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.256, + "Actual Total Time": 20.152, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.983, + "Actual Total Time": 15.647, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.652, + "Actual Total Time": 15.663, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.562, + "Actual Total Time": 29.790, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.88, + "Total Cost": 1499.67, + "Plan Rows": 2, + "Plan Width": 21, + "Actual Startup Time": 17.794, + "Actual Total Time": 21.007, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.421, + "Actual Total Time": 21.429, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.428, + "Actual Total Time": 21.436, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.846, + "Actual Total Time": 14.857, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.224, + "Actual Total Time": 20.105, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.927, + "Actual Total Time": 15.552, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.651, + "Actual Total Time": 15.661, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.523, + "Actual Total Time": 29.724, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.74, + "Total Cost": 1499.30, + "Plan Rows": 2, + "Plan Width": 25, + "Actual Startup Time": 17.767, + "Actual Total Time": 20.966, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mi.info_type_id", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.421, + "Actual Total Time": 21.427, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.427, + "Actual Total Time": 21.435, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.845, + "Actual Total Time": 14.856, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.178, + "Actual Total Time": 20.040, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.836, + "Actual Total Time": 15.422, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.650, + "Actual Total Time": 15.659, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.466, + "Actual Total Time": 29.637, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.61, + "Total Cost": 1498.99, + "Plan Rows": 2, + "Plan Width": 29, + "Actual Startup Time": 17.732, + "Actual Total Time": 20.921, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mc.company_type_id", "mi.info_type_id", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.420, + "Actual Total Time": 21.426, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.427, + "Actual Total Time": 21.433, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.845, + "Actual Total Time": 14.854, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.114, + "Actual Total Time": 19.961, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.726, + "Actual Total Time": 15.283, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.650, + "Actual Total Time": 15.658, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.387, + "Actual Total Time": 29.536, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.19, + "Total Cost": 1498.11, + "Plan Rows": 2, + "Plan Width": 33, + "Actual Startup Time": 17.698, + "Actual Total Time": 20.862, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mc.company_id", "mc.company_type_id", "mi.info_type_id", "t.title", "t.kind_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.419, + "Actual Total Time": 21.425, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.426, + "Actual Total Time": 21.432, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.844, + "Actual Total Time": 14.852, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.055, + "Actual Total Time": 19.865, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.623, + "Actual Total Time": 15.101, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.649, + "Actual Total Time": 15.657, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.315, + "Actual Total Time": 29.411, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.76, + "Total Cost": 1497.05, + "Plan Rows": 2, + "Plan Width": 41, + "Actual Startup Time": 17.658, + "Actual Total Time": 20.795, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mi.movie_id", "mi.info_type_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.419, + "Actual Total Time": 21.424, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.425, + "Actual Total Time": 21.431, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.843, + "Actual Total Time": 14.851, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.983, + "Actual Total Time": 19.759, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.502, + "Actual Total Time": 14.895, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.648, + "Actual Total Time": 15.655, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.228, + "Actual Total Time": 29.265, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.32, + "Total Cost": 1488.17, + "Plan Rows": 9, + "Plan Width": 33, + "Actual Startup Time": 12.238, + "Actual Total Time": 18.509, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.418, + "Actual Total Time": 21.422, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.425, + "Actual Total Time": 21.429, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.842, + "Actual Total Time": 14.848, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.469, + "Actual Total Time": 16.456, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.751, + "Actual Total Time": 11.932, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.647, + "Actual Total Time": 15.653, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.551, + "Actual Total Time": 21.379, + "Actual Rows": 18, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.89, + "Total Cost": 1467.45, + "Plan Rows": 45, + "Plan Width": 8, + "Actual Startup Time": 11.672, + "Actual Total Time": 17.307, + "Actual Rows": 40, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.418, + "Actual Total Time": 21.421, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.424, + "Actual Total Time": 21.427, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.841, + "Actual Total Time": 14.847, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.377, + "Actual Total Time": 14.761, + "Actual Rows": 74, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.640, + "Actual Total Time": 10.100, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.647, + "Actual Total Time": 15.652, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.334, + "Actual Total Time": 17.571, + "Actual Rows": 104, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 1465.93, + "Plan Rows": 90, + "Plan Width": 12, + "Actual Startup Time": 10.606, + "Actual Total Time": 16.751, + "Actual Rows": 79, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.111, + "Actual Total Time": 21.112, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.117, + "Actual Total Time": 21.119, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.294, + "Actual Total Time": 14.297, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.527, + "Actual Total Time": 14.335, + "Actual Rows": 123, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.677, + "Actual Total Time": 9.352, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.048, + "Actual Total Time": 15.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.023, + "Actual Total Time": 16.627, + "Actual Rows": 181, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1393.38, + "Plan Rows": 162, + "Plan Width": 4, + "Actual Startup Time": 10.234, + "Actual Total Time": 13.575, + "Actual Rows": 142, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.110, + "Actual Total Time": 21.111, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.116, + "Actual Total Time": 21.117, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.293, + "Actual Total Time": 14.295, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.316, + "Actual Total Time": 10.336, + "Actual Rows": 195, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.191, + "Actual Total Time": 4.466, + "Actual Rows": 109, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.047, + "Actual Total Time": 15.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.310, + "Actual Total Time": 8.174, + "Actual Rows": 302, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 9.717, + "Actual Total Time": 11.093, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{nerd,loner,alienation,dignity}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.109, + "Actual Total Time": 21.109, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.115, + "Actual Total Time": 21.115, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.292, + "Actual Total Time": 14.293, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.252, + "Actual Total Time": 7.158, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.800, + "Actual Total Time": 1.938, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.046, + "Actual Total Time": 15.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.825, + "Actual Total Time": 2.874, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.05, + "Plan Rows": 283, + "Plan Width": 8, + "Actual Startup Time": 1.026, + "Actual Total Time": 4.799, + "Actual Rows": 283, + "Actual Loops": 4, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 1.062, + "Actual Total Time": 3.102, + "Actual Rows": 195, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.384, + "Actual Total Time": 2.429, + "Actual Rows": 109, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.477, + "Actual Total Time": 5.071, + "Actual Rows": 302, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1133, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 195 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 109 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 302 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 318, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 74 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 37 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 104 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.295, + "Actual Total Time": 0.297, + "Actual Rows": 0, + "Actual Loops": 61, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.note ~~ '%internet%'::text) AND (mi.info ~~ 'USA:% 200%'::text))", + "Rows Removed by Filter": 212, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.232, + "Actual Total Time": 0.234, + "Actual Rows": 0, + "Actual Loops": 14 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.359, + "Actual Total Time": 0.367, + "Actual Rows": 0, + "Actual Loops": 8 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.433, + "Actual Total Time": 0.435, + "Actual Rows": 0, + "Actual Loops": 18 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7994933085961275538, + "Planning Time": 242.366, + "Triggers": [ + ], + "Execution Time": 51.799, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -7994933085961275538, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(kt.kind) AS movie_kind,
       MIN(t.title) AS complete_us_internet_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'complete+verified'
  AND cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND kt.kind IN ('movie',
                  'tv movie',
                  'video movie',
                  'video game')
  AND mi.note LIKE '%internet%'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'USA:% 199%'
       OR mi.info LIKE 'USA:% 200%')
  AND t.production_year > 1990
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND cct1.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4689.61, + "Total Cost": 4689.62, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 165.919, + "Actual Total Time": 179.986, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((kt.kind)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4689.56, + "Total Cost": 4689.57, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 164.639, + "Actual Total Time": 179.964, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((kt.kind)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4688.56, + "Total Cost": 4688.57, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 152.190, + "Actual Total Time": 152.200, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((kt.kind)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 148.322, + "Actual Total Time": 148.330, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 155.201, + "Actual Total Time": 155.211, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 149.267, + "Actual Total Time": 149.275, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 149.772, + "Actual Total Time": 149.779, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 149.635, + "Actual Total Time": 149.645, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 150.351, + "Actual Total Time": 150.360, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 151.345, + "Actual Total Time": 151.353, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.98, + "Total Cost": 4688.11, + "Plan Rows": 90, + "Plan Width": 27, + "Actual Startup Time": 121.940, + "Actual Total Time": 152.131, + "Actual Rows": 78, + "Actual Loops": 8, + "Output": ["kt.kind", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 148.318, + "Actual Total Time": 148.326, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 97.157, + "Actual Total Time": 154.969, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 149.262, + "Actual Total Time": 149.269, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 149.768, + "Actual Total Time": 149.774, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.556, + "Actual Total Time": 149.626, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 141.853, + "Actual Total Time": 150.109, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 151.339, + "Actual Total Time": 151.347, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.56, + "Total Cost": 4648.73, + "Plan Rows": 90, + "Plan Width": 31, + "Actual Startup Time": 121.909, + "Actual Total Time": 151.285, + "Actual Rows": 78, + "Actual Loops": 8, + "Output": ["mk.keyword_id", "t.title", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 148.317, + "Actual Total Time": 148.324, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 97.085, + "Actual Total Time": 151.709, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 149.262, + "Actual Total Time": 149.268, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 149.767, + "Actual Total Time": 149.773, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.498, + "Actual Total Time": 149.524, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 141.775, + "Actual Total Time": 146.877, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 151.338, + "Actual Total Time": 151.346, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.13, + "Total Cost": 4646.85, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 121.883, + "Actual Total Time": 151.158, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mi.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 148.316, + "Actual Total Time": 148.323, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 97.034, + "Actual Total Time": 151.287, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 149.261, + "Actual Total Time": 149.267, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 149.766, + "Actual Total Time": 149.772, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.441, + "Actual Total Time": 149.448, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 141.724, + "Actual Total Time": 146.433, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 151.338, + "Actual Total Time": 151.345, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.97, + "Total Cost": 4646.66, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 121.861, + "Actual Total Time": 151.132, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 148.316, + "Actual Total Time": 148.321, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.992, + "Actual Total Time": 151.236, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 149.260, + "Actual Total Time": 149.265, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 149.766, + "Actual Total Time": 149.770, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.389, + "Actual Total Time": 149.389, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 141.671, + "Actual Total Time": 146.370, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 151.337, + "Actual Total Time": 151.343, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.84, + "Total Cost": 4646.50, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 121.833, + "Actual Total Time": 151.102, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 148.315, + "Actual Total Time": 148.320, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.942, + "Actual Total Time": 151.177, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 149.260, + "Actual Total Time": 149.264, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 149.765, + "Actual Total Time": 149.769, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.312, + "Actual Total Time": 149.307, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 141.604, + "Actual Total Time": 146.294, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 151.336, + "Actual Total Time": 151.342, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.42, + "Total Cost": 4646.06, + "Plan Rows": 1, + "Plan Width": 55, + "Actual Startup Time": 121.809, + "Actual Total Time": 151.068, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 148.314, + "Actual Total Time": 148.318, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.894, + "Actual Total Time": 151.106, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 149.259, + "Actual Total Time": 149.263, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 149.764, + "Actual Total Time": 149.768, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.257, + "Actual Total Time": 149.225, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 141.553, + "Actual Total Time": 146.222, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 151.335, + "Actual Total Time": 151.340, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.99, + "Total Cost": 4645.54, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 121.781, + "Actual Total Time": 151.033, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 148.314, + "Actual Total Time": 148.317, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.839, + "Actual Total Time": 151.031, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 149.258, + "Actual Total Time": 149.261, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 149.763, + "Actual Total Time": 149.766, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.194, + "Actual Total Time": 149.152, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 141.489, + "Actual Total Time": 146.136, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 151.335, + "Actual Total Time": 151.339, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.56, + "Total Cost": 3844.30, + "Plan Rows": 722, + "Plan Width": 35, + "Actual Startup Time": 0.505, + "Actual Total Time": 62.270, + "Actual Rows": 632, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.470, + "Actual Total Time": 59.212, + "Actual Rows": 604, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.522, + "Actual Total Time": 65.432, + "Actual Rows": 697, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.406, + "Actual Total Time": 62.768, + "Actual Rows": 589, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.486, + "Actual Total Time": 58.038, + "Actual Rows": 591, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.326, + "Actual Total Time": 63.855, + "Actual Rows": 554, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.804, + "Actual Total Time": 55.718, + "Actual Rows": 617, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.501, + "Actual Total Time": 67.345, + "Actual Rows": 584, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 3839.35, + "Plan Rows": 918, + "Plan Width": 29, + "Actual Startup Time": 0.285, + "Actual Total Time": 61.274, + "Actual Rows": 803, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.334, + "Actual Total Time": 58.296, + "Actual Rows": 682, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.447, + "Actual Total Time": 64.550, + "Actual Rows": 911, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.272, + "Actual Total Time": 61.880, + "Actual Rows": 717, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.351, + "Actual Total Time": 57.101, + "Actual Rows": 822, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.191, + "Actual Total Time": 62.880, + "Actual Rows": 689, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.272, + "Actual Total Time": 54.709, + "Actual Rows": 832, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.292, + "Actual Total Time": 66.314, + "Actual Rows": 755, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 1029.35, + "Plan Rows": 3513, + "Plan Width": 4, + "Actual Startup Time": 0.080, + "Actual Total Time": 12.590, + "Actual Rows": 3074, + "Actual Loops": 8, + "Output": ["cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.058, + "Actual Total Time": 13.348, + "Actual Rows": 2767, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 13.403, + "Actual Rows": 3554, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.058, + "Actual Total Time": 13.536, + "Actual Rows": 2985, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.210, + "Actual Total Time": 11.772, + "Actual Rows": 2904, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.067, + "Actual Total Time": 12.500, + "Actual Rows": 2942, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.072, + "Actual Total Time": 10.338, + "Actual Rows": 2881, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.083, + "Actual Total Time": 13.606, + "Actual Rows": 3037, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 8, + "Actual Startup Time": 0.029, + "Actual Total Time": 4.029, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 4.485, + "Actual Rows": 17205, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 4.421, + "Actual Rows": 20350, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 4.153, + "Actual Rows": 18315, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 3.891, + "Actual Rows": 16280, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 3.850, + "Actual Rows": 14800, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.041, + "Actual Total Time": 3.338, + "Actual Rows": 14060, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.041, + "Actual Total Time": 4.121, + "Actual Rows": 16095, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.80, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 24592, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 2767 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 3554 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 2985 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 2904 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 2942 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2881 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 3037 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.06, + "Total Cost": 1.06, + "Plan Rows": 2, + "Plan Width": 14, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.kind", "kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.06, + "Plan Rows": 2, + "Plan Width": 14, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.041, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["kt.kind", "kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,\"tv movie\",\"video movie\",\"video game\"}'::text[]))", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.10, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.140, + "Actual Total Time": 0.140, + "Actual Rows": 0, + "Actual Loops": 5053, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND (mi.note ~~ '%internet%'::text) AND ((mi.info ~~ 'USA:% 199%'::text) OR (mi.info ~~ 'USA:% 200%'::text)))", + "Rows Removed by Filter": 123, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.147, + "Actual Total Time": 0.147, + "Actual Rows": 0, + "Actual Loops": 604 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.122, + "Actual Total Time": 0.122, + "Actual Rows": 0, + "Actual Loops": 697 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.146, + "Actual Total Time": 0.146, + "Actual Rows": 0, + "Actual Loops": 589 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.154, + "Actual Total Time": 0.154, + "Actual Rows": 0, + "Actual Loops": 591 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.153, + "Actual Total Time": 0.153, + "Actual Rows": 0, + "Actual Loops": 554 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.145, + "Actual Total Time": 0.146, + "Actual Rows": 0, + "Actual Loops": 617 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.143, + "Actual Total Time": 0.143, + "Actual Rows": 0, + "Actual Loops": 584 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.067, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 4, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 90, + "Plan Width": 8, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.108, + "Actual Rows": 90, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.153, + "Actual Rows": 153, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.034, + "Actual Rows": 3, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.162, + "Actual Rows": 153, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 628, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 306 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 306 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1076878163750528468, + "Planning Time": 252.885, + "Triggers": [ + ], + "Execution Time": 180.470, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 1076878163750528468, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char_name,
       MIN(n.name) AS voicing_actress_name,
       MIN(t.title) AS voiced_action_movie_jap_eng
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND k.keyword IN ('hero',
                    'martial-arts',
                    'hand-to-hand-combat')
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%201%'
       OR mi.info LIKE 'USA:%201%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.production_year > 2010
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND ci.movie_id = mk.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2376.70, + "Total Cost": 2376.71, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 197.357, + "Actual Total Time": 224.571, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2376.64, + "Total Cost": 2376.65, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 143.171, + "Actual Total Time": 224.539, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2375.64, + "Total Cost": 2375.65, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 76.057, + "Actual Total Time": 76.066, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 157.248, + "Actual Total Time": 157.255, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.229, + "Actual Total Time": 22.239, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 188.216, + "Actual Total Time": 188.223, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.990, + "Actual Total Time": 23.001, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.017, + "Actual Total Time": 23.028, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.416, + "Actual Total Time": 23.426, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.184, + "Actual Total Time": 29.192, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.15, + "Total Cost": 2375.35, + "Plan Rows": 39, + "Plan Width": 48, + "Actual Startup Time": 33.206, + "Actual Total Time": 76.031, + "Actual Rows": 34, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.043, + "Actual Total Time": 157.149, + "Actual Rows": 128, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.220, + "Actual Total Time": 22.229, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 37.587, + "Actual Total Time": 188.113, + "Actual Rows": 138, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.982, + "Actual Total Time": 22.992, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.010, + "Actual Total Time": 23.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.408, + "Actual Total Time": 23.417, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.179, + "Actual Total Time": 29.185, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.73, + "Total Cost": 2365.57, + "Plan Rows": 20, + "Plan Width": 56, + "Actual Startup Time": 27.054, + "Actual Total Time": 75.836, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "n.name", "n.id", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.690, + "Actual Total Time": 156.423, + "Actual Rows": 65, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.219, + "Actual Total Time": 22.228, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.990, + "Actual Total Time": 187.460, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.981, + "Actual Total Time": 22.991, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.008, + "Actual Total Time": 23.018, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.407, + "Actual Total Time": 23.415, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.178, + "Actual Total Time": 29.184, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.31, + "Total Cost": 2346.58, + "Plan Rows": 43, + "Plan Width": 60, + "Actual Startup Time": 27.034, + "Actual Total Time": 75.418, + "Actual Rows": 38, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "n.name", "n.id", "chn.name", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.636, + "Actual Total Time": 154.875, + "Actual Rows": 137, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.218, + "Actual Total Time": 22.226, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.943, + "Actual Total Time": 185.959, + "Actual Rows": 142, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.979, + "Actual Total Time": 22.988, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.007, + "Actual Total Time": 23.016, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.406, + "Actual Total Time": 23.414, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.177, + "Actual Total Time": 29.183, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.88, + "Total Cost": 2343.55, + "Plan Rows": 5, + "Plan Width": 72, + "Actual Startup Time": 27.015, + "Actual Total Time": 75.270, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "n.name", "n.id", "mi.movie_id", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.559, + "Actual Total Time": 154.304, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.217, + "Actual Total Time": 22.224, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.889, + "Actual Total Time": 185.494, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.978, + "Actual Total Time": 22.986, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.006, + "Actual Total Time": 23.014, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.405, + "Actual Total Time": 23.412, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.176, + "Actual Total Time": 29.181, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.74, + "Total Cost": 2342.76, + "Plan Rows": 5, + "Plan Width": 76, + "Actual Startup Time": 27.002, + "Actual Total Time": 75.225, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "n.name", "n.id", "mi.movie_id", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.517, + "Actual Total Time": 154.147, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.216, + "Actual Total Time": 22.223, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.858, + "Actual Total Time": 185.356, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.978, + "Actual Total Time": 22.985, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.005, + "Actual Total Time": 23.012, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.404, + "Actual Total Time": 23.410, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.176, + "Actual Total Time": 29.180, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.31, + "Total Cost": 2340.24, + "Plan Rows": 5, + "Plan Width": 64, + "Actual Startup Time": 26.981, + "Actual Total Time": 75.114, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.429, + "Actual Total Time": 153.734, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.215, + "Actual Total Time": 22.221, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.806, + "Actual Total Time": 185.010, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.977, + "Actual Total Time": 22.983, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.004, + "Actual Total Time": 23.011, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.403, + "Actual Total Time": 23.408, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.175, + "Actual Total Time": 29.179, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.17, + "Total Cost": 2339.40, + "Plan Rows": 5, + "Plan Width": 68, + "Actual Startup Time": 26.966, + "Actual Total Time": 75.062, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.381, + "Actual Total Time": 153.556, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.214, + "Actual Total Time": 22.220, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.761, + "Actual Total Time": 184.843, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.976, + "Actual Total Time": 22.981, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.003, + "Actual Total Time": 23.008, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.402, + "Actual Total Time": 23.406, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.175, + "Actual Total Time": 29.178, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 2335.46, + "Plan Rows": 4, + "Plan Width": 60, + "Actual Startup Time": 26.934, + "Actual Total Time": 74.751, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.250, + "Actual Total Time": 152.427, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.213, + "Actual Total Time": 22.218, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.686, + "Actual Total Time": 183.884, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.975, + "Actual Total Time": 22.980, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.002, + "Actual Total Time": 23.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.401, + "Actual Total Time": 23.405, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.174, + "Actual Total Time": 29.177, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 2133.98, + "Plan Rows": 375, + "Plan Width": 41, + "Actual Startup Time": 17.112, + "Actual Total Time": 68.937, + "Actual Rows": 328, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.666, + "Actual Total Time": 137.343, + "Actual Rows": 796, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.213, + "Actual Total Time": 22.216, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.127, + "Actual Total Time": 168.517, + "Actual Rows": 947, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.975, + "Actual Total Time": 22.978, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.001, + "Actual Total Time": 23.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.400, + "Actual Total Time": 23.403, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.174, + "Actual Total Time": 29.176, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2037.19, + "Plan Rows": 71, + "Plan Width": 25, + "Actual Startup Time": 15.482, + "Actual Total Time": 37.585, + "Actual Rows": 62, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.005, + "Actual Total Time": 49.096, + "Actual Rows": 113, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.212, + "Actual Total Time": 22.215, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.704, + "Actual Total Time": 73.033, + "Actual Rows": 244, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.974, + "Actual Total Time": 22.976, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.001, + "Actual Total Time": 23.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.400, + "Actual Total Time": 23.402, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.173, + "Actual Total Time": 29.175, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1399.47, + "Plan Rows": 1385, + "Plan Width": 4, + "Actual Startup Time": 15.391, + "Actual Total Time": 21.456, + "Actual Rows": 1212, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.924, + "Actual Total Time": 14.573, + "Actual Rows": 2373, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.211, + "Actual Total Time": 22.212, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.536, + "Actual Total Time": 18.908, + "Actual Rows": 4400, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.972, + "Actual Total Time": 22.974, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.999, + "Actual Total Time": 23.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.398, + "Actual Total Time": 23.400, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.172, + "Actual Total Time": 29.173, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1212.55, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 15.121, + "Actual Total Time": 15.135, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{hero,martial-arts,hand-to-hand-combat}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.137, + "Actual Total Time": 0.175, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.209, + "Actual Total Time": 22.210, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.084, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.971, + "Actual Total Time": 22.972, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.998, + "Actual Total Time": 22.998, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.397, + "Actual Total Time": 23.398, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.171, + "Actual Total Time": 29.172, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 3232, + "Plan Width": 8, + "Actual Startup Time": 0.714, + "Actual Total Time": 15.894, + "Actual Rows": 3232, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.782, + "Actual Total Time": 13.617, + "Actual Rows": 2373, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.484, + "Actual Total Time": 17.554, + "Actual Rows": 4400, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 9696, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2373 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 4400 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.30, + "Plan Rows": 5, + "Plan Width": 16, + "Actual Startup Time": 0.351, + "Actual Total Time": 0.503, + "Actual Rows": 5, + "Actual Loops": 495, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 83, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.515, + "Actual Total Time": 0.776, + "Actual Rows": 7, + "Actual Loops": 113 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.276, + "Actual Total Time": 0.388, + "Actual Rows": 4, + "Actual Loops": 244 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 2625, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 796 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 947 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.080, + "Actual Rows": 1, + "Actual Loops": 30, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%201%'::text) OR (mi.info ~~ 'USA:%201%'::text)))", + "Rows Removed by Filter": 46, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.091, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.077, + "Actual Rows": 1, + "Actual Loops": 12 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 37, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 15 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 16 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 37, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 15 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 16 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 36, + "Output": ["rt.id", "rt.role"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 15 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 16 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 8, + "Plan Width": 8, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.025, + "Actual Rows": 8, + "Actual Loops": 36, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.026, + "Actual Rows": 9, + "Actual Loops": 15 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.023, + "Actual Rows": 9, + "Actual Loops": 16 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 300, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 137 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 142 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 2, + "Actual Loops": 141, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 2, + "Actual Loops": 65 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 2, + "Actual Loops": 59 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6624959997497422723, + "Planning Time": 2735.162, + "Triggers": [ + ], + "Execution Time": 225.107, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 6624959997497422723, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char_name,
       MIN(n.name) AS voicing_actress_name,
       MIN(t.title) AS kung_fu_panda
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND cn.name = 'DreamWorks Animation'
  AND it.info = 'release dates'
  AND k.keyword IN ('hero',
                    'martial-arts',
                    'hand-to-hand-combat',
                    'computer-animated-movie')
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%201%'
       OR mi.info LIKE 'USA:%201%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.production_year > 2010
  AND t.title LIKE 'Kung Fu Panda%'
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND ci.movie_id = mk.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2080.26, + "Total Cost": 2080.27, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 110.705, + "Actual Total Time": 128.254, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2080.19, + "Total Cost": 2080.20, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 66.251, + "Actual Total Time": 128.226, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2079.19, + "Total Cost": 2079.20, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 47.668, + "Actual Total Time": 47.680, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 64.543, + "Actual Total Time": 64.554, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.848, + "Actual Total Time": 34.857, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.894, + "Actual Total Time": 28.903, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.026, + "Actual Total Time": 29.040, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 100.914, + "Actual Total Time": 100.923, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.898, + "Actual Total Time": 28.907, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.916, + "Actual Total Time": 28.930, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.13, + "Total Cost": 2079.15, + "Plan Rows": 6, + "Plan Width": 48, + "Actual Startup Time": 37.554, + "Actual Total Time": 47.662, + "Actual Rows": 6, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.583, + "Actual Total Time": 64.510, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.842, + "Actual Total Time": 34.850, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.887, + "Actual Total Time": 28.896, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.016, + "Actual Total Time": 29.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.996, + "Actual Total Time": 100.869, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.893, + "Actual Total Time": 28.902, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.910, + "Actual Total Time": 28.923, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.70, + "Total Cost": 2078.64, + "Plan Rows": 1, + "Plan Width": 56, + "Actual Startup Time": 37.528, + "Actual Total Time": 47.619, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "n.name", "n.id", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.483, + "Actual Total Time": 64.353, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.841, + "Actual Total Time": 34.849, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.886, + "Actual Total Time": 28.895, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.015, + "Actual Total Time": 29.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.893, + "Actual Total Time": 100.691, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.892, + "Actual Total Time": 28.900, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.909, + "Actual Total Time": 28.921, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.27, + "Total Cost": 2078.13, + "Plan Rows": 1, + "Plan Width": 44, + "Actual Startup Time": 37.513, + "Actual Total Time": 47.591, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.423, + "Actual Total Time": 64.251, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.840, + "Actual Total Time": 34.848, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.885, + "Actual Total Time": 28.893, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.014, + "Actual Total Time": 29.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.837, + "Actual Total Time": 100.577, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.891, + "Actual Total Time": 28.899, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.908, + "Actual Total Time": 28.920, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.84, + "Total Cost": 2073.30, + "Plan Rows": 9, + "Plan Width": 25, + "Actual Startup Time": 37.477, + "Actual Total Time": 47.404, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.268, + "Actual Total Time": 63.390, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.840, + "Actual Total Time": 34.846, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.884, + "Actual Total Time": 28.891, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.013, + "Actual Total Time": 29.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.708, + "Actual Total Time": 99.953, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.890, + "Actual Total Time": 28.897, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.907, + "Actual Total Time": 28.918, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.74, + "Total Cost": 2072.07, + "Plan Rows": 35, + "Plan Width": 29, + "Actual Startup Time": 37.250, + "Actual Total Time": 47.203, + "Actual Rows": 30, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.977, + "Actual Total Time": 63.228, + "Actual Rows": 119, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.754, + "Actual Total Time": 34.759, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.659, + "Actual Total Time": 28.664, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.851, + "Actual Total Time": 28.859, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.432, + "Actual Total Time": 99.764, + "Actual Rows": 125, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.569, + "Actual Total Time": 28.574, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.766, + "Actual Total Time": 28.775, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.30, + "Total Cost": 2070.44, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 37.228, + "Actual Total Time": 46.568, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mc.movie_id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.892, + "Actual Total Time": 60.663, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.754, + "Actual Total Time": 34.758, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.658, + "Actual Total Time": 28.662, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.850, + "Actual Total Time": 28.857, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.346, + "Actual Total Time": 97.254, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.568, + "Actual Total Time": 28.573, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.765, + "Actual Total Time": 28.772, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 2070.26, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 37.210, + "Actual Total Time": 46.544, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mc.movie_id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.831, + "Actual Total Time": 60.587, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.753, + "Actual Total Time": 34.757, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.657, + "Actual Total Time": 28.661, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.849, + "Actual Total Time": 28.854, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.265, + "Actual Total Time": 97.155, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.567, + "Actual Total Time": 28.571, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.764, + "Actual Total Time": 28.770, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 2069.26, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 31.113, + "Actual Total Time": 46.417, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.741, + "Actual Total Time": 60.142, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.753, + "Actual Total Time": 34.756, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.656, + "Actual Total Time": 28.660, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.848, + "Actual Total Time": 28.852, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.580, + "Actual Total Time": 96.593, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.567, + "Actual Total Time": 28.570, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.763, + "Actual Total Time": 28.768, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 2065.24, + "Plan Rows": 9, + "Plan Width": 33, + "Actual Startup Time": 31.021, + "Actual Total Time": 46.241, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mc.movie_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.143, + "Actual Total Time": 59.566, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.752, + "Actual Total Time": 34.755, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.656, + "Actual Total Time": 28.658, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.847, + "Actual Total Time": 28.851, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.452, + "Actual Total Time": 95.764, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.566, + "Actual Total Time": 28.568, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.762, + "Actual Total Time": 28.766, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2064.61, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 30.988, + "Actual Total Time": 46.179, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.067, + "Actual Total Time": 59.421, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.752, + "Actual Total Time": 34.754, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.655, + "Actual Total Time": 28.657, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.846, + "Actual Total Time": 28.849, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.263, + "Actual Total Time": 95.427, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.565, + "Actual Total Time": 28.567, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.761, + "Actual Total Time": 28.764, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1423.42, + "Plan Rows": 1385, + "Plan Width": 4, + "Actual Startup Time": 18.764, + "Actual Total Time": 25.628, + "Actual Rows": 1212, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.305, + "Actual Total Time": 15.350, + "Actual Rows": 2373, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.751, + "Actual Total Time": 34.752, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.654, + "Actual Total Time": 28.655, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.845, + "Actual Total Time": 28.847, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.140, + "Actual Total Time": 22.814, + "Actual Rows": 4400, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.564, + "Actual Total Time": 28.565, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.760, + "Actual Total Time": 28.762, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 18.733, + "Actual Total Time": 18.754, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{hero,martial-arts,hand-to-hand-combat,computer-animated-movie}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.222, + "Actual Total Time": 0.299, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.750, + "Actual Total Time": 34.750, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.653, + "Actual Total Time": 28.653, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.844, + "Actual Total Time": 28.845, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.093, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.564, + "Actual Total Time": 28.564, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.759, + "Actual Total Time": 28.760, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 3232, + "Plan Width": 8, + "Actual Startup Time": 0.078, + "Actual Total Time": 17.039, + "Actual Rows": 3232, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.080, + "Actual Total Time": 14.067, + "Actual Rows": 2373, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.091, + "Actual Total Time": 20.895, + "Actual Rows": 4400, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 9696, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2010) AND (t.title ~~ 'Kung Fu Panda%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2373 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 4400 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 10, + "Plan Width": 8, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.059, + "Actual Rows": 9, + "Actual Loops": 7, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.058, + "Actual Rows": 13, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.059, + "Actual Rows": 7, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 62, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text = '[us]'::text) AND (cn.name = 'DreamWorks Animation'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 26 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 36 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.163, + "Actual Rows": 2, + "Actual Loops": 6, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%201%'::text) OR (mi.info ~~ 'USA:%201%'::text)))", + "Rows Removed by Filter": 89, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.217, + "Actual Rows": 2, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.137, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 9, + "Output": ["it.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 4, + "Cache Hits": 3, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 5, + "Cache Hits": 4, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["it.id"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.065, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.30, + "Plan Rows": 26, + "Plan Width": 16, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.547, + "Actual Rows": 27, + "Actual Loops": 9, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 91, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.623, + "Actual Rows": 30, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.486, + "Actual Rows": 25, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 62, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 30 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 32 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 9, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.033, + "Actual Rows": 5, + "Actual Loops": 9, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.035, + "Actual Rows": 5, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.031, + "Actual Rows": 5, + "Actual Loops": 5 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1322643491423167220, + "Planning Time": 3105.345, + "Triggers": [ + ], + "Execution Time": 128.703, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 1322643491423167220, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS male_writer,
       MIN(t.title) AS violent_movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity')
  AND mi.info = 'Horror'
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13414.72, + "Total Cost": 13414.73, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1630.894, + "Actual Total Time": 1671.698, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13414.64, + "Total Cost": 13414.65, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 978.546, + "Actual Total Time": 1671.643, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13413.64, + "Total Cost": 13413.65, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 724.030, + "Actual Total Time": 724.039, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 36.116, + "Actual Total Time": 36.124, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1621.147, + "Actual Total Time": 1621.152, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1197.140, + "Actual Total Time": 1197.148, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 803.377, + "Actual Total Time": 803.383, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 37.150, + "Actual Total Time": 37.158, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1077.923, + "Actual Total Time": 1077.931, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 41.901, + "Actual Total Time": 41.911, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.28, + "Total Cost": 13407.34, + "Plan Rows": 630, + "Plan Width": 80, + "Actual Startup Time": 40.832, + "Actual Total Time": 722.532, + "Actual Rows": 551, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 36.109, + "Actual Total Time": 36.117, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 125.852, + "Actual Total Time": 1618.184, + "Actual Rows": 1133, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 39.011, + "Actual Total Time": 1194.211, + "Actual Rows": 1091, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.074, + "Actual Total Time": 801.210, + "Actual Rows": 831, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 37.142, + "Actual Total Time": 37.150, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.997, + "Actual Total Time": 1075.831, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 41.893, + "Actual Total Time": 41.902, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.85, + "Total Cost": 13110.96, + "Plan Rows": 630, + "Plan Width": 79, + "Actual Startup Time": 40.792, + "Actual Total Time": 714.224, + "Actual Rows": 551, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 36.108, + "Actual Total Time": 36.115, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 125.799, + "Actual Total Time": 1601.307, + "Actual Rows": 1133, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 38.941, + "Actual Total Time": 1177.534, + "Actual Rows": 1091, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.998, + "Actual Total Time": 788.362, + "Actual Rows": 831, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 37.141, + "Actual Total Time": 37.148, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.927, + "Actual Total Time": 1064.706, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 41.892, + "Actual Total Time": 41.900, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.01, + "Total Cost": 13103.97, + "Plan Rows": 1890, + "Plan Width": 83, + "Actual Startup Time": 40.419, + "Actual Total Time": 712.473, + "Actual Rows": 1654, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id", "mk.movie_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.556, + "Actual Total Time": 35.562, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 125.496, + "Actual Total Time": 1598.322, + "Actual Rows": 3401, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 38.650, + "Actual Total Time": 1174.418, + "Actual Rows": 3276, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.725, + "Actual Total Time": 786.055, + "Actual Rows": 2497, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 36.582, + "Actual Total Time": 36.587, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.607, + "Actual Total Time": 1062.508, + "Actual Rows": 2259, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 41.565, + "Actual Total Time": 41.572, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 12755.21, + "Plan Rows": 670, + "Plan Width": 70, + "Actual Startup Time": 28.943, + "Actual Total Time": 702.392, + "Actual Rows": 586, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.555, + "Actual Total Time": 35.560, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 33.997, + "Actual Total Time": 1577.803, + "Actual Rows": 1222, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 38.580, + "Actual Total Time": 1154.299, + "Actual Rows": 1174, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.632, + "Actual Total Time": 770.067, + "Actual Rows": 871, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 36.581, + "Actual Total Time": 36.585, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.525, + "Actual Total Time": 1049.436, + "Actual Rows": 763, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 41.564, + "Actual Total Time": 41.571, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.15, + "Total Cost": 12201.07, + "Plan Rows": 1086, + "Plan Width": 59, + "Actual Startup Time": 20.162, + "Actual Total Time": 684.839, + "Actual Rows": 950, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.554, + "Actual Total Time": 35.559, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.665, + "Actual Total Time": 1540.029, + "Actual Rows": 2142, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.034, + "Actual Total Time": 1120.851, + "Actual Rows": 1879, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.512, + "Actual Total Time": 742.306, + "Actual Rows": 1307, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 36.580, + "Actual Total Time": 36.584, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.847, + "Actual Total Time": 1027.615, + "Actual Rows": 1210, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 41.564, + "Actual Total Time": 41.569, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 9789.71, + "Plan Rows": 1777, + "Plan Width": 51, + "Actual Startup Time": 15.228, + "Actual Total Time": 404.908, + "Actual Rows": 1555, + "Actual Loops": 8, + "Output": ["mi.info", "mi.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.553, + "Actual Total Time": 35.556, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.205, + "Actual Total Time": 1010.491, + "Actual Rows": 3421, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.519, + "Actual Total Time": 605.537, + "Actual Rows": 3056, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.690, + "Actual Total Time": 220.482, + "Actual Rows": 2118, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 36.579, + "Actual Total Time": 36.582, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.693, + "Actual Total Time": 685.048, + "Actual Rows": 2024, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 41.563, + "Actual Total Time": 41.568, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 9782.68, + "Plan Rows": 1901, + "Plan Width": 55, + "Actual Startup Time": 15.208, + "Actual Total Time": 402.538, + "Actual Rows": 1664, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.542, + "Actual Total Time": 35.544, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.190, + "Actual Total Time": 1005.548, + "Actual Rows": 3642, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.503, + "Actual Total Time": 601.073, + "Actual Rows": 3265, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.675, + "Actual Total Time": 217.294, + "Actual Rows": 2264, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 36.568, + "Actual Total Time": 36.570, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.671, + "Actual Total Time": 681.802, + "Actual Rows": 2131, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 41.555, + "Actual Total Time": 41.557, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1538.37, + "Plan Rows": 8871, + "Plan Width": 4, + "Actual Startup Time": 14.751, + "Actual Total Time": 42.773, + "Actual Rows": 7762, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.541, + "Actual Total Time": 35.543, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.007, + "Actual Total Time": 65.252, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.443, + "Actual Total Time": 30.280, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.604, + "Actual Total Time": 17.065, + "Actual Rows": 3402, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 36.567, + "Actual Total Time": 36.568, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.391, + "Actual Total Time": 65.274, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 41.554, + "Actual Total Time": 41.556, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1260.47, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 14.661, + "Actual Total Time": 14.672, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,blood,gore,death,female-nudity}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.540, + "Actual Total Time": 35.541, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.887, + "Actual Total Time": 0.893, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.337, + "Actual Total Time": 0.348, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.468, + "Actual Total Time": 0.494, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 36.566, + "Actual Total Time": 36.567, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.234, + "Actual Total Time": 0.254, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 41.553, + "Actual Total Time": 41.554, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 153.72, + "Plan Rows": 12419, + "Plan Width": 8, + "Actual Startup Time": 0.137, + "Actual Total Time": 40.851, + "Actual Rows": 12419, + "Actual Loops": 5, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.116, + "Actual Total Time": 57.465, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.102, + "Actual Total Time": 26.774, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.130, + "Actual Total Time": 15.189, + "Actual Rows": 3402, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.149, + "Actual Total Time": 59.160, + "Actual Rows": 20522, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 62096, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = 'Horror'::text)", + "Rows Removed by Filter": 47, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 19528 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 3402 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 20522 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.148, + "Actual Total Time": 0.179, + "Actual Rows": 1, + "Actual Loops": 12438, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.128, + "Actual Total Time": 0.153, + "Actual Rows": 1, + "Actual Loops": 3421 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.137, + "Actual Total Time": 0.167, + "Actual Rows": 1, + "Actual Loops": 3056 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.203, + "Actual Total Time": 0.245, + "Actual Rows": 1, + "Actual Loops": 2118 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.142, + "Actual Total Time": 0.168, + "Actual Rows": 1, + "Actual Loops": 2024 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 7602, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 2142 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 1879 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 1307 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 1210 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 4690, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 1222 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 1174 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 871 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 763 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 4407, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1133 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1091 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 831 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 753 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5845388691995996195, + "Planning Time": 122.593, + "Triggers": [ + ], + "Execution Time": 1672.194, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -5845388691995996195, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS male_writer,
       MIN(t.title) AS violent_movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity')
  AND mi.info = 'Horror'
  AND n.gender = 'm'
  AND t.production_year > 2010
  AND t.title LIKE 'Vampire%'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5650.28, + "Total Cost": 5650.29, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 310.796, + "Actual Total Time": 337.505, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5650.20, + "Total Cost": 5650.21, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 206.428, + "Actual Total Time": 337.472, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5649.20, + "Total Cost": 5649.21, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 146.028, + "Actual Total Time": 146.035, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 170.614, + "Actual Total Time": 170.622, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 301.208, + "Actual Total Time": 301.213, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 41.189, + "Actual Total Time": 41.195, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 42.907, + "Actual Total Time": 42.914, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 89.869, + "Actual Total Time": 89.877, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 274.077, + "Actual Total Time": 274.083, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 42.906, + "Actual Total Time": 42.913, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.89, + "Total Cost": 5649.19, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 143.114, + "Actual Total Time": 146.022, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 159.447, + "Actual Total Time": 170.592, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 301.203, + "Actual Total Time": 301.208, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 41.180, + "Actual Total Time": 41.186, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 42.900, + "Actual Total Time": 42.906, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 85.349, + "Actual Total Time": 89.848, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 274.071, + "Actual Total Time": 274.075, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 42.900, + "Actual Total Time": 42.906, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.46, + "Total Cost": 5648.68, + "Plan Rows": 1, + "Plan Width": 69, + "Actual Startup Time": 143.097, + "Actual Total Time": 145.998, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 159.395, + "Actual Total Time": 170.502, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 301.203, + "Actual Total Time": 301.207, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 41.179, + "Actual Total Time": 41.184, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 42.899, + "Actual Total Time": 42.905, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 85.290, + "Actual Total Time": 89.776, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 274.070, + "Actual Total Time": 274.074, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 42.899, + "Actual Total Time": 42.905, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.32, + "Total Cost": 5648.18, + "Plan Rows": 3, + "Plan Width": 73, + "Actual Startup Time": 143.089, + "Actual Total Time": 145.980, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 159.375, + "Actual Total Time": 170.440, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 301.202, + "Actual Total Time": 301.206, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 41.178, + "Actual Total Time": 41.183, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 42.898, + "Actual Total Time": 42.903, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 85.265, + "Actual Total Time": 89.728, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 274.069, + "Actual Total Time": 274.073, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 42.898, + "Actual Total Time": 42.903, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.89, + "Total Cost": 5647.66, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 143.073, + "Actual Total Time": 145.955, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 159.326, + "Actual Total Time": 170.346, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 301.202, + "Actual Total Time": 301.205, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 41.177, + "Actual Total Time": 41.181, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 42.897, + "Actual Total Time": 42.901, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 85.210, + "Actual Total Time": 89.652, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 274.069, + "Actual Total Time": 274.072, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 42.897, + "Actual Total Time": 42.901, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.74, + "Total Cost": 5647.47, + "Plan Rows": 1, + "Plan Width": 84, + "Actual Startup Time": 143.049, + "Actual Total Time": 145.929, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 159.273, + "Actual Total Time": 170.285, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 301.201, + "Actual Total Time": 301.204, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 41.177, + "Actual Total Time": 41.180, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 42.896, + "Actual Total Time": 42.900, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 85.108, + "Actual Total Time": 89.543, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 274.068, + "Actual Total Time": 274.071, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 42.897, + "Actual Total Time": 42.900, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 5646.54, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 143.028, + "Actual Total Time": 145.891, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 159.210, + "Actual Total Time": 170.144, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 301.201, + "Actual Total Time": 301.203, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 41.176, + "Actual Total Time": 41.178, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 42.896, + "Actual Total Time": 42.898, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 85.030, + "Actual Total Time": 89.425, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 274.067, + "Actual Total Time": 274.069, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 42.896, + "Actual Total Time": 42.898, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 5645.19, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 141.681, + "Actual Total Time": 145.753, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 159.027, + "Actual Total Time": 169.548, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 301.200, + "Actual Total Time": 301.201, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 41.175, + "Actual Total Time": 41.177, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 42.895, + "Actual Total Time": 42.896, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 84.886, + "Actual Total Time": 89.210, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 263.739, + "Actual Total Time": 273.939, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 42.895, + "Actual Total Time": 42.896, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1538.37, + "Plan Rows": 8871, + "Plan Width": 4, + "Actual Startup Time": 16.586, + "Actual Total Time": 52.431, + "Actual Rows": 7762, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.614, + "Actual Total Time": 50.422, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.532, + "Actual Total Time": 80.604, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 41.174, + "Actual Total Time": 41.175, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 42.894, + "Actual Total Time": 42.895, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.143, + "Actual Total Time": 26.017, + "Actual Rows": 3402, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.433, + "Actual Total Time": 71.905, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 42.894, + "Actual Total Time": 42.895, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1260.47, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 16.490, + "Actual Total Time": 16.504, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,blood,gore,death,female-nudity}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.516, + "Actual Total Time": 0.534, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.398, + "Actual Total Time": 0.420, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 41.173, + "Actual Total Time": 41.174, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 42.893, + "Actual Total Time": 42.893, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.021, + "Actual Total Time": 1.064, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.143, + "Actual Total Time": 1.150, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 42.893, + "Actual Total Time": 42.893, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 153.72, + "Plan Rows": 12419, + "Plan Width": 8, + "Actual Startup Time": 0.147, + "Actual Total Time": 53.632, + "Actual Rows": 12419, + "Actual Loops": 5, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.094, + "Actual Total Time": 46.364, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.130, + "Actual Total Time": 74.407, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.116, + "Actual Total Time": 23.695, + "Actual Rows": 3402, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.279, + "Actual Total Time": 65.683, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 62096, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2010) AND (t.title ~~ 'Vampire%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 20522 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 3402 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.101, + "Actual Total Time": 0.118, + "Actual Rows": 1, + "Actual Loops": 9, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 21, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.101, + "Actual Total Time": 0.117, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.103, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.127, + "Actual Total Time": 0.127, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = 'Horror'::text)", + "Rows Removed by Filter": 20, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 3, + "Cache Hits": 2, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.086, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.027, + "Actual Rows": 3, + "Actual Loops": 6, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.027, + "Actual Rows": 3, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.032, + "Actual Rows": 3, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 18, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 9 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4983731566966487840, + "Planning Time": 129.155, + "Triggers": [ + ], + "Execution Time": 337.949, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -4983731566966487840, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS male_writer,
       MIN(t.title) AS violent_movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Action',
                  'Sci-Fi',
                  'Thriller',
                  'Crime',
                  'War')
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 26359.55, + "Total Cost": 26359.56, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 3893.489, + "Actual Total Time": 3937.140, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 26359.47, + "Total Cost": 26359.48, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 2996.457, + "Actual Total Time": 3937.095, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 26358.47, + "Total Cost": 26358.48, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 2311.562, + "Actual Total Time": 2311.570, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.192, + "Actual Total Time": 65.200, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3545.472, + "Actual Total Time": 3545.477, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2009.377, + "Actual Total Time": 2009.386, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3331.879, + "Actual Total Time": 3331.884, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2600.135, + "Actual Total Time": 2600.142, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3876.887, + "Actual Total Time": 3876.893, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 68.128, + "Actual Total Time": 68.137, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.28, + "Total Cost": 26321.11, + "Plan Rows": 3736, + "Plan Width": 80, + "Actual Startup Time": 31.277, + "Actual Total Time": 2304.795, + "Actual Rows": 3269, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.184, + "Actual Total Time": 65.191, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.350, + "Actual Total Time": 3537.939, + "Actual Rows": 3244, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 82.614, + "Actual Total Time": 2005.974, + "Actual Rows": 1326, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.838, + "Actual Total Time": 3319.191, + "Actual Rows": 6963, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.262, + "Actual Total Time": 2590.330, + "Actual Rows": 4673, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.361, + "Actual Total Time": 3864.216, + "Actual Rows": 6686, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 68.120, + "Actual Total Time": 68.129, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.44, + "Total Cost": 26307.97, + "Plan Rows": 4145, + "Plan Width": 84, + "Actual Startup Time": 30.557, + "Actual Total Time": 2299.495, + "Actual Rows": 3627, + "Actual Loops": 8, + "Output": ["mi.info", "mi.info_type_id", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 64.501, + "Actual Total Time": 64.506, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.003, + "Actual Total Time": 3532.523, + "Actual Rows": 3522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 81.999, + "Actual Total Time": 2002.878, + "Actual Rows": 1474, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.083, + "Actual Total Time": 3310.105, + "Actual Rows": 7794, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.650, + "Actual Total Time": 2582.665, + "Actual Rows": 5248, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.705, + "Actual Total Time": 3855.667, + "Actual Rows": 7307, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 66.422, + "Actual Total Time": 66.429, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.00, + "Total Cost": 22933.40, + "Plan Rows": 3239, + "Plan Width": 53, + "Actual Startup Time": 19.904, + "Actual Total Time": 1964.211, + "Actual Rows": 2834, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(mi_idx.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 64.499, + "Actual Total Time": 64.504, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.017, + "Actual Total Time": 3135.084, + "Actual Rows": 4322, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.408, + "Actual Total Time": 1720.956, + "Actual Rows": 1899, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.892, + "Actual Total Time": 2768.524, + "Actual Rows": 4518, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.484, + "Actual Total Time": 2109.500, + "Actual Rows": 3285, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.523, + "Actual Total Time": 3361.393, + "Actual Rows": 5551, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 66.421, + "Actual Total Time": 66.427, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.57, + "Total Cost": 21409.62, + "Plan Rows": 3239, + "Plan Width": 32, + "Actual Startup Time": 19.822, + "Actual Total Time": 1917.324, + "Actual Rows": 2834, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 64.498, + "Actual Total Time": 64.503, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.931, + "Actual Total Time": 3060.389, + "Actual Rows": 4322, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.265, + "Actual Total Time": 1678.550, + "Actual Rows": 1899, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.763, + "Actual Total Time": 2698.852, + "Actual Rows": 4518, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.367, + "Actual Total Time": 2054.833, + "Actual Rows": 3285, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.377, + "Actual Total Time": 3284.508, + "Actual Rows": 5551, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 66.420, + "Actual Total Time": 66.425, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 21381.18, + "Plan Rows": 9766, + "Plan Width": 36, + "Actual Startup Time": 19.786, + "Actual Total Time": 1908.737, + "Actual Rows": 8545, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id", "mk.movie_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(ci.movie_id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 64.483, + "Actual Total Time": 64.486, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.904, + "Actual Total Time": 3047.056, + "Actual Rows": 12986, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.226, + "Actual Total Time": 1671.394, + "Actual Rows": 5714, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.721, + "Actual Total Time": 2686.622, + "Actual Rows": 13664, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.326, + "Actual Total Time": 2044.210, + "Actual Rows": 9920, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.332, + "Actual Total Time": 3269.964, + "Actual Rows": 16733, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 66.406, + "Actual Total Time": 66.410, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 19561.93, + "Plan Rows": 3495, + "Plan Width": 23, + "Actual Startup Time": 19.294, + "Actual Total Time": 1853.828, + "Actual Rows": 3058, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 64.482, + "Actual Total Time": 64.484, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.799, + "Actual Total Time": 2962.326, + "Actual Rows": 4558, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.029, + "Actual Total Time": 1621.439, + "Actual Rows": 2016, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.603, + "Actual Total Time": 2605.020, + "Actual Rows": 4826, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.203, + "Actual Total Time": 1979.582, + "Actual Rows": 3454, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.989, + "Actual Total Time": 3181.077, + "Actual Rows": 6139, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 66.405, + "Actual Total Time": 66.408, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 16414.63, + "Plan Rows": 6168, + "Plan Width": 12, + "Actual Startup Time": 18.479, + "Actual Total Time": 1748.003, + "Actual Rows": 5397, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 64.481, + "Actual Total Time": 64.482, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.166, + "Actual Total Time": 2799.594, + "Actual Rows": 7882, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.163, + "Actual Total Time": 1531.102, + "Actual Rows": 3737, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.466, + "Actual Total Time": 2457.778, + "Actual Rows": 7869, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.091, + "Actual Total Time": 1867.247, + "Actual Rows": 5652, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.288, + "Actual Total Time": 2976.630, + "Actual Rows": 12032, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 66.404, + "Actual Total Time": 66.406, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1570.84, + "Plan Rows": 10959, + "Plan Width": 4, + "Actual Startup Time": 17.490, + "Actual Total Time": 60.384, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 64.480, + "Actual Total Time": 64.481, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.632, + "Actual Total Time": 78.198, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.389, + "Actual Total Time": 41.058, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.459, + "Actual Total Time": 65.059, + "Actual Rows": 12628, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.065, + "Actual Total Time": 43.817, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.467, + "Actual Total Time": 68.720, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 66.403, + "Actual Total Time": 66.405, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1308.38, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 17.334, + "Actual Total Time": 17.352, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 64.479, + "Actual Total Time": 64.480, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.508, + "Actual Total Time": 0.534, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.097, + "Actual Total Time": 2.120, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.167, + "Actual Total Time": 0.216, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.866, + "Actual Total Time": 1.878, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.238, + "Actual Total Time": 1.243, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 66.402, + "Actual Total Time": 66.403, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.87, + "Plan Rows": 10959, + "Plan Width": 8, + "Actual Startup Time": 0.181, + "Actual Total Time": 43.819, + "Actual Rows": 10959, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.120, + "Actual Total Time": 68.309, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.285, + "Actual Total Time": 35.564, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.177, + "Actual Total Time": 29.483, + "Actual Rows": 6314, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.191, + "Actual Total Time": 37.236, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.220, + "Actual Total Time": 59.153, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.144, + "Actual Total Time": 0.175, + "Actual Rows": 1, + "Actual Loops": 76714, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 48, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.113, + "Actual Total Time": 0.131, + "Actual Rows": 0, + "Actual Loops": 20522 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.220, + "Actual Total Time": 0.274, + "Actual Rows": 1, + "Actual Loops": 5392 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.154, + "Actual Total Time": 0.188, + "Actual Rows": 1, + "Actual Loops": 12628 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.173, + "Actual Total Time": 0.217, + "Actual Rows": 1, + "Actual Loops": 8337 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.123, + "Actual Total Time": 0.148, + "Actual Rows": 1, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 43178, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 7882 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 3737 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 7869 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 5652 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 12032 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 24462, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 4558 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.021, + "Actual Rows": 3, + "Actual Loops": 2016 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 4826 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 3454 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 6139 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 22670, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 4322 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 1899 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 4518 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3285 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 5551 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.116, + "Actual Rows": 1, + "Actual Loops": 22670, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Action,Sci-Fi,Thriller,Crime,War}'::text[]))", + "Rows Removed by Filter": 88, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.090, + "Actual Rows": 1, + "Actual Loops": 4322 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.104, + "Actual Total Time": 0.146, + "Actual Rows": 1, + "Actual Loops": 1899 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.118, + "Actual Rows": 2, + "Actual Loops": 4518 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.141, + "Actual Rows": 2, + "Actual Loops": 3285 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.087, + "Actual Rows": 1, + "Actual Loops": 5551 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.071, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.066, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 9105500078934324812, + "Planning Time": 125.347, + "Triggers": [ + ], + "Execution Time": 3937.565, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 9105500078934324812, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(chn.name) AS character_name,
       MIN(mi_idx.info) AS rating,
       MIN(n.name) AS playing_actor,
       MIN(t.title) AS complete_hero_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name IS NOT NULL
  AND (chn.name LIKE '%man%'
       OR chn.name LIKE '%Man%')
  AND it2.info = 'rating'
  AND k.keyword IN ('superhero',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence',
                    'magnet',
                    'web',
                    'claw',
                    'laser')
  AND kt.kind = 'movie'
  AND mi_idx.info > '7.0'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND ci.movie_id = cc.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND cc.movie_id = mi_idx.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7314.76, + "Total Cost": 7314.77, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 221.827, + "Actual Total Time": 240.960, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7314.68, + "Total Cost": 7314.69, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 220.907, + "Actual Total Time": 240.925, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7313.68, + "Total Cost": 7313.69, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 212.498, + "Actual Total Time": 212.511, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 210.949, + "Actual Total Time": 210.960, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 212.009, + "Actual Total Time": 212.021, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 211.144, + "Actual Total Time": 211.155, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 211.953, + "Actual Total Time": 211.965, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 211.263, + "Actual Total Time": 211.274, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 211.264, + "Actual Total Time": 211.274, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 211.433, + "Actual Total Time": 211.447, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1462.42, + "Total Cost": 7311.21, + "Plan Rows": 247, + "Plan Width": 53, + "Actual Startup Time": 61.817, + "Actual Total Time": 211.979, + "Actual Rows": 216, + "Actual Loops": 8, + "Output": ["chn.name", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 59.761, + "Actual Total Time": 210.496, + "Actual Rows": 187, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 59.801, + "Actual Total Time": 211.562, + "Actual Rows": 175, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 59.651, + "Actual Total Time": 210.575, + "Actual Rows": 212, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 60.939, + "Actual Total Time": 211.546, + "Actual Rows": 157, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 60.978, + "Actual Total Time": 210.692, + "Actual Rows": 242, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 57.729, + "Actual Total Time": 210.717, + "Actual Rows": 234, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 66.263, + "Actual Total Time": 210.879, + "Actual Rows": 210, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1461.99, + "Total Cost": 7200.18, + "Plan Rows": 247, + "Plan Width": 42, + "Actual Startup Time": 61.687, + "Actual Total Time": 206.398, + "Actual Rows": 216, + "Actual Loops": 8, + "Output": ["chn.name", "mi_idx.info", "t.title", "ci.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 59.649, + "Actual Total Time": 205.375, + "Actual Rows": 187, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 59.705, + "Actual Total Time": 206.916, + "Actual Rows": 175, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 59.465, + "Actual Total Time": 204.297, + "Actual Rows": 212, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 60.808, + "Actual Total Time": 207.208, + "Actual Rows": 157, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 60.841, + "Actual Total Time": 204.492, + "Actual Rows": 242, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 57.620, + "Actual Total Time": 204.682, + "Actual Rows": 234, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 66.046, + "Actual Total Time": 205.218, + "Actual Rows": 210, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1461.56, + "Total Cost": 3378.16, + "Plan Rows": 8421, + "Plan Width": 30, + "Actual Startup Time": 59.067, + "Actual Total Time": 145.918, + "Actual Rows": 7368, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title", "ci.person_role_id", "ci.person_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 57.814, + "Actual Total Time": 143.906, + "Actual Rows": 7775, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 59.619, + "Actual Total Time": 148.771, + "Actual Rows": 6823, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 58.487, + "Actual Total Time": 144.976, + "Actual Rows": 6256, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 56.988, + "Actual Total Time": 153.098, + "Actual Rows": 6620, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 59.261, + "Actual Total Time": 137.441, + "Actual Rows": 8541, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 57.100, + "Actual Total Time": 148.489, + "Actual Rows": 7054, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 57.605, + "Actual Total Time": 141.789, + "Actual Rows": 6790, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1461.12, + "Total Cost": 3254.42, + "Plan Rows": 47, + "Plan Width": 38, + "Actual Startup Time": 58.946, + "Actual Total Time": 101.437, + "Actual Rows": 41, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 57.680, + "Actual Total Time": 97.687, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 59.519, + "Actual Total Time": 107.672, + "Actual Rows": 43, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 58.298, + "Actual Total Time": 100.125, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 56.912, + "Actual Total Time": 112.841, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 59.134, + "Actual Total Time": 90.450, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 57.002, + "Actual Total Time": 103.401, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 57.431, + "Actual Total Time": 97.554, + "Actual Rows": 36, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1460.08, + "Total Cost": 3253.13, + "Plan Rows": 47, + "Plan Width": 42, + "Actual Startup Time": 58.671, + "Actual Total Time": 101.056, + "Actual Rows": 41, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id", "mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 57.426, + "Actual Total Time": 97.323, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 59.183, + "Actual Total Time": 107.232, + "Actual Rows": 43, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 58.062, + "Actual Total Time": 99.804, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 56.635, + "Actual Total Time": 112.431, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 58.870, + "Actual Total Time": 90.068, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.710, + "Actual Total Time": 103.016, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 57.208, + "Actual Total Time": 97.233, + "Actual Rows": 36, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1459.02, + "Total Cost": 3251.79, + "Plan Rows": 64, + "Plan Width": 46, + "Actual Startup Time": 58.656, + "Actual Total Time": 100.911, + "Actual Rows": 56, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id", "mi_idx.info", "mi_idx.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 57.415, + "Actual Total Time": 97.184, + "Actual Rows": 54, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 59.170, + "Actual Total Time": 107.086, + "Actual Rows": 71, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 58.047, + "Actual Total Time": 99.681, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 56.625, + "Actual Total Time": 112.259, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 58.859, + "Actual Total Time": 89.909, + "Actual Rows": 68, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.699, + "Actual Total Time": 102.891, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 57.197, + "Actual Total Time": 97.100, + "Actual Rows": 39, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1458.59, + "Total Cost": 3158.32, + "Plan Rows": 203, + "Plan Width": 21, + "Actual Startup Time": 57.839, + "Actual Total Time": 96.318, + "Actual Rows": 178, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 56.622, + "Actual Total Time": 93.092, + "Actual Rows": 178, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 57.353, + "Actual Total Time": 102.343, + "Actual Rows": 200, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 56.813, + "Actual Total Time": 95.330, + "Actual Rows": 162, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 56.543, + "Actual Total Time": 107.060, + "Actual Rows": 238, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 56.617, + "Actual Total Time": 86.062, + "Actual Rows": 157, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.538, + "Actual Total Time": 97.638, + "Actual Rows": 157, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 57.043, + "Actual Total Time": 92.538, + "Actual Rows": 127, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1456.75, + "Total Cost": 3155.58, + "Plan Rows": 328, + "Plan Width": 25, + "Actual Startup Time": 57.705, + "Actual Total Time": 96.021, + "Actual Rows": 287, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 56.217, + "Actual Total Time": 92.827, + "Actual Rows": 251, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 57.119, + "Actual Total Time": 102.046, + "Actual Rows": 317, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 56.798, + "Actual Total Time": 95.053, + "Actual Rows": 271, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 56.411, + "Actual Total Time": 106.684, + "Actual Rows": 408, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 56.496, + "Actual Total Time": 85.798, + "Actual Rows": 241, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.433, + "Actual Total Time": 97.381, + "Actual Rows": 254, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 57.031, + "Actual Total Time": 92.271, + "Actual Rows": 212, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1455.70, + "Total Cost": 3151.82, + "Plan Rows": 504, + "Plan Width": 29, + "Actual Startup Time": 57.686, + "Actual Total Time": 95.539, + "Actual Rows": 441, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 56.201, + "Actual Total Time": 92.376, + "Actual Rows": 453, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 57.102, + "Actual Total Time": 101.526, + "Actual Rows": 577, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 56.779, + "Actual Total Time": 94.571, + "Actual Rows": 437, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 56.392, + "Actual Total Time": 106.041, + "Actual Rows": 665, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 56.480, + "Actual Total Time": 85.401, + "Actual Rows": 278, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.412, + "Actual Total Time": 96.954, + "Actual Rows": 388, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 57.012, + "Actual Total Time": 91.818, + "Actual Rows": 334, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1455.28, + "Total Cost": 2480.11, + "Plan Rows": 1342, + "Plan Width": 16, + "Actual Startup Time": 57.436, + "Actual Total Time": 71.545, + "Actual Rows": 1174, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Hash Cond": "(cc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 56.091, + "Actual Total Time": 70.680, + "Actual Rows": 1129, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 56.876, + "Actual Total Time": 73.569, + "Actual Rows": 1488, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 56.373, + "Actual Total Time": 69.422, + "Actual Rows": 1180, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 56.294, + "Actual Total Time": 74.734, + "Actual Rows": 1721, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 56.388, + "Actual Total Time": 66.680, + "Actual Rows": 756, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.325, + "Actual Total Time": 72.099, + "Actual Rows": 1182, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 56.346, + "Actual Total Time": 69.587, + "Actual Rows": 913, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.057, + "Actual Total Time": 4.369, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.054, + "Actual Total Time": 4.630, + "Actual Rows": 19055, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.051, + "Actual Total Time": 5.142, + "Actual Rows": 21460, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.082, + "Actual Total Time": 4.118, + "Actual Rows": 15355, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.050, + "Actual Total Time": 5.545, + "Actual Rows": 22940, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 3.756, + "Actual Rows": 11691, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.052, + "Actual Total Time": 4.477, + "Actual Rows": 17945, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.087, + "Actual Total Time": 4.054, + "Actual Rows": 13320, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1412.25, + "Total Cost": 1412.25, + "Plan Rows": 3442, + "Plan Width": 4, + "Actual Startup Time": 57.227, + "Actual Total Time": 57.228, + "Actual Rows": 3011, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 32768, + "Original Hash Buckets": 32768, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 1344, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 55.949, + "Actual Total Time": 55.950, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 56.762, + "Actual Total Time": 56.763, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 56.148, + "Actual Total Time": 56.150, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 56.175, + "Actual Total Time": 56.177, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 56.207, + "Actual Total Time": 56.208, + "Actual Rows": 276, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.176, + "Actual Total Time": 56.178, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 56.140, + "Actual Total Time": 56.142, + "Actual Rows": 409, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.46, + "Total Cost": 1412.25, + "Plan Rows": 3442, + "Plan Width": 4, + "Actual Startup Time": 0.839, + "Actual Total Time": 27.729, + "Actual Rows": 3011, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.875, + "Actual Total Time": 20.267, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.869, + "Actual Total Time": 39.477, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.804, + "Actual Total Time": 20.161, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.718, + "Actual Total Time": 51.252, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.645, + "Actual Total Time": 20.805, + "Actual Rows": 276, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.380, + "Actual Total Time": 21.080, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.160, + "Actual Total Time": 20.913, + "Actual Rows": 409, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.03, + "Total Cost": 1236.53, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.636, + "Actual Total Time": 9.239, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,marvel-comics,based-on-comic,tv-special,fight,violence,magnet,web,claw,laser}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.702, + "Actual Total Time": 0.711, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.734, + "Actual Total Time": 0.784, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.095, + "Actual Total Time": 7.920, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.592, + "Actual Total Time": 0.622, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.547, + "Actual Total Time": 17.606, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.210, + "Actual Total Time": 19.412, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.048, + "Actual Total Time": 16.335, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.63, + "Plan Rows": 2409, + "Plan Width": 8, + "Actual Startup Time": 0.168, + "Actual Total Time": 14.146, + "Actual Rows": 2409, + "Actual Loops": 10, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.166, + "Actual Total Time": 18.368, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.130, + "Actual Total Time": 37.166, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.705, + "Actual Total Time": 11.725, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.121, + "Actual Total Time": 48.483, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.075, + "Actual Total Time": 1.541, + "Actual Rows": 138, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.156, + "Actual Total Time": 1.575, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.083, + "Actual Total Time": 2.213, + "Actual Rows": 204, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 9392, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '7.0'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1129 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1488 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1180 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1721 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 756 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1182 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 913 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1423, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 178 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 200 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 162 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 238 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 157 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 157 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 127 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.044, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.29, + "Plan Rows": 134, + "Plan Width": 12, + "Actual Startup Time": 0.039, + "Actual Total Time": 1.012, + "Actual Rows": 181, + "Actual Loops": 326, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 1.023, + "Actual Rows": 185, + "Actual Loops": 42 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.888, + "Actual Rows": 159, + "Actual Loops": 43 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 1.343, + "Actual Rows": 202, + "Actual Loops": 31 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.780, + "Actual Rows": 138, + "Actual Loops": 48 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.903, + "Actual Rows": 178, + "Actual Loops": 48 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.062, + "Actual Total Time": 1.138, + "Actual Rows": 191, + "Actual Loops": 37 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.044, + "Actual Total Time": 1.135, + "Actual Rows": 189, + "Actual Loops": 36 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 58947, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name IS NOT NULL) AND ((chn.name ~~ '%man%'::text) OR (chn.name ~~ '%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 7775 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 6823 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6256 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 6620 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 8541 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 7054 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 6790 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 1728, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 187 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 175 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 212 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 157 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 242 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 234 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 210 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1025902338300761143, + "Planning Time": 2465.075, + "Triggers": [ + ], + "Execution Time": 241.353, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 1025902338300761143, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(chn.name) AS character_name,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_hero_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name IS NOT NULL
  AND (chn.name LIKE '%man%'
       OR chn.name LIKE '%Man%')
  AND it2.info = 'rating'
  AND k.keyword IN ('superhero',
                    'marvel-comics',
                    'based-on-comic',
                    'fight')
  AND kt.kind = 'movie'
  AND mi_idx.info > '8.0'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND ci.movie_id = cc.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND cc.movie_id = mi_idx.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2342.66, + "Total Cost": 2342.67, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 148.875, + "Actual Total Time": 170.826, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2342.59, + "Total Cost": 2342.60, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 67.802, + "Actual Total Time": 170.803, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2341.59, + "Total Cost": 2341.60, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 49.417, + "Actual Total Time": 49.429, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 139.645, + "Actual Total Time": 139.653, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.011, + "Actual Total Time": 27.025, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.997, + "Actual Total Time": 27.010, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 47.995, + "Actual Total Time": 48.004, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.349, + "Actual Total Time": 27.364, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.115, + "Actual Total Time": 32.127, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.316, + "Actual Total Time": 27.328, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.50, + "Total Cost": 2341.50, + "Plan Rows": 13, + "Plan Width": 38, + "Actual Startup Time": 37.974, + "Actual Total Time": 49.405, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["chn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 74.656, + "Actual Total Time": 139.593, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.004, + "Actual Total Time": 27.017, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.988, + "Actual Total Time": 27.000, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 37.745, + "Actual Total Time": 47.966, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.340, + "Actual Total Time": 27.354, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.110, + "Actual Total Time": 32.120, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.309, + "Actual Total Time": 27.320, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.07, + "Total Cost": 2335.67, + "Plan Rows": 13, + "Plan Width": 42, + "Actual Startup Time": 37.951, + "Actual Total Time": 49.227, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "mi_idx.info", "ci.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 74.582, + "Actual Total Time": 138.945, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.003, + "Actual Total Time": 27.015, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.987, + "Actual Total Time": 26.998, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 37.677, + "Actual Total Time": 47.614, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.339, + "Actual Total Time": 27.353, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.109, + "Actual Total Time": 32.119, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.307, + "Actual Total Time": 27.318, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.64, + "Total Cost": 2186.35, + "Plan Rows": 329, + "Plan Width": 30, + "Actual Startup Time": 37.893, + "Actual Total Time": 47.557, + "Actual Rows": 288, + "Actual Loops": 8, + "Output": ["t.title", "mi_idx.info", "ci.person_role_id", "ci.person_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 74.387, + "Actual Total Time": 132.632, + "Actual Rows": 1334, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.002, + "Actual Total Time": 27.013, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.986, + "Actual Total Time": 26.996, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 37.545, + "Actual Total Time": 44.663, + "Actual Rows": 483, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.338, + "Actual Total Time": 27.351, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.108, + "Actual Total Time": 32.117, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.307, + "Actual Total Time": 27.316, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.20, + "Total Cost": 2182.10, + "Plan Rows": 1, + "Plan Width": 38, + "Actual Startup Time": 37.872, + "Actual Total Time": 46.109, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 74.335, + "Actual Total Time": 126.747, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.001, + "Actual Total Time": 27.011, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.985, + "Actual Total Time": 26.994, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 37.493, + "Actual Total Time": 42.248, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.337, + "Actual Total Time": 27.349, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.108, + "Actual Total Time": 32.116, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.306, + "Actual Total Time": 27.315, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.07, + "Total Cost": 2181.94, + "Plan Rows": 1, + "Plan Width": 42, + "Actual Startup Time": 37.865, + "Actual Total Time": 46.098, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 74.315, + "Actual Total Time": 126.704, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.000, + "Actual Total Time": 27.010, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.984, + "Actual Total Time": 26.993, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 37.473, + "Actual Total Time": 42.227, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.336, + "Actual Total Time": 27.347, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.107, + "Actual Total Time": 32.115, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.305, + "Actual Total Time": 27.313, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.93, + "Total Cost": 2181.77, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 37.852, + "Actual Total Time": 46.076, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 74.280, + "Actual Total Time": 126.638, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 26.999, + "Actual Total Time": 27.007, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.983, + "Actual Total Time": 26.991, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 37.438, + "Actual Total Time": 42.177, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.335, + "Actual Total Time": 27.344, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.107, + "Actual Total Time": 32.113, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.304, + "Actual Total Time": 27.311, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.51, + "Total Cost": 2179.97, + "Plan Rows": 4, + "Plan Width": 34, + "Actual Startup Time": 27.984, + "Actual Total Time": 45.988, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 43.617, + "Actual Total Time": 126.281, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 26.998, + "Actual Total Time": 27.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.982, + "Actual Total Time": 26.989, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.997, + "Actual Total Time": 42.030, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.335, + "Actual Total Time": 27.342, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.073, + "Actual Total Time": 32.021, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.303, + "Actual Total Time": 27.309, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.35, + "Total Cost": 2178.63, + "Plan Rows": 17, + "Plan Width": 38, + "Actual Startup Time": 21.679, + "Actual Total Time": 45.923, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.544, + "Actual Total Time": 126.045, + "Actual Rows": 84, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 26.997, + "Actual Total Time": 27.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.981, + "Actual Total Time": 26.987, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.945, + "Actual Total Time": 41.926, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.334, + "Actual Total Time": 27.340, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.013, + "Actual Total Time": 31.954, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.302, + "Actual Total Time": 27.307, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 2075.00, + "Plan Rows": 206, + "Plan Width": 25, + "Actual Startup Time": 20.980, + "Actual Total Time": 42.779, + "Actual Rows": 180, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.831, + "Actual Total Time": 110.784, + "Actual Rows": 962, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 26.996, + "Actual Total Time": 27.000, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.981, + "Actual Total Time": 26.985, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.630, + "Actual Total Time": 37.697, + "Actual Rows": 223, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.333, + "Actual Total Time": 27.338, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.663, + "Actual Total Time": 31.158, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.301, + "Actual Total Time": 27.305, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2072.11, + "Plan Rows": 432, + "Plan Width": 29, + "Actual Startup Time": 14.289, + "Actual Total Time": 42.349, + "Actual Rows": 378, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.406, + "Actual Total Time": 109.333, + "Actual Rows": 2069, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 26.863, + "Actual Total Time": 26.865, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.840, + "Actual Total Time": 26.843, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.348, + "Actual Total Time": 37.222, + "Actual Rows": 452, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.179, + "Actual Total Time": 27.182, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.098, + "Actual Total Time": 31.002, + "Actual Rows": 111, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.144, + "Actual Total Time": 27.146, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1415.51, + "Plan Rows": 1426, + "Plan Width": 4, + "Actual Startup Time": 14.224, + "Actual Total Time": 22.181, + "Actual Rows": 1248, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.282, + "Actual Total Time": 25.170, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 26.861, + "Actual Total Time": 26.862, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.839, + "Actual Total Time": 26.841, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.158, + "Actual Total Time": 7.181, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.178, + "Actual Total Time": 27.179, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.022, + "Actual Total Time": 26.698, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.142, + "Actual Total Time": 27.144, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 14.179, + "Actual Total Time": 16.883, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,marvel-comics,based-on-comic,fight}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.174, + "Actual Total Time": 1.219, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 26.860, + "Actual Total Time": 26.860, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.838, + "Actual Total Time": 26.839, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.091, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.176, + "Actual Total Time": 27.177, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.952, + "Actual Total Time": 25.498, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.141, + "Actual Total Time": 27.142, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.05, + "Plan Rows": 2496, + "Plan Width": 8, + "Actual Startup Time": 0.084, + "Actual Total Time": 9.841, + "Actual Rows": 2496, + "Actual Loops": 4, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.104, + "Actual Total Time": 22.341, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.082, + "Actual Total Time": 6.547, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.065, + "Actual Total Time": 1.111, + "Actual Rows": 248, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 9984, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 6011 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 248 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.065, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1441, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '8.0'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 962 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 223 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 33 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 117, + "Output": ["it2.id"], + "Cache Key": "mi_idx.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 14, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 84, + "Cache Hits": 82, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 15, + "Cache Hits": 13, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["it2.id"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 31, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 19 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["cct1.id"], + "Cache Key": "cc.subject_id", + "Cache Mode": "logical", + "Cache Hits": 0, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 6, + "Cache Hits": 4, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 2, + "Cache Hits": 0, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["cct1.id"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cct2.id", "cct2.kind"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 250, + "Plan Width": 12, + "Actual Startup Time": 0.038, + "Actual Total Time": 1.784, + "Actual Rows": 383, + "Actual Loops": 6, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 1.364, + "Actual Rows": 334, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.049, + "Actual Total Time": 2.251, + "Actual Rows": 483, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 2300, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name IS NOT NULL) AND ((chn.name ~~ '%man%'::text) OR (chn.name ~~ '%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1334 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 483 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 93, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 47 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 23 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -3475685009172437784, + "Planning Time": 2366.679, + "Triggers": [ + ], + "Execution Time": 171.262, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -3475685009172437784, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(chn.name) AS character_name,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_hero_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name IS NOT NULL
  AND (chn.name LIKE '%man%'
       OR chn.name LIKE '%Man%')
  AND it2.info = 'rating'
  AND k.keyword IN ('superhero',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence',
                    'magnet',
                    'web',
                    'claw',
                    'laser')
  AND kt.kind = 'movie'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND ci.movie_id = cc.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND cc.movie_id = mi_idx.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5632.52, + "Total Cost": 5632.53, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 2791.713, + "Actual Total Time": 2828.103, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5632.46, + "Total Cost": 5632.47, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 493.132, + "Actual Total Time": 2828.051, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5631.46, + "Total Cost": 5631.47, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 891.393, + "Actual Total Time": 891.404, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 527.335, + "Actual Total Time": 527.342, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 176.071, + "Actual Total Time": 176.084, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2369.314, + "Actual Total Time": 2369.321, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 262.080, + "Actual Total Time": 262.089, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2777.646, + "Actual Total Time": 2777.653, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 218.155, + "Actual Total Time": 218.165, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 308.335, + "Actual Total Time": 308.343, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 8.03, + "Total Cost": 5625.68, + "Plan Rows": 771, + "Plan Width": 38, + "Actual Startup Time": 39.240, + "Actual Total Time": 890.165, + "Actual Rows": 675, + "Actual Loops": 8, + "Output": ["chn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.514, + "Actual Total Time": 526.526, + "Actual Rows": 361, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 176.064, + "Actual Total Time": 176.076, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 44.442, + "Actual Total Time": 2365.954, + "Actual Rows": 1884, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.862, + "Actual Total Time": 261.652, + "Actual Rows": 143, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.483, + "Actual Total Time": 2773.612, + "Actual Rows": 2556, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.193, + "Actual Total Time": 217.892, + "Actual Rows": 68, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.746, + "Actual Total Time": 308.014, + "Actual Rows": 96, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.98, + "Total Cost": 5620.46, + "Plan Rows": 771, + "Plan Width": 42, + "Actual Startup Time": 38.772, + "Actual Total Time": 889.071, + "Actual Rows": 675, + "Actual Loops": 8, + "Output": ["t.title", "cc.status_id", "mi_idx.info", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.198, + "Actual Total Time": 525.759, + "Actual Rows": 361, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 175.389, + "Actual Total Time": 175.399, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 44.201, + "Actual Total Time": 2364.028, + "Actual Rows": 1884, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.159, + "Actual Total Time": 260.720, + "Actual Rows": 143, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 42.827, + "Actual Total Time": 2770.961, + "Actual Rows": 2556, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.588, + "Actual Total Time": 217.150, + "Actual Rows": 68, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.484, + "Actual Total Time": 307.603, + "Actual Rows": 96, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.55, + "Total Cost": 5618.65, + "Plan Rows": 4, + "Plan Width": 30, + "Actual Startup Time": 35.052, + "Actual Total Time": 753.194, + "Actual Rows": 23717, + "Actual Loops": 8, + "Output": ["t.title", "cc.status_id", "ci.person_role_id", "mi_idx.info"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.353, + "Actual Total Time": 442.803, + "Actual Rows": 11208, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 175.388, + "Actual Total Time": 175.397, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.248, + "Actual Total Time": 1987.347, + "Actual Rows": 68923, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.228, + "Actual Total Time": 219.236, + "Actual Rows": 4647, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 37.133, + "Actual Total Time": 2339.333, + "Actual Rows": 86060, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.249, + "Actual Total Time": 181.755, + "Actual Rows": 3250, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.085, + "Actual Total Time": 262.179, + "Actual Rows": 6145, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.71, + "Total Cost": 5615.67, + "Plan Rows": 415, + "Plan Width": 34, + "Actual Startup Time": 35.024, + "Actual Total Time": 725.645, + "Actual Rows": 72678, + "Actual Loops": 8, + "Output": ["t.title", "cc.status_id", "ci.person_role_id", "mi_idx.info", "mi_idx.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.337, + "Actual Total Time": 426.003, + "Actual Rows": 34432, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 175.374, + "Actual Total Time": 175.382, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.230, + "Actual Total Time": 1910.556, + "Actual Rows": 211050, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.189, + "Actual Total Time": 210.723, + "Actual Rows": 13941, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 37.105, + "Actual Total Time": 2251.187, + "Actual Rows": 263630, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.211, + "Actual Total Time": 175.751, + "Actual Rows": 9750, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.067, + "Actual Total Time": 252.628, + "Actual Rows": 18917, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.28, + "Total Cost": 5222.08, + "Plan Rows": 760, + "Plan Width": 41, + "Actual Startup Time": 34.757, + "Actual Total Time": 479.402, + "Actual Rows": 23730, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "cc.movie_id", "cc.status_id", "ci.movie_id", "ci.person_role_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.276, + "Actual Total Time": 273.498, + "Actual Rows": 11233, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 175.373, + "Actual Total Time": 175.381, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.168, + "Actual Total Time": 1239.660, + "Actual Rows": 68955, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.049, + "Actual Total Time": 134.924, + "Actual Rows": 4647, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.475, + "Actual Total Time": 1453.845, + "Actual Rows": 86109, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.092, + "Actual Total Time": 120.346, + "Actual Rows": 3250, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.999, + "Actual Total Time": 164.913, + "Actual Rows": 6145, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.24, + "Total Cost": 5204.60, + "Plan Rows": 3041, + "Plan Width": 45, + "Actual Startup Time": 34.742, + "Actual Total Time": 460.508, + "Actual Rows": 27610, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "ci.movie_id", "ci.person_role_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.266, + "Actual Total Time": 262.390, + "Actual Rows": 11925, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 175.361, + "Actual Total Time": 175.367, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.160, + "Actual Total Time": 1187.633, + "Actual Rows": 82852, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.028, + "Actual Total Time": 129.371, + "Actual Rows": 4647, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.461, + "Actual Total Time": 1392.360, + "Actual Rows": 100689, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.073, + "Actual Total Time": 115.995, + "Actual Rows": 3376, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.991, + "Actual Total Time": 158.304, + "Actual Rows": 6285, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.81, + "Total Cost": 3842.70, + "Plan Rows": 3041, + "Plan Width": 49, + "Actual Startup Time": 34.648, + "Actual Total Time": 185.646, + "Actual Rows": 27610, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "ci.movie_id", "ci.person_role_id", "ci.person_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.192, + "Actual Total Time": 105.019, + "Actual Rows": 11925, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 175.360, + "Actual Total Time": 175.366, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.065, + "Actual Total Time": 421.900, + "Actual Rows": 82852, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.847, + "Actual Total Time": 48.773, + "Actual Rows": 4647, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.354, + "Actual Total Time": 511.966, + "Actual Rows": 100689, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.901, + "Actual Total Time": 48.281, + "Actual Rows": 3376, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.914, + "Actual Total Time": 61.218, + "Actual Rows": 6285, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.37, + "Total Cost": 3326.99, + "Plan Rows": 212, + "Plan Width": 37, + "Actual Startup Time": 34.546, + "Actual Total Time": 74.264, + "Actual Rows": 186, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.117, + "Actual Total Time": 37.546, + "Actual Rows": 64, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 175.360, + "Actual Total Time": 175.365, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.946, + "Actual Total Time": 111.379, + "Actual Rows": 574, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.689, + "Actual Total Time": 11.831, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.242, + "Actual Total Time": 181.128, + "Actual Rows": 712, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.695, + "Actual Total Time": 15.703, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.823, + "Actual Total Time": 13.682, + "Actual Rows": 35, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.95, + "Total Cost": 3004.57, + "Plan Rows": 719, + "Plan Width": 25, + "Actual Startup Time": 15.293, + "Actual Total Time": 68.301, + "Actual Rows": 629, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.994, + "Actual Total Time": 33.218, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 23.511, + "Actual Total Time": 175.074, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.581, + "Actual Total Time": 97.339, + "Actual Rows": 1529, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.563, + "Actual Total Time": 10.737, + "Actual Rows": 49, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.676, + "Actual Total Time": 160.796, + "Actual Rows": 2637, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.019, + "Actual Total Time": 14.427, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.746, + "Actual Total Time": 12.158, + "Actual Rows": 79, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.89, + "Total Cost": 2997.11, + "Plan Rows": 1516, + "Plan Width": 29, + "Actual Startup Time": 1.539, + "Actual Total Time": 67.235, + "Actual Rows": 1327, + "Actual Loops": 8, + "Output": ["t.title", "t.kind_id", "t.id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.613, + "Actual Total Time": 32.628, + "Actual Rows": 745, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.384, + "Actual Total Time": 173.844, + "Actual Rows": 2120, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.565, + "Actual Total Time": 95.056, + "Actual Rows": 2965, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.232, + "Actual Total Time": 10.546, + "Actual Rows": 155, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.418, + "Actual Total Time": 157.542, + "Actual Rows": 3700, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.141, + "Actual Total Time": 14.245, + "Actual Rows": 97, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.721, + "Actual Total Time": 11.974, + "Actual Rows": 162, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.46, + "Total Cost": 1412.25, + "Plan Rows": 3442, + "Plan Width": 4, + "Actual Startup Time": 1.362, + "Actual Total Time": 23.274, + "Actual Rows": 3011, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.476, + "Actual Total Time": 7.842, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.181, + "Actual Total Time": 90.120, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.505, + "Actual Total Time": 23.692, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.091, + "Actual Total Time": 4.543, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.207, + "Actual Total Time": 42.939, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.644, + "Actual Total Time": 4.925, + "Actual Rows": 276, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.584, + "Actual Total Time": 3.004, + "Actual Rows": 409, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.03, + "Total Cost": 1236.53, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 1.220, + "Actual Total Time": 9.983, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,marvel-comics,based-on-comic,tv-special,fight,violence,magnet,web,claw,laser}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.364, + "Actual Total Time": 0.384, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.929, + "Actual Total Time": 71.051, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.407, + "Actual Total Time": 0.448, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.936, + "Actual Total Time": 2.960, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.981, + "Actual Total Time": 2.012, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.502, + "Actual Total Time": 2.299, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.503, + "Actual Total Time": 0.557, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.63, + "Plan Rows": 2409, + "Plan Width": 8, + "Actual Startup Time": 0.114, + "Actual Total Time": 9.754, + "Actual Rows": 2409, + "Actual Loops": 10, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.109, + "Actual Total Time": 6.854, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.245, + "Actual Total Time": 17.097, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.094, + "Actual Total Time": 21.275, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.147, + "Actual Total Time": 1.434, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.216, + "Actual Total Time": 37.974, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.082, + "Actual Total Time": 1.227, + "Actual Rows": 138, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.049, + "Actual Total Time": 1.136, + "Actual Rows": 204, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 24091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 4196 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 6011 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 248 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 9226 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 276 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 409 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 5032, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 312 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 10 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 1529 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 49 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 2637 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 47 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 79 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.29, + "Plan Rows": 114, + "Plan Width": 12, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.542, + "Actual Rows": 149, + "Actual Loops": 1485, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.958, + "Actual Rows": 186, + "Actual Loops": 64 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.487, + "Actual Rows": 144, + "Actual Loops": 574 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.049, + "Actual Total Time": 1.699, + "Actual Rows": 232, + "Actual Loops": 20 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.415, + "Actual Rows": 141, + "Actual Loops": 712 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.052, + "Actual Total Time": 1.517, + "Actual Rows": 169, + "Actual Loops": 20 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.037, + "Actual Total Time": 1.262, + "Actual Rows": 180, + "Actual Loops": 35 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 220880, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 11925 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 82852 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 4647 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 100689 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 3376 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 6285 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 3, + "Actual Loops": 189844, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 3, + "Actual Loops": 11233 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 3, + "Actual Loops": 68955 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 4647 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 3, + "Actual Loops": 86109 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 3250 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 6145 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 189738, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name IS NOT NULL) AND ((chn.name ~~ '%man%'::text) OR (chn.name ~~ '%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 11208 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 68923 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 4647 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 86060 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 3250 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 6145 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.068, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.066, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6841805925482126349, + "Planning Time": 2250.235, + "Triggers": [ + ], + "Execution Time": 2828.662, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 6841805925482126349, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS complete_western_sequel
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cct1.kind IN ('cast',
                    'crew')
  AND cct2.kind = 'complete'
  AND cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Germany',
                  'Swedish',
                  'German')
  AND t.production_year BETWEEN 1950 AND 2000
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND t.id = cc.movie_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id
  AND ml.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = cc.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 998.45, + "Total Cost": 998.46, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 92.004, + "Actual Total Time": 94.037, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 998.40, + "Total Cost": 998.41, + "Plan Rows": 6, + "Plan Width": 96, + "Actual Startup Time": 49.422, + "Actual Total Time": 93.997, + "Actual Rows": 7, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 6, + "Workers Launched": 6, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 997.40, + "Total Cost": 997.41, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 34.029, + "Actual Total Time": 34.043, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 40.090, + "Actual Total Time": 40.104, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.314, + "Actual Total Time": 19.326, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.674, + "Actual Total Time": 16.693, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.395, + "Actual Total Time": 17.410, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 80.320, + "Actual Total Time": 80.327, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.935, + "Actual Total Time": 15.951, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 405.98, + "Total Cost": 996.80, + "Plan Rows": 80, + "Plan Width": 48, + "Actual Startup Time": 29.552, + "Actual Total Time": 33.974, + "Actual Rows": 68, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.557, + "Actual Total Time": 40.084, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.307, + "Actual Total Time": 19.318, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.663, + "Actual Total Time": 16.681, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.386, + "Actual Total Time": 17.400, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 55.551, + "Actual Total Time": 79.905, + "Actual Rows": 475, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.925, + "Actual Total Time": 15.940, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 404.94, + "Total Cost": 995.33, + "Plan Rows": 80, + "Plan Width": 52, + "Actual Startup Time": 29.408, + "Actual Total Time": 33.778, + "Actual Rows": 68, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "cc.subject_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.471, + "Actual Total Time": 39.992, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.176, + "Actual Total Time": 19.185, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.513, + "Actual Total Time": 16.528, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.243, + "Actual Total Time": 17.254, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 55.479, + "Actual Total Time": 79.495, + "Actual Rows": 475, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.765, + "Actual Total Time": 15.777, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 404.50, + "Total Cost": 965.98, + "Plan Rows": 29, + "Plan Width": 72, + "Actual Startup Time": 29.373, + "Actual Total Time": 33.113, + "Actual Rows": 25, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "mc.movie_id", "t.title", "t.id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.357, + "Actual Total Time": 39.870, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.175, + "Actual Total Time": 19.184, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.512, + "Actual Total Time": 16.526, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.242, + "Actual Total Time": 17.252, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 55.354, + "Actual Total Time": 74.969, + "Actual Rows": 171, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.763, + "Actual Total Time": 15.775, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 404.08, + "Total Cost": 725.53, + "Plan Rows": 546, + "Plan Width": 76, + "Actual Startup Time": 24.356, + "Actual Total Time": 29.353, + "Actual Rows": 468, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "mc.movie_id", "t.title", "t.id", "mk.movie_id", "mk.keyword_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.228, + "Actual Total Time": 39.742, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.174, + "Actual Total Time": 19.182, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.644, + "Actual Total Time": 16.374, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.241, + "Actual Total Time": 17.251, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.292, + "Actual Total Time": 50.242, + "Actual Rows": 3183, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.762, + "Actual Total Time": 15.773, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 403.65, + "Total Cost": 676.65, + "Plan Rows": 45, + "Plan Width": 68, + "Actual Startup Time": 11.857, + "Actual Total Time": 16.078, + "Actual Rows": 38, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.002, + "Actual Total Time": 11.511, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.173, + "Actual Total Time": 19.181, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.453, + "Actual Total Time": 16.179, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.240, + "Actual Total Time": 17.249, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.530, + "Actual Total Time": 21.238, + "Actual Rows": 263, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.762, + "Actual Total Time": 15.771, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 403.51, + "Total Cost": 674.81, + "Plan Rows": 56, + "Plan Width": 72, + "Actual Startup Time": 11.174, + "Actual Total Time": 15.986, + "Actual Rows": 48, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.961, + "Actual Total Time": 11.468, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.172, + "Actual Total Time": 19.178, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.216, + "Actual Total Time": 16.075, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.239, + "Actual Total Time": 17.247, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.057, + "Actual Total Time": 20.786, + "Actual Rows": 326, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.761, + "Actual Total Time": 15.769, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 403.08, + "Total Cost": 646.69, + "Plan Rows": 56, + "Plan Width": 51, + "Actual Startup Time": 11.120, + "Actual Total Time": 15.517, + "Actual Rows": 48, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.871, + "Actual Total Time": 11.377, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.172, + "Actual Total Time": 19.177, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.031, + "Actual Total Time": 15.860, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.238, + "Actual Total Time": 17.245, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.001, + "Actual Total Time": 17.904, + "Actual Rows": 330, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.760, + "Actual Total Time": 15.767, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 402.66, + "Total Cost": 576.74, + "Plan Rows": 156, + "Plan Width": 36, + "Actual Startup Time": 8.669, + "Actual Total Time": 14.024, + "Actual Rows": 133, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mc.movie_id", "mc.company_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.015, + "Actual Total Time": 11.097, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.108, + "Actual Total Time": 17.721, + "Actual Rows": 51, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.914, + "Actual Total Time": 15.360, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.336, + "Actual Total Time": 16.712, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.883, + "Actual Total Time": 10.682, + "Actual Rows": 838, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.379, + "Actual Total Time": 15.620, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 402.52, + "Total Cost": 571.95, + "Plan Rows": 174, + "Plan Width": 40, + "Actual Startup Time": 8.580, + "Actual Total Time": 13.714, + "Actual Rows": 149, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mc.movie_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.969, + "Actual Total Time": 11.017, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.924, + "Actual Total Time": 17.348, + "Actual Rows": 75, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.771, + "Actual Total Time": 15.181, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.247, + "Actual Total Time": 16.557, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.846, + "Actual Total Time": 9.459, + "Actual Rows": 912, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.290, + "Actual Total Time": 15.528, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Merge Join", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 402.09, + "Total Cost": 510.73, + "Plan Rows": 43, + "Plan Width": 28, + "Actual Startup Time": 8.431, + "Actual Total Time": 12.691, + "Actual Rows": 37, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Merge Cond": "(cc.movie_id = ml.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.885, + "Actual Total Time": 10.803, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.704, + "Actual Total Time": 15.596, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.598, + "Actual Total Time": 14.661, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.033, + "Actual Total Time": 15.883, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.773, + "Actual Total Time": 6.052, + "Actual Rows": 182, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.077, + "Actual Total Time": 15.255, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 2187.57, + "Plan Rows": 1222, + "Plan Width": 12, + "Actual Startup Time": 0.099, + "Actual Total Time": 3.280, + "Actual Rows": 857, + "Actual Loops": 7, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.062, + "Actual Total Time": 6.124, + "Actual Rows": 323, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.144, + "Actual Total Time": 2.666, + "Actual Rows": 715, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.134, + "Actual Total Time": 1.518, + "Actual Rows": 346, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.135, + "Actual Total Time": 3.037, + "Actual Rows": 923, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.058, + "Actual Total Time": 2.351, + "Actual Rows": 2353, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.121, + "Actual Total Time": 2.020, + "Actual Rows": 550, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Sort", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 401.65, + "Total Cost": 407.44, + "Plan Rows": 2315, + "Plan Width": 16, + "Actual Startup Time": 7.681, + "Actual Total Time": 8.155, + "Actual Rows": 2319, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id"], + "Sort Key": ["ml.movie_id"], + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.679, + "Actual Total Time": 3.997, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.761, + "Actual Total Time": 11.349, + "Actual Rows": 2316, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.839, + "Actual Total Time": 11.530, + "Actual Rows": 2316, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.733, + "Actual Total Time": 11.261, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.596, + "Actual Total Time": 2.829, + "Actual Rows": 2339, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.000, + "Actual Total Time": 11.625, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.29, + "Total Cost": 272.28, + "Plan Rows": 2315, + "Plan Width": 16, + "Actual Startup Time": 0.151, + "Actual Total Time": 5.098, + "Actual Rows": 2315, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.098, + "Actual Total Time": 2.459, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.187, + "Actual Total Time": 7.115, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.198, + "Actual Total Time": 7.111, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.212, + "Actual Total Time": 7.087, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.069, + "Actual Total Time": 1.721, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.221, + "Actual Total Time": 7.266, + "Actual Rows": 2315, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.23, + "Plan Rows": 2, + "Plan Width": 16, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.062, + "Actual Rows": 2, + "Actual Loops": 7, + "Output": ["lt.id", "lt.link"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.041, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.084, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.077, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.082, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.030, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.093, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 123.95, + "Plan Rows": 1158, + "Plan Width": 8, + "Actual Startup Time": 0.091, + "Actual Total Time": 1.865, + "Actual Rows": 1158, + "Actual Loops": 14, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.link_type_id = lt.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.916, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.115, + "Actual Total Time": 2.582, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.118, + "Actual Total Time": 2.567, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.126, + "Actual Total Time": 2.566, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.634, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.128, + "Actual Total Time": 2.630, + "Actual Rows": 1158, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.38, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.025, + "Actual Rows": 4, + "Actual Loops": 257, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 3, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.028, + "Actual Rows": 2, + "Actual Loops": 7 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.037, + "Actual Rows": 2, + "Actual Loops": 44 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.096, + "Actual Rows": 3, + "Actual Loops": 5 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.092, + "Actual Rows": 2, + "Actual Loops": 7 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.017, + "Actual Rows": 5, + "Actual Loops": 182 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.086, + "Actual Total Time": 0.086, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1043, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 14, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 13, + "Cache Hits": 11, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 75, + "Cache Hits": 73, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 15, + "Cache Hits": 13, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 12, + "Cache Hits": 10, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 912, + "Cache Hits": 910, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.084, + "Actual Total Time": 0.085, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 12, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.070, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 934, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 11 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 51 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 8 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 10 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 838 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.141, + "Actual Total Time": 0.142, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 337, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2000))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.085, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.099, + "Actual Total Time": 0.100, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 330 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 333, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 3, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 2, + "Cache Hits": 0, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 326, + "Cache Hits": 324, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.99, + "Plan Rows": 8, + "Plan Width": 8, + "Actual Startup Time": 0.332, + "Actual Total Time": 0.339, + "Actual Rows": 12, + "Actual Loops": 269, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.218, + "Actual Total Time": 28.220, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.180, + "Actual Total Time": 0.181, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.098, + "Actual Total Time": 0.104, + "Actual Rows": 12, + "Actual Loops": 263 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 3278, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.146, + "Actual Total Time": 0.146, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 3183 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 3, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.025, + "Actual Rows": 3, + "Actual Loops": 172, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Germany,Swedish,German}'::text[]))", + "Rows Removed by Filter": 17, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.109, + "Actual Total Time": 0.114, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.025, + "Actual Rows": 3, + "Actual Loops": 171 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 7, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.021, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = ANY ('{cast,crew}'::text[]))", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5323664899700589841, + "Planning Time": 2671.108, + "Triggers": [ + ], + "Execution Time": 94.901, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -5323664899700589841, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS complete_western_sequel
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cct1.kind IN ('cast',
                    'crew')
  AND cct2.kind = 'complete'
  AND cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Germany',
                  'Swedish',
                  'German')
  AND t.production_year = 1998
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND t.id = cc.movie_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id
  AND ml.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = cc.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 764.75, + "Total Cost": 764.76, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 35.072, + "Actual Total Time": 35.356, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 764.69, + "Total Cost": 764.70, + "Plan Rows": 6, + "Plan Width": 96, + "Actual Startup Time": 35.052, + "Actual Total Time": 35.346, + "Actual Rows": 7, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 6, + "Workers Launched": 6, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 763.69, + "Total Cost": 763.70, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 14.421, + "Actual Total Time": 14.433, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.826, + "Actual Total Time": 7.834, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.507, + "Actual Total Time": 11.522, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.956, + "Actual Total Time": 12.970, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.959, + "Actual Total Time": 12.973, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.826, + "Actual Total Time": 8.839, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.786, + "Actual Total Time": 12.797, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 405.98, + "Total Cost": 763.38, + "Plan Rows": 41, + "Plan Width": 48, + "Actual Startup Time": 12.558, + "Actual Total Time": 14.396, + "Actual Rows": 35, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.821, + "Actual Total Time": 7.829, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.498, + "Actual Total Time": 11.512, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.948, + "Actual Total Time": 12.961, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.954, + "Actual Total Time": 12.967, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.818, + "Actual Total Time": 8.830, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.778, + "Actual Total Time": 12.789, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 404.94, + "Total Cost": 762.12, + "Plan Rows": 41, + "Plan Width": 52, + "Actual Startup Time": 12.402, + "Actual Total Time": 14.215, + "Actual Rows": 35, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "cc.subject_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.745, + "Actual Total Time": 7.752, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.363, + "Actual Total Time": 11.375, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.802, + "Actual Total Time": 12.813, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.808, + "Actual Total Time": 12.819, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.689, + "Actual Total Time": 8.699, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.625, + "Actual Total Time": 12.633, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 404.50, + "Total Cost": 745.93, + "Plan Rows": 16, + "Plan Width": 72, + "Actual Startup Time": 12.397, + "Actual Total Time": 13.976, + "Actual Rows": 14, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "mc.movie_id", "t.title", "t.id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.745, + "Actual Total Time": 7.750, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.362, + "Actual Total Time": 11.373, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.801, + "Actual Total Time": 12.811, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.808, + "Actual Total Time": 12.818, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.689, + "Actual Total Time": 8.698, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.623, + "Actual Total Time": 12.631, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 404.08, + "Total Cost": 694.39, + "Plan Rows": 117, + "Plan Width": 76, + "Actual Startup Time": 12.385, + "Actual Total Time": 13.328, + "Actual Rows": 100, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "mc.movie_id", "t.title", "t.id", "mk.movie_id", "mk.keyword_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.744, + "Actual Total Time": 7.749, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.361, + "Actual Total Time": 11.371, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.800, + "Actual Total Time": 12.809, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.807, + "Actual Total Time": 12.816, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.688, + "Actual Total Time": 8.696, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.623, + "Actual Total Time": 12.630, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 403.65, + "Total Cost": 677.01, + "Plan Rows": 16, + "Plan Width": 68, + "Actual Startup Time": 12.380, + "Actual Total Time": 13.151, + "Actual Rows": 14, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.744, + "Actual Total Time": 7.748, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.360, + "Actual Total Time": 11.370, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.799, + "Actual Total Time": 12.808, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.806, + "Actual Total Time": 12.814, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.687, + "Actual Total Time": 8.695, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.622, + "Actual Total Time": 12.628, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 403.51, + "Total Cost": 675.95, + "Plan Rows": 25, + "Plan Width": 72, + "Actual Startup Time": 12.377, + "Actual Total Time": 13.122, + "Actual Rows": 22, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.743, + "Actual Total Time": 7.747, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.360, + "Actual Total Time": 11.368, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.799, + "Actual Total Time": 12.805, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.805, + "Actual Total Time": 12.812, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.686, + "Actual Total Time": 8.693, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.621, + "Actual Total Time": 12.627, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 403.08, + "Total Cost": 647.97, + "Plan Rows": 56, + "Plan Width": 51, + "Actual Startup Time": 10.152, + "Actual Total Time": 12.721, + "Actual Rows": 48, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.743, + "Actual Total Time": 7.746, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.359, + "Actual Total Time": 11.365, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.798, + "Actual Total Time": 12.804, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.804, + "Actual Total Time": 12.811, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.686, + "Actual Total Time": 8.691, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.620, + "Actual Total Time": 12.625, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 402.66, + "Total Cost": 578.03, + "Plan Rows": 156, + "Plan Width": 36, + "Actual Startup Time": 9.667, + "Actual Total Time": 11.578, + "Actual Rows": 133, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mc.movie_id", "mc.company_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.931, + "Actual Total Time": 6.996, + "Actual Rows": 71, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.358, + "Actual Total Time": 11.364, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.797, + "Actual Total Time": 12.802, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.803, + "Actual Total Time": 12.808, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.685, + "Actual Total Time": 8.690, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.620, + "Actual Total Time": 12.624, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 402.52, + "Total Cost": 573.23, + "Plan Rows": 174, + "Plan Width": 40, + "Actual Startup Time": 9.653, + "Actual Total Time": 11.376, + "Actual Rows": 149, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mc.movie_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.872, + "Actual Total Time": 6.825, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.357, + "Actual Total Time": 11.362, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.796, + "Actual Total Time": 12.800, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.802, + "Actual Total Time": 12.806, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.684, + "Actual Total Time": 8.688, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.619, + "Actual Total Time": 12.622, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Merge Join", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 402.09, + "Total Cost": 510.63, + "Plan Rows": 43, + "Plan Width": 28, + "Actual Startup Time": 9.638, + "Actual Total Time": 10.738, + "Actual Rows": 37, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Merge Cond": "(cc.movie_id = ml.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.821, + "Actual Total Time": 5.996, + "Actual Rows": 62, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.357, + "Actual Total Time": 11.360, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.795, + "Actual Total Time": 12.798, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.801, + "Actual Total Time": 12.804, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.683, + "Actual Total Time": 8.686, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.618, + "Actual Total Time": 12.620, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 2187.57, + "Plan Rows": 996, + "Plan Width": 12, + "Actual Startup Time": 0.071, + "Actual Total Time": 1.380, + "Actual Rows": 857, + "Actual Loops": 7, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.867, + "Actual Rows": 643, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.081, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.133, + "Actual Total Time": 0.830, + "Actual Rows": 231, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.767, + "Actual Rows": 262, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.751, + "Actual Rows": 316, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.093, + "Actual Total Time": 0.981, + "Actual Rows": 308, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Sort", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 401.65, + "Total Cost": 407.44, + "Plan Rows": 2315, + "Plan Width": 16, + "Actual Startup Time": 7.801, + "Actual Total Time": 8.237, + "Actual Rows": 2319, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id"], + "Sort Key": ["ml.movie_id"], + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.262, + "Actual Total Time": 4.501, + "Actual Rows": 2317, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.692, + "Actual Total Time": 10.224, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.249, + "Actual Total Time": 10.781, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.305, + "Actual Total Time": 10.833, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.597, + "Actual Total Time": 7.009, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.863, + "Actual Total Time": 10.396, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.29, + "Total Cost": 272.28, + "Plan Rows": 2315, + "Plan Width": 16, + "Actual Startup Time": 0.154, + "Actual Total Time": 5.145, + "Actual Rows": 2315, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.099, + "Actual Total Time": 2.818, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.188, + "Actual Total Time": 6.365, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.167, + "Actual Total Time": 6.780, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.200, + "Actual Total Time": 6.825, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.154, + "Actual Total Time": 4.279, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.202, + "Actual Total Time": 6.547, + "Actual Rows": 2315, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.23, + "Plan Rows": 2, + "Plan Width": 16, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.063, + "Actual Rows": 2, + "Actual Loops": 7, + "Output": ["lt.id", "lt.link"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.041, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.074, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.062, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.078, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.066, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.089, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 123.95, + "Plan Rows": 1158, + "Plan Width": 8, + "Actual Startup Time": 0.092, + "Actual Total Time": 1.881, + "Actual Rows": 1158, + "Actual Loops": 14, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.link_type_id = lt.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.056, + "Actual Total Time": 1.052, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.110, + "Actual Total Time": 2.301, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.112, + "Actual Total Time": 2.470, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.117, + "Actual Total Time": 2.481, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.083, + "Actual Total Time": 1.566, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.115, + "Actual Total Time": 2.390, + "Actual Rows": 1158, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.42, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.015, + "Actual Rows": 4, + "Actual Loops": 257, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 3, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 62 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1043, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 948, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 93, + "Cache Hits": 91, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 4, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 934, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 71 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 337, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year = 1998)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 152, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 150, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.99, + "Plan Rows": 8, + "Plan Width": 8, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.010, + "Actual Rows": 7, + "Actual Loops": 95, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 703, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 3, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 95, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Germany,Swedish,German}'::text[]))", + "Rows Removed by Filter": 10, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 7, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.021, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = ANY ('{cast,crew}'::text[]))", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2103229838344518222, + "Planning Time": 2730.670, + "Triggers": [ + ], + "Execution Time": 35.996, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 2103229838344518222, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS complete_western_sequel
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE 'complete%'
  AND cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'English')
  AND t.production_year BETWEEN 1950 AND 2010
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND t.id = cc.movie_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id
  AND ml.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = cc.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1061.44, + "Total Cost": 1061.45, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 63.317, + "Actual Total Time": 65.374, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1061.39, + "Total Cost": 1061.40, + "Plan Rows": 6, + "Plan Width": 96, + "Actual Startup Time": 15.984, + "Actual Total Time": 65.348, + "Actual Rows": 7, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 6, + "Workers Launched": 6, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1060.39, + "Total Cost": 1060.40, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 18.224, + "Actual Total Time": 18.236, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 54.313, + "Actual Total Time": 54.319, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.428, + "Actual Total Time": 12.442, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.473, + "Actual Total Time": 12.486, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.429, + "Actual Total Time": 12.442, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.563, + "Actual Total Time": 8.571, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.455, + "Actual Total Time": 12.469, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 406.00, + "Total Cost": 1059.46, + "Plan Rows": 124, + "Plan Width": 48, + "Actual Startup Time": 13.288, + "Actual Total Time": 18.156, + "Actual Rows": 106, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.705, + "Actual Total Time": 53.810, + "Actual Rows": 741, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.421, + "Actual Total Time": 12.433, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.467, + "Actual Total Time": 12.479, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.420, + "Actual Total Time": 12.433, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.558, + "Actual Total Time": 8.566, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.447, + "Actual Total Time": 12.460, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 404.96, + "Total Cost": 1057.49, + "Plan Rows": 171, + "Plan Width": 52, + "Actual Startup Time": 13.110, + "Actual Total Time": 17.910, + "Actual Rows": 147, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "cc.subject_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.638, + "Actual Total Time": 53.282, + "Actual Rows": 1026, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.267, + "Actual Total Time": 12.277, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.293, + "Actual Total Time": 12.303, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.268, + "Actual Total Time": 12.278, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.479, + "Actual Total Time": 8.485, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.273, + "Actual Total Time": 12.283, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 404.50, + "Total Cost": 1017.71, + "Plan Rows": 38, + "Plan Width": 72, + "Actual Startup Time": 13.093, + "Actual Total Time": 17.175, + "Actual Rows": 33, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "mc.movie_id", "t.title", "t.id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.559, + "Actual Total Time": 48.186, + "Actual Rows": 228, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.266, + "Actual Total Time": 12.276, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.292, + "Actual Total Time": 12.302, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.267, + "Actual Total Time": 12.276, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.478, + "Actual Total Time": 8.484, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.272, + "Actual Total Time": 12.281, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 404.08, + "Total Cost": 738.06, + "Plan Rows": 635, + "Plan Width": 76, + "Actual Startup Time": 9.804, + "Actual Total Time": 13.525, + "Actual Rows": 544, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "mc.movie_id", "t.title", "t.id", "mk.movie_id", "mk.keyword_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.370, + "Actual Total Time": 23.540, + "Actual Rows": 3701, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.265, + "Actual Total Time": 12.274, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.291, + "Actual Total Time": 12.300, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.266, + "Actual Total Time": 12.274, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.478, + "Actual Total Time": 8.484, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.271, + "Actual Total Time": 12.279, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 403.65, + "Total Cost": 675.84, + "Plan Rows": 56, + "Plan Width": 68, + "Actual Startup Time": 9.790, + "Actual Total Time": 12.345, + "Actual Rows": 48, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.307, + "Actual Total Time": 17.876, + "Actual Rows": 325, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.265, + "Actual Total Time": 12.272, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.291, + "Actual Total Time": 12.299, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.265, + "Actual Total Time": 12.273, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.478, + "Actual Total Time": 8.482, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.270, + "Actual Total Time": 12.278, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 403.51, + "Total Cost": 674.07, + "Plan Rows": 56, + "Plan Width": 72, + "Actual Startup Time": 9.781, + "Actual Total Time": 12.276, + "Actual Rows": 48, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.264, + "Actual Total Time": 17.457, + "Actual Rows": 325, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.264, + "Actual Total Time": 12.270, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.290, + "Actual Total Time": 12.297, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.264, + "Actual Total Time": 12.271, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.477, + "Actual Total Time": 8.481, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.269, + "Actual Total Time": 12.275, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 403.08, + "Total Cost": 645.94, + "Plan Rows": 56, + "Plan Width": 51, + "Actual Startup Time": 9.766, + "Actual Total Time": 11.905, + "Actual Rows": 48, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.192, + "Actual Total Time": 15.058, + "Actual Rows": 325, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.263, + "Actual Total Time": 12.269, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.289, + "Actual Total Time": 12.295, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.264, + "Actual Total Time": 12.269, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.477, + "Actual Total Time": 8.480, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.269, + "Actual Total Time": 12.274, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 402.66, + "Total Cost": 576.00, + "Plan Rows": 156, + "Plan Width": 36, + "Actual Startup Time": 8.930, + "Actual Total Time": 10.865, + "Actual Rows": 133, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mc.movie_id", "mc.company_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.561, + "Actual Total Time": 9.465, + "Actual Rows": 783, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.262, + "Actual Total Time": 12.267, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.251, + "Actual Total Time": 12.256, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.263, + "Actual Total Time": 12.268, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.734, + "Actual Total Time": 7.742, + "Actual Rows": 65, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.268, + "Actual Total Time": 12.272, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 402.52, + "Total Cost": 571.21, + "Plan Rows": 174, + "Plan Width": 40, + "Actual Startup Time": 8.911, + "Actual Total Time": 10.670, + "Actual Rows": 149, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mc.movie_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.525, + "Actual Total Time": 8.468, + "Actual Rows": 842, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.261, + "Actual Total Time": 12.265, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.251, + "Actual Total Time": 12.254, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.262, + "Actual Total Time": 12.266, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.660, + "Actual Total Time": 7.559, + "Actual Rows": 91, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.267, + "Actual Total Time": 12.270, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Merge Join", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 402.09, + "Total Cost": 510.44, + "Plan Rows": 43, + "Plan Width": 28, + "Actual Startup Time": 8.887, + "Actual Total Time": 10.081, + "Actual Rows": 37, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Merge Cond": "(cc.movie_id = ml.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.464, + "Actual Total Time": 6.253, + "Actual Rows": 135, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.261, + "Actual Total Time": 12.263, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.249, + "Actual Total Time": 12.252, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.262, + "Actual Total Time": 12.264, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.600, + "Actual Total Time": 6.601, + "Actual Rows": 61, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.266, + "Actual Total Time": 12.269, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 2187.57, + "Plan Rows": 1089, + "Plan Width": 12, + "Actual Startup Time": 0.102, + "Actual Total Time": 1.021, + "Actual Rows": 857, + "Actual Loops": 7, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 1.302, + "Actual Rows": 1053, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.182, + "Actual Total Time": 0.183, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.136, + "Actual Total Time": 0.137, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.195, + "Actual Total Time": 0.195, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 1.336, + "Actual Rows": 982, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.085, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Sort", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 401.65, + "Total Cost": 407.44, + "Plan Rows": 2315, + "Plan Width": 16, + "Actual Startup Time": 7.684, + "Actual Total Time": 8.089, + "Actual Rows": 2319, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id"], + "Sort Key": ["ml.movie_id"], + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.012, + "Actual Total Time": 4.240, + "Actual Rows": 2335, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.478, + "Actual Total Time": 11.015, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.531, + "Actual Total Time": 11.063, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.467, + "Actual Total Time": 11.004, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.249, + "Actual Total Time": 4.507, + "Actual Rows": 2317, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.582, + "Actual Total Time": 11.115, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.29, + "Total Cost": 272.28, + "Plan Rows": 2315, + "Plan Width": 16, + "Actual Startup Time": 0.157, + "Actual Total Time": 5.140, + "Actual Rows": 2315, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.080, + "Actual Total Time": 2.640, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.202, + "Actual Total Time": 6.993, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.198, + "Actual Total Time": 7.056, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.200, + "Actual Total Time": 6.996, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.098, + "Actual Total Time": 2.892, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.229, + "Actual Total Time": 7.079, + "Actual Rows": 2315, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.23, + "Plan Rows": 2, + "Plan Width": 16, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.065, + "Actual Rows": 2, + "Actual Loops": 7, + "Output": ["lt.id", "lt.link"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.033, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.077, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.078, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.081, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.048, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.104, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 123.95, + "Plan Rows": 1158, + "Plan Width": 8, + "Actual Startup Time": 0.090, + "Actual Total Time": 1.887, + "Actual Rows": 1158, + "Actual Loops": 14, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.link_type_id = lt.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.946, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.120, + "Actual Total Time": 2.567, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.118, + "Actual Total Time": 2.589, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.119, + "Actual Total Time": 2.563, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 1.081, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.121, + "Actual Total Time": 2.593, + "Actual Rows": 1158, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.37, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.014, + "Actual Rows": 4, + "Actual Loops": 257, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 3, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.014, + "Actual Rows": 6, + "Actual Loops": 135 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 61 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1043, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 108, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 842, + "Cache Hits": 840, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 91, + "Cache Hits": 89, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 934, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 783 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 65 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 337, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 325 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 337, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 10, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 325, + "Cache Hits": 323, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 4, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text ~~ 'complete%'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.99, + "Plan Rows": 10, + "Plan Width": 8, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.019, + "Actual Rows": 11, + "Actual Loops": 337, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.012, + "Actual Rows": 11, + "Actual Loops": 325 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 3810, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 3701 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.46, + "Total Cost": 1.00, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.021, + "Actual Rows": 4, + "Actual Loops": 229, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,English}'::text[]))", + "Rows Removed by Filter": 14, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.021, + "Actual Rows": 4, + "Actual Loops": 228 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 7, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1723239386245354632, + "Planning Time": 2622.592, + "Triggers": [ + ], + "Execution Time": 66.086, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -1723239386245354632, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_euro_dark_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'crew'
  AND cct2.kind != 'complete+verified'
  AND cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5191.93, + "Total Cost": 5191.94, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 461.468, + "Actual Total Time": 488.305, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5191.86, + "Total Cost": 5191.87, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 248.534, + "Actual Total Time": 488.268, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5190.86, + "Total Cost": 5190.87, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 130.622, + "Actual Total Time": 130.639, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.170, + "Actual Total Time": 15.189, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.954, + "Actual Total Time": 21.968, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 450.317, + "Actual Total Time": 450.326, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.975, + "Actual Total Time": 21.988, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.470, + "Actual Total Time": 16.491, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.724, + "Actual Total Time": 20.738, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 250.912, + "Actual Total Time": 250.922, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 9.20, + "Total Cost": 5185.72, + "Plan Rows": 686, + "Plan Width": 41, + "Actual Startup Time": 14.378, + "Actual Total Time": 130.112, + "Actual Rows": 600, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.163, + "Actual Total Time": 15.181, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.948, + "Actual Total Time": 21.961, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.869, + "Actual Total Time": 448.597, + "Actual Rows": 2037, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.970, + "Actual Total Time": 21.982, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.461, + "Actual Total Time": 16.480, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.719, + "Actual Total Time": 20.732, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.021, + "Actual Total Time": 249.592, + "Actual Rows": 1637, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 8.15, + "Total Cost": 5180.96, + "Plan Rows": 686, + "Plan Width": 45, + "Actual Startup Time": 14.252, + "Actual Total Time": 129.490, + "Actual Rows": 600, + "Actual Loops": 8, + "Output": ["cn.name", "t.title", "mi_idx.info", "mc.company_type_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.010, + "Actual Total Time": 15.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.880, + "Actual Total Time": 21.892, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.800, + "Actual Total Time": 446.897, + "Actual Rows": 2037, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.896, + "Actual Total Time": 21.907, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.319, + "Actual Total Time": 16.337, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.633, + "Actual Total Time": 20.644, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.931, + "Actual Total Time": 248.261, + "Actual Rows": 1637, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.73, + "Total Cost": 4848.11, + "Plan Rows": 708, + "Plan Width": 30, + "Actual Startup Time": 14.233, + "Actual Total Time": 122.448, + "Actual Rows": 619, + "Actual Loops": 8, + "Output": ["t.title", "mi_idx.info", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.009, + "Actual Total Time": 15.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.879, + "Actual Total Time": 21.891, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.749, + "Actual Total Time": 424.189, + "Actual Rows": 2102, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.895, + "Actual Total Time": 21.905, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.318, + "Actual Total Time": 16.334, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.632, + "Actual Total Time": 20.643, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.875, + "Actual Total Time": 229.822, + "Actual Rows": 1685, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.30, + "Total Cost": 4810.70, + "Plan Rows": 62, + "Plan Width": 42, + "Actual Startup Time": 14.205, + "Actual Total Time": 119.195, + "Actual Rows": 54, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "cc.movie_id", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.008, + "Actual Total Time": 15.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.879, + "Actual Total Time": 21.889, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.673, + "Actual Total Time": 413.143, + "Actual Rows": 200, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.894, + "Actual Total Time": 21.904, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.317, + "Actual Total Time": 16.333, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.631, + "Actual Total Time": 20.641, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.786, + "Actual Total Time": 221.134, + "Actual Rows": 147, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.15, + "Total Cost": 4810.52, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 14.182, + "Actual Total Time": 118.868, + "Actual Rows": 172, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "cc.movie_id", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.007, + "Actual Total Time": 15.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.878, + "Actual Total Time": 21.887, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.607, + "Actual Total Time": 411.992, + "Actual Rows": 627, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.893, + "Actual Total Time": 21.902, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.316, + "Actual Total Time": 16.330, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.631, + "Actual Total Time": 20.640, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.714, + "Actual Total Time": 220.273, + "Actual Rows": 478, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.72, + "Total Cost": 4809.99, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 14.149, + "Actual Total Time": 117.391, + "Actual Rows": 61, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "cc.movie_id", "mi.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.006, + "Actual Total Time": 15.018, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.877, + "Actual Total Time": 21.886, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.528, + "Actual Total Time": 406.594, + "Actual Rows": 224, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.893, + "Actual Total Time": 21.901, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.315, + "Actual Total Time": 16.329, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.630, + "Actual Total Time": 20.639, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.588, + "Actual Total Time": 216.338, + "Actual Rows": 171, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.88, + "Total Cost": 4807.93, + "Plan Rows": 78, + "Plan Width": 37, + "Actual Startup Time": 14.134, + "Actual Total Time": 117.277, + "Actual Rows": 68, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "cc.movie_id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.992, + "Actual Total Time": 15.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.869, + "Actual Total Time": 21.877, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.518, + "Actual Total Time": 406.226, + "Actual Rows": 249, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.885, + "Actual Total Time": 21.892, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.300, + "Actual Total Time": 16.312, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.623, + "Actual Total Time": 20.631, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.578, + "Actual Total Time": 216.088, + "Actual Rows": 188, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.44, + "Total Cost": 4718.09, + "Plan Rows": 78, + "Plan Width": 29, + "Actual Startup Time": 13.921, + "Actual Total Time": 104.428, + "Actual Rows": 69, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.991, + "Actual Total Time": 15.000, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.869, + "Actual Total Time": 21.876, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.446, + "Actual Total Time": 363.965, + "Actual Rows": 259, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.885, + "Actual Total Time": 21.891, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.299, + "Actual Total Time": 16.309, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.622, + "Actual Total Time": 20.629, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.010, + "Actual Total Time": 182.803, + "Actual Rows": 182, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.39, + "Total Cost": 4716.56, + "Plan Rows": 89, + "Plan Width": 33, + "Actual Startup Time": 13.910, + "Actual Total Time": 104.326, + "Actual Rows": 78, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.980, + "Actual Total Time": 14.987, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.863, + "Actual Total Time": 21.869, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.437, + "Actual Total Time": 363.631, + "Actual Rows": 294, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.879, + "Actual Total Time": 21.884, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.288, + "Actual Total Time": 16.296, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.617, + "Actual Total Time": 20.622, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.999, + "Actual Total Time": 182.575, + "Actual Rows": 203, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.35, + "Total Cost": 4713.05, + "Plan Rows": 457, + "Plan Width": 37, + "Actual Startup Time": 12.978, + "Actual Total Time": 104.096, + "Actual Rows": 400, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.966, + "Actual Total Time": 14.971, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.855, + "Actual Total Time": 21.860, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.281, + "Actual Total Time": 362.854, + "Actual Rows": 1330, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.871, + "Actual Total Time": 21.875, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.274, + "Actual Total Time": 16.281, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.610, + "Actual Total Time": 20.614, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.797, + "Actual Total Time": 182.022, + "Actual Rows": 1108, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 3964.61, + "Plan Rows": 1669, + "Plan Width": 25, + "Actual Startup Time": 12.461, + "Actual Total Time": 91.481, + "Actual Rows": 1461, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.965, + "Actual Total Time": 14.969, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.855, + "Actual Total Time": 21.858, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.610, + "Actual Total Time": 318.947, + "Actual Rows": 5303, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.870, + "Actual Total Time": 21.873, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.273, + "Actual Total Time": 16.278, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.609, + "Actual Total Time": 20.612, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.481, + "Actual Total Time": 152.020, + "Actual Rows": 3582, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3954.66, + "Plan Rows": 2110, + "Plan Width": 29, + "Actual Startup Time": 12.383, + "Actual Total Time": 89.936, + "Actual Rows": 1846, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.951, + "Actual Total Time": 14.953, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.846, + "Actual Total Time": 21.847, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.316, + "Actual Total Time": 313.361, + "Actual Rows": 6535, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.859, + "Actual Total Time": 21.860, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.257, + "Actual Total Time": 16.260, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.602, + "Actual Total Time": 20.603, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.339, + "Actual Total Time": 148.481, + "Actual Rows": 4536, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1514.74, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 12.356, + "Actual Total Time": 33.673, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.950, + "Actual Total Time": 14.951, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.845, + "Actual Total Time": 21.846, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.225, + "Actual Total Time": 84.038, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.858, + "Actual Total Time": 21.859, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.256, + "Actual Total Time": 16.258, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.601, + "Actual Total Time": 20.602, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.269, + "Actual Total Time": 45.489, + "Actual Rows": 8337, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 12.308, + "Actual Total Time": 12.315, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.949, + "Actual Total Time": 14.949, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.844, + "Actual Total Time": 21.844, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.088, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.858, + "Actual Total Time": 21.858, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.255, + "Actual Total Time": 16.255, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.600, + "Actual Total Time": 20.601, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.128, + "Actual Total Time": 0.140, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.121, + "Actual Total Time": 53.318, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.139, + "Actual Total Time": 78.235, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.135, + "Actual Total Time": 43.008, + "Actual Rows": 8337, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 19528 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 8337 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.029, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 11686, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 5303 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 3582 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'crew'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 3, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text <> 'complete+verified'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.091, + "Actual Total Time": 0.185, + "Actual Rows": 1, + "Actual Loops": 549, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 133, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.161, + "Actual Rows": 1, + "Actual Loops": 259 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.090, + "Actual Total Time": 0.181, + "Actual Rows": 1, + "Actual Loops": 182 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.022, + "Actual Rows": 3, + "Actual Loops": 488, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.022, + "Actual Rows": 3, + "Actual Loops": 224 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.021, + "Actual Rows": 3, + "Actual Loops": 171 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1372, + "Output": ["it2.id"], + "Cache Key": "mi_idx.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 263, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 627, + "Cache Hits": 623, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 478, + "Cache Hits": 474, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 12, + "Output": ["it2.id"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 4 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 5, + "Plan Width": 12, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.055, + "Actual Rows": 11, + "Actual Loops": 432, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 10, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.050, + "Actual Rows": 11, + "Actual Loops": 200 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.054, + "Actual Rows": 11, + "Actual Loops": 147 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 4955, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 2102 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1685 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.02, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["ct.id"], + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1573023350148659030, + "Planning Time": 3645.311, + "Triggers": [ + ], + "Execution Time": 488.959, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -1573023350148659030, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_euro_dark_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'crew'
  AND cct2.kind != 'complete+verified'
  AND cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Sweden',
                  'Germany',
                  'Swedish',
                  'German')
  AND mi_idx.info > '6.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3028.28, + "Total Cost": 3028.29, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 139.212, + "Actual Total Time": 169.809, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3028.22, + "Total Cost": 3028.23, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 136.989, + "Actual Total Time": 169.768, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3027.22, + "Total Cost": 3027.23, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 125.816, + "Actual Total Time": 125.835, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 126.024, + "Actual Total Time": 126.037, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 119.159, + "Actual Total Time": 119.182, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 126.110, + "Actual Total Time": 126.121, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 126.447, + "Actual Total Time": 126.459, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 118.352, + "Actual Total Time": 118.371, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 126.450, + "Actual Total Time": 126.463, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 128.217, + "Actual Total Time": 128.246, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1588.41, + "Total Cost": 3027.06, + "Plan Rows": 21, + "Plan Width": 41, + "Actual Startup Time": 117.023, + "Actual Total Time": 125.796, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.251, + "Actual Total Time": 126.020, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 107.703, + "Actual Total Time": 119.138, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 126.105, + "Actual Total Time": 126.115, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 115.180, + "Actual Total Time": 126.447, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 118.342, + "Actual Total Time": 118.360, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 112.510, + "Actual Total Time": 126.342, + "Actual Rows": 76, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 116.335, + "Actual Total Time": 128.151, + "Actual Rows": 61, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1587.99, + "Total Cost": 3017.19, + "Plan Rows": 21, + "Plan Width": 26, + "Actual Startup Time": 116.984, + "Actual Total Time": 125.456, + "Actual Rows": 19, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title", "mc.company_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.191, + "Actual Total Time": 125.947, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 107.609, + "Actual Total Time": 118.784, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 126.104, + "Actual Total Time": 126.114, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 115.131, + "Actual Total Time": 126.396, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 118.341, + "Actual Total Time": 118.358, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 112.451, + "Actual Total Time": 125.062, + "Actual Rows": 76, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 116.287, + "Actual Total Time": 127.199, + "Actual Rows": 63, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1587.85, + "Total Cost": 3016.29, + "Plan Rows": 21, + "Plan Width": 30, + "Actual Startup Time": 116.930, + "Actual Total Time": 125.363, + "Actual Rows": 19, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.103, + "Actual Total Time": 125.853, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 107.494, + "Actual Total Time": 118.634, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 126.104, + "Actual Total Time": 126.112, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 115.048, + "Actual Total Time": 126.311, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 118.340, + "Actual Total Time": 118.356, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 112.363, + "Actual Total Time": 124.832, + "Actual Rows": 76, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 116.227, + "Actual Total Time": 127.019, + "Actual Rows": 63, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1587.42, + "Total Cost": 3015.06, + "Plan Rows": 2, + "Plan Width": 42, + "Actual Startup Time": 115.360, + "Actual Total Time": 125.200, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "mi_idx.info", "mi_idx.movie_id", "t.title", "t.id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.045, + "Actual Total Time": 125.784, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 107.382, + "Actual Total Time": 118.462, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 126.103, + "Actual Total Time": 126.111, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 106.986, + "Actual Total Time": 126.126, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 118.339, + "Actual Total Time": 118.354, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 112.309, + "Actual Total Time": 124.482, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 111.956, + "Actual Total Time": 126.496, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1587.28, + "Total Cost": 3014.55, + "Plan Rows": 3, + "Plan Width": 46, + "Actual Startup Time": 113.981, + "Actual Total Time": 125.145, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "mi_idx.info", "mi_idx.movie_id", "t.title", "t.id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 103.989, + "Actual Total Time": 125.726, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 107.309, + "Actual Total Time": 118.387, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 126.102, + "Actual Total Time": 126.110, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 106.936, + "Actual Total Time": 126.032, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 118.338, + "Actual Total Time": 118.352, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 112.258, + "Actual Total Time": 124.419, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 111.903, + "Actual Total Time": 126.390, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1586.84, + "Total Cost": 2988.89, + "Plan Rows": 26, + "Plan Width": 38, + "Actual Startup Time": 100.991, + "Actual Total Time": 120.545, + "Actual Rows": 22, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 100.379, + "Actual Total Time": 123.461, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 107.185, + "Actual Total Time": 114.495, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 98.860, + "Actual Total Time": 121.392, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 99.166, + "Actual Total Time": 122.094, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 93.905, + "Actual Total Time": 115.218, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 99.060, + "Actual Total Time": 121.519, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 100.574, + "Actual Total Time": 117.912, + "Actual Rows": 29, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1585.78, + "Total Cost": 2987.45, + "Plan Rows": 91, + "Plan Width": 42, + "Actual Startup Time": 100.849, + "Actual Total Time": 120.361, + "Actual Rows": 23, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "mi_idx.info", "mi_idx.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 100.306, + "Actual Total Time": 123.364, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 107.065, + "Actual Total Time": 114.349, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 98.799, + "Actual Total Time": 121.275, + "Actual Rows": 43, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 99.081, + "Actual Total Time": 121.963, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 93.737, + "Actual Total Time": 115.011, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.996, + "Actual Total Time": 121.416, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 100.496, + "Actual Total Time": 117.757, + "Actual Rows": 29, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1585.35, + "Total Cost": 2882.92, + "Plan Rows": 227, + "Plan Width": 17, + "Actual Startup Time": 96.790, + "Actual Total Time": 116.050, + "Actual Rows": 199, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.627, + "Actual Total Time": 118.942, + "Actual Rows": 230, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 89.665, + "Actual Total Time": 109.052, + "Actual Rows": 126, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.566, + "Actual Total Time": 116.525, + "Actual Rows": 254, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.739, + "Actual Total Time": 118.130, + "Actual Rows": 226, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.034, + "Actual Total Time": 109.565, + "Actual Rows": 148, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 97.593, + "Actual Total Time": 117.253, + "Actual Rows": 213, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 97.824, + "Actual Total Time": 114.483, + "Actual Rows": 201, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1583.51, + "Total Cost": 2880.20, + "Plan Rows": 322, + "Plan Width": 21, + "Actual Startup Time": 96.732, + "Actual Total Time": 115.711, + "Actual Rows": 282, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.471, + "Actual Total Time": 118.627, + "Actual Rows": 361, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 89.644, + "Actual Total Time": 108.716, + "Actual Rows": 175, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.501, + "Actual Total Time": 116.178, + "Actual Rows": 353, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.730, + "Actual Total Time": 117.855, + "Actual Rows": 315, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 89.932, + "Actual Total Time": 109.160, + "Actual Rows": 201, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 97.582, + "Actual Total Time": 116.817, + "Actual Rows": 291, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 97.813, + "Actual Total Time": 114.208, + "Actual Rows": 273, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1583.08, + "Total Cost": 2606.41, + "Plan Rows": 547, + "Plan Width": 8, + "Actual Startup Time": 96.575, + "Actual Total Time": 103.756, + "Actual Rows": 479, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.362, + "Actual Total Time": 105.729, + "Actual Rows": 596, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 89.453, + "Actual Total Time": 97.048, + "Actual Rows": 246, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.413, + "Actual Total Time": 104.686, + "Actual Rows": 544, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.667, + "Actual Total Time": 105.461, + "Actual Rows": 619, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 89.493, + "Actual Total Time": 96.053, + "Actual Rows": 301, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 97.403, + "Actual Total Time": 104.045, + "Actual Rows": 505, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 97.675, + "Actual Total Time": 104.168, + "Actual Rows": 485, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1582.02, + "Total Cost": 2600.56, + "Plan Rows": 888, + "Plan Width": 12, + "Actual Startup Time": 96.547, + "Actual Total Time": 103.200, + "Actual Rows": 777, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.339, + "Actual Total Time": 105.154, + "Actual Rows": 1009, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 89.387, + "Actual Total Time": 96.414, + "Actual Rows": 378, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.402, + "Actual Total Time": 104.142, + "Actual Rows": 883, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.638, + "Actual Total Time": 104.872, + "Actual Rows": 1058, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 89.464, + "Actual Total Time": 95.468, + "Actual Rows": 457, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 97.391, + "Actual Total Time": 103.553, + "Actual Rows": 819, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 97.663, + "Actual Total Time": 103.693, + "Actual Rows": 739, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1580.98, + "Total Cost": 2584.05, + "Plan Rows": 2861, + "Plan Width": 16, + "Actual Startup Time": 86.348, + "Actual Total Time": 101.867, + "Actual Rows": 2503, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Hash Cond": "(cc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 87.230, + "Actual Total Time": 103.795, + "Actual Rows": 2848, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 79.285, + "Actual Total Time": 95.027, + "Actual Rows": 1256, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 87.272, + "Actual Total Time": 102.828, + "Actual Rows": 2812, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 87.420, + "Actual Total Time": 103.493, + "Actual Rows": 3158, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 79.285, + "Actual Total Time": 94.084, + "Actual Rows": 1442, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 87.137, + "Actual Total Time": 102.350, + "Actual Rows": 2585, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 87.361, + "Actual Total Time": 102.425, + "Actual Rows": 3052, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.031, + "Actual Total Time": 4.831, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 5.345, + "Actual Rows": 19980, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 5.286, + "Actual Rows": 8880, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 4.810, + "Actual Rows": 18721, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 4.831, + "Actual Rows": 21830, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 4.890, + "Actual Rows": 9435, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.034, + "Actual Total Time": 4.571, + "Actual Rows": 17575, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 4.384, + "Actual Rows": 20165, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1514.74, + "Total Cost": 1514.74, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 86.049, + "Actual Total Time": 86.051, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 65536, + "Original Hash Buckets": 65536, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 2016, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 87.061, + "Actual Total Time": 87.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 79.047, + "Actual Total Time": 79.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 87.080, + "Actual Total Time": 87.081, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 87.353, + "Actual Total Time": 87.354, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 79.088, + "Actual Total Time": 79.090, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 86.955, + "Actual Total Time": 86.957, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 87.272, + "Actual Total Time": 87.275, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1514.74, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 13.035, + "Actual Total Time": 33.120, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.154, + "Actual Total Time": 23.155, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.137, + "Actual Total Time": 15.139, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.190, + "Actual Total Time": 23.191, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.231, + "Actual Total Time": 46.268, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.178, + "Actual Total Time": 15.179, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.052, + "Actual Total Time": 23.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.574, + "Actual Total Time": 73.760, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 12.991, + "Actual Total Time": 12.999, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.154, + "Actual Total Time": 23.154, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.135, + "Actual Total Time": 15.136, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.189, + "Actual Total Time": 23.189, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.109, + "Actual Total Time": 0.124, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.176, + "Actual Total Time": 15.177, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.051, + "Actual Total Time": 23.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.445, + "Actual Total Time": 0.453, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.108, + "Actual Total Time": 49.811, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.117, + "Actual Total Time": 42.971, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.121, + "Actual Total Time": 67.610, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'crew'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.009, + "Actual Rows": 3, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text <> 'complete+verified'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 3832, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '6.5'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 596 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 246 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 544 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 619 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 301 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 505 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 485 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1591, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 230 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 126 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 254 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 226 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 148 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 213 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 201 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.071, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.045, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.185, + "Actual Total Time": 0.204, + "Actual Rows": 0, + "Actual Loops": 179, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Germany,Swedish,German}'::text[]))", + "Rows Removed by Filter": 130, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.147, + "Actual Total Time": 0.149, + "Actual Rows": 0, + "Actual Loops": 15 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.422, + "Actual Total Time": 0.429, + "Actual Rows": 0, + "Actual Loops": 9 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.111, + "Actual Total Time": 0.111, + "Actual Rows": 0, + "Actual Loops": 42 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.128, + "Actual Total Time": 0.130, + "Actual Rows": 0, + "Actual Loops": 30 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.238, + "Actual Total Time": 0.238, + "Actual Rows": 0, + "Actual Loops": 13 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.110, + "Actual Rows": 0, + "Actual Loops": 26 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.238, + "Actual Total Time": 0.290, + "Actual Rows": 0, + "Actual Loops": 29 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 20, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.068, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.55, + "Plan Rows": 7, + "Plan Width": 12, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.093, + "Actual Rows": 12, + "Actual Loops": 13, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 17, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.065, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.107, + "Actual Total Time": 0.160, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.159, + "Actual Rows": 38, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.081, + "Actual Rows": 10, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 150, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 8, + "Cache Hits": 7, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.079, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 76, + "Cache Hits": 75, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 63, + "Cache Hits": 62, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.076, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.077, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.101, + "Actual Total Time": 0.101, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.073, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.079, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 150, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 76 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 63 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -3210595597316270705, + "Planning Time": 3608.974, + "Triggers": [ + ], + "Execution Time": 170.362, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -3210595597316270705, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_euro_dark_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind = 'complete'
  AND cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4723.31, + "Total Cost": 4723.32, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 2204.470, + "Actual Total Time": 2234.563, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4723.25, + "Total Cost": 4723.26, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 1739.160, + "Actual Total Time": 2234.525, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4722.25, + "Total Cost": 4722.26, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 767.200, + "Actual Total Time": 767.214, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2194.482, + "Actual Total Time": 2194.490, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.217, + "Actual Total Time": 34.229, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.091, + "Actual Total Time": 28.108, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.881, + "Actual Total Time": 26.893, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2059.477, + "Actual Total Time": 2059.487, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.220, + "Actual Total Time": 28.236, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.146, + "Actual Total Time": 28.159, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.37, + "Total Cost": 4713.28, + "Plan Rows": 1196, + "Plan Width": 41, + "Actual Startup Time": 23.703, + "Actual Total Time": 766.313, + "Actual Rows": 1047, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.584, + "Actual Total Time": 2192.087, + "Actual Rows": 2848, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.211, + "Actual Total Time": 34.223, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.083, + "Actual Total Time": 28.099, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.876, + "Actual Total Time": 26.888, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.975, + "Actual Total Time": 2056.844, + "Actual Rows": 2983, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.213, + "Actual Total Time": 28.228, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.139, + "Actual Total Time": 28.151, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.52, + "Total Cost": 4707.74, + "Plan Rows": 1356, + "Plan Width": 45, + "Actual Startup Time": 23.548, + "Actual Total Time": 765.564, + "Actual Rows": 1186, + "Actual Loops": 8, + "Output": ["cn.name", "t.title", "mi.info_type_id", "mi_idx.info"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.516, + "Actual Total Time": 2190.415, + "Actual Rows": 3245, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.143, + "Actual Total Time": 34.154, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.955, + "Actual Total Time": 27.969, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.705, + "Actual Total Time": 26.715, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.900, + "Actual Total Time": 2055.057, + "Actual Rows": 3397, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.057, + "Actual Total Time": 28.070, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.995, + "Actual Total Time": 28.006, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.48, + "Total Cost": 4693.55, + "Plan Rows": 2433, + "Plan Width": 49, + "Actual Startup Time": 23.534, + "Actual Total Time": 764.139, + "Actual Rows": 2129, + "Actual Loops": 8, + "Output": ["cn.name", "t.title", "mi.info_type_id", "cc.status_id", "mi_idx.info"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.508, + "Actual Total Time": 2186.506, + "Actual Rows": 6050, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.139, + "Actual Total Time": 34.148, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.946, + "Actual Total Time": 27.959, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.694, + "Actual Total Time": 26.702, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.893, + "Actual Total Time": 2051.046, + "Actual Rows": 5956, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.046, + "Actual Total Time": 28.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.985, + "Actual Total Time": 27.995, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.34, + "Total Cost": 4693.37, + "Plan Rows": 1, + "Plan Width": 53, + "Actual Startup Time": 22.648, + "Actual Total Time": 737.979, + "Actual Rows": 6448, + "Actual Loops": 8, + "Output": ["cn.name", "t.title", "mi.info_type_id", "cc.status_id", "mi_idx.info", "mi_idx.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.787, + "Actual Total Time": 2113.006, + "Actual Rows": 18254, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.138, + "Actual Total Time": 34.147, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.945, + "Actual Total Time": 27.957, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.693, + "Actual Total Time": 26.700, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.568, + "Actual Total Time": 1978.023, + "Actual Rows": 18041, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.044, + "Actual Total Time": 28.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.984, + "Actual Total Time": 27.993, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.91, + "Total Cost": 4692.84, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 22.627, + "Actual Total Time": 713.484, + "Actual Rows": 2168, + "Actual Loops": 8, + "Output": ["cn.name", "t.title", "t.id", "mk.movie_id", "mc.movie_id", "mi.movie_id", "mi.info_type_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.723, + "Actual Total Time": 2044.140, + "Actual Rows": 6180, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.138, + "Actual Total Time": 34.146, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.944, + "Actual Total Time": 27.955, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.692, + "Actual Total Time": 26.699, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.501, + "Actual Total Time": 1909.677, + "Actual Rows": 6071, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.043, + "Actual Total Time": 28.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.983, + "Actual Total Time": 27.991, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.77, + "Total Cost": 4692.67, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 22.611, + "Actual Total Time": 710.394, + "Actual Rows": 2425, + "Actual Loops": 8, + "Output": ["cn.name", "t.title", "t.id", "mk.movie_id", "mc.movie_id", "mi.movie_id", "mi.info_type_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.672, + "Actual Total Time": 2035.356, + "Actual Rows": 7003, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.137, + "Actual Total Time": 34.144, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.944, + "Actual Total Time": 27.953, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.691, + "Actual Total Time": 26.698, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.462, + "Actual Total Time": 1901.072, + "Actual Rows": 6792, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.042, + "Actual Total Time": 28.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.983, + "Actual Total Time": 27.989, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.35, + "Total Cost": 4688.18, + "Plan Rows": 10, + "Plan Width": 56, + "Actual Startup Time": 19.920, + "Actual Total Time": 687.338, + "Actual Rows": 3128, + "Actual Loops": 8, + "Output": ["cn.name", "t.title", "t.id", "mk.movie_id", "mc.movie_id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.898, + "Actual Total Time": 1968.697, + "Actual Rows": 9145, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.137, + "Actual Total Time": 34.143, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.943, + "Actual Total Time": 27.952, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.691, + "Actual Total Time": 26.697, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.536, + "Actual Total Time": 1835.629, + "Actual Rows": 8962, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.042, + "Actual Total Time": 28.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.982, + "Actual Total Time": 27.988, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.92, + "Total Cost": 4647.87, + "Plan Rows": 35, + "Plan Width": 48, + "Actual Startup Time": 19.650, + "Actual Total Time": 148.086, + "Actual Rows": 2988, + "Actual Loops": 8, + "Output": ["cn.name", "t.title", "t.id", "mk.movie_id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.816, + "Actual Total Time": 447.184, + "Actual Rows": 8859, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.136, + "Actual Total Time": 34.142, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.942, + "Actual Total Time": 27.950, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.690, + "Actual Total Time": 26.695, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.570, + "Actual Total Time": 308.458, + "Actual Rows": 8661, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.041, + "Actual Total Time": 28.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.981, + "Actual Total Time": 27.987, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.78, + "Total Cost": 4646.65, + "Plan Rows": 35, + "Plan Width": 52, + "Actual Startup Time": 19.631, + "Actual Total Time": 143.866, + "Actual Rows": 2988, + "Actual Loops": 8, + "Output": ["cn.name", "t.title", "t.id", "mk.movie_id", "mc.movie_id", "mc.company_type_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.740, + "Actual Total Time": 434.844, + "Actual Rows": 8859, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.136, + "Actual Total Time": 34.141, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.941, + "Actual Total Time": 27.949, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.689, + "Actual Total Time": 26.694, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.524, + "Actual Total Time": 296.166, + "Actual Rows": 8661, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.040, + "Actual Total Time": 28.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.981, + "Actual Total Time": 27.985, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.36, + "Total Cost": 4616.09, + "Plan Rows": 65, + "Plan Width": 37, + "Actual Startup Time": 19.609, + "Actual Total Time": 111.313, + "Actual Rows": 3232, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.675, + "Actual Total Time": 339.664, + "Actual Rows": 9616, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.135, + "Actual Total Time": 34.140, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.940, + "Actual Total Time": 27.946, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.689, + "Actual Total Time": 26.692, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.461, + "Actual Total Time": 201.774, + "Actual Rows": 9384, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.039, + "Actual Total Time": 28.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.980, + "Actual Total Time": 27.984, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 3961.59, + "Plan Rows": 1153, + "Plan Width": 25, + "Actual Startup Time": 18.672, + "Actual Total Time": 81.971, + "Actual Rows": 1009, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.902, + "Actual Total Time": 247.203, + "Actual Rows": 3653, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.134, + "Actual Total Time": 34.138, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.939, + "Actual Total Time": 27.944, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.688, + "Actual Total Time": 26.691, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.342, + "Actual Total Time": 124.330, + "Actual Rows": 2502, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.038, + "Actual Total Time": 28.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.979, + "Actual Total Time": 27.982, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3954.66, + "Plan Rows": 1391, + "Plan Width": 29, + "Actual Startup Time": 18.604, + "Actual Total Time": 80.759, + "Actual Rows": 1217, + "Actual Loops": 8, + "Output": ["t.title", "t.kind_id", "t.id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.623, + "Actual Total Time": 243.103, + "Actual Rows": 4326, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.121, + "Actual Total Time": 34.123, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.924, + "Actual Total Time": 27.926, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.675, + "Actual Total Time": 26.676, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.237, + "Actual Total Time": 121.341, + "Actual Rows": 3009, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.025, + "Actual Total Time": 28.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.965, + "Actual Total Time": 27.967, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1514.74, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 18.583, + "Actual Total Time": 33.033, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.549, + "Actual Total Time": 54.710, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.121, + "Actual Total Time": 34.122, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.923, + "Actual Total Time": 27.925, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.674, + "Actual Total Time": 26.675, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.181, + "Actual Total Time": 29.846, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.024, + "Actual Total Time": 28.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.965, + "Actual Total Time": 27.966, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 18.548, + "Actual Total Time": 18.554, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.439, + "Actual Total Time": 0.444, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.120, + "Actual Total Time": 34.121, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.922, + "Actual Total Time": 27.922, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.673, + "Actual Total Time": 26.674, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.086, + "Actual Total Time": 0.097, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.023, + "Actual Total Time": 28.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.964, + "Actual Total Time": 27.964, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.088, + "Actual Total Time": 35.327, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.107, + "Actual Total Time": 49.261, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.092, + "Actual Total Time": 27.437, + "Actual Rows": 8337, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 19528 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 8337 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.55, + "Plan Rows": 2, + "Plan Width": 12, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.028, + "Actual Rows": 3, + "Actual Loops": 8073, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 7, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.024, + "Actual Rows": 3, + "Actual Loops": 3653 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.029, + "Actual Rows": 4, + "Actual Loops": 2502 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 25853, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 9616 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 9384 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 23902, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 6381, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 8859, + "Cache Hits": 8858, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 8661, + "Cache Hits": 8660, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.066, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.083, + "Actual Total Time": 0.179, + "Actual Rows": 1, + "Actual Loops": 23902, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 184, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.171, + "Actual Rows": 1, + "Actual Loops": 8859 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.084, + "Actual Total Time": 0.175, + "Actual Rows": 1, + "Actual Loops": 8661 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 25020, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 9145 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 8962 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 19402, + "Output": ["cct1.id"], + "Cache Key": "cc.subject_id", + "Cache Mode": "logical", + "Cache Hits": 5605, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 7003, + "Cache Hits": 7001, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 6792, + "Cache Hits": 6790, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["cct1.id"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.010, + "Actual Rows": 3, + "Actual Loops": 17344, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.010, + "Actual Rows": 3, + "Actual Loops": 6180 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.010, + "Actual Rows": 3, + "Actual Loops": 6071 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 51584, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 18254 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 18041 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text = 'complete'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5372730239182956237, + "Planning Time": 3799.332, + "Triggers": [ + ], + "Execution Time": 2235.241, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 5372730239182956237, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS voiced_animation
FROM aka_name AS an,
     complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     info_type AS it3,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     person_info AS pi,
     role_type AS rt,
     title AS t
WHERE cct1.kind ='cast'
  AND cct2.kind ='complete+verified'
  AND chn.name = 'Queen'
  AND ci.note IN ('(voice)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND it3.info = 'trivia'
  AND k.keyword = 'computer-animation'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%200%'
       OR mi.info LIKE 'USA:%200%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.title = 'Shrek 2'
  AND t.production_year BETWEEN 2000 AND 2010
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND n.id = pi.person_id
  AND ci.person_id = pi.person_id
  AND it3.id = pi.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1400.01, + "Total Cost": 1400.02, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 42.245, + "Actual Total Time": 42.578, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1399.95, + "Total Cost": 1399.96, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 42.225, + "Actual Total Time": 42.568, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1398.95, + "Total Cost": 1398.96, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 13.158, + "Actual Total Time": 13.173, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.902, + "Actual Total Time": 4.919, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.255, + "Actual Total Time": 12.266, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.386, + "Actual Total Time": 13.398, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.535, + "Actual Total Time": 6.553, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.396, + "Actual Total Time": 6.414, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.713, + "Actual Total Time": 13.726, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.070, + "Actual Total Time": 7.088, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.11, + "Total Cost": 1397.21, + "Plan Rows": 231, + "Plan Width": 48, + "Actual Startup Time": 9.870, + "Actual Total Time": 12.992, + "Actual Rows": 202, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(pi.info_type_id = it3.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.895, + "Actual Total Time": 4.912, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.249, + "Actual Total Time": 12.260, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.381, + "Actual Total Time": 13.393, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.529, + "Actual Total Time": 6.546, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.386, + "Actual Total Time": 6.403, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.708, + "Actual Total Time": 13.720, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.061, + "Actual Total Time": 7.077, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.27, + "Total Cost": 1393.47, + "Plan Rows": 699, + "Plan Width": 52, + "Actual Startup Time": 9.721, + "Actual Total Time": 12.618, + "Actual Rows": 611, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "n.name", "pi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(n.id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.754, + "Actual Total Time": 4.768, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.160, + "Actual Total Time": 12.169, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.324, + "Actual Total Time": 13.335, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.391, + "Actual Total Time": 6.406, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.255, + "Actual Total Time": 6.268, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.634, + "Actual Total Time": 13.644, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.905, + "Actual Total Time": 6.918, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.84, + "Total Cost": 1382.70, + "Plan Rows": 4, + "Plan Width": 60, + "Actual Startup Time": 9.713, + "Actual Total Time": 11.885, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["chn.name", "an.person_id", "t.title", "ci.person_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.753, + "Actual Total Time": 4.766, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.159, + "Actual Total Time": 12.168, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.324, + "Actual Total Time": 13.333, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.389, + "Actual Total Time": 6.404, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.254, + "Actual Total Time": 6.266, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.633, + "Actual Total Time": 13.642, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.903, + "Actual Total Time": 6.916, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.71, + "Total Cost": 1382.53, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 9.710, + "Actual Total Time": 11.861, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["chn.name", "an.person_id", "t.title", "cc.subject_id", "ci.person_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.752, + "Actual Total Time": 4.764, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.158, + "Actual Total Time": 12.166, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.323, + "Actual Total Time": 13.332, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.388, + "Actual Total Time": 6.402, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.253, + "Actual Total Time": 6.265, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.633, + "Actual Total Time": 13.641, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.902, + "Actual Total Time": 6.914, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.57, + "Total Cost": 1381.86, + "Plan Rows": 4, + "Plan Width": 68, + "Actual Startup Time": 9.706, + "Actual Total Time": 11.829, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["chn.name", "an.person_id", "t.title", "cc.subject_id", "ci.person_id", "n.name", "n.id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.751, + "Actual Total Time": 4.763, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.157, + "Actual Total Time": 12.164, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.323, + "Actual Total Time": 13.331, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.387, + "Actual Total Time": 6.400, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.251, + "Actual Total Time": 6.262, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.632, + "Actual Total Time": 13.640, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.902, + "Actual Total Time": 6.913, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.13, + "Total Cost": 1380.86, + "Plan Rows": 1, + "Plan Width": 84, + "Actual Startup Time": 9.684, + "Actual Total Time": 10.973, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["chn.name", "an.person_id", "mk.movie_id", "t.title", "t.id", "cc.movie_id", "cc.subject_id", "mc.movie_id", "ci.movie_id", "ci.person_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.750, + "Actual Total Time": 4.760, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.156, + "Actual Total Time": 12.163, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.322, + "Actual Total Time": 13.330, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.387, + "Actual Total Time": 6.398, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.250, + "Actual Total Time": 6.260, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.632, + "Actual Total Time": 13.639, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.901, + "Actual Total Time": 6.911, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.70, + "Total Cost": 1380.32, + "Plan Rows": 1, + "Plan Width": 65, + "Actual Startup Time": 9.677, + "Actual Total Time": 10.938, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["chn.name", "an.person_id", "mk.movie_id", "t.title", "t.id", "cc.movie_id", "cc.subject_id", "mc.movie_id", "ci.movie_id", "ci.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.749, + "Actual Total Time": 4.758, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.156, + "Actual Total Time": 12.162, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.321, + "Actual Total Time": 13.328, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.386, + "Actual Total Time": 6.396, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.250, + "Actual Total Time": 6.259, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.631, + "Actual Total Time": 13.638, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.900, + "Actual Total Time": 6.910, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.27, + "Total Cost": 1379.73, + "Plan Rows": 1, + "Plan Width": 53, + "Actual Startup Time": 9.670, + "Actual Total Time": 10.808, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["an.person_id", "mk.movie_id", "t.title", "t.id", "cc.movie_id", "cc.subject_id", "mc.movie_id", "ci.movie_id", "ci.person_id", "ci.person_role_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.748, + "Actual Total Time": 4.757, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.155, + "Actual Total Time": 12.161, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.321, + "Actual Total Time": 13.327, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.385, + "Actual Total Time": 6.395, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.249, + "Actual Total Time": 6.257, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.631, + "Actual Total Time": 13.637, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.899, + "Actual Total Time": 6.908, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.13, + "Total Cost": 1379.56, + "Plan Rows": 1, + "Plan Width": 57, + "Actual Startup Time": 9.449, + "Actual Total Time": 10.746, + "Actual Rows": 41, + "Actual Loops": 8, + "Output": ["an.person_id", "mk.movie_id", "t.title", "t.id", "cc.movie_id", "cc.subject_id", "mc.movie_id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.747, + "Actual Total Time": 4.755, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.155, + "Actual Total Time": 12.160, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.320, + "Actual Total Time": 13.326, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.384, + "Actual Total Time": 6.392, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.248, + "Actual Total Time": 6.255, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.630, + "Actual Total Time": 13.636, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.898, + "Actual Total Time": 6.906, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 1379.07, + "Plan Rows": 1, + "Plan Width": 53, + "Actual Startup Time": 9.436, + "Actual Total Time": 10.325, + "Actual Rows": 24, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "cc.movie_id", "cc.subject_id", "mc.movie_id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.746, + "Actual Total Time": 4.753, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.154, + "Actual Total Time": 12.159, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.320, + "Actual Total Time": 13.324, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.383, + "Actual Total Time": 6.391, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.247, + "Actual Total Time": 6.254, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.630, + "Actual Total Time": 13.635, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.897, + "Actual Total Time": 6.904, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.26, + "Total Cost": 1377.75, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 9.430, + "Actual Total Time": 9.810, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "cc.movie_id", "cc.subject_id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.745, + "Actual Total Time": 4.751, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.154, + "Actual Total Time": 12.158, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.319, + "Actual Total Time": 13.323, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.382, + "Actual Total Time": 6.389, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.246, + "Actual Total Time": 6.252, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.629, + "Actual Total Time": 13.634, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.896, + "Actual Total Time": 6.903, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 1377.31, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 9.425, + "Actual Total Time": 9.744, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "cc.movie_id", "cc.subject_id", "mc.movie_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.745, + "Actual Total Time": 4.749, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.153, + "Actual Total Time": 12.157, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.318, + "Actual Total Time": 13.322, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.381, + "Actual Total Time": 6.387, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.245, + "Actual Total Time": 6.250, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.628, + "Actual Total Time": 13.632, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.896, + "Actual Total Time": 6.901, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.41, + "Total Cost": 1376.53, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 9.418, + "Actual Total Time": 9.729, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.744, + "Actual Total Time": 4.748, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.152, + "Actual Total Time": 12.155, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.318, + "Actual Total Time": 13.321, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.380, + "Actual Total Time": 6.385, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.244, + "Actual Total Time": 6.248, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.628, + "Actual Total Time": 13.631, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.895, + "Actual Total Time": 6.899, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.28, + "Total Cost": 1376.36, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 9.415, + "Actual Total Time": 9.726, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Join Filter": "(t.id = cc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.743, + "Actual Total Time": 4.746, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.151, + "Actual Total Time": 12.154, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.317, + "Actual Total Time": 13.320, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.379, + "Actual Total Time": 6.383, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.243, + "Actual Total Time": 6.247, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.627, + "Actual Total Time": 13.630, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.894, + "Actual Total Time": 6.898, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1375.91, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 9.408, + "Actual Total Time": 9.718, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.742, + "Actual Total Time": 4.744, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.151, + "Actual Total Time": 12.153, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.316, + "Actual Total Time": 13.319, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.378, + "Actual Total Time": 6.381, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.242, + "Actual Total Time": 6.245, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.627, + "Actual Total Time": 13.629, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.893, + "Actual Total Time": 6.896, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1348.43, + "Plan Rows": 59, + "Plan Width": 4, + "Actual Startup Time": 7.939, + "Actual Total Time": 8.367, + "Actual Rows": 52, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.741, + "Actual Total Time": 4.742, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.150, + "Actual Total Time": 12.151, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.316, + "Actual Total Time": 13.317, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.378, + "Actual Total Time": 6.379, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.242, + "Actual Total Time": 6.243, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.626, + "Actual Total Time": 13.627, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.892, + "Actual Total Time": 6.894, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 7.929, + "Actual Total Time": 7.933, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'computer-animation'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.740, + "Actual Total Time": 4.741, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.149, + "Actual Total Time": 12.150, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.315, + "Actual Total Time": 13.316, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.376, + "Actual Total Time": 6.377, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.240, + "Actual Total Time": 6.241, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.625, + "Actual Total Time": 13.626, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.890, + "Actual Total Time": 6.891, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 414, + "Plan Width": 8, + "Actual Startup Time": 0.070, + "Actual Total Time": 3.280, + "Actual Rows": 414, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 414, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2010) AND (t.title = 'Shrek 2'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id", "cct2.kind"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 22, + "Plan Width": 8, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.088, + "Actual Rows": 22, + "Actual Loops": 1, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 22, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.31, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.798, + "Actual Rows": 38, + "Actual Loops": 5, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 191, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.016, + "Actual Rows": 2, + "Actual Loops": 190, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 330, + "Output": ["rt.id"], + "Cache Key": "ci.role_id", + "Cache Mode": "logical", + "Cache Hits": 328, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["rt.id"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 80, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(chn.name = 'Queen'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 15, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.453, + "Actual Rows": 2, + "Actual Loops": 15, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%200%'::text) OR (mi.info ~~ 'USA:%200%'::text)))", + "Rows Removed by Filter": 455, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 30, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 30, + "Output": ["cct1.id", "cct1.kind"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.72, + "Plan Rows": 158, + "Plan Width": 8, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.122, + "Actual Rows": 163, + "Actual Loops": 30, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it3.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.069, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it3", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it3.id"], + "Filter": "((it3.info)::text = 'trivia'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1693774000992751456, + "Planning Time": 5398.889, + "Triggers": [ + ], + "Execution Time": 43.215, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 1693774000992751456, + "JOINS": 16 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS voiced_animation
FROM aka_name AS an,
     complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     info_type AS it3,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     person_info AS pi,
     role_type AS rt,
     title AS t
WHERE cct1.kind ='cast'
  AND cct2.kind ='complete+verified'
  AND chn.name = 'Queen'
  AND ci.note IN ('(voice)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND it3.info = 'height'
  AND k.keyword = 'computer-animation'
  AND mi.info LIKE 'USA:%200%'
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.title = 'Shrek 2'
  AND t.production_year BETWEEN 2000 AND 2005
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND n.id = pi.person_id
  AND ci.person_id = pi.person_id
  AND it3.id = pi.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1392.10, + "Total Cost": 1392.11, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 24.613, + "Actual Total Time": 27.700, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1392.03, + "Total Cost": 1392.04, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 23.397, + "Actual Total Time": 27.674, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1391.03, + "Total Cost": 1391.04, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 9.718, + "Actual Total Time": 9.738, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.851, + "Actual Total Time": 3.871, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.322, + "Actual Total Time": 11.338, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.941, + "Actual Total Time": 11.955, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.129, + "Actual Total Time": 5.149, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.243, + "Actual Total Time": 5.262, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.283, + "Actual Total Time": 12.297, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.855, + "Actual Total Time": 5.877, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.15, + "Total Cost": 1391.02, + "Plan Rows": 2, + "Plan Width": 48, + "Actual Startup Time": 8.202, + "Actual Total Time": 9.727, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.842, + "Actual Total Time": 3.861, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.318, + "Actual Total Time": 11.333, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.935, + "Actual Total Time": 11.949, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.124, + "Actual Total Time": 5.143, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.234, + "Actual Total Time": 5.252, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.279, + "Actual Total Time": 12.292, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.846, + "Actual Total Time": 5.867, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.71, + "Total Cost": 1389.96, + "Plan Rows": 2, + "Plan Width": 36, + "Actual Startup Time": 8.194, + "Actual Total Time": 9.714, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_role_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.841, + "Actual Total Time": 3.859, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.317, + "Actual Total Time": 11.332, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.935, + "Actual Total Time": 11.947, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.123, + "Actual Total Time": 5.140, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.233, + "Actual Total Time": 5.250, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.278, + "Actual Total Time": 12.291, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.845, + "Actual Total Time": 5.865, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.29, + "Total Cost": 1389.46, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 8.189, + "Actual Total Time": 9.699, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "pi.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.840, + "Actual Total Time": 3.857, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.316, + "Actual Total Time": 11.331, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.934, + "Actual Total Time": 11.946, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.122, + "Actual Total Time": 5.139, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.232, + "Actual Total Time": 5.248, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.278, + "Actual Total Time": 12.290, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.845, + "Actual Total Time": 5.863, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.14, + "Total Cost": 1389.27, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 8.185, + "Actual Total Time": 9.691, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "mi.info_type_id", "pi.person_id"], + "Inner Unique": true, + "Hash Cond": "(pi.info_type_id = it3.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.839, + "Actual Total Time": 3.855, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.316, + "Actual Total Time": 11.329, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.934, + "Actual Total Time": 11.945, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.121, + "Actual Total Time": 5.137, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.231, + "Actual Total Time": 5.246, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.277, + "Actual Total Time": 12.288, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.844, + "Actual Total Time": 5.861, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.29, + "Total Cost": 1387.12, + "Plan Rows": 116, + "Plan Width": 56, + "Actual Startup Time": 8.024, + "Actual Total Time": 9.516, + "Actual Rows": 102, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "mi.info_type_id", "pi.person_id", "pi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(n.id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.718, + "Actual Total Time": 3.731, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.244, + "Actual Total Time": 11.255, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.878, + "Actual Total Time": 11.888, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.004, + "Actual Total Time": 5.017, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.050, + "Actual Total Time": 5.062, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.205, + "Actual Total Time": 12.214, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.700, + "Actual Total Time": 5.715, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.86, + "Total Cost": 1384.36, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 8.018, + "Actual Total Time": 9.360, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.718, + "Actual Total Time": 3.729, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.244, + "Actual Total Time": 11.254, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.878, + "Actual Total Time": 11.887, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.003, + "Actual Total Time": 5.015, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.049, + "Actual Total Time": 5.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.204, + "Actual Total Time": 12.213, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.699, + "Actual Total Time": 5.713, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.43, + "Total Cost": 1383.43, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 7.998, + "Actual Total Time": 9.063, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.717, + "Actual Total Time": 3.728, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.243, + "Actual Total Time": 11.253, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.877, + "Actual Total Time": 11.885, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.002, + "Actual Total Time": 5.014, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.048, + "Actual Total Time": 5.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.204, + "Actual Total Time": 12.212, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.698, + "Actual Total Time": 5.711, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.28, + "Total Cost": 1383.25, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 7.993, + "Actual Total Time": 9.056, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.716, + "Actual Total Time": 3.726, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.243, + "Actual Total Time": 11.251, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.876, + "Actual Total Time": 11.884, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.001, + "Actual Total Time": 5.011, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.047, + "Actual Total Time": 5.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.203, + "Actual Total Time": 12.210, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.698, + "Actual Total Time": 5.709, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 1383.08, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 7.990, + "Actual Total Time": 9.049, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.715, + "Actual Total Time": 3.723, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.242, + "Actual Total Time": 11.249, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.876, + "Actual Total Time": 11.882, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.000, + "Actual Total Time": 5.009, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.046, + "Actual Total Time": 5.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.202, + "Actual Total Time": 12.209, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.697, + "Actual Total Time": 5.706, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.00, + "Total Cost": 1382.91, + "Plan Rows": 1, + "Plan Width": 76, + "Actual Startup Time": 7.985, + "Actual Total Time": 9.042, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Join Filter": "(t.id = cc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.714, + "Actual Total Time": 3.721, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.242, + "Actual Total Time": 11.247, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.875, + "Actual Total Time": 11.881, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.999, + "Actual Total Time": 5.007, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.045, + "Actual Total Time": 5.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.202, + "Actual Total Time": 12.207, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.696, + "Actual Total Time": 5.704, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 1382.46, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 7.979, + "Actual Total Time": 9.026, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.714, + "Actual Total Time": 3.720, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.241, + "Actual Total Time": 11.246, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.875, + "Actual Total Time": 11.880, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.998, + "Actual Total Time": 5.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.044, + "Actual Total Time": 5.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.201, + "Actual Total Time": 12.206, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.695, + "Actual Total Time": 5.702, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.16, + "Total Cost": 1381.14, + "Plan Rows": 3, + "Plan Width": 68, + "Actual Startup Time": 7.974, + "Actual Total Time": 8.958, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.713, + "Actual Total Time": 3.718, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.241, + "Actual Total Time": 11.245, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.874, + "Actual Total Time": 11.878, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.997, + "Actual Total Time": 5.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.043, + "Actual Total Time": 5.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.200, + "Actual Total Time": 12.205, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.694, + "Actual Total Time": 5.700, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1380.33, + "Plan Rows": 1, + "Plan Width": 60, + "Actual Startup Time": 7.968, + "Actual Total Time": 8.943, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.712, + "Actual Total Time": 3.717, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.240, + "Actual Total Time": 11.243, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.873, + "Actual Total Time": 11.877, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.996, + "Actual Total Time": 5.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.042, + "Actual Total Time": 5.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.200, + "Actual Total Time": 12.203, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.693, + "Actual Total Time": 5.698, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1377.63, + "Plan Rows": 5, + "Plan Width": 41, + "Actual Startup Time": 7.842, + "Actual Total Time": 8.796, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.712, + "Actual Total Time": 3.715, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.239, + "Actual Total Time": 11.242, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.873, + "Actual Total Time": 11.876, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.995, + "Actual Total Time": 4.999, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.041, + "Actual Total Time": 5.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.199, + "Actual Total Time": 12.201, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.693, + "Actual Total Time": 5.696, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1375.92, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 7.834, + "Actual Total Time": 8.568, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.711, + "Actual Total Time": 3.713, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.239, + "Actual Total Time": 11.241, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.872, + "Actual Total Time": 11.874, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.994, + "Actual Total Time": 4.997, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.041, + "Actual Total Time": 5.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.198, + "Actual Total Time": 12.200, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.692, + "Actual Total Time": 5.695, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1348.43, + "Plan Rows": 59, + "Plan Width": 4, + "Actual Startup Time": 6.861, + "Actual Total Time": 7.549, + "Actual Rows": 52, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.710, + "Actual Total Time": 3.711, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.238, + "Actual Total Time": 11.240, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.872, + "Actual Total Time": 11.873, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.993, + "Actual Total Time": 4.995, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.040, + "Actual Total Time": 5.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.198, + "Actual Total Time": 12.199, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.691, + "Actual Total Time": 5.693, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.853, + "Actual Total Time": 7.220, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'computer-animation'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.709, + "Actual Total Time": 3.709, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.238, + "Actual Total Time": 11.238, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.871, + "Actual Total Time": 11.871, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.992, + "Actual Total Time": 4.993, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.039, + "Actual Total Time": 5.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.197, + "Actual Total Time": 12.197, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.689, + "Actual Total Time": 5.690, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 414, + "Plan Width": 8, + "Actual Startup Time": 0.055, + "Actual Total Time": 2.455, + "Actual Rows": 414, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 414, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2005) AND (t.title = 'Shrek 2'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.26, + "Plan Rows": 36, + "Plan Width": 16, + "Actual Startup Time": 0.047, + "Actual Total Time": 1.779, + "Actual Rows": 38, + "Actual Loops": 1, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 191, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 38, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 22, + "Plan Width": 8, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.083, + "Actual Rows": 22, + "Actual Loops": 1, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 22, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["cct1.id"], + "Cache Key": "cc.subject_id", + "Cache Mode": "logical", + "Cache Hits": 4, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 4, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["rt.id"], + "Cache Key": "ci.role_id", + "Cache Mode": "logical", + "Cache Hits": 4, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.124, + "Actual Total Time": 0.470, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info ~~ 'USA:%200%'::text)", + "Rows Removed by Filter": 456, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.72, + "Plan Rows": 163, + "Plan Width": 8, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.150, + "Actual Rows": 163, + "Actual Loops": 5, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it3.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it3", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it3.id"], + "Filter": "((it3.info)::text = 'height'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["it.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 4, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 3, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 5, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = pi.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.44, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 15, + "Output": ["chn.name", "chn.id"], + "Cache Key": "ci.person_role_id", + "Cache Mode": "logical", + "Cache Hits": 14, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["chn.name", "chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(chn.name = 'Queen'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6571914703387389993, + "Planning Time": 5464.013, + "Triggers": [ + ], + "Execution Time": 28.408, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -6571914703387389993, + "JOINS": 16 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS voiced_animation
FROM aka_name AS an,
     complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     info_type AS it3,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     person_info AS pi,
     role_type AS rt,
     title AS t
WHERE cct1.kind ='cast'
  AND cct2.kind ='complete+verified'
  AND ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND it3.info = 'trivia'
  AND k.keyword = 'computer-animation'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%200%'
       OR mi.info LIKE 'USA:%200%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2000 AND 2010
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND n.id = pi.person_id
  AND ci.person_id = pi.person_id
  AND it3.id = pi.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1779.06, + "Total Cost": 1779.07, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 1814.619, + "Actual Total Time": 1814.947, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1779.00, + "Total Cost": 1779.01, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 1814.596, + "Actual Total Time": 1814.935, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1778.00, + "Total Cost": 1778.01, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 235.760, + "Actual Total Time": 235.776, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.512, + "Actual Total Time": 8.533, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.956, + "Actual Total Time": 15.970, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.362, + "Actual Total Time": 9.376, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.565, + "Actual Total Time": 9.584, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.781, + "Actual Total Time": 9.799, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.813, + "Actual Total Time": 9.826, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.857, + "Actual Total Time": 9.876, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 8.19, + "Total Cost": 1760.53, + "Plan Rows": 2330, + "Plan Width": 48, + "Actual Startup Time": 23.783, + "Actual Total Time": 234.091, + "Actual Rows": 2038, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.504, + "Actual Total Time": 8.523, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.948, + "Actual Total Time": 15.961, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.357, + "Actual Total Time": 9.371, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.556, + "Actual Total Time": 9.574, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.774, + "Actual Total Time": 9.791, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.805, + "Actual Total Time": 9.818, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.850, + "Actual Total Time": 9.869, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.09, + "Total Cost": 1751.15, + "Plan Rows": 2330, + "Plan Width": 52, + "Actual Startup Time": 23.286, + "Actual Total Time": 232.062, + "Actual Rows": 2038, + "Actual Loops": 8, + "Output": ["ci.role_id", "n.name", "t.title", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.935, + "Actual Total Time": 7.953, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.638, + "Actual Total Time": 15.649, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.816, + "Actual Total Time": 8.828, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.044, + "Actual Total Time": 9.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.247, + "Actual Total Time": 9.262, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.229, + "Actual Total Time": 9.240, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.264, + "Actual Total Time": 9.281, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.66, + "Total Cost": 1750.65, + "Plan Rows": 1, + "Plan Width": 40, + "Actual Startup Time": 14.902, + "Actual Total Time": 216.355, + "Actual Rows": 2092, + "Actual Loops": 8, + "Output": ["ci.role_id", "ci.person_role_id", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.934, + "Actual Total Time": 7.950, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.637, + "Actual Total Time": 15.647, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.815, + "Actual Total Time": 8.826, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.043, + "Actual Total Time": 9.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.245, + "Actual Total Time": 9.259, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.227, + "Actual Total Time": 9.238, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.263, + "Actual Total Time": 9.279, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.52, + "Total Cost": 1750.46, + "Plan Rows": 1, + "Plan Width": 44, + "Actual Startup Time": 14.900, + "Actual Total Time": 206.816, + "Actual Rows": 2092, + "Actual Loops": 8, + "Output": ["ci.role_id", "ci.person_role_id", "n.name", "t.title", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.933, + "Actual Total Time": 7.949, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.636, + "Actual Total Time": 15.646, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.815, + "Actual Total Time": 8.825, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.042, + "Actual Total Time": 9.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.244, + "Actual Total Time": 9.258, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.227, + "Actual Total Time": 9.237, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.262, + "Actual Total Time": 9.277, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.08, + "Total Cost": 1749.46, + "Plan Rows": 1, + "Plan Width": 60, + "Actual Startup Time": 14.889, + "Actual Total Time": 34.328, + "Actual Rows": 731, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.role_id", "ci.person_role_id", "mk.movie_id", "cc.movie_id", "n.name", "t.title", "t.id", "mc.movie_id"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.933, + "Actual Total Time": 7.947, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.635, + "Actual Total Time": 15.645, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.814, + "Actual Total Time": 8.824, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.041, + "Actual Total Time": 9.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.243, + "Actual Total Time": 9.256, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.226, + "Actual Total Time": 9.235, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.261, + "Actual Total Time": 9.275, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.66, + "Total Cost": 1748.96, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 14.884, + "Actual Total Time": 32.437, + "Actual Rows": 176, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "mk.movie_id", "cc.movie_id", "n.name", "n.id", "t.title", "t.id", "mc.movie_id", "pi.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.932, + "Actual Total Time": 7.945, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.635, + "Actual Total Time": 15.644, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.813, + "Actual Total Time": 8.822, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.040, + "Actual Total Time": 9.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.243, + "Actual Total Time": 9.254, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.226, + "Actual Total Time": 9.234, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.260, + "Actual Total Time": 9.274, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.52, + "Total Cost": 1748.62, + "Plan Rows": 2, + "Plan Width": 76, + "Actual Startup Time": 14.881, + "Actual Total Time": 29.694, + "Actual Rows": 700, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "mk.movie_id", "cc.movie_id", "n.name", "n.id", "t.title", "t.id", "mc.movie_id", "pi.person_id", "pi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(n.id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.931, + "Actual Total Time": 7.943, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.634, + "Actual Total Time": 15.642, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.812, + "Actual Total Time": 8.820, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.039, + "Actual Total Time": 9.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.242, + "Actual Total Time": 9.252, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.225, + "Actual Total Time": 9.233, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.259, + "Actual Total Time": 9.272, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.09, + "Total Cost": 1738.56, + "Plan Rows": 3, + "Plan Width": 68, + "Actual Startup Time": 14.874, + "Actual Total Time": 28.862, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "mk.movie_id", "cc.movie_id", "n.name", "n.id", "t.title", "t.id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.930, + "Actual Total Time": 7.941, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.634, + "Actual Total Time": 15.641, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.812, + "Actual Total Time": 8.819, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.039, + "Actual Total Time": 9.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.241, + "Actual Total Time": 9.251, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.224, + "Actual Total Time": 9.232, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.258, + "Actual Total Time": 9.270, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.67, + "Total Cost": 1738.12, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 14.845, + "Actual Total Time": 28.663, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "mk.movie_id", "cc.movie_id", "n.name", "n.id", "t.title", "t.id", "mc.movie_id", "mc.company_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.929, + "Actual Total Time": 7.939, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.633, + "Actual Total Time": 15.640, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.811, + "Actual Total Time": 8.818, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.038, + "Actual Total Time": 9.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.240, + "Actual Total Time": 9.249, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.223, + "Actual Total Time": 9.230, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.258, + "Actual Total Time": 9.268, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.24, + "Total Cost": 1737.37, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 14.839, + "Actual Total Time": 28.628, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "mk.movie_id", "cc.movie_id", "n.name", "n.id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ci.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.928, + "Actual Total Time": 7.937, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.632, + "Actual Total Time": 15.638, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.810, + "Actual Total Time": 8.817, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.037, + "Actual Total Time": 9.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.239, + "Actual Total Time": 9.247, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.223, + "Actual Total Time": 9.229, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.257, + "Actual Total Time": 9.266, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.81, + "Total Cost": 1736.90, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 11.399, + "Actual Total Time": 28.604, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "mk.movie_id", "cc.movie_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.927, + "Actual Total Time": 7.936, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.631, + "Actual Total Time": 15.637, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.810, + "Actual Total Time": 8.815, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.036, + "Actual Total Time": 9.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.238, + "Actual Total Time": 9.246, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.222, + "Actual Total Time": 9.228, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.256, + "Actual Total Time": 9.264, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.38, + "Total Cost": 1726.15, + "Plan Rows": 20, + "Plan Width": 24, + "Actual Startup Time": 10.411, + "Actual Total Time": 26.984, + "Actual Rows": 88, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "mk.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.926, + "Actual Total Time": 7.934, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.630, + "Actual Total Time": 15.636, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.809, + "Actual Total Time": 8.814, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.035, + "Actual Total Time": 9.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.237, + "Actual Total Time": 9.243, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.221, + "Actual Total Time": 9.226, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.255, + "Actual Total Time": 9.262, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.33, + "Total Cost": 1724.67, + "Plan Rows": 81, + "Plan Width": 28, + "Actual Startup Time": 9.146, + "Actual Total Time": 26.879, + "Actual Rows": 258, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "mk.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.915, + "Actual Total Time": 7.921, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.624, + "Actual Total Time": 15.628, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.799, + "Actual Total Time": 8.803, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.026, + "Actual Total Time": 9.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.226, + "Actual Total Time": 9.231, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.210, + "Actual Total Time": 9.214, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.245, + "Actual Total Time": 9.250, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1721.88, + "Plan Rows": 324, + "Plan Width": 32, + "Actual Startup Time": 9.132, + "Actual Total Time": 26.655, + "Actual Rows": 283, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.902, + "Actual Total Time": 7.905, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.615, + "Actual Total Time": 15.618, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.787, + "Actual Total Time": 8.790, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.012, + "Actual Total Time": 9.016, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.215, + "Actual Total Time": 9.218, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.197, + "Actual Total Time": 9.199, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.231, + "Actual Total Time": 9.235, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 1439.92, + "Plan Rows": 628, + "Plan Width": 20, + "Actual Startup Time": 8.648, + "Actual Total Time": 22.959, + "Actual Rows": 549, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.901, + "Actual Total Time": 7.903, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.615, + "Actual Total Time": 15.617, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.786, + "Actual Total Time": 8.788, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.011, + "Actual Total Time": 9.014, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.214, + "Actual Total Time": 9.216, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.196, + "Actual Total Time": 9.198, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.230, + "Actual Total Time": 9.233, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1348.43, + "Plan Rows": 59, + "Plan Width": 4, + "Actual Startup Time": 8.638, + "Actual Total Time": 8.919, + "Actual Rows": 52, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.900, + "Actual Total Time": 7.902, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.614, + "Actual Total Time": 15.615, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.786, + "Actual Total Time": 8.787, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.010, + "Actual Total Time": 9.012, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.213, + "Actual Total Time": 9.214, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.195, + "Actual Total Time": 9.196, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.229, + "Actual Total Time": 9.231, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 8.629, + "Actual Total Time": 8.632, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'computer-animation'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.899, + "Actual Total Time": 7.900, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.613, + "Actual Total Time": 15.613, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.785, + "Actual Total Time": 8.786, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.009, + "Actual Total Time": 9.010, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.212, + "Actual Total Time": 9.213, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.194, + "Actual Total Time": 9.195, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.228, + "Actual Total Time": 9.229, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 414, + "Plan Width": 8, + "Actual Startup Time": 0.063, + "Actual Total Time": 2.100, + "Actual Rows": 414, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.30, + "Plan Rows": 25, + "Plan Width": 16, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.267, + "Actual Rows": 11, + "Actual Loops": 414, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 33, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 4395, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 703, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 22, + "Plan Width": 8, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.053, + "Actual Rows": 24, + "Actual Loops": 4, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 97, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.72, + "Plan Rows": 211, + "Plan Width": 8, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.201, + "Actual Rows": 280, + "Actual Loops": 20, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it3", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 5599, + "Output": ["it3.id", "it3.info"], + "Index Cond": "(it3.id = pi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it3.info)::text = 'trivia'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 3, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 4, + "Actual Loops": 1412, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.159, + "Actual Total Time": 0.234, + "Actual Rows": 3, + "Actual Loops": 5850, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%200%'::text) OR (mi.info ~~ 'USA:%200%'::text)))", + "Rows Removed by Filter": 302, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 16740, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 16740, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3549109824785540005, + "Planning Time": 5630.572, + "Triggers": [ + ], + "Execution Time": 1815.595, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 3549109824785540005, + "JOINS": 16 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code ='[de]'
  AND k.keyword ='character-name-in-title'
  AND cn.id = mc.company_id
  AND mc.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 9414.51, + "Total Cost": 9414.52, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 813.213, + "Actual Total Time": 844.713, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 9414.48, + "Total Cost": 9414.49, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 37.945, + "Actual Total Time": 844.693, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 9413.48, + "Total Cost": 9413.49, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 126.284, + "Actual Total Time": 126.289, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.920, + "Actual Total Time": 27.925, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 803.379, + "Actual Total Time": 803.383, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.988, + "Actual Total Time": 28.992, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.924, + "Actual Total Time": 28.930, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.273, + "Actual Total Time": 28.278, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.871, + "Actual Total Time": 28.877, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.855, + "Actual Total Time": 26.859, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3378.75, + "Total Cost": 9410.69, + "Plan Rows": 1118, + "Plan Width": 17, + "Actual Startup Time": 28.255, + "Actual Total Time": 125.723, + "Actual Rows": 979, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.916, + "Actual Total Time": 27.920, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.184, + "Actual Total Time": 798.888, + "Actual Rows": 7834, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.984, + "Actual Total Time": 28.988, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.918, + "Actual Total Time": 28.924, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.269, + "Actual Total Time": 28.274, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.867, + "Actual Total Time": 28.871, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.852, + "Actual Total Time": 26.855, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3378.32, + "Total Cost": 8460.37, + "Plan Rows": 2041, + "Plan Width": 8, + "Actual Startup Time": 28.207, + "Actual Total Time": 114.330, + "Actual Rows": 979, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.915, + "Actual Total Time": 27.918, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.803, + "Actual Total Time": 707.760, + "Actual Rows": 7834, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.983, + "Actual Total Time": 28.986, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.918, + "Actual Total Time": 28.922, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.268, + "Actual Total Time": 28.272, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.866, + "Actual Total Time": 28.870, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.851, + "Actual Total Time": 26.853, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 5027.20, + "Plan Rows": 21222, + "Plan Width": 12, + "Actual Startup Time": 6.238, + "Actual Total Time": 85.793, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.company_id", "mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.651, + "Actual Total Time": 11.652, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.771, + "Actual Total Time": 637.203, + "Actual Rows": 148552, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.957, + "Actual Total Time": 11.959, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.859, + "Actual Total Time": 11.861, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.774, + "Actual Total Time": 1.776, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.69, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.219, + "Actual Total Time": 18.197, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.650, + "Actual Total Time": 11.650, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.630, + "Actual Total Time": 96.447, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.956, + "Actual Total Time": 11.957, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.857, + "Actual Total Time": 11.858, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.773, + "Actual Total Time": 1.774, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.197, + "Actual Total Time": 6.198, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.649, + "Actual Total Time": 11.649, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.460, + "Actual Total Time": 0.466, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.955, + "Actual Total Time": 11.955, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.856, + "Actual Total Time": 11.857, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.772, + "Actual Total Time": 1.773, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.164, + "Actual Total Time": 85.819, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.164, + "Actual Total Time": 85.819, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 4, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 3362.18, + "Total Cost": 3362.18, + "Plan Rows": 1222, + "Plan Width": 4, + "Actual Startup Time": 16.730, + "Actual Total Time": 16.731, + "Actual Rows": 1222, + "Actual Loops": 8, + "Output": ["cn.id"], + "Hash Buckets": 16384, + "Original Hash Buckets": 16384, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 672, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.281, + "Actual Total Time": 15.282, + "Actual Rows": 1190, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.638, + "Actual Total Time": 15.639, + "Actual Rows": 1082, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.210, + "Actual Total Time": 16.211, + "Actual Rows": 1225, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.745, + "Actual Total Time": 15.746, + "Actual Rows": 1220, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.145, + "Actual Total Time": 16.146, + "Actual Rows": 1139, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.187, + "Actual Total Time": 16.188, + "Actual Rows": 985, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.628, + "Actual Total Time": 14.628, + "Actual Rows": 1064, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 1222, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 15.602, + "Actual Rows": 1222, + "Actual Loops": 8, + "Output": ["cn.id"], + "Filter": "((cn.country_code)::text = '[de]'::text)", + "Rows Removed by Filter": 28153, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 14.289, + "Actual Rows": 1190, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 14.839, + "Actual Rows": 1082, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 15.187, + "Actual Rows": 1225, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.052, + "Actual Total Time": 14.770, + "Actual Rows": 1220, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 14.676, + "Actual Rows": 1139, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 15.318, + "Actual Rows": 985, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 13.199, + "Actual Rows": 1064, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 7834, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 7834 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7420183357700622221, + "Planning Time": 13.907, + "Triggers": [ + ], + "Execution Time": 844.996, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7420183357700622221, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code ='[nl]'
  AND k.keyword ='character-name-in-title'
  AND cn.id = mc.company_id
  AND mc.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 8107.72, + "Total Cost": 8107.73, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 176.141, + "Actual Total Time": 190.659, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 8107.69, + "Total Cost": 8107.70, + "Plan Rows": 8, + "Plan Width": 32, + "Actual Startup Time": 175.512, + "Actual Total Time": 190.627, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 8106.69, + "Total Cost": 8106.70, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 166.440, + "Actual Total Time": 166.446, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 161.348, + "Actual Total Time": 161.354, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 164.938, + "Actual Total Time": 164.942, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 163.266, + "Actual Total Time": 163.270, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 166.709, + "Actual Total Time": 166.714, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 166.463, + "Actual Total Time": 166.467, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 167.220, + "Actual Total Time": 167.225, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 167.510, + "Actual Total Time": 167.517, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1838.26, + "Total Cost": 8105.05, + "Plan Rows": 655, + "Plan Width": 17, + "Actual Startup Time": 94.880, + "Actual Total Time": 165.903, + "Actual Rows": 654, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 89.519, + "Actual Total Time": 160.707, + "Actual Rows": 843, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 93.148, + "Actual Total Time": 164.467, + "Actual Rows": 553, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 92.838, + "Actual Total Time": 162.700, + "Actual Rows": 670, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 94.892, + "Actual Total Time": 166.295, + "Actual Rows": 473, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 95.268, + "Actual Total Time": 165.931, + "Actual Rows": 671, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 95.383, + "Actual Total Time": 166.759, + "Actual Rows": 514, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 95.315, + "Actual Total Time": 166.843, + "Actual Rows": 847, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1837.83, + "Total Cost": 7717.66, + "Plan Rows": 832, + "Plan Width": 8, + "Actual Startup Time": 94.792, + "Actual Total Time": 151.765, + "Actual Rows": 654, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Hash Cond": "(mc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 89.432, + "Actual Total Time": 141.924, + "Actual Rows": 843, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 93.066, + "Actual Total Time": 153.100, + "Actual Rows": 553, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 92.745, + "Actual Total Time": 147.755, + "Actual Rows": 670, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 94.802, + "Actual Total Time": 154.451, + "Actual Rows": 473, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 95.158, + "Actual Total Time": 152.129, + "Actual Rows": 671, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 95.288, + "Actual Total Time": 153.289, + "Actual Rows": 514, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 95.224, + "Actual Total Time": 149.645, + "Actual Rows": 847, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 5813.98, + "Plan Rows": 17210, + "Plan Width": 4, + "Actual Startup Time": 0.177, + "Actual Total Time": 52.804, + "Actual Rows": 7051, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.175, + "Actual Total Time": 48.483, + "Actual Rows": 6781, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.182, + "Actual Total Time": 56.119, + "Actual Rows": 6853, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.174, + "Actual Total Time": 51.183, + "Actual Rows": 6354, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.246, + "Actual Total Time": 54.886, + "Actual Rows": 8105, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.179, + "Actual Total Time": 53.493, + "Actual Rows": 6802, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.170, + "Actual Total Time": 53.798, + "Actual Rows": 6244, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.175, + "Actual Total Time": 49.635, + "Actual Rows": 6674, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 295, + "Plan Width": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 14.032, + "Actual Rows": 292, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[nl]'::text)", + "Rows Removed by Filter": 29082, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.088, + "Actual Total Time": 8.854, + "Actual Rows": 215, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.050, + "Actual Total Time": 16.417, + "Actual Rows": 329, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.046, + "Actual Total Time": 13.659, + "Actual Rows": 264, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 13.761, + "Actual Rows": 281, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 14.243, + "Actual Rows": 316, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.041, + "Actual Total Time": 15.650, + "Actual Rows": 311, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 12.941, + "Actual Rows": 260, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 8.24, + "Plan Rows": 7, + "Plan Width": 8, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.122, + "Actual Rows": 24, + "Actual Loops": 2340, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.172, + "Actual Rows": 32, + "Actual Loops": 215 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.112, + "Actual Rows": 21, + "Actual Loops": 329 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.130, + "Actual Rows": 24, + "Actual Loops": 264 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.135, + "Actual Rows": 29, + "Actual Loops": 281 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.115, + "Actual Rows": 22, + "Actual Loops": 316 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.113, + "Actual Rows": 20, + "Actual Loops": 311 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.131, + "Actual Rows": 26, + "Actual Loops": 260 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1762.69, + "Total Cost": 1762.69, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 93.476, + "Actual Total Time": 93.477, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 65536, + "Original Hash Buckets": 65536, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 2176, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 88.773, + "Actual Total Time": 88.775, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 92.371, + "Actual Total Time": 92.373, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 90.679, + "Actual Total Time": 90.681, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 94.124, + "Actual Total Time": 94.125, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 93.865, + "Actual Total Time": 93.866, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 94.649, + "Actual Total Time": 94.650, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 94.568, + "Actual Total Time": 94.570, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.69, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.256, + "Actual Total Time": 15.804, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.823, + "Actual Total Time": 2.824, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.424, + "Actual Total Time": 6.425, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.732, + "Actual Total Time": 4.733, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.193, + "Actual Total Time": 8.194, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.932, + "Actual Total Time": 7.933, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.700, + "Actual Total Time": 8.701, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.630, + "Actual Total Time": 8.632, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.242, + "Actual Total Time": 6.243, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.822, + "Actual Total Time": 2.822, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.423, + "Actual Total Time": 6.423, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.731, + "Actual Total Time": 4.731, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.192, + "Actual Total Time": 8.192, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.931, + "Actual Total Time": 7.931, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.698, + "Actual Total Time": 8.699, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.629, + "Actual Total Time": 8.630, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.095, + "Actual Total Time": 67.912, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 5228, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 843 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 553 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 670 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 473 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 671 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 514 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 847 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7420183357700622221, + "Planning Time": 27.362, + "Triggers": [ + ], + "Execution Time": 191.014, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7420183357700622221, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code ='[sm]'
  AND k.keyword ='character-name-in-title'
  AND cn.id = mc.company_id
  AND mc.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5189.00, + "Total Cost": 5189.01, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 110.074, + "Actual Total Time": 133.690, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3404.29, + "Total Cost": 5189.00, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 110.067, + "Actual Total Time": 133.682, + "Actual Rows": 0, + "Actual Loops": 1, + "Output": ["t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3403.29, + "Total Cost": 5188.00, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 31.678, + "Actual Total Time": 31.684, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.930, + "Actual Total Time": 12.935, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 101.223, + "Actual Total Time": 101.227, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 22.131, + "Actual Total Time": 22.136, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.142, + "Actual Total Time": 22.146, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.997, + "Actual Total Time": 22.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.074, + "Actual Total Time": 22.078, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.166, + "Actual Total Time": 22.170, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3402.86, + "Total Cost": 5187.53, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 31.677, + "Actual Total Time": 31.682, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Hash Cond": "(mk.movie_id = mc.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.929, + "Actual Total Time": 12.933, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 101.221, + "Actual Total Time": 101.225, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 22.131, + "Actual Total Time": 22.134, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.141, + "Actual Total Time": 22.144, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.996, + "Actual Total Time": 22.000, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.073, + "Actual Total Time": 22.077, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.164, + "Actual Total Time": 22.168, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.69, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 5.891, + "Actual Total Time": 15.649, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.819, + "Actual Total Time": 6.820, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.436, + "Actual Total Time": 78.491, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.841, + "Actual Total Time": 6.843, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.849, + "Actual Total Time": 6.850, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.855, + "Actual Total Time": 6.857, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.837, + "Actual Total Time": 6.838, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.842, + "Actual Total Time": 6.843, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.873, + "Actual Total Time": 5.875, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.818, + "Actual Total Time": 6.818, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.300, + "Actual Total Time": 0.308, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.840, + "Actual Total Time": 6.840, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.848, + "Actual Total Time": 6.848, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.854, + "Actual Total Time": 6.855, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.836, + "Actual Total Time": 6.837, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.841, + "Actual Total Time": 6.842, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.128, + "Actual Total Time": 69.671, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.128, + "Actual Total Time": 69.671, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 3402.41, + "Total Cost": 3402.41, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 14.419, + "Actual Total Time": 14.421, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.745, + "Actual Total Time": 5.747, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.674, + "Actual Total Time": 13.676, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.934, + "Actual Total Time": 14.935, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.945, + "Actual Total Time": 14.947, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.809, + "Actual Total Time": 14.811, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.872, + "Actual Total Time": 14.873, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.957, + "Actual Total Time": 14.959, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 3402.41, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 12.783, + "Actual Total Time": 14.311, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.618, + "Actual Total Time": 5.619, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.352, + "Actual Total Time": 13.567, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.825, + "Actual Total Time": 14.827, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.822, + "Actual Total Time": 14.823, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.709, + "Actual Total Time": 14.710, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.776, + "Actual Total Time": 14.777, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.839, + "Actual Total Time": 14.841, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 12.770, + "Actual Total Time": 14.296, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[sm]'::text)", + "Rows Removed by Filter": 29374, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.616, + "Actual Total Time": 5.617, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.259, + "Actual Total Time": 13.458, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.824, + "Actual Total Time": 14.825, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.821, + "Actual Total Time": 14.821, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.707, + "Actual Total Time": 14.708, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.775, + "Actual Total Time": 14.775, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.838, + "Actual Total Time": 14.839, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 40.16, + "Plan Rows": 7, + "Plan Width": 8, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.098, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.098, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7420183357700622221, + "Planning Time": 13.729, + "Triggers": [ + ], + "Execution Time": 133.942, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7420183357700622221, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND cn.id = mc.company_id
  AND mc.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11294.85, + "Total Cost": 11294.86, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1103.048, + "Actual Total Time": 1141.760, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11294.82, + "Total Cost": 11294.83, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 39.677, + "Actual Total Time": 1141.737, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11293.82, + "Total Cost": 11293.83, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 164.728, + "Actual Total Time": 164.734, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.369, + "Actual Total Time": 31.376, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.395, + "Actual Total Time": 31.401, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.391, + "Actual Total Time": 29.398, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.049, + "Actual Total Time": 30.054, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.442, + "Actual Total Time": 30.447, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1094.597, + "Actual Total Time": 1094.605, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.783, + "Actual Total Time": 31.789, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3495.73, + "Total Cost": 11269.53, + "Plan Rows": 9717, + "Plan Width": 17, + "Actual Startup Time": 30.947, + "Actual Total Time": 161.732, + "Actual Rows": 8540, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.363, + "Actual Total Time": 31.369, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.389, + "Actual Total Time": 31.395, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.386, + "Actual Total Time": 29.391, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.045, + "Actual Total Time": 30.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.436, + "Actual Total Time": 30.440, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 24.394, + "Actual Total Time": 1070.630, + "Actual Rows": 68316, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.779, + "Actual Total Time": 31.783, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3495.30, + "Total Cost": 8577.34, + "Plan Rows": 5782, + "Plan Width": 8, + "Actual Startup Time": 30.932, + "Actual Total Time": 100.603, + "Actual Rows": 8540, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.362, + "Actual Total Time": 31.367, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.388, + "Actual Total Time": 31.394, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.385, + "Actual Total Time": 29.389, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.043, + "Actual Total Time": 30.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.435, + "Actual Total Time": 30.438, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 24.281, + "Actual Total Time": 581.617, + "Actual Rows": 68316, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.777, + "Actual Total Time": 31.781, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 5027.20, + "Plan Rows": 21222, + "Plan Width": 12, + "Actual Startup Time": 5.670, + "Actual Total Time": 65.815, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.company_id", "mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.093, + "Actual Total Time": 8.095, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.117, + "Actual Total Time": 8.119, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.222, + "Actual Total Time": 4.224, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.122, + "Actual Total Time": 8.123, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.573, + "Actual Total Time": 481.716, + "Actual Rows": 148552, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.113, + "Actual Total Time": 8.115, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.69, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 5.659, + "Actual Total Time": 13.806, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.091, + "Actual Total Time": 8.093, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.116, + "Actual Total Time": 8.117, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.220, + "Actual Total Time": 4.222, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.121, + "Actual Total Time": 8.121, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.490, + "Actual Total Time": 65.662, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.111, + "Actual Total Time": 8.113, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.643, + "Actual Total Time": 5.644, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.090, + "Actual Total Time": 8.091, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.115, + "Actual Total Time": 8.115, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.219, + "Actual Total Time": 4.219, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.120, + "Actual Total Time": 8.120, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.369, + "Actual Total Time": 0.377, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.111, + "Actual Total Time": 8.111, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.113, + "Actual Total Time": 56.932, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.113, + "Actual Total Time": 56.932, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.009, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.009, + "Actual Rows": 4, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 3362.18, + "Total Cost": 3362.18, + "Plan Rows": 10580, + "Plan Width": 4, + "Actual Startup Time": 22.798, + "Actual Total Time": 22.800, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Hash Buckets": 131072, + "Original Hash Buckets": 131072, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 4480, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.016, + "Actual Total Time": 23.018, + "Actual Rows": 11246, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 23.011, + "Actual Total Time": 23.013, + "Actual Rows": 10708, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.941, + "Actual Total Time": 20.942, + "Actual Rows": 9870, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.628, + "Actual Total Time": 21.629, + "Actual Rows": 8854, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.633, + "Actual Total Time": 21.634, + "Actual Rows": 10553, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.389, + "Actual Total Time": 23.390, + "Actual Rows": 11292, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.360, + "Actual Total Time": 22.361, + "Actual Rows": 9963, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10580, + "Plan Width": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 15.251, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 15.798, + "Actual Rows": 11246, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 15.383, + "Actual Rows": 10708, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 13.831, + "Actual Rows": 9870, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 12.542, + "Actual Rows": 8854, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 14.839, + "Actual Rows": 10553, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 16.044, + "Actual Rows": 11292, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 15.848, + "Actual Rows": 9963, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 68316, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 68316 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7420183357700622221, + "Planning Time": 13.067, + "Triggers": [ + ], + "Execution Time": 1142.053, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7420183357700622221, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS complete_violent_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind IN ('cast',
                    'crew')
  AND cct2.kind ='complete+verified'
  AND ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Thriller')
  AND n.gender = 'm'
  AND t.production_year > 2000
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5384.92, + "Total Cost": 5384.93, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 535.360, + "Actual Total Time": 560.530, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5384.84, + "Total Cost": 5384.85, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 534.149, + "Actual Total Time": 560.499, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5383.84, + "Total Cost": 5383.85, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 522.052, + "Actual Total Time": 522.064, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 523.365, + "Actual Total Time": 523.377, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 518.460, + "Actual Total Time": 518.470, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 526.453, + "Actual Total Time": 526.463, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 518.554, + "Actual Total Time": 518.568, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 518.531, + "Actual Total Time": 518.540, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 519.817, + "Actual Total Time": 519.833, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 518.035, + "Actual Total Time": 518.045, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 8.79, + "Total Cost": 5382.76, + "Plan Rows": 108, + "Plan Width": 80, + "Actual Startup Time": 46.254, + "Actual Total Time": 521.720, + "Actual Rows": 95, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.554, + "Actual Total Time": 523.102, + "Actual Rows": 64, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 78.660, + "Actual Total Time": 518.092, + "Actual Rows": 101, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.319, + "Actual Total Time": 526.139, + "Actual Rows": 89, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.454, + "Actual Total Time": 518.253, + "Actual Rows": 83, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 117.420, + "Actual Total Time": 518.252, + "Actual Rows": 96, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 53.801, + "Actual Total Time": 519.457, + "Actual Rows": 100, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 88.784, + "Actual Total Time": 517.611, + "Actual Rows": 124, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.94, + "Total Cost": 5380.03, + "Plan Rows": 326, + "Plan Width": 84, + "Actual Startup Time": 45.954, + "Actual Total Time": 521.181, + "Actual Rows": 285, + "Actual Loops": 8, + "Output": ["t.title", "n.name", "mi.info", "mi_idx.info", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.207, + "Actual Total Time": 522.579, + "Actual Rows": 192, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 78.350, + "Actual Total Time": 517.534, + "Actual Rows": 303, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.976, + "Actual Total Time": 525.549, + "Actual Rows": 273, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.180, + "Actual Total Time": 517.776, + "Actual Rows": 249, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 117.142, + "Actual Total Time": 517.762, + "Actual Rows": 288, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 53.520, + "Actual Total Time": 518.923, + "Actual Rows": 300, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 88.518, + "Actual Total Time": 517.007, + "Actual Rows": 376, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.51, + "Total Cost": 5323.87, + "Plan Rows": 108, + "Plan Width": 95, + "Actual Startup Time": 45.886, + "Actual Total Time": 518.790, + "Actual Rows": 95, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id", "ci.movie_id", "mk.movie_id", "n.name", "mi.info", "mi.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.145, + "Actual Total Time": 520.932, + "Actual Rows": 64, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 78.274, + "Actual Total Time": 515.321, + "Actual Rows": 101, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.875, + "Actual Total Time": 522.565, + "Actual Rows": 89, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.122, + "Actual Total Time": 515.962, + "Actual Rows": 83, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 117.069, + "Actual Total Time": 515.055, + "Actual Rows": 96, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 53.435, + "Actual Total Time": 516.506, + "Actual Rows": 100, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 88.462, + "Actual Total Time": 514.228, + "Actual Rows": 124, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.67, + "Total Cost": 5321.74, + "Plan Rows": 108, + "Plan Width": 99, + "Actual Startup Time": 45.872, + "Actual Total Time": 518.575, + "Actual Rows": 95, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id", "ci.movie_id", "mk.movie_id", "n.name", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.135, + "Actual Total Time": 520.767, + "Actual Rows": 64, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 78.265, + "Actual Total Time": 515.101, + "Actual Rows": 101, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.865, + "Actual Total Time": 522.348, + "Actual Rows": 89, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.113, + "Actual Total Time": 515.774, + "Actual Rows": 83, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 117.061, + "Actual Total Time": 514.876, + "Actual Rows": 96, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 53.422, + "Actual Total Time": 516.278, + "Actual Rows": 100, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 88.453, + "Actual Total Time": 513.964, + "Actual Rows": 124, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.24, + "Total Cost": 5156.80, + "Plan Rows": 177, + "Plan Width": 48, + "Actual Startup Time": 6.365, + "Actual Total Time": 476.804, + "Actual Rows": 155, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id", "ci.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.060, + "Actual Total Time": 479.661, + "Actual Rows": 127, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.568, + "Actual Total Time": 460.729, + "Actual Rows": 195, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.745, + "Actual Total Time": 486.905, + "Actual Rows": 147, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.024, + "Actual Total Time": 483.154, + "Actual Rows": 136, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.178, + "Actual Total Time": 480.544, + "Actual Rows": 147, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.675, + "Actual Total Time": 471.056, + "Actual Rows": 172, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.191, + "Actual Total Time": 470.644, + "Actual Rows": 151, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.81, + "Total Cost": 5029.74, + "Plan Rows": 249, + "Plan Width": 37, + "Actual Startup Time": 3.879, + "Actual Total Time": 470.241, + "Actual Rows": 218, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.963, + "Actual Total Time": 473.120, + "Actual Rows": 213, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.841, + "Actual Total Time": 452.755, + "Actual Rows": 273, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.633, + "Actual Total Time": 479.680, + "Actual Rows": 240, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.945, + "Actual Total Time": 476.637, + "Actual Rows": 190, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.082, + "Actual Total Time": 475.375, + "Actual Rows": 215, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.336, + "Actual Total Time": 464.354, + "Actual Rows": 222, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.830, + "Actual Total Time": 464.697, + "Actual Rows": 196, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.76, + "Total Cost": 5027.36, + "Plan Rows": 249, + "Plan Width": 41, + "Actual Startup Time": 3.857, + "Actual Total Time": 469.617, + "Actual Rows": 218, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.940, + "Actual Total Time": 472.513, + "Actual Rows": 213, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.821, + "Actual Total Time": 452.061, + "Actual Rows": 273, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.610, + "Actual Total Time": 479.039, + "Actual Rows": 240, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.926, + "Actual Total Time": 476.084, + "Actual Rows": 190, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.062, + "Actual Total Time": 474.700, + "Actual Rows": 215, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.317, + "Actual Total Time": 463.748, + "Actual Rows": 222, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.809, + "Actual Total Time": 464.129, + "Actual Rows": 196, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.34, + "Total Cost": 4792.44, + "Plan Rows": 526, + "Plan Width": 45, + "Actual Startup Time": 2.902, + "Actual Total Time": 295.067, + "Actual Rows": 14992, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "mk.movie_id", "mk.keyword_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.404, + "Actual Total Time": 293.911, + "Actual Rows": 15473, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.919, + "Actual Total Time": 266.352, + "Actual Rows": 16467, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.730, + "Actual Total Time": 316.620, + "Actual Rows": 14357, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.503, + "Actual Total Time": 312.455, + "Actual Rows": 14433, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.577, + "Actual Total Time": 298.980, + "Actual Rows": 14744, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.917, + "Actual Total Time": 297.425, + "Actual Rows": 14099, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.709, + "Actual Total Time": 291.934, + "Actual Rows": 14846, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.91, + "Total Cost": 4292.71, + "Plan Rows": 294, + "Plan Width": 37, + "Actual Startup Time": 1.995, + "Actual Total Time": 258.831, + "Actual Rows": 257, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "t.title", "t.id", "ci.movie_id", "ci.person_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.260, + "Actual Total Time": 257.832, + "Actual Rows": 262, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.656, + "Actual Total Time": 231.956, + "Actual Rows": 178, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.612, + "Actual Total Time": 280.521, + "Actual Rows": 366, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.427, + "Actual Total Time": 268.905, + "Actual Rows": 291, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.320, + "Actual Total Time": 262.125, + "Actual Rows": 216, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.647, + "Actual Total Time": 265.892, + "Actual Rows": 171, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.388, + "Actual Total Time": 256.828, + "Actual Rows": 288, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 3839.35, + "Plan Rows": 298, + "Plan Width": 29, + "Actual Startup Time": 0.479, + "Actual Total Time": 58.692, + "Actual Rows": 260, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.297, + "Actual Total Time": 53.472, + "Actual Rows": 265, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.635, + "Actual Total Time": 47.547, + "Actual Rows": 207, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.548, + "Actual Total Time": 69.542, + "Actual Rows": 345, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.396, + "Actual Total Time": 60.799, + "Actual Rows": 266, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.616, + "Actual Total Time": 54.427, + "Actual Rows": 224, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.169, + "Actual Total Time": 61.340, + "Actual Rows": 262, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.041, + "Actual Total Time": 65.075, + "Actual Rows": 259, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 1029.35, + "Plan Rows": 3513, + "Plan Width": 8, + "Actual Startup Time": 0.045, + "Actual Total Time": 12.570, + "Actual Rows": 3074, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.044, + "Actual Total Time": 11.090, + "Actual Rows": 2800, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.049, + "Actual Total Time": 10.393, + "Actual Rows": 2425, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.053, + "Actual Total Time": 14.916, + "Actual Rows": 3675, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 13.238, + "Actual Rows": 3286, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 11.520, + "Actual Rows": 2835, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.055, + "Actual Total Time": 12.858, + "Actual Rows": 3232, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.041, + "Actual Total Time": 14.637, + "Actual Rows": 3462, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.020, + "Actual Total Time": 4.208, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 3.784, + "Actual Rows": 14245, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 3.515, + "Actual Rows": 14800, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 4.604, + "Actual Rows": 19240, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 4.438, + "Actual Rows": 17945, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 3.849, + "Actual Rows": 15355, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 4.320, + "Actual Rows": 17020, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 5.184, + "Actual Rows": 20016, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.80, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 24592, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2800 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2425 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 3675 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 3286 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2835 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 3232 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 3462 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.51, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.568, + "Actual Total Time": 0.766, + "Actual Rows": 1, + "Actual Loops": 2083, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 88, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.564, + "Actual Total Time": 0.769, + "Actual Rows": 1, + "Actual Loops": 265 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.659, + "Actual Total Time": 0.888, + "Actual Rows": 1, + "Actual Loops": 207 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.466, + "Actual Total Time": 0.609, + "Actual Rows": 1, + "Actual Loops": 345 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.568, + "Actual Total Time": 0.780, + "Actual Rows": 1, + "Actual Loops": 266 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.673, + "Actual Total Time": 0.924, + "Actual Rows": 1, + "Actual Loops": 224 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.611, + "Actual Total Time": 0.779, + "Actual Rows": 1, + "Actual Loops": 262 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.529, + "Actual Total Time": 0.738, + "Actual Rows": 1, + "Actual Loops": 259 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.99, + "Plan Rows": 57, + "Plan Width": 8, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.104, + "Actual Rows": 58, + "Actual Loops": 2057, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.101, + "Actual Rows": 59, + "Actual Loops": 262 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.134, + "Actual Rows": 93, + "Actual Loops": 178 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.074, + "Actual Rows": 39, + "Actual Loops": 366 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.118, + "Actual Rows": 50, + "Actual Loops": 291 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.127, + "Actual Rows": 68, + "Actual Loops": 216 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.133, + "Actual Rows": 82, + "Actual Loops": 171 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.090, + "Actual Rows": 52, + "Actual Loops": 288 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 119932, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 15473 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 16467 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 14357 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 14433 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 14744 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 14099 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 14846 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.007, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = ANY ('{cast,crew}'::text[]))", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 1741, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 213 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 273 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 240 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 190 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 215 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 222 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 196 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 0.194, + "Actual Total Time": 0.267, + "Actual Rows": 1, + "Actual Loops": 1238, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Thriller}'::text[]))", + "Rows Removed by Filter": 237, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.226, + "Actual Total Time": 0.321, + "Actual Rows": 1, + "Actual Loops": 127 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.219, + "Actual Total Time": 0.276, + "Actual Rows": 1, + "Actual Loops": 195 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.163, + "Actual Total Time": 0.239, + "Actual Rows": 1, + "Actual Loops": 147 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.189, + "Actual Total Time": 0.237, + "Actual Rows": 1, + "Actual Loops": 136 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.173, + "Actual Total Time": 0.231, + "Actual Rows": 1, + "Actual Loops": 147 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.206, + "Actual Total Time": 0.260, + "Actual Rows": 1, + "Actual Loops": 172 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.164, + "Actual Total Time": 0.284, + "Actual Rows": 1, + "Actual Loops": 151 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.022, + "Actual Rows": 3, + "Actual Loops": 757, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.022, + "Actual Rows": 3, + "Actual Loops": 64 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 101 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.030, + "Actual Rows": 3, + "Actual Loops": 89 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 83 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.025, + "Actual Rows": 3, + "Actual Loops": 96 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.021, + "Actual Rows": 3, + "Actual Loops": 100 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 124 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6682106289455670140, + "Planning Time": 2832.923, + "Triggers": [ + ], + "Execution Time": 560.972, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -6682106289455670140, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS complete_gore_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind IN ('cast',
                    'crew')
  AND cct2.kind ='complete+verified'
  AND ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Thriller')
  AND n.gender = 'm'
  AND t.production_year > 2000
  AND (t.title LIKE '%Freddy%'
       OR t.title LIKE '%Jason%'
       OR t.title LIKE 'Saw%')
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3897.70, + "Total Cost": 3897.71, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 76.127, + "Actual Total Time": 86.287, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3897.62, + "Total Cost": 3897.63, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 75.455, + "Actual Total Time": 86.256, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3896.62, + "Total Cost": 3896.63, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 65.303, + "Actual Total Time": 65.313, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.469, + "Actual Total Time": 65.477, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 58.906, + "Actual Total Time": 58.917, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 65.288, + "Actual Total Time": 65.295, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 64.734, + "Actual Total Time": 64.745, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 67.395, + "Actual Total Time": 67.407, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 65.717, + "Actual Total Time": 65.725, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 60.435, + "Actual Total Time": 60.449, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.48, + "Total Cost": 3896.58, + "Plan Rows": 4, + "Plan Width": 80, + "Actual Startup Time": 54.703, + "Actual Total Time": 65.295, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.463, + "Actual Total Time": 65.471, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 58.899, + "Actual Total Time": 58.909, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 65.284, + "Actual Total Time": 65.291, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.331, + "Actual Total Time": 64.694, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.040, + "Actual Total Time": 67.350, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 65.712, + "Actual Total Time": 65.720, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 60.429, + "Actual Total Time": 60.442, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.34, + "Total Cost": 3895.91, + "Plan Rows": 4, + "Plan Width": 84, + "Actual Startup Time": 54.699, + "Actual Total Time": 65.266, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["t.title", "mi_idx.info", "n.name", "mi.info", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.463, + "Actual Total Time": 65.469, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 58.898, + "Actual Total Time": 58.907, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 65.283, + "Actual Total Time": 65.290, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.316, + "Actual Total Time": 64.588, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.025, + "Actual Total Time": 67.230, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 65.712, + "Actual Total Time": 65.719, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 60.427, + "Actual Total Time": 60.440, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.90, + "Total Cost": 3893.12, + "Plan Rows": 3, + "Plan Width": 57, + "Actual Startup Time": 54.604, + "Actual Total Time": 63.915, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "cc.movie_id", "mk.movie_id", "ci.movie_id", "mi_idx.info", "mi_idx.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.462, + "Actual Total Time": 65.468, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 58.897, + "Actual Total Time": 58.906, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 65.283, + "Actual Total Time": 65.289, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.099, + "Actual Total Time": 57.478, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.482, + "Actual Total Time": 63.540, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 65.711, + "Actual Total Time": 65.718, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 60.427, + "Actual Total Time": 60.438, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.47, + "Total Cost": 3891.59, + "Plan Rows": 3, + "Plan Width": 46, + "Actual Startup Time": 54.588, + "Actual Total Time": 63.859, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "cc.movie_id", "mk.movie_id", "ci.movie_id", "ci.person_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.461, + "Actual Total Time": 65.467, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 58.896, + "Actual Total Time": 58.904, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 65.282, + "Actual Total Time": 65.288, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.033, + "Actual Total Time": 57.224, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.423, + "Actual Total Time": 63.354, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 65.711, + "Actual Total Time": 65.717, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 60.426, + "Actual Total Time": 60.436, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.32, + "Total Cost": 3890.48, + "Plan Rows": 9, + "Plan Width": 50, + "Actual Startup Time": 54.574, + "Actual Total Time": 63.828, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "cc.movie_id", "mk.movie_id", "ci.movie_id", "ci.person_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.461, + "Actual Total Time": 65.466, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 58.896, + "Actual Total Time": 58.902, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 65.282, + "Actual Total Time": 65.286, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.980, + "Actual Total Time": 57.091, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.373, + "Actual Total Time": 63.254, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 65.710, + "Actual Total Time": 65.716, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 60.425, + "Actual Total Time": 60.434, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.89, + "Total Cost": 3888.96, + "Plan Rows": 3, + "Plan Width": 37, + "Actual Startup Time": 54.558, + "Actual Total Time": 63.772, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "cc.movie_id", "mk.movie_id", "ci.movie_id", "ci.person_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.460, + "Actual Total Time": 65.465, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 58.894, + "Actual Total Time": 58.900, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 65.281, + "Actual Total Time": 65.285, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.917, + "Actual Total Time": 56.825, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.313, + "Actual Total Time": 63.073, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 65.710, + "Actual Total Time": 65.715, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 60.424, + "Actual Total Time": 60.432, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.45, + "Total Cost": 3887.59, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 54.466, + "Actual Total Time": 63.338, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "cc.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.460, + "Actual Total Time": 65.464, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 58.894, + "Actual Total Time": 58.899, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 65.281, + "Actual Total Time": 65.284, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.638, + "Actual Total Time": 55.587, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.856, + "Actual Total Time": 60.852, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 65.709, + "Actual Total Time": 65.714, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 60.423, + "Actual Total Time": 60.430, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.32, + "Total Cost": 3887.43, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 54.456, + "Actual Total Time": 63.319, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "cc.movie_id", "cc.subject_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.459, + "Actual Total Time": 65.463, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 58.893, + "Actual Total Time": 58.897, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 65.280, + "Actual Total Time": 65.283, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.594, + "Actual Total Time": 55.510, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.823, + "Actual Total Time": 60.788, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 65.709, + "Actual Total Time": 65.712, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 60.423, + "Actual Total Time": 60.428, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.90, + "Total Cost": 3868.66, + "Plan Rows": 42, + "Plan Width": 37, + "Actual Startup Time": 54.296, + "Actual Total Time": 62.636, + "Actual Rows": 36, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "cc.movie_id", "cc.subject_id", "mk.movie_id", "mk.keyword_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.459, + "Actual Total Time": 65.462, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 58.892, + "Actual Total Time": 58.895, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 65.280, + "Actual Total Time": 65.282, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.432, + "Actual Total Time": 53.249, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.708, + "Actual Total Time": 57.590, + "Actual Rows": 187, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 65.708, + "Actual Total Time": 65.711, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 60.422, + "Actual Total Time": 60.426, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 3865.70, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 54.276, + "Actual Total Time": 62.547, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.458, + "Actual Total Time": 65.461, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 58.891, + "Actual Total Time": 58.894, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 65.279, + "Actual Total Time": 65.281, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.349, + "Actual Total Time": 52.963, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.635, + "Actual Total Time": 57.174, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 65.707, + "Actual Total Time": 65.710, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 60.421, + "Actual Total Time": 60.425, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 1029.35, + "Plan Rows": 3513, + "Plan Width": 8, + "Actual Startup Time": 0.164, + "Actual Total Time": 13.042, + "Actual Rows": 3074, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.181, + "Actual Total Time": 13.365, + "Actual Rows": 3849, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.236, + "Actual Total Time": 12.161, + "Actual Rows": 2057, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.091, + "Actual Total Time": 13.559, + "Actual Rows": 3283, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.094, + "Actual Total Time": 10.847, + "Actual Rows": 2574, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.116, + "Actual Total Time": 12.145, + "Actual Rows": 3311, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.097, + "Actual Total Time": 13.949, + "Actual Rows": 3534, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.209, + "Actual Total Time": 13.431, + "Actual Rows": 2134, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.021, + "Actual Total Time": 4.250, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 4.409, + "Actual Rows": 20350, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 4.004, + "Actual Rows": 11285, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 4.762, + "Actual Rows": 18721, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 3.477, + "Actual Rows": 14615, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 4.015, + "Actual Rows": 18685, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 4.641, + "Actual Rows": 19980, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.037, + "Actual Total Time": 3.843, + "Actual Rows": 11470, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.81, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 24592, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2000) AND ((t.title ~~ '%Freddy%'::text) OR (t.title ~~ '%Jason%'::text) OR (t.title ~~ 'Saw%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 3849 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 2057 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 3283 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 2574 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 3311 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 3534 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 2134 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 1.23, + "Plan Rows": 139, + "Plan Width": 8, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.252, + "Actual Rows": 146, + "Actual Loops": 2, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.204, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.301, + "Actual Rows": 187, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 291, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 104 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 187 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cct1.id", "cct1.kind"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = ANY ('{cast,crew}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.186, + "Actual Total Time": 0.428, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 95, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.144, + "Actual Total Time": 0.305, + "Actual Rows": 3, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.229, + "Actual Total Time": 0.551, + "Actual Rows": 2, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 20, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 12 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 8 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 60, + "Output": ["it2.id"], + "Cache Key": "mi_idx.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 36, + "Cache Hits": 33, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 24, + "Cache Hits": 21, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it2.id"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 20, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 8 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 0.286, + "Actual Total Time": 0.538, + "Actual Rows": 1, + "Actual Loops": 20, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Thriller}'::text[]))", + "Rows Removed by Filter": 451, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.175, + "Actual Total Time": 0.590, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.452, + "Actual Total Time": 0.458, + "Actual Rows": 2, + "Actual Loops": 8 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 28, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 16 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7721649514993682563, + "Planning Time": 3203.780, + "Triggers": [ + ], + "Execution Time": 86.703, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7721649514993682563, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS complete_violent_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind ='complete+verified'
  AND ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Action',
                  'Sci-Fi',
                  'Thriller',
                  'Crime',
                  'War')
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 8814.11, + "Total Cost": 8814.12, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1530.653, + "Actual Total Time": 1572.445, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 8814.03, + "Total Cost": 8814.04, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 1517.339, + "Actual Total Time": 1572.369, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 8813.03, + "Total Cost": 8813.04, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1508.095, + "Actual Total Time": 1508.112, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1506.265, + "Actual Total Time": 1506.277, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1506.720, + "Actual Total Time": 1506.731, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1515.196, + "Actual Total Time": 1515.231, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1500.434, + "Actual Total Time": 1500.443, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1504.745, + "Actual Total Time": 1504.757, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1505.544, + "Actual Total Time": 1505.556, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1509.475, + "Actual Total Time": 1509.488, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1715.76, + "Total Cost": 8801.57, + "Plan Rows": 1146, + "Plan Width": 80, + "Actual Startup Time": 103.004, + "Actual Total Time": 1505.595, + "Actual Rows": 1003, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.021, + "Actual Total Time": 1503.800, + "Actual Rows": 1032, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 104.034, + "Actual Total Time": 1504.007, + "Actual Rows": 1038, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 99.316, + "Actual Total Time": 1513.056, + "Actual Rows": 860, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 100.260, + "Actual Total Time": 1497.794, + "Actual Rows": 1043, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 99.837, + "Actual Total Time": 1502.111, + "Actual Rows": 1041, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 105.349, + "Actual Total Time": 1503.404, + "Actual Rows": 831, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.604, + "Actual Total Time": 1506.684, + "Actual Rows": 1141, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1714.72, + "Total Cost": 8793.00, + "Plan Rows": 1391, + "Plan Width": 84, + "Actual Startup Time": 102.509, + "Actual Total Time": 1503.095, + "Actual Rows": 1217, + "Actual Loops": 8, + "Output": ["n.name", "cc.subject_id", "t.title", "mi_idx.info", "mi.info"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 96.671, + "Actual Total Time": 1501.515, + "Actual Rows": 1277, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 103.721, + "Actual Total Time": 1501.186, + "Actual Rows": 1307, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 98.745, + "Actual Total Time": 1510.787, + "Actual Rows": 1036, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 99.702, + "Actual Total Time": 1495.206, + "Actual Rows": 1201, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 99.255, + "Actual Total Time": 1499.430, + "Actual Rows": 1285, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 104.742, + "Actual Total Time": 1501.128, + "Actual Rows": 1075, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 97.908, + "Actual Total Time": 1503.836, + "Actual Rows": 1337, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1714.29, + "Total Cost": 8792.49, + "Plan Rows": 1, + "Plan Width": 73, + "Actual Startup Time": 101.503, + "Actual Total Time": 1458.583, + "Actual Rows": 1801, + "Actual Loops": 8, + "Output": ["cc.subject_id", "t.title", "mi_idx.info", "mi.info", "ci.person_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 96.540, + "Actual Total Time": 1458.829, + "Actual Rows": 1951, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 103.626, + "Actual Total Time": 1457.801, + "Actual Rows": 1779, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 98.678, + "Actual Total Time": 1467.245, + "Actual Rows": 1568, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 98.408, + "Actual Total Time": 1451.312, + "Actual Rows": 1776, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 99.164, + "Actual Total Time": 1455.298, + "Actual Rows": 1934, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 104.622, + "Actual Total Time": 1460.987, + "Actual Rows": 1681, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 97.846, + "Actual Total Time": 1453.550, + "Actual Rows": 1897, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1713.85, + "Total Cost": 8789.78, + "Plan Rows": 2, + "Plan Width": 89, + "Actual Startup Time": 99.739, + "Actual Total Time": 724.076, + "Actual Rows": 2318, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "mi.info", "mi.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 95.656, + "Actual Total Time": 726.031, + "Actual Rows": 2397, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 103.216, + "Actual Total Time": 708.138, + "Actual Rows": 2360, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.784, + "Actual Total Time": 730.956, + "Actual Rows": 2255, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 96.674, + "Actual Total Time": 725.316, + "Actual Rows": 2362, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 98.365, + "Actual Total Time": 721.178, + "Actual Rows": 2274, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 97.678, + "Actual Total Time": 727.309, + "Actual Rows": 2197, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 97.261, + "Actual Total Time": 717.804, + "Actual Rows": 2340, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1712.01, + "Total Cost": 8787.46, + "Plan Rows": 171, + "Plan Width": 93, + "Actual Startup Time": 99.720, + "Actual Total Time": 719.697, + "Actual Rows": 2963, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 95.644, + "Actual Total Time": 721.647, + "Actual Rows": 3093, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 103.208, + "Actual Total Time": 703.860, + "Actual Rows": 3024, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.768, + "Actual Total Time": 726.684, + "Actual Rows": 2969, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 96.660, + "Actual Total Time": 720.547, + "Actual Rows": 2942, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 98.348, + "Actual Total Time": 716.906, + "Actual Rows": 2918, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 97.662, + "Actual Total Time": 723.268, + "Actual Rows": 2762, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 97.244, + "Actual Total Time": 713.325, + "Actual Rows": 2988, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1711.57, + "Total Cost": 6335.03, + "Plan Rows": 2326, + "Plan Width": 42, + "Actual Startup Time": 99.389, + "Actual Total Time": 276.778, + "Actual Rows": 2035, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 95.316, + "Actual Total Time": 274.016, + "Actual Rows": 1968, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 103.105, + "Actual Total Time": 272.976, + "Actual Rows": 2038, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.167, + "Actual Total Time": 286.157, + "Actual Rows": 2121, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 96.522, + "Actual Total Time": 270.079, + "Actual Rows": 2060, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.566, + "Actual Total Time": 264.527, + "Actual Rows": 1986, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 97.376, + "Actual Total Time": 263.761, + "Actual Rows": 2004, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.907, + "Actual Total Time": 287.804, + "Actual Rows": 2045, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1709.73, + "Total Cost": 6329.72, + "Plan Rows": 1274, + "Plan Width": 46, + "Actual Startup Time": 99.361, + "Actual Total Time": 271.646, + "Actual Rows": 6207, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 95.295, + "Actual Total Time": 269.170, + "Actual Rows": 6020, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 103.089, + "Actual Total Time": 267.797, + "Actual Rows": 6208, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.143, + "Actual Total Time": 280.909, + "Actual Rows": 6432, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 96.492, + "Actual Total Time": 264.157, + "Actual Rows": 6287, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.537, + "Actual Total Time": 259.671, + "Actual Rows": 6086, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 97.349, + "Actual Total Time": 258.876, + "Actual Rows": 6119, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.881, + "Actual Total Time": 282.780, + "Actual Rows": 6227, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1709.30, + "Total Cost": 5126.73, + "Plan Rows": 2334, + "Plan Width": 33, + "Actual Startup Time": 99.214, + "Actual Total Time": 208.531, + "Actual Rows": 2042, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 95.190, + "Actual Total Time": 202.519, + "Actual Rows": 1974, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 103.020, + "Actual Total Time": 208.107, + "Actual Rows": 2040, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 96.885, + "Actual Total Time": 206.503, + "Actual Rows": 2127, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 96.391, + "Actual Total Time": 205.679, + "Actual Rows": 2061, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.285, + "Actual Total Time": 202.496, + "Actual Rows": 1989, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 97.279, + "Actual Total Time": 199.906, + "Actual Rows": 2009, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.832, + "Actual Total Time": 215.574, + "Actual Rows": 2051, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1708.26, + "Total Cost": 5097.87, + "Plan Rows": 5144, + "Plan Width": 37, + "Actual Startup Time": 99.191, + "Actual Total Time": 204.623, + "Actual Rows": 4501, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 95.174, + "Actual Total Time": 198.739, + "Actual Rows": 4150, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 102.987, + "Actual Total Time": 204.181, + "Actual Rows": 4507, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 96.867, + "Actual Total Time": 202.436, + "Actual Rows": 4788, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 96.367, + "Actual Total Time": 201.734, + "Actual Rows": 4615, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.262, + "Actual Total Time": 198.645, + "Actual Rows": 4374, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 97.258, + "Actual Total Time": 196.000, + "Actual Rows": 4359, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.809, + "Actual Total Time": 211.701, + "Actual Rows": 4590, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1707.83, + "Total Cost": 2742.19, + "Plan Rows": 5144, + "Plan Width": 16, + "Actual Startup Time": 99.110, + "Actual Total Time": 121.074, + "Actual Rows": 4501, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Hash Cond": "(cc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 95.085, + "Actual Total Time": 116.153, + "Actual Rows": 4150, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 102.901, + "Actual Total Time": 125.685, + "Actual Rows": 4507, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 96.792, + "Actual Total Time": 120.034, + "Actual Rows": 4788, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 96.279, + "Actual Total Time": 117.365, + "Actual Rows": 4615, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.163, + "Actual Total Time": 117.837, + "Actual Rows": 4374, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 97.166, + "Actual Total Time": 116.978, + "Actual Rows": 4359, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.745, + "Actual Total Time": 121.080, + "Actual Rows": 4590, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.022, + "Actual Total Time": 5.459, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 5.038, + "Actual Rows": 16650, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 5.500, + "Actual Rows": 17796, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 5.239, + "Actual Rows": 18130, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 5.117, + "Actual Rows": 15725, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 4.964, + "Actual Rows": 16280, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 4.713, + "Actual Rows": 14800, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 6.892, + "Actual Rows": 18130, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1570.84, + "Total Cost": 1570.84, + "Plan Rows": 10959, + "Plan Width": 4, + "Actual Startup Time": 98.679, + "Actual Total Time": 98.681, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 131072, + "Original Hash Buckets": 131072, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 4128, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 94.907, + "Actual Total Time": 94.909, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 102.814, + "Actual Total Time": 102.816, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 96.697, + "Actual Total Time": 96.700, + "Actual Rows": 12628, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 96.149, + "Actual Total Time": 96.151, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 96.974, + "Actual Total Time": 96.976, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 96.976, + "Actual Total Time": 96.978, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.634, + "Actual Total Time": 96.635, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1570.84, + "Plan Rows": 10959, + "Plan Width": 4, + "Actual Startup Time": 15.965, + "Actual Total Time": 68.436, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 59.006, + "Actual Total Time": 59.007, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.559, + "Actual Total Time": 82.800, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.866, + "Actual Total Time": 72.833, + "Actual Rows": 12628, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.473, + "Actual Total Time": 53.975, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.710, + "Actual Total Time": 56.910, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 61.052, + "Actual Total Time": 61.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.408, + "Actual Total Time": 83.392, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1308.38, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 15.831, + "Actual Total Time": 17.037, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 59.005, + "Actual Total Time": 59.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.422, + "Actual Total Time": 0.453, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.613, + "Actual Total Time": 0.672, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.236, + "Actual Total Time": 1.429, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.560, + "Actual Total Time": 9.880, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 61.051, + "Actual Total Time": 61.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.271, + "Actual Total Time": 1.278, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.87, + "Plan Rows": 10959, + "Plan Width": 8, + "Actual Startup Time": 0.156, + "Actual Total Time": 54.884, + "Actual Rows": 10959, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.133, + "Actual Total Time": 76.344, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.152, + "Actual Total Time": 33.566, + "Actual Rows": 6314, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.229, + "Actual Total Time": 49.580, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.144, + "Actual Total Time": 44.219, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.131, + "Actual Total Time": 75.844, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 36010, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 4150 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 4507 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 4788 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 4615 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 4374 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 4359 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 4590 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.028, + "Actual Rows": 3, + "Actual Loops": 16336, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.031, + "Actual Rows": 3, + "Actual Loops": 1974 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.026, + "Actual Rows": 3, + "Actual Loops": 2040 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.032, + "Actual Rows": 3, + "Actual Loops": 2127 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.025, + "Actual Rows": 3, + "Actual Loops": 2061 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.026, + "Actual Rows": 3, + "Actual Loops": 1989 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.026, + "Actual Rows": 3, + "Actual Loops": 2009 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.030, + "Actual Rows": 3, + "Actual Loops": 2051 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.03, + "Plan Rows": 2, + "Plan Width": 51, + "Actual Startup Time": 0.123, + "Actual Total Time": 0.215, + "Actual Rows": 1, + "Actual Loops": 16283, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Action,Sci-Fi,Thriller,Crime,War}'::text[]))", + "Rows Removed by Filter": 134, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.124, + "Actual Total Time": 0.225, + "Actual Rows": 2, + "Actual Loops": 1968 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.119, + "Actual Total Time": 0.209, + "Actual Rows": 1, + "Actual Loops": 2038 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.108, + "Actual Total Time": 0.205, + "Actual Rows": 1, + "Actual Loops": 2121 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.129, + "Actual Total Time": 0.216, + "Actual Rows": 1, + "Actual Loops": 2060 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.125, + "Actual Total Time": 0.225, + "Actual Rows": 1, + "Actual Loops": 1986 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.138, + "Actual Total Time": 0.227, + "Actual Rows": 1, + "Actual Loops": 2004 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.124, + "Actual Total Time": 0.206, + "Actual Rows": 1, + "Actual Loops": 2045 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.243, + "Actual Total Time": 0.315, + "Actual Rows": 1, + "Actual Loops": 18543, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 82, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.232, + "Actual Total Time": 0.304, + "Actual Rows": 1, + "Actual Loops": 2397 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.249, + "Actual Total Time": 0.316, + "Actual Rows": 1, + "Actual Loops": 2360 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.254, + "Actual Total Time": 0.324, + "Actual Rows": 1, + "Actual Loops": 2255 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.235, + "Actual Total Time": 0.305, + "Actual Rows": 1, + "Actual Loops": 2362 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.245, + "Actual Total Time": 0.321, + "Actual Rows": 1, + "Actual Loops": 2274 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.258, + "Actual Total Time": 0.332, + "Actual Rows": 1, + "Actual Loops": 2197 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.231, + "Actual Total Time": 0.312, + "Actual Rows": 1, + "Actual Loops": 2340 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 14409, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 1951 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1779 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 1568 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 1776 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1934 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1681 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 1897 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.066, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.080, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1889760809355916724, + "Planning Time": 2938.066, + "Triggers": [ + ], + "Execution Time": 1572.877, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -1889760809355916724, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS violent_liongate_movie
FROM cast_info AS ci,
     company_name AS cn,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND cn.name LIKE 'Lionsgate%'
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Thriller')
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4684.64, + "Total Cost": 4684.65, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1004.371, + "Actual Total Time": 1025.748, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4684.55, + "Total Cost": 4684.56, + "Plan Rows": 8, + "Plan Width": 128, + "Actual Startup Time": 375.343, + "Actual Total Time": 1025.695, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4683.55, + "Total Cost": 4683.56, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 341.004, + "Actual Total Time": 341.014, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 725.984, + "Actual Total Time": 725.990, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 44.676, + "Actual Total Time": 44.686, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 44.861, + "Actual Total Time": 44.873, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 993.716, + "Actual Total Time": 993.723, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.106, + "Actual Total Time": 44.115, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 44.864, + "Actual Total Time": 44.876, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 455.579, + "Actual Total Time": 455.587, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.13, + "Total Cost": 4681.96, + "Plan Rows": 159, + "Plan Width": 80, + "Actual Startup Time": 27.375, + "Actual Total Time": 340.663, + "Actual Rows": 159, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 78.670, + "Actual Total Time": 725.232, + "Actual Rows": 366, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 44.669, + "Actual Total Time": 44.677, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.382, + "Actual Total Time": 44.846, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.695, + "Actual Total Time": 992.604, + "Actual Rows": 564, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.102, + "Actual Total Time": 44.111, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.174, + "Actual Total Time": 44.848, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.304, + "Actual Total Time": 455.129, + "Actual Rows": 180, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.70, + "Total Cost": 4582.97, + "Plan Rows": 194, + "Plan Width": 69, + "Actual Startup Time": 20.881, + "Actual Total Time": 336.217, + "Actual Rows": 194, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.080, + "Actual Total Time": 716.105, + "Actual Rows": 449, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 44.668, + "Actual Total Time": 44.676, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.269, + "Actual Total Time": 44.488, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.270, + "Actual Total Time": 976.148, + "Actual Rows": 730, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.101, + "Actual Total Time": 44.109, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.794, + "Actual Total Time": 44.446, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.221, + "Actual Total Time": 449.579, + "Actual Rows": 200, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.86, + "Total Cost": 4579.51, + "Plan Rows": 592, + "Plan Width": 73, + "Actual Startup Time": 19.188, + "Actual Total Time": 335.169, + "Actual Rows": 592, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.710, + "Actual Total Time": 714.594, + "Actual Rows": 1380, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 44.068, + "Actual Total Time": 44.075, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.316, + "Actual Total Time": 43.704, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.924, + "Actual Total Time": 973.962, + "Actual Rows": 2190, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.499, + "Actual Total Time": 43.506, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.653, + "Actual Total Time": 43.996, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.852, + "Actual Total Time": 448.535, + "Actual Rows": 604, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.44, + "Total Cost": 4103.87, + "Plan Rows": 1065, + "Plan Width": 77, + "Actual Startup Time": 18.838, + "Actual Total Time": 128.848, + "Actual Rows": 22424, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi_idx.info", "mi_idx.info_type_id", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.182, + "Actual Total Time": 258.909, + "Actual Rows": 51503, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 44.067, + "Actual Total Time": 44.073, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.060, + "Actual Total Time": 42.067, + "Actual Rows": 114, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.545, + "Actual Total Time": 334.294, + "Actual Rows": 74502, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.499, + "Actual Total Time": 43.505, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.328, + "Actual Total Time": 37.497, + "Actual Rows": 450, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.317, + "Actual Total Time": 165.651, + "Actual Rows": 25173, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.01, + "Total Cost": 3824.59, + "Plan Rows": 150, + "Plan Width": 93, + "Actual Startup Time": 18.596, + "Actual Total Time": 104.087, + "Actual Rows": 222, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.655, + "Actual Total Time": 204.957, + "Actual Rows": 503, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 44.066, + "Actual Total Time": 44.071, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.980, + "Actual Total Time": 41.702, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.449, + "Actual Total Time": 255.152, + "Actual Rows": 837, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.498, + "Actual Total Time": 43.504, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.237, + "Actual Total Time": 36.714, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.232, + "Actual Total Time": 132.072, + "Actual Rows": 202, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 3786.45, + "Plan Rows": 74, + "Plan Width": 80, + "Actual Startup Time": 18.544, + "Actual Total Time": 102.492, + "Actual Rows": 74, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.582, + "Actual Total Time": 201.516, + "Actual Rows": 165, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 44.065, + "Actual Total Time": 44.070, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.922, + "Actual Total Time": 41.573, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.379, + "Actual Total Time": 249.832, + "Actual Rows": 282, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.498, + "Actual Total Time": 43.503, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.153, + "Actual Total Time": 36.597, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.164, + "Actual Total Time": 130.046, + "Actual Rows": 70, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.15, + "Total Cost": 3751.07, + "Plan Rows": 74, + "Plan Width": 59, + "Actual Startup Time": 18.427, + "Actual Total Time": 100.940, + "Actual Rows": 74, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "mi.info", "mi.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.263, + "Actual Total Time": 198.217, + "Actual Rows": 165, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 44.065, + "Actual Total Time": 44.069, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.843, + "Actual Total Time": 41.432, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.291, + "Actual Total Time": 244.644, + "Actual Rows": 282, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.497, + "Actual Total Time": 43.501, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.028, + "Actual Total Time": 36.447, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.076, + "Actual Total Time": 128.319, + "Actual Rows": 70, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 3624.10, + "Plan Rows": 90, + "Plan Width": 51, + "Actual Startup Time": 8.510, + "Actual Total Time": 50.287, + "Actual Rows": 90, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.228, + "Actual Total Time": 88.531, + "Actual Rows": 216, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 44.064, + "Actual Total Time": 44.068, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.028, + "Actual Total Time": 38.704, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.201, + "Actual Total Time": 93.467, + "Actual Rows": 327, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.012, + "Actual Total Time": 42.755, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.844, + "Actual Total Time": 31.296, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.871, + "Actual Total Time": 41.634, + "Actual Rows": 95, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3622.00, + "Plan Rows": 93, + "Plan Width": 55, + "Actual Startup Time": 8.481, + "Actual Total Time": 50.035, + "Actual Rows": 93, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.212, + "Actual Total Time": 88.032, + "Actual Rows": 233, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 44.053, + "Actual Total Time": 44.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.003, + "Actual Total Time": 38.662, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.181, + "Actual Total Time": 92.693, + "Actual Rows": 331, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.982, + "Actual Total Time": 42.720, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.822, + "Actual Total Time": 31.260, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.854, + "Actual Total Time": 41.328, + "Actual Rows": 95, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 3403.65, + "Plan Rows": 227, + "Plan Width": 4, + "Actual Startup Time": 6.945, + "Actual Total Time": 21.776, + "Actual Rows": 227, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.921, + "Actual Total Time": 13.865, + "Actual Rows": 596, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 44.052, + "Actual Total Time": 44.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.826, + "Actual Total Time": 26.165, + "Actual Rows": 229, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.654, + "Actual Total Time": 7.072, + "Actual Rows": 712, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.576, + "Actual Total Time": 41.514, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.312, + "Actual Total Time": 29.214, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.653, + "Actual Total Time": 8.669, + "Actual Rows": 164, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.794, + "Actual Total Time": 19.811, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "(cn.name ~~ 'Lionsgate%'::text)", + "Rows Removed by Filter": 29373, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.828, + "Actual Total Time": 9.685, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 44.051, + "Actual Total Time": 44.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.718, + "Actual Total Time": 25.283, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.296, + "Actual Total Time": 0.311, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.189, + "Actual Total Time": 40.900, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.217, + "Actual Total Time": 29.052, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.561, + "Actual Total Time": 6.701, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 39.66, + "Plan Rows": 181, + "Plan Width": 8, + "Actual Startup Time": 0.133, + "Actual Total Time": 1.467, + "Actual Rows": 181, + "Actual Loops": 10, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.081, + "Actual Total Time": 1.933, + "Actual Rows": 298, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.385, + "Actual Rows": 114, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.354, + "Actual Total Time": 6.385, + "Actual Rows": 712, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.382, + "Actual Total Time": 0.598, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.091, + "Actual Total Time": 0.152, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.919, + "Actual Rows": 82, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.95, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 0.107, + "Actual Total Time": 0.123, + "Actual Rows": 0, + "Actual Loops": 1814, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Thriller}'::text[]))", + "Rows Removed by Filter": 61, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.108, + "Actual Total Time": 0.123, + "Actual Rows": 0, + "Actual Loops": 596 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 229 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.104, + "Actual Total Time": 0.119, + "Actual Rows": 0, + "Actual Loops": 712 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.192, + "Actual Total Time": 0.196, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.307, + "Actual Total Time": 0.406, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.167, + "Actual Total Time": 0.197, + "Actual Rows": 1, + "Actual Loops": 164 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.40, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.428, + "Actual Total Time": 0.557, + "Actual Rows": 1, + "Actual Loops": 724, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 88, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.393, + "Actual Total Time": 0.505, + "Actual Rows": 1, + "Actual Loops": 216 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.424, + "Actual Total Time": 0.542, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.349, + "Actual Total Time": 0.460, + "Actual Rows": 1, + "Actual Loops": 327 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.740, + "Actual Total Time": 0.740, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.574, + "Actual Total Time": 1.711, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.706, + "Actual Total Time": 0.910, + "Actual Rows": 1, + "Actual Loops": 95 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 594, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 165 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 282 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.067, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 70 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 594, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 165 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.038, + "Actual Rows": 3, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 282 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.052, + "Actual Rows": 3, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.025, + "Actual Rows": 3, + "Actual Loops": 70 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 89, + "Plan Width": 8, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.077, + "Actual Rows": 101, + "Actual Loops": 1780, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.074, + "Actual Rows": 102, + "Actual Loops": 503 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.033, + "Actual Rows": 13, + "Actual Loops": 9 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.066, + "Actual Rows": 89, + "Actual Loops": 837 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.092, + "Actual Rows": 75, + "Actual Loops": 6 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.113, + "Actual Rows": 125, + "Actual Loops": 202 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 179388, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 51503 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 114 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 74502 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 450 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 25173 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.090, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1556, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 449 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.069, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 730 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.196, + "Actual Total Time": 0.196, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 200 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7519382914444524780, + "Planning Time": 405.336, + "Triggers": [ + ], + "Execution Time": 1026.302, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7519382914444524780, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS violent_liongate_movie
FROM cast_info AS ci,
     company_name AS cn,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND cn.name LIKE 'Lionsgate%'
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mc.note LIKE '%(Blu-ray)%'
  AND mi.info IN ('Horror',
                  'Thriller')
  AND n.gender = 'm'
  AND t.production_year > 2000
  AND (t.title LIKE '%Freddy%'
       OR t.title LIKE '%Jason%'
       OR t.title LIKE 'Saw%')
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3478.56, + "Total Cost": 3478.57, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 130.742, + "Actual Total Time": 137.901, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3478.47, + "Total Cost": 3478.48, + "Plan Rows": 8, + "Plan Width": 128, + "Actual Startup Time": 81.076, + "Actual Total Time": 137.876, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3477.47, + "Total Cost": 3477.48, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 48.708, + "Actual Total Time": 48.720, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.207, + "Actual Total Time": 30.219, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.251, + "Actual Total Time": 30.261, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 53.500, + "Actual Total Time": 53.512, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 114.362, + "Actual Total Time": 114.368, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.171, + "Actual Total Time": 25.185, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.051, + "Actual Total Time": 31.063, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.368, + "Actual Total Time": 25.382, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.13, + "Total Cost": 3477.37, + "Plan Rows": 10, + "Plan Width": 80, + "Actual Startup Time": 38.713, + "Actual Total Time": 48.691, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.200, + "Actual Total Time": 30.211, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.246, + "Actual Total Time": 30.256, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 37.229, + "Actual Total Time": 53.447, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 72.554, + "Actual Total Time": 114.302, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.161, + "Actual Total Time": 25.174, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.044, + "Actual Total Time": 31.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.361, + "Actual Total Time": 25.374, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.70, + "Total Cost": 3472.27, + "Plan Rows": 10, + "Plan Width": 69, + "Actual Startup Time": 38.689, + "Actual Total Time": 48.540, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi_idx.info", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.200, + "Actual Total Time": 30.210, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.245, + "Actual Total Time": 30.254, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 37.149, + "Actual Total Time": 53.035, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 72.502, + "Actual Total Time": 113.845, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.160, + "Actual Total Time": 25.172, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.043, + "Actual Total Time": 31.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.360, + "Actual Total Time": 25.371, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.26, + "Total Cost": 3464.05, + "Plan Rows": 6, + "Plan Width": 85, + "Actual Startup Time": 38.504, + "Actual Total Time": 47.180, + "Actual Rows": 6, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.199, + "Actual Total Time": 30.208, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.244, + "Actual Total Time": 30.252, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 36.809, + "Actual Total Time": 50.581, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 72.053, + "Actual Total Time": 108.480, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.159, + "Actual Total Time": 25.170, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.042, + "Actual Total Time": 31.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.359, + "Actual Total Time": 25.370, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.83, + "Total Cost": 3463.57, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 19.288, + "Actual Total Time": 45.859, + "Actual Rows": 32, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.198, + "Actual Total Time": 30.207, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.888, + "Actual Total Time": 30.157, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.321, + "Actual Total Time": 43.479, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.539, + "Actual Total Time": 106.390, + "Actual Rows": 152, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.158, + "Actual Total Time": 25.168, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.041, + "Actual Total Time": 31.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.357, + "Actual Total Time": 25.367, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.41, + "Total Cost": 3463.12, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 19.030, + "Actual Total Time": 28.767, + "Actual Rows": 1337, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "mk.keyword_id"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.198, + "Actual Total Time": 30.205, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.230, + "Actual Total Time": 27.794, + "Actual Rows": 113, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.826, + "Actual Total Time": 13.580, + "Actual Rows": 1315, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.019, + "Actual Total Time": 47.981, + "Actual Rows": 6131, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.157, + "Actual Total Time": 25.167, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.041, + "Actual Total Time": 31.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.356, + "Actual Total Time": 25.366, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.98, + "Total Cost": 3460.56, + "Plan Rows": 1, + "Plan Width": 60, + "Actual Startup Time": 17.865, + "Actual Total Time": 24.559, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.197, + "Actual Total Time": 30.204, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.107, + "Actual Total Time": 27.470, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.727, + "Actual Total Time": 10.036, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.574, + "Actual Total Time": 36.863, + "Actual Rows": 49, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.156, + "Actual Total Time": 25.165, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.040, + "Actual Total Time": 31.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.355, + "Actual Total Time": 25.364, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 3458.68, + "Plan Rows": 12, + "Plan Width": 64, + "Actual Startup Time": 17.428, + "Actual Total Time": 24.097, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.818, + "Actual Total Time": 29.823, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.743, + "Actual Total Time": 27.103, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.373, + "Actual Total Time": 9.650, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.204, + "Actual Total Time": 36.396, + "Actual Rows": 61, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.547, + "Actual Total Time": 24.553, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.689, + "Actual Total Time": 30.694, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.716, + "Actual Total Time": 24.722, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 3440.99, + "Plan Rows": 17, + "Plan Width": 13, + "Actual Startup Time": 15.560, + "Actual Total Time": 20.512, + "Actual Rows": 17, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.817, + "Actual Total Time": 29.821, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.417, + "Actual Total Time": 26.738, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.245, + "Actual Total Time": 5.761, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.191, + "Actual Total Time": 18.016, + "Actual Rows": 96, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.546, + "Actual Total Time": 24.551, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.688, + "Actual Total Time": 30.692, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.715, + "Actual Total Time": 24.719, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3439.01, + "Plan Rows": 52, + "Plan Width": 17, + "Actual Startup Time": 15.537, + "Actual Total Time": 20.434, + "Actual Rows": 52, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.808, + "Actual Total Time": 29.810, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.392, + "Actual Total Time": 26.710, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.220, + "Actual Total Time": 5.672, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.166, + "Actual Total Time": 17.727, + "Actual Rows": 294, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.534, + "Actual Total Time": 24.536, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.680, + "Actual Total Time": 30.682, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.703, + "Actual Total Time": 24.705, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 3402.11, + "Plan Rows": 17, + "Plan Width": 4, + "Actual Startup Time": 15.446, + "Actual Total Time": 18.369, + "Actual Rows": 17, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.807, + "Actual Total Time": 29.808, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.305, + "Actual Total Time": 26.599, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.106, + "Actual Total Time": 5.031, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.717, + "Actual Total Time": 3.120, + "Actual Rows": 97, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.533, + "Actual Total Time": 24.534, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.679, + "Actual Total Time": 30.680, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.701, + "Actual Total Time": 24.703, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 8.537, + "Actual Total Time": 17.025, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "(cn.name ~~ 'Lionsgate%'::text)", + "Rows Removed by Filter": 29373, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.154, + "Actual Total Time": 29.189, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.067, + "Actual Total Time": 24.759, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.389, + "Actual Total Time": 0.415, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.393, + "Actual Total Time": 0.414, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.532, + "Actual Total Time": 24.532, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.460, + "Actual Total Time": 30.586, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.700, + "Actual Total Time": 24.701, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 39.79, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.348, + "Actual Total Time": 1.062, + "Actual Rows": 14, + "Actual Loops": 10, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note ~~ '%(Blu-ray)%'::text)", + "Rows Removed by Filter": 168, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.304, + "Actual Total Time": 0.304, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.410, + "Actual Total Time": 0.455, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.712, + "Actual Total Time": 4.601, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.320, + "Actual Total Time": 2.660, + "Actual Rows": 97, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.089, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 2.14, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.116, + "Actual Total Time": 0.119, + "Actual Rows": 3, + "Actual Loops": 135, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.101, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.045, + "Actual Rows": 3, + "Actual Loops": 13 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.146, + "Actual Total Time": 0.148, + "Actual Rows": 3, + "Actual Loops": 97 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 51, + "Actual Startup Time": 0.153, + "Actual Total Time": 0.212, + "Actual Rows": 1, + "Actual Loops": 134, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Thriller}'::text[]))", + "Rows Removed by Filter": 197, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.321, + "Actual Total Time": 0.359, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.168, + "Actual Total Time": 0.296, + "Actual Rows": 1, + "Actual Loops": 13 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.150, + "Actual Total Time": 0.190, + "Actual Rows": 1, + "Actual Loops": 96 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.053, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 126, + "Plan Width": 8, + "Actual Startup Time": 0.220, + "Actual Total Time": 0.315, + "Actual Rows": 129, + "Actual Loops": 83, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.117, + "Actual Total Time": 0.239, + "Actual Rows": 113, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.125, + "Actual Total Time": 0.234, + "Actual Rows": 120, + "Actual Loops": 11 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.137, + "Actual Rows": 125, + "Actual Loops": 49 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 10697, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 113 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1315 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6131 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 260, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2000) AND ((t.title ~~ '%Freddy%'::text) OR (t.title ~~ '%Jason%'::text) OR (t.title ~~ 'Saw%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.190, + "Actual Total Time": 0.190, + "Actual Rows": 0, + "Actual Loops": 37 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 152 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.171, + "Actual Total Time": 0.234, + "Actual Rows": 2, + "Actual Loops": 46, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 87, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.138, + "Actual Total Time": 0.270, + "Actual Rows": 2, + "Actual Loops": 9 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.151, + "Actual Total Time": 0.184, + "Actual Rows": 2, + "Actual Loops": 29 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 84, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 22 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 46 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 146477119612211947, + "Planning Time": 403.592, + "Triggers": [ + ], + "Execution Time": 138.437, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 146477119612211947, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS violent_liongate_movie
FROM cast_info AS ci,
     company_name AS cn,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND cn.name LIKE 'Lionsgate%'
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Action',
                  'Sci-Fi',
                  'Thriller',
                  'Crime',
                  'War')
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5567.44, + "Total Cost": 5567.45, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 571.912, + "Actual Total Time": 599.854, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5567.36, + "Total Cost": 5567.37, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 252.830, + "Actual Total Time": 599.799, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5566.36, + "Total Cost": 5566.37, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 293.429, + "Actual Total Time": 293.439, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 358.613, + "Actual Total Time": 358.623, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 62.651, + "Actual Total Time": 62.660, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 336.339, + "Actual Total Time": 336.350, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 345.788, + "Actual Total Time": 345.796, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 558.393, + "Actual Total Time": 558.399, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 375.047, + "Actual Total Time": 375.055, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 58.699, + "Actual Total Time": 58.707, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3412.77, + "Total Cost": 5562.32, + "Plan Rows": 404, + "Plan Width": 80, + "Actual Startup Time": 38.530, + "Actual Total Time": 292.922, + "Actual Rows": 353, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.592, + "Actual Total Time": 357.742, + "Actual Rows": 608, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 62.647, + "Actual Total Time": 62.655, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.554, + "Actual Total Time": 335.984, + "Actual Rows": 193, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.909, + "Actual Total Time": 345.200, + "Actual Rows": 406, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 19.678, + "Actual Total Time": 557.130, + "Actual Rows": 984, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 24.917, + "Actual Total Time": 374.298, + "Actual Rows": 514, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 58.694, + "Actual Total Time": 58.702, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3410.92, + "Total Cost": 5559.31, + "Plan Rows": 430, + "Plan Width": 84, + "Actual Startup Time": 38.238, + "Actual Total Time": 292.276, + "Actual Rows": 376, + "Actual Loops": 8, + "Output": ["mi.info", "mi.info_type_id", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.345, + "Actual Total Time": 356.882, + "Actual Rows": 656, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 62.305, + "Actual Total Time": 62.313, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.301, + "Actual Total Time": 335.489, + "Actual Rows": 195, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.616, + "Actual Total Time": 344.535, + "Actual Rows": 416, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 19.373, + "Actual Total Time": 555.904, + "Actual Rows": 1086, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 24.653, + "Actual Total Time": 373.507, + "Actual Rows": 532, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 58.391, + "Actual Total Time": 58.398, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3410.49, + "Total Cost": 5340.52, + "Plan Rows": 210, + "Plan Width": 57, + "Actual Startup Time": 30.294, + "Actual Total Time": 259.604, + "Actual Rows": 184, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(mi_idx.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.083, + "Actual Total Time": 307.586, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 62.304, + "Actual Total Time": 62.311, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.604, + "Actual Total Time": 314.530, + "Actual Rows": 118, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.221, + "Actual Total Time": 309.726, + "Actual Rows": 224, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 19.276, + "Actual Total Time": 458.005, + "Actual Rows": 464, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.309, + "Actual Total Time": 328.270, + "Actual Rows": 277, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 58.390, + "Actual Total Time": 58.397, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3410.06, + "Total Cost": 5241.72, + "Plan Rows": 210, + "Plan Width": 36, + "Actual Startup Time": 30.136, + "Actual Total Time": 256.799, + "Actual Rows": 184, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 17.533, + "Actual Total Time": 302.184, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 62.304, + "Actual Total Time": 62.309, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.485, + "Actual Total Time": 312.063, + "Actual Rows": 118, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.821, + "Actual Total Time": 306.174, + "Actual Rows": 224, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 19.195, + "Actual Total Time": 452.273, + "Actual Rows": 464, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.247, + "Actual Total Time": 324.640, + "Actual Rows": 277, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 58.390, + "Actual Total Time": 58.395, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3409.63, + "Total Cost": 5135.09, + "Plan Rows": 210, + "Plan Width": 25, + "Actual Startup Time": 29.916, + "Actual Total Time": 252.280, + "Actual Rows": 184, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 17.440, + "Actual Total Time": 295.250, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 62.303, + "Actual Total Time": 62.308, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.565, + "Actual Total Time": 303.661, + "Actual Rows": 118, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.545, + "Actual Total Time": 301.006, + "Actual Rows": 224, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 19.068, + "Actual Total Time": 443.705, + "Actual Rows": 464, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.956, + "Actual Total Time": 319.711, + "Actual Rows": 277, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 58.389, + "Actual Total Time": 58.394, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3407.79, + "Total Cost": 5131.50, + "Plan Rows": 643, + "Plan Width": 29, + "Actual Startup Time": 29.541, + "Actual Total Time": 251.829, + "Actual Rows": 562, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id", "mk.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi_idx.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.821, + "Actual Total Time": 294.520, + "Actual Rows": 958, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 62.298, + "Actual Total Time": 62.302, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.094, + "Actual Total Time": 303.286, + "Actual Rows": 357, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.935, + "Actual Total Time": 300.463, + "Actual Rows": 675, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.705, + "Actual Total Time": 442.727, + "Actual Rows": 1435, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.622, + "Actual Total Time": 319.046, + "Actual Rows": 846, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 58.383, + "Actual Total Time": 58.388, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3407.35, + "Total Cost": 5130.14, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 29.001, + "Actual Total Time": 95.198, + "Actual Rows": 587, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.196, + "Actual Total Time": 75.352, + "Actual Rows": 944, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 62.297, + "Actual Total Time": 62.300, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.253, + "Actual Total Time": 133.984, + "Actual Rows": 510, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.410, + "Actual Total Time": 108.155, + "Actual Rows": 668, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.053, + "Actual Total Time": 112.007, + "Actual Rows": 1317, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.620, + "Actual Total Time": 103.914, + "Actual Rows": 916, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 58.382, + "Actual Total Time": 58.386, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3406.92, + "Total Cost": 5018.47, + "Plan Rows": 222, + "Plan Width": 8, + "Actual Startup Time": 28.847, + "Actual Total Time": 91.017, + "Actual Rows": 194, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Hash Cond": "(mk.movie_id = mc.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.877, + "Actual Total Time": 68.923, + "Actual Rows": 311, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 62.296, + "Actual Total Time": 62.299, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.872, + "Actual Total Time": 129.239, + "Actual Rows": 169, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.343, + "Actual Total Time": 103.183, + "Actual Rows": 222, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.725, + "Actual Total Time": 103.750, + "Actual Rows": 433, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.550, + "Actual Total Time": 98.119, + "Actual Rows": 304, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 58.382, + "Actual Total Time": 58.385, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1570.84, + "Plan Rows": 10959, + "Plan Width": 4, + "Actual Startup Time": 11.994, + "Actual Total Time": 71.838, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.046, + "Actual Total Time": 52.503, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.508, + "Actual Total Time": 45.509, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.648, + "Actual Total Time": 108.079, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.658, + "Actual Total Time": 84.881, + "Actual Rows": 10307, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.960, + "Actual Total Time": 85.180, + "Actual Rows": 12628, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.285, + "Actual Total Time": 77.705, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 44.617, + "Actual Total Time": 44.617, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1308.38, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 11.887, + "Actual Total Time": 11.906, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.930, + "Actual Total Time": 0.945, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.507, + "Actual Total Time": 45.508, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.485, + "Actual Total Time": 0.522, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.466, + "Actual Total Time": 0.489, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.825, + "Actual Total Time": 0.869, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.141, + "Actual Total Time": 1.147, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 44.615, + "Actual Total Time": 44.615, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.87, + "Plan Rows": 10959, + "Plan Width": 8, + "Actual Startup Time": 0.123, + "Actual Total Time": 65.397, + "Actual Rows": 10959, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.110, + "Actual Total Time": 49.452, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.157, + "Actual Total Time": 101.269, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.183, + "Actual Total Time": 81.720, + "Actual Rows": 10307, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.088, + "Actual Total Time": 40.405, + "Actual Rows": 6314, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.136, + "Actual Total Time": 71.341, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 3403.65, + "Total Cost": 3403.65, + "Plan Rows": 227, + "Plan Width": 4, + "Actual Startup Time": 14.909, + "Actual Total Time": 14.911, + "Actual Rows": 227, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Hash Buckets": 2048, + "Original Hash Buckets": 2048, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 208, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.856, + "Actual Total Time": 12.858, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.754, + "Actual Total Time": 16.755, + "Actual Rows": 167, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.340, + "Actual Total Time": 12.342, + "Actual Rows": 595, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.992, + "Actual Total Time": 13.994, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.876, + "Actual Total Time": 12.877, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.465, + "Actual Total Time": 12.466, + "Actual Rows": 227, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.853, + "Actual Total Time": 12.855, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 3403.65, + "Plan Rows": 227, + "Plan Width": 4, + "Actual Startup Time": 4.887, + "Actual Total Time": 14.702, + "Actual Rows": 227, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.734, + "Actual Total Time": 12.776, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.371, + "Actual Total Time": 16.538, + "Actual Rows": 167, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.740, + "Actual Total Time": 11.936, + "Actual Rows": 595, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.067, + "Actual Total Time": 13.909, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.814, + "Actual Total Time": 12.815, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.266, + "Actual Total Time": 12.264, + "Actual Rows": 227, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.791, + "Actual Total Time": 12.792, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 4.833, + "Actual Total Time": 13.408, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "(cn.name ~~ 'Lionsgate%'::text)", + "Rows Removed by Filter": 29373, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.665, + "Actual Total Time": 12.655, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.290, + "Actual Total Time": 14.909, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.662, + "Actual Total Time": 8.961, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.988, + "Actual Total Time": 13.816, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.813, + "Actual Total Time": 12.813, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.209, + "Actual Total Time": 11.704, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.790, + "Actual Total Time": 12.790, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 39.66, + "Plan Rows": 181, + "Plan Width": 8, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.966, + "Actual Rows": 181, + "Actual Loops": 10, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.113, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.775, + "Actual Rows": 84, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.075, + "Actual Total Time": 2.793, + "Actual Rows": 595, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.083, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.491, + "Actual Rows": 227, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 1551, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 311 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.024, + "Actual Rows": 3, + "Actual Loops": 169 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 222 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 433 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 304 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.191, + "Actual Total Time": 0.265, + "Actual Rows": 1, + "Actual Loops": 4693, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 119, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.165, + "Actual Total Time": 0.231, + "Actual Rows": 1, + "Actual Loops": 944 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.248, + "Actual Total Time": 0.330, + "Actual Rows": 1, + "Actual Loops": 510 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.189, + "Actual Total Time": 0.286, + "Actual Rows": 1, + "Actual Loops": 668 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.170, + "Actual Total Time": 0.250, + "Actual Rows": 1, + "Actual Loops": 1317 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.175, + "Actual Total Time": 0.233, + "Actual Rows": 1, + "Actual Loops": 916 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1471, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 312 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.068, + "Actual Rows": 1, + "Actual Loops": 118 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 224 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 464 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 277 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1471, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 312 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 118 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 224 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 464 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 277 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.175, + "Actual Rows": 2, + "Actual Loops": 1471, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Action,Sci-Fi,Thriller,Crime,War}'::text[]))", + "Rows Removed by Filter": 172, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.156, + "Actual Rows": 2, + "Actual Loops": 312 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.123, + "Actual Total Time": 0.175, + "Actual Rows": 2, + "Actual Loops": 118 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.090, + "Actual Total Time": 0.153, + "Actual Rows": 2, + "Actual Loops": 224 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.101, + "Actual Total Time": 0.209, + "Actual Rows": 2, + "Actual Loops": 464 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.161, + "Actual Rows": 2, + "Actual Loops": 277 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2399599952233934428, + "Planning Time": 333.876, + "Triggers": [ + ], + "Execution Time": 600.272, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 2399599952233934428, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(lt.link) AS link_type,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM keyword AS k,
     link_type AS lt,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE k.keyword ='10,000-mile-club'
  AND mk.keyword_id = k.id
  AND t1.id = mk.movie_id
  AND ml.movie_id = t1.id
  AND ml.linked_movie_id = t2.id
  AND lt.id = ml.link_type_id
  AND mk.movie_id = t1.id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1383.50, + "Total Cost": 1383.51, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 15.283, + "Actual Total Time": 18.429, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((lt.link)::text)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1383.43, + "Total Cost": 1383.44, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 14.974, + "Actual Total Time": 18.410, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((lt.link)::text))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1382.43, + "Total Cost": 1382.44, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 6.984, + "Actual Total Time": 6.991, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((lt.link)::text)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.024, + "Actual Total Time": 5.031, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.133, + "Actual Total Time": 5.138, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.319, + "Actual Total Time": 6.324, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.324, + "Actual Total Time": 6.331, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.012, + "Actual Total Time": 6.017, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.296, + "Actual Total Time": 6.302, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.744, + "Actual Total Time": 6.749, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.82, + "Total Cost": 1382.35, + "Plan Rows": 11, + "Plan Width": 46, + "Actual Startup Time": 6.979, + "Actual Total Time": 6.985, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["lt.link", "t1.title", "t2.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.019, + "Actual Total Time": 5.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.128, + "Actual Total Time": 5.133, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.315, + "Actual Total Time": 6.320, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.319, + "Actual Total Time": 6.326, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.006, + "Actual Total Time": 6.011, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.291, + "Actual Total Time": 6.296, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.738, + "Actual Total Time": 6.742, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.39, + "Total Cost": 1366.09, + "Plan Rows": 11, + "Plan Width": 33, + "Actual Startup Time": 6.978, + "Actual Total Time": 6.983, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ml.linked_movie_id", "lt.link", "t1.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.019, + "Actual Total Time": 5.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.127, + "Actual Total Time": 5.130, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.315, + "Actual Total Time": 6.318, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.319, + "Actual Total Time": 6.324, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.006, + "Actual Total Time": 6.010, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.290, + "Actual Total Time": 6.295, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.737, + "Actual Total Time": 6.740, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.96, + "Total Cost": 1361.05, + "Plan Rows": 11, + "Plan Width": 24, + "Actual Startup Time": 6.977, + "Actual Total Time": 6.981, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "ml.linked_movie_id", "lt.link"], + "Inner Unique": true, + "Hash Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.018, + "Actual Total Time": 5.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.126, + "Actual Total Time": 5.128, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.314, + "Actual Total Time": 6.317, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.318, + "Actual Total Time": 6.322, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.005, + "Actual Total Time": 6.008, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.289, + "Actual Total Time": 6.293, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.736, + "Actual Total Time": 6.739, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 1359.77, + "Plan Rows": 11, + "Plan Width": 16, + "Actual Startup Time": 6.651, + "Actual Total Time": 6.653, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.721, + "Actual Total Time": 4.723, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.788, + "Actual Total Time": 4.789, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.005, + "Actual Total Time": 6.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.013, + "Actual Total Time": 6.016, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.734, + "Actual Total Time": 5.736, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.012, + "Actual Total Time": 6.014, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.404, + "Actual Total Time": 6.406, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1346.68, + "Plan Rows": 34, + "Plan Width": 4, + "Actual Startup Time": 6.642, + "Actual Total Time": 6.645, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.720, + "Actual Total Time": 4.721, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.727, + "Actual Total Time": 4.741, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.004, + "Actual Total Time": 6.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.012, + "Actual Total Time": 6.014, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.733, + "Actual Total Time": 5.734, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.011, + "Actual Total Time": 6.012, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.403, + "Actual Total Time": 6.404, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.626, + "Actual Total Time": 6.627, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = '10,000-mile-club'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.719, + "Actual Total Time": 4.720, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.598, + "Actual Total Time": 4.610, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.003, + "Actual Total Time": 6.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.012, + "Actual Total Time": 6.013, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.733, + "Actual Total Time": 5.733, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.010, + "Actual Total Time": 6.011, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.402, + "Actual Total Time": 6.403, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 239, + "Plan Width": 8, + "Actual Startup Time": 0.121, + "Actual Total Time": 0.122, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.121, + "Actual Total Time": 0.122, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 0.38, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.11, + "Total Cost": 1.11, + "Plan Rows": 11, + "Plan Width": 16, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["lt.link", "lt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.11, + "Plan Rows": 11, + "Plan Width": 16, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.046, + "Actual Rows": 18, + "Actual Loops": 1, + "Output": ["lt.link", "lt.id"], + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"],+ "Index Cond": "(t1.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"], + "Index Cond": "(t2.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6225652705960457954, + "Planning Time": 36.548, + "Triggers": [ + ], + "Execution Time": 18.796, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 6225652705960457954, + "JOINS": 5 + } + ] (1 row)
SELECT MIN(lt.link) AS link_type,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM keyword AS k,
     link_type AS lt,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE k.keyword ='character-name-in-title'
  AND mk.keyword_id = k.id
  AND t1.id = mk.movie_id
  AND ml.movie_id = t1.id
  AND ml.linked_movie_id = t2.id
  AND lt.id = ml.link_type_id
  AND mk.movie_id = t1.id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1383.50, + "Total Cost": 1383.51, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 493.061, + "Actual Total Time": 493.393, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((lt.link)::text)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1383.43, + "Total Cost": 1383.44, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 493.038, + "Actual Total Time": 493.380, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((lt.link)::text))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1382.43, + "Total Cost": 1382.44, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 68.353, + "Actual Total Time": 68.359, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((lt.link)::text)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.162, + "Actual Total Time": 7.168, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.999, + "Actual Total Time": 7.005, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.302, + "Actual Total Time": 8.307, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.256, + "Actual Total Time": 8.261, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.285, + "Actual Total Time": 8.292, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.298, + "Actual Total Time": 8.304, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.316, + "Actual Total Time": 7.322, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.82, + "Total Cost": 1382.35, + "Plan Rows": 11, + "Plan Width": 46, + "Actual Startup Time": 7.278, + "Actual Total Time": 67.847, + "Actual Rows": 548, + "Actual Loops": 8, + "Output": ["lt.link", "t1.title", "t2.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.158, + "Actual Total Time": 7.163, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.994, + "Actual Total Time": 6.999, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.297, + "Actual Total Time": 8.302, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.251, + "Actual Total Time": 8.256, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.279, + "Actual Total Time": 8.285, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.293, + "Actual Total Time": 8.298, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.310, + "Actual Total Time": 7.316, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.39, + "Total Cost": 1366.09, + "Plan Rows": 11, + "Plan Width": 33, + "Actual Startup Time": 7.241, + "Actual Total Time": 48.338, + "Actual Rows": 548, + "Actual Loops": 8, + "Output": ["ml.linked_movie_id", "lt.link", "t1.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.157, + "Actual Total Time": 7.162, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.994, + "Actual Total Time": 6.998, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.297, + "Actual Total Time": 8.301, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.250, + "Actual Total Time": 8.255, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.279, + "Actual Total Time": 8.283, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.293, + "Actual Total Time": 8.297, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.310, + "Actual Total Time": 7.314, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.96, + "Total Cost": 1361.05, + "Plan Rows": 11, + "Plan Width": 24, + "Actual Startup Time": 7.233, + "Actual Total Time": 42.328, + "Actual Rows": 548, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "ml.linked_movie_id", "lt.link"], + "Inner Unique": true, + "Hash Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.157, + "Actual Total Time": 7.160, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.993, + "Actual Total Time": 6.996, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.296, + "Actual Total Time": 8.299, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.250, + "Actual Total Time": 8.253, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.278, + "Actual Total Time": 8.282, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.292, + "Actual Total Time": 8.296, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.309, + "Actual Total Time": 7.312, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 1359.77, + "Plan Rows": 11, + "Plan Width": 16, + "Actual Startup Time": 6.904, + "Actual Total Time": 41.435, + "Actual Rows": 548, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.871, + "Actual Total Time": 6.873, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.687, + "Actual Total Time": 6.689, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.972, + "Actual Total Time": 7.974, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.978, + "Actual Total Time": 7.979, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.953, + "Actual Total Time": 7.954, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.966, + "Actual Total Time": 7.968, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.984, + "Actual Total Time": 6.986, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1346.68, + "Plan Rows": 34, + "Plan Width": 4, + "Actual Startup Time": 6.870, + "Actual Total Time": 19.199, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.871, + "Actual Total Time": 6.872, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.686, + "Actual Total Time": 6.687, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.971, + "Actual Total Time": 7.972, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.977, + "Actual Total Time": 7.978, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.951, + "Actual Total Time": 7.952, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.965, + "Actual Total Time": 7.967, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.984, + "Actual Total Time": 6.984, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.851, + "Actual Total Time": 6.853, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.870, + "Actual Total Time": 6.871, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.685, + "Actual Total Time": 6.686, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.970, + "Actual Total Time": 7.971, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.976, + "Actual Total Time": 7.976, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.950, + "Actual Total Time": 7.951, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.964, + "Actual Total Time": 7.965, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.983, + "Actual Total Time": 6.983, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 239, + "Plan Width": 8, + "Actual Startup Time": 0.134, + "Actual Total Time": 86.975, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 0.38, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 41840, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.11, + "Total Cost": 1.11, + "Plan Rows": 11, + "Plan Width": 16, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["lt.link", "lt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.11, + "Plan Rows": 11, + "Plan Width": 16, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.036, + "Actual Rows": 18, + "Actual Loops": 1, + "Output": ["lt.link", "lt.id"], + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 4388, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"],+ "Index Cond": "(t1.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 4388, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"], + "Index Cond": "(t2.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6225652705960457954, + "Planning Time": 22.326, + "Triggers": [ + ], + "Execution Time": 493.675, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 6225652705960457954, + "JOINS": 5 + } + ] (1 row)
SELECT MIN(cn1.name) AS first_company,
       MIN(cn2.name) AS second_company,
       MIN(mi_idx1.info) AS first_rating,
       MIN(mi_idx2.info) AS second_rating,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM company_name AS cn1,
     company_name AS cn2,
     info_type AS it1,
     info_type AS it2,
     kind_type AS kt1,
     kind_type AS kt2,
     link_type AS lt,
     movie_companies AS mc1,
     movie_companies AS mc2,
     movie_info_idx AS mi_idx1,
     movie_info_idx AS mi_idx2,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE cn1.country_code = '[us]'
  AND it1.info = 'rating'
  AND it2.info = 'rating'
  AND kt1.kind IN ('tv series')
  AND kt2.kind IN ('tv series')
  AND lt.link IN ('sequel',
                  'follows',
                  'followed by')
  AND mi_idx2.info < '3.0'
  AND t2.production_year BETWEEN 2005 AND 2008
  AND lt.id = ml.link_type_id
  AND t1.id = ml.movie_id
  AND t2.id = ml.linked_movie_id
  AND it1.id = mi_idx1.info_type_id
  AND t1.id = mi_idx1.movie_id
  AND kt1.id = t1.kind_id
  AND cn1.id = mc1.company_id
  AND t1.id = mc1.movie_id
  AND ml.movie_id = mi_idx1.movie_id
  AND ml.movie_id = mc1.movie_id
  AND mi_idx1.movie_id = mc1.movie_id
  AND it2.id = mi_idx2.info_type_id
  AND t2.id = mi_idx2.movie_id
  AND kt2.id = t2.kind_id
  AND cn2.id = mc2.company_id
  AND t2.id = mc2.movie_id
  AND ml.linked_movie_id = mi_idx2.movie_id
  AND ml.linked_movie_id = mc2.movie_id
  AND mi_idx2.movie_id = mc2.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1362.28, + "Total Cost": 1362.29, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 40.201, + "Actual Total Time": 42.218, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn1.name)", "min(cn2.name)", "min(mi_idx1.info)", "min(mi_idx2.info)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1362.19, + "Total Cost": 1362.20, + "Plan Rows": 5, + "Plan Width": 192, + "Actual Startup Time": 38.519, + "Actual Total Time": 42.198, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn1.name))", "(PARTIAL min(cn2.name))", "(PARTIAL min(mi_idx1.info))", "(PARTIAL min(mi_idx2.info))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1361.19, + "Total Cost": 1361.20, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 28.608, + "Actual Total Time": 28.620, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn1.name)", "PARTIAL min(cn2.name)", "PARTIAL min(mi_idx1.info)", "PARTIAL min(mi_idx2.info)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.778, + "Actual Total Time": 22.788, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.433, + "Actual Total Time": 32.449, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.815, + "Actual Total Time": 29.823, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.962, + "Actual Total Time": 25.972, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.210, + "Actual Total Time": 23.219, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 8.26, + "Total Cost": 1361.16, + "Plan Rows": 2, + "Plan Width": 82, + "Actual Startup Time": 23.723, + "Actual Total Time": 28.609, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "mi_idx1.info", "mi_idx2.info", "t1.title", "t2.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.772, + "Actual Total Time": 22.781, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.156, + "Actual Total Time": 32.412, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.811, + "Actual Total Time": 29.819, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.955, + "Actual Total Time": 25.965, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.202, + "Actual Total Time": 23.211, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.84, + "Total Cost": 1360.28, + "Plan Rows": 2, + "Plan Width": 67, + "Actual Startup Time": 23.719, + "Actual Total Time": 28.550, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn1.name", "t2.title", "mi_idx2.info", "mi_idx1.info", "t1.title", "mc2.company_id"], + "Inner Unique": false, + "Join Filter": "(t2.id = mc2.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.771, + "Actual Total Time": 22.780, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.136, + "Actual Total Time": 32.067, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.811, + "Actual Total Time": 29.817, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.955, + "Actual Total Time": 25.964, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.201, + "Actual Total Time": 23.210, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.41, + "Total Cost": 1359.69, + "Plan Rows": 1, + "Plan Width": 75, + "Actual Startup Time": 23.713, + "Actual Total Time": 28.537, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["cn1.name", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id", "mi_idx1.info", "t1.title"], + "Inner Unique": true, + "Join Filter": "((ml.movie_id = t1.id) AND (kt1.id = t1.kind_id))", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.771, + "Actual Total Time": 22.779, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.098, + "Actual Total Time": 31.992, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.810, + "Actual Total Time": 29.816, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.954, + "Actual Total Time": 25.963, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.201, + "Actual Total Time": 23.208, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.98, + "Total Cost": 1359.21, + "Plan Rows": 1, + "Plan Width": 74, + "Actual Startup Time": 23.707, + "Actual Total Time": 28.529, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["cn1.name", "kt1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id", "mc1.movie_id", "mi_idx1.info", "mi_idx1.movie_id"], + "Inner Unique": false, + "Join Filter": "((ml.movie_id = mi_idx1.movie_id) AND (it1.id = mi_idx1.info_type_id))", + "Rows Removed by Join Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.770, + "Actual Total Time": 22.778, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.070, + "Actual Total Time": 31.952, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.809, + "Actual Total Time": 29.815, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.953, + "Actual Total Time": 25.962, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.200, + "Actual Total Time": 23.207, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.55, + "Total Cost": 1358.68, + "Plan Rows": 1, + "Plan Width": 69, + "Actual Startup Time": 23.702, + "Actual Total Time": 28.520, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["cn1.name", "it1.id", "kt1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id", "mc1.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.769, + "Actual Total Time": 22.777, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.043, + "Actual Total Time": 31.906, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.809, + "Actual Total Time": 29.814, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.953, + "Actual Total Time": 25.961, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.199, + "Actual Total Time": 23.205, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.13, + "Total Cost": 1357.35, + "Plan Rows": 3, + "Plan Width": 54, + "Actual Startup Time": 18.813, + "Actual Total Time": 28.404, + "Actual Rows": 2, + "Actual Loops": 6, + "Output": ["it1.id", "kt1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id", "mc1.company_id", "mc1.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.508, + "Actual Total Time": 22.611, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.947, + "Actual Total Time": 31.518, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.808, + "Actual Total Time": 29.813, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.977, + "Actual Total Time": 25.821, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.198, + "Actual Total Time": 23.204, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.70, + "Total Cost": 1355.92, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 18.750, + "Actual Total Time": 28.315, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["it1.id", "kt1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id"], + "Inner Unique": false, + "Hash Cond": "(mi_idx2.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.400, + "Actual Total Time": 22.426, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.853, + "Actual Total Time": 31.355, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.808, + "Actual Total Time": 29.812, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.801, + "Actual Total Time": 25.641, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.197, + "Actual Total Time": 23.203, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.44, + "Total Cost": 1351.56, + "Plan Rows": 23, + "Plan Width": 46, + "Actual Startup Time": 2.323, + "Actual Total Time": 28.122, + "Actual Rows": 19, + "Actual Loops": 6, + "Output": ["kt1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.info_type_id", "mi_idx2.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.268, + "Actual Total Time": 22.254, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.094, + "Actual Total Time": 31.224, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.784, + "Actual Total Time": 29.701, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.666, + "Actual Total Time": 25.475, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.088, + "Actual Total Time": 23.018, + "Actual Rows": 18, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.01, + "Total Cost": 1340.99, + "Plan Rows": 20, + "Plan Width": 33, + "Actual Startup Time": 1.939, + "Actual Total Time": 26.583, + "Actual Rows": 17, + "Actual Loops": 6, + "Output": ["kt1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.960, + "Actual Total Time": 20.768, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.872, + "Actual Total Time": 29.859, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.492, + "Actual Total Time": 28.480, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.818, + "Actual Total Time": 24.214, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.897, + "Actual Total Time": 21.819, + "Actual Rows": 10, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.01, + "Total Cost": 1319.04, + "Plan Rows": 20, + "Plan Width": 29, + "Actual Startup Time": 1.917, + "Actual Total Time": 26.410, + "Actual Rows": 17, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.931, + "Actual Total Time": 20.669, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.859, + "Actual Total Time": 29.657, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.478, + "Actual Total Time": 28.406, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.788, + "Actual Total Time": 23.947, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.863, + "Actual Total Time": 21.664, + "Actual Rows": 10, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1316.77, + "Plan Rows": 49, + "Plan Width": 33, + "Actual Startup Time": 1.819, + "Actual Total Time": 26.210, + "Actual Rows": 41, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "t2.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.880, + "Actual Total Time": 20.550, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.825, + "Actual Total Time": 29.536, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.437, + "Actual Total Time": 28.287, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.691, + "Actual Total Time": 23.775, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.794, + "Actual Total Time": 21.503, + "Actual Rows": 18, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 629.91, + "Plan Rows": 463, + "Plan Width": 8, + "Actual Startup Time": 0.526, + "Actual Total Time": 14.619, + "Actual Rows": 386, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.585, + "Actual Total Time": 11.974, + "Actual Rows": 195, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.501, + "Actual Total Time": 16.884, + "Actual Rows": 389, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.161, + "Actual Total Time": 14.310, + "Actual Rows": 540, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.179, + "Actual Total Time": 15.066, + "Actual Rows": 177, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.587, + "Actual Total Time": 14.305, + "Actual Rows": 130, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 12, + "Actual Startup Time": 0.093, + "Actual Total Time": 8.805, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.127, + "Actual Total Time": 7.367, + "Actual Rows": 3691, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.066, + "Actual Total Time": 10.280, + "Actual Rows": 4229, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.070, + "Actual Total Time": 8.475, + "Actual Rows": 6523, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.095, + "Actual Total Time": 9.071, + "Actual Rows": 3978, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.147, + "Actual Total Time": 8.686, + "Actual Rows": 4848, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 6712, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3691, + "Cache Hits": 3675, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4229, + "Cache Hits": 4213, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 6523, + "Cache Hits": 6507, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3978, + "Cache Hits": 3962, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4848, + "Cache Hits": 4832, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text = ANY ('{sequel,follows,\"followed by\"}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 2315, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"],+ "Index Cond": "(t2.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t2.production_year >= 2005) AND (t2.production_year <= 2008))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 195 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 389 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 540 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 177 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 130 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 245, + "Output": ["kt2.id"], + "Cache Key": "t2.kind_id", + "Cache Mode": "logical", + "Cache Hits": 127, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 16, + "Cache Hits": 12, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 23, + "Cache Hits": 20, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 37, + "Cache Hits": 32, + "Cache Misses": 5, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 20, + "Cache Hits": 18, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 18, + "Cache Hits": 12, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 24, + "Output": ["kt2.id"], + "Index Cond": "(kt2.id = t2.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt2.kind)::text = 'tv series'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 5 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 6 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Seq Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt1", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 100, + "Output": ["kt1.id", "kt1.kind"], + "Filter": "((kt1.kind)::text = 'tv series'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 11 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 20 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 18 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 10 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx2", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.090, + "Actual Rows": 1, + "Actual Loops": 100, + "Output": ["mi_idx2.id", "mi_idx2.movie_id", "mi_idx2.info_type_id", "mi_idx2.info", "mi_idx2.note"], + "Index Cond": "(mi_idx2.movie_id = t2.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx2.info < '3.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.130, + "Actual Total Time": 0.133, + "Actual Rows": 2, + "Actual Loops": 11 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.066, + "Actual Rows": 1, + "Actual Loops": 20 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.117, + "Actual Total Time": 0.120, + "Actual Rows": 2, + "Actual Loops": 10 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.067, + "Actual Rows": 1, + "Actual Loops": 18 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.110, + "Actual Total Time": 0.116, + "Actual Rows": 2, + "Actual Loops": 10 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 4.25, + "Total Cost": 4.25, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it2.id", "it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.00, + "Total Cost": 4.25, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.064, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id", "it1.id"], + "Inner Unique": false, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id", "it2.info"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + }, + { + "Node Type": "Seq Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 2.41, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id", "it1.info"], + "Filter": "((it1.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc1", + "Startup Cost": 0.43, + "Total Cost": 1.42, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.082, + "Actual Rows": 2, + "Actual Loops": 6, + "Output": ["mc1.id", "mc1.movie_id", "mc1.company_id", "mc1.company_type_id", "mc1.note"], + "Index Cond": "(mc1.movie_id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.058, + "Actual Rows": 2, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.075, + "Actual Rows": 4, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.168, + "Actual Total Time": 0.170, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn1", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 15, + "Output": ["cn1.id", "cn1.name", "cn1.country_code", "cn1.imdb_id", "cn1.name_pcode_nf", "cn1.name_pcode_sf", "cn1.md5sum"], + "Index Cond": "(cn1.id = mc1.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn1.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 7 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 7 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.135, + "Actual Total Time": 0.135, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx1", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 2, + "Output": ["mi_idx1.id", "mi_idx1.movie_id", "mi_idx1.info_type_id", "mi_idx1.info", "mi_idx1.note"], + "Index Cond": "(mi_idx1.movie_id = mc1.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"], + "Index Cond": "(t1.id = mc1.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc2", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.031, + "Actual Rows": 4, + "Actual Loops": 2, + "Output": ["mc2.id", "mc2.movie_id", "mc2.company_id", "mc2.company_type_id", "mc2.note"], + "Index Cond": "(mc2.movie_id = mi_idx2.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.031, + "Actual Rows": 4, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn2", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cn2.id", "cn2.name", "cn2.country_code", "cn2.imdb_id", "cn2.name_pcode_nf", "cn2.name_pcode_sf", "cn2.md5sum"], + "Index Cond": "(cn2.id = mc2.company_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 8 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -3515944407635664271, + "Planning Time": 3154.925, + "Triggers": [ + ], + "Execution Time": 42.711, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -3515944407635664271, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(cn1.name) AS first_company,
       MIN(cn2.name) AS second_company,
       MIN(mi_idx1.info) AS first_rating,
       MIN(mi_idx2.info) AS second_rating,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM company_name AS cn1,
     company_name AS cn2,
     info_type AS it1,
     info_type AS it2,
     kind_type AS kt1,
     kind_type AS kt2,
     link_type AS lt,
     movie_companies AS mc1,
     movie_companies AS mc2,
     movie_info_idx AS mi_idx1,
     movie_info_idx AS mi_idx2,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE cn1.country_code = '[nl]'
  AND it1.info = 'rating'
  AND it2.info = 'rating'
  AND kt1.kind IN ('tv series')
  AND kt2.kind IN ('tv series')
  AND lt.link LIKE '%follow%'
  AND mi_idx2.info < '3.0'
  AND t2.production_year = 2007
  AND lt.id = ml.link_type_id
  AND t1.id = ml.movie_id
  AND t2.id = ml.linked_movie_id
  AND it1.id = mi_idx1.info_type_id
  AND t1.id = mi_idx1.movie_id
  AND kt1.id = t1.kind_id
  AND cn1.id = mc1.company_id
  AND t1.id = mc1.movie_id
  AND ml.movie_id = mi_idx1.movie_id
  AND ml.movie_id = mc1.movie_id
  AND mi_idx1.movie_id = mc1.movie_id
  AND it2.id = mi_idx2.info_type_id
  AND t2.id = mi_idx2.movie_id
  AND kt2.id = t2.kind_id
  AND cn2.id = mc2.company_id
  AND t2.id = mc2.movie_id
  AND ml.linked_movie_id = mi_idx2.movie_id
  AND ml.linked_movie_id = mc2.movie_id
  AND mi_idx2.movie_id = mc2.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1332.23, + "Total Cost": 1332.24, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 34.125, + "Actual Total Time": 36.781, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn1.name)", "min(cn2.name)", "min(mi_idx1.info)", "min(mi_idx2.info)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1332.15, + "Total Cost": 1332.16, + "Plan Rows": 5, + "Plan Width": 192, + "Actual Startup Time": 32.160, + "Actual Total Time": 36.765, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn1.name))", "(PARTIAL min(cn2.name))", "(PARTIAL min(mi_idx1.info))", "(PARTIAL min(mi_idx2.info))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1331.15, + "Total Cost": 1331.16, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 21.886, + "Actual Total Time": 21.897, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn1.name)", "PARTIAL min(cn2.name)", "PARTIAL min(mi_idx1.info)", "PARTIAL min(mi_idx2.info)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.707, + "Actual Total Time": 15.720, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.435, + "Actual Total Time": 22.444, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.843, + "Actual Total Time": 20.855, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.740, + "Actual Total Time": 18.754, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.440, + "Actual Total Time": 22.449, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.15, + "Total Cost": 1331.13, + "Plan Rows": 1, + "Plan Width": 82, + "Actual Startup Time": 17.157, + "Actual Total Time": 21.888, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "mi_idx1.info", "mi_idx2.info", "t1.title", "t2.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.697, + "Actual Total Time": 15.709, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.430, + "Actual Total Time": 22.439, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.835, + "Actual Total Time": 20.846, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.732, + "Actual Total Time": 18.745, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.436, + "Actual Total Time": 22.444, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.73, + "Total Cost": 1330.69, + "Plan Rows": 1, + "Plan Width": 67, + "Actual Startup Time": 17.154, + "Actual Total Time": 21.876, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn1.name", "t2.title", "mi_idx2.info", "mi_idx1.info", "t1.title", "mc2.company_id"], + "Inner Unique": false, + "Join Filter": "(t2.id = mc2.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.697, + "Actual Total Time": 15.707, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.429, + "Actual Total Time": 22.437, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.834, + "Actual Total Time": 20.845, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.731, + "Actual Total Time": 18.743, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.435, + "Actual Total Time": 22.443, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.30, + "Total Cost": 1330.10, + "Plan Rows": 1, + "Plan Width": 75, + "Actual Startup Time": 17.150, + "Actual Total Time": 21.870, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["cn1.name", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id", "mi_idx1.info", "t1.title"], + "Inner Unique": true, + "Join Filter": "((ml.movie_id = t1.id) AND (kt1.id = t1.kind_id))", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.696, + "Actual Total Time": 15.706, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.429, + "Actual Total Time": 22.436, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.833, + "Actual Total Time": 20.843, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.731, + "Actual Total Time": 18.741, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.435, + "Actual Total Time": 22.443, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.87, + "Total Cost": 1329.62, + "Plan Rows": 1, + "Plan Width": 74, + "Actual Startup Time": 17.147, + "Actual Total Time": 21.867, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["cn1.name", "kt1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id", "mc1.movie_id", "mi_idx1.info", "mi_idx1.movie_id"], + "Inner Unique": false, + "Join Filter": "((ml.movie_id = mi_idx1.movie_id) AND (it1.id = mi_idx1.info_type_id))", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.696, + "Actual Total Time": 15.705, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.429, + "Actual Total Time": 22.435, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.833, + "Actual Total Time": 20.842, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.730, + "Actual Total Time": 18.740, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.434, + "Actual Total Time": 22.442, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.44, + "Total Cost": 1329.09, + "Plan Rows": 1, + "Plan Width": 69, + "Actual Startup Time": 17.143, + "Actual Total Time": 21.862, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["cn1.name", "kt1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id", "it1.id", "mc1.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.695, + "Actual Total Time": 15.703, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.428, + "Actual Total Time": 22.435, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.832, + "Actual Total Time": 20.841, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.729, + "Actual Total Time": 18.738, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.434, + "Actual Total Time": 22.441, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.02, + "Total Cost": 1328.65, + "Plan Rows": 1, + "Plan Width": 54, + "Actual Startup Time": 17.138, + "Actual Total Time": 21.848, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["kt1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id", "it1.id", "mc1.company_id", "mc1.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.694, + "Actual Total Time": 15.701, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.428, + "Actual Total Time": 22.433, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.832, + "Actual Total Time": 20.840, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.728, + "Actual Total Time": 18.737, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.433, + "Actual Total Time": 22.439, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.59, + "Total Cost": 1327.21, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 17.133, + "Actual Total Time": 21.838, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["kt1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id", "it1.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.693, + "Actual Total Time": 15.700, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.427, + "Actual Total Time": 22.432, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.831, + "Actual Total Time": 20.839, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.727, + "Actual Total Time": 18.735, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.433, + "Actual Total Time": 22.438, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.59, + "Total Cost": 1324.79, + "Plan Rows": 1, + "Plan Width": 42, + "Actual Startup Time": 17.129, + "Actual Total Time": 21.828, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["kt1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.692, + "Actual Total Time": 15.698, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.427, + "Actual Total Time": 22.431, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.831, + "Actual Total Time": 20.837, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.727, + "Actual Total Time": 18.734, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.433, + "Actual Total Time": 22.437, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.59, + "Total Cost": 1323.69, + "Plan Rows": 1, + "Plan Width": 38, + "Actual Startup Time": 17.127, + "Actual Total Time": 21.822, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.691, + "Actual Total Time": 15.697, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.426, + "Actual Total Time": 22.430, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.830, + "Actual Total Time": 20.836, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.726, + "Actual Total Time": 18.732, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.432, + "Actual Total Time": 22.436, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.45, + "Total Cost": 1323.52, + "Plan Rows": 1, + "Plan Width": 42, + "Actual Startup Time": 17.123, + "Actual Total Time": 21.816, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "t2.kind_id", "mi_idx2.info", "mi_idx2.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.690, + "Actual Total Time": 15.695, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.426, + "Actual Total Time": 22.429, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.829, + "Actual Total Time": 20.834, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.725, + "Actual Total Time": 18.730, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.431, + "Actual Total Time": 22.434, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1322.38, + "Plan Rows": 10, + "Plan Width": 46, + "Actual Startup Time": 10.831, + "Actual Total Time": 21.758, + "Actual Rows": 8, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "t2.kind_id", "mi_idx2.info", "mi_idx2.info_type_id", "mi_idx2.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.690, + "Actual Total Time": 15.693, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.221, + "Actual Total Time": 22.363, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.856, + "Actual Total Time": 20.705, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.724, + "Actual Total Time": 18.728, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.825, + "Actual Total Time": 22.361, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1318.10, + "Plan Rows": 7, + "Plan Width": 33, + "Actual Startup Time": 8.765, + "Actual Total Time": 21.413, + "Actual Rows": 6, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "t2.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.689, + "Actual Total Time": 15.691, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.202, + "Actual Total Time": 22.100, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.614, + "Actual Total Time": 20.260, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.723, + "Actual Total Time": 18.726, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.939, + "Actual Total Time": 22.151, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 632.40, + "Plan Rows": 463, + "Plan Width": 8, + "Actual Startup Time": 0.646, + "Actual Total Time": 16.320, + "Actual Rows": 386, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.438, + "Actual Total Time": 13.055, + "Actual Rows": 79, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.081, + "Actual Total Time": 16.856, + "Actual Rows": 416, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.002, + "Actual Total Time": 16.021, + "Actual Rows": 159, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.106, + "Actual Total Time": 16.877, + "Actual Rows": 45, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.146, + "Actual Total Time": 14.515, + "Actual Rows": 695, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 12, + "Actual Startup Time": 0.064, + "Actual Total Time": 9.608, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.091, + "Actual Total Time": 7.831, + "Actual Rows": 1900, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.043, + "Actual Total Time": 9.912, + "Actual Rows": 6443, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.065, + "Actual Total Time": 9.319, + "Actual Rows": 3100, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.095, + "Actual Total Time": 9.942, + "Actual Rows": 2523, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 8.416, + "Actual Rows": 5526, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 10489, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1900, + "Cache Hits": 1884, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 6443, + "Cache Hits": 6427, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3100, + "Cache Hits": 3084, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 2523, + "Cache Hits": 2507, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5526, + "Cache Hits": 5510, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 2315, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"],+ "Index Cond": "(t2.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t2.production_year = 2007)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 79 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 416 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 159 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 45 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 695 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx2", + "Startup Cost": 0.43, + "Total Cost": 0.60, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.054, + "Actual Rows": 1, + "Actual Loops": 37, + "Output": ["mi_idx2.id", "mi_idx2.movie_id", "mi_idx2.info_type_id", "mi_idx2.info", "mi_idx2.note"], + "Index Cond": "(mi_idx2.movie_id = t2.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx2.info < '3.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.041, + "Actual Rows": 2, + "Actual Loops": 6 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.085, + "Actual Rows": 2, + "Actual Loops": 5 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.050, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 50, + "Output": ["it2.id"], + "Cache Key": "mi_idx2.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 24, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 10, + "Cache Hits": 8, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 9, + "Cache Hits": 7, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 4, + "Cache Hits": 2, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 9, + "Output": ["it2.id"], + "Index Cond": "(it2.id = mi_idx2.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["kt2.id"], + "Cache Key": "t2.kind_id", + "Cache Mode": "logical", + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt2.id"], + "Index Cond": "(kt2.id = t2.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt2.kind)::text = 'tv series'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Seq Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt1", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["kt1.id", "kt1.kind"], + "Filter": "((kt1.kind)::text = 'tv series'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Seq Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 2.41, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["it1.id", "it1.info"], + "Filter": "((it1.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc1", + "Startup Cost": 0.43, + "Total Cost": 1.42, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.024, + "Actual Rows": 2, + "Actual Loops": 2, + "Output": ["mc1.id", "mc1.movie_id", "mc1.company_id", "mc1.company_type_id", "mc1.note"], + "Index Cond": "(mc1.movie_id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn1", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 4, + "Output": ["cn1.id", "cn1.name", "cn1.country_code", "cn1.imdb_id", "cn1.name_pcode_nf", "cn1.name_pcode_sf", "cn1.md5sum"], + "Index Cond": "(cn1.id = mc1.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn1.country_code)::text = '[nl]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx1", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 1, + "Output": ["mi_idx1.id", "mi_idx1.movie_id", "mi_idx1.info_type_id", "mi_idx1.info", "mi_idx1.note"], + "Index Cond": "(mi_idx1.movie_id = mc1.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"], + "Index Cond": "(t1.id = mc1.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc2", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.023, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["mc2.id", "mc2.movie_id", "mc2.company_id", "mc2.company_type_id", "mc2.note"], + "Index Cond": "(mc2.movie_id = mi_idx2.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn2", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 4, + "Output": ["cn2.id", "cn2.name", "cn2.country_code", "cn2.imdb_id", "cn2.name_pcode_nf", "cn2.name_pcode_sf", "cn2.md5sum"], + "Index Cond": "(cn2.id = mc2.company_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6846011022746249658, + "Planning Time": 2806.880, + "Triggers": [ + ], + "Execution Time": 37.348, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -6846011022746249658, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(cn1.name) AS first_company,
       MIN(cn2.name) AS second_company,
       MIN(mi_idx1.info) AS first_rating,
       MIN(mi_idx2.info) AS second_rating,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM company_name AS cn1,
     company_name AS cn2,
     info_type AS it1,
     info_type AS it2,
     kind_type AS kt1,
     kind_type AS kt2,
     link_type AS lt,
     movie_companies AS mc1,
     movie_companies AS mc2,
     movie_info_idx AS mi_idx1,
     movie_info_idx AS mi_idx2,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE cn1.country_code != '[us]'
  AND it1.info = 'rating'
  AND it2.info = 'rating'
  AND kt1.kind IN ('tv series',
                   'episode')
  AND kt2.kind IN ('tv series',
                   'episode')
  AND lt.link IN ('sequel',
                  'follows',
                  'followed by')
  AND mi_idx2.info < '3.5'
  AND t2.production_year BETWEEN 2000 AND 2010
  AND lt.id = ml.link_type_id
  AND t1.id = ml.movie_id
  AND t2.id = ml.linked_movie_id
  AND it1.id = mi_idx1.info_type_id
  AND t1.id = mi_idx1.movie_id
  AND kt1.id = t1.kind_id
  AND cn1.id = mc1.company_id
  AND t1.id = mc1.movie_id
  AND ml.movie_id = mi_idx1.movie_id
  AND ml.movie_id = mc1.movie_id
  AND mi_idx1.movie_id = mc1.movie_id
  AND it2.id = mi_idx2.info_type_id
  AND t2.id = mi_idx2.movie_id
  AND kt2.id = t2.kind_id
  AND cn2.id = mc2.company_id
  AND t2.id = mc2.movie_id
  AND ml.linked_movie_id = mi_idx2.movie_id
  AND ml.linked_movie_id = mc2.movie_id
  AND mi_idx2.movie_id = mc2.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1448.59, + "Total Cost": 1448.60, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 73.841, + "Actual Total Time": 77.609, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn1.name)", "min(cn2.name)", "min(mi_idx1.info)", "min(mi_idx2.info)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1448.50, + "Total Cost": 1448.51, + "Plan Rows": 5, + "Plan Width": 192, + "Actual Startup Time": 71.838, + "Actual Total Time": 77.538, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn1.name))", "(PARTIAL min(cn2.name))", "(PARTIAL min(mi_idx1.info))", "(PARTIAL min(mi_idx2.info))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1447.50, + "Total Cost": 1447.51, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 62.498, + "Actual Total Time": 62.516, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn1.name)", "PARTIAL min(cn2.name)", "PARTIAL min(mi_idx1.info)", "PARTIAL min(mi_idx2.info)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 64.387, + "Actual Total Time": 64.405, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 58.033, + "Actual Total Time": 58.050, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 59.731, + "Actual Total Time": 59.747, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 63.571, + "Actual Total Time": 63.580, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 58.497, + "Actual Total Time": 58.515, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 9.32, + "Total Cost": 1447.16, + "Plan Rows": 23, + "Plan Width": 82, + "Actual Startup Time": 30.619, + "Actual Total Time": 62.460, + "Actual Rows": 19, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "mi_idx1.info", "mi_idx2.info", "t1.title", "t2.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.140, + "Actual Total Time": 64.357, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.205, + "Actual Total Time": 58.025, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 38.041, + "Actual Total Time": 59.704, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 37.409, + "Actual Total Time": 63.479, + "Actual Rows": 61, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.713, + "Actual Total Time": 58.450, + "Actual Rows": 9, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 8.90, + "Total Cost": 1437.06, + "Plan Rows": 23, + "Plan Width": 67, + "Actual Startup Time": 30.572, + "Actual Total Time": 62.225, + "Actual Rows": 19, + "Actual Loops": 6, + "Output": ["cn1.name", "t2.title", "mi_idx2.info", "mi_idx1.info", "t1.title", "mc2.company_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.126, + "Actual Total Time": 64.195, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.121, + "Actual Total Time": 57.898, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 37.993, + "Actual Total Time": 59.611, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 37.385, + "Actual Total Time": 62.992, + "Actual Rows": 61, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.622, + "Actual Total Time": 58.165, + "Actual Rows": 9, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 8.47, + "Total Cost": 1432.13, + "Plan Rows": 9, + "Plan Width": 75, + "Actual Startup Time": 30.512, + "Actual Total Time": 62.054, + "Actual Rows": 8, + "Actual Loops": 6, + "Output": ["cn1.name", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id", "mi_idx1.info", "t1.title"], + "Inner Unique": true, + "Hash Cond": "(t1.kind_id = kt1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.101, + "Actual Total Time": 64.095, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.987, + "Actual Total Time": 57.742, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 37.908, + "Actual Total Time": 59.474, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 37.372, + "Actual Total Time": 62.710, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.542, + "Actual Total Time": 57.971, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.41, + "Total Cost": 1431.03, + "Plan Rows": 9, + "Plan Width": 79, + "Actual Startup Time": 30.375, + "Actual Total Time": 61.901, + "Actual Rows": 8, + "Actual Loops": 6, + "Output": ["cn1.name", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id", "mi_idx1.info", "t1.title", "t1.kind_id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t1.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.031, + "Actual Total Time": 64.015, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.855, + "Actual Total Time": 57.581, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 37.774, + "Actual Total Time": 59.331, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 37.315, + "Actual Total Time": 62.631, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.407, + "Actual Total Time": 57.826, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.98, + "Total Cost": 1426.73, + "Plan Rows": 9, + "Plan Width": 70, + "Actual Startup Time": 30.210, + "Actual Total Time": 61.665, + "Actual Rows": 8, + "Actual Loops": 6, + "Output": ["cn1.name", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id", "mc1.movie_id", "mi_idx1.info", "mi_idx1.movie_id"], + "Inner Unique": false, + "Join Filter": "((ml.movie_id = mi_idx1.movie_id) AND (it1.id = mi_idx1.info_type_id))", + "Rows Removed by Join Filter": 15, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.004, + "Actual Total Time": 63.938, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.125, + "Actual Total Time": 56.849, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 37.667, + "Actual Total Time": 59.172, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 37.298, + "Actual Total Time": 62.418, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.335, + "Actual Total Time": 57.700, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.55, + "Total Cost": 1421.43, + "Plan Rows": 10, + "Plan Width": 65, + "Actual Startup Time": 29.289, + "Actual Total Time": 61.356, + "Actual Rows": 8, + "Actual Loops": 6, + "Output": ["cn1.name", "it1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id", "mc1.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.976, + "Actual Total Time": 63.853, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.042, + "Actual Total Time": 56.764, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.221, + "Actual Total Time": 58.991, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 37.283, + "Actual Total Time": 62.028, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.552, + "Actual Total Time": 56.852, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.13, + "Total Cost": 1416.57, + "Plan Rows": 11, + "Plan Width": 50, + "Actual Startup Time": 29.221, + "Actual Total Time": 61.164, + "Actual Rows": 9, + "Actual Loops": 6, + "Output": ["it1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id", "mc1.company_id", "mc1.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.929, + "Actual Total Time": 63.668, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.950, + "Actual Total Time": 56.669, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.132, + "Actual Total Time": 58.684, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 37.250, + "Actual Total Time": 61.785, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.438, + "Actual Total Time": 56.670, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.70, + "Total Cost": 1410.79, + "Plan Rows": 4, + "Plan Width": 42, + "Actual Startup Time": 29.103, + "Actual Total Time": 60.964, + "Actual Rows": 4, + "Actual Loops": 6, + "Output": ["it1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id"], + "Inner Unique": false, + "Hash Cond": "(mi_idx2.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.881, + "Actual Total Time": 63.575, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.857, + "Actual Total Time": 56.573, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.983, + "Actual Total Time": 58.418, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 37.131, + "Actual Total Time": 61.634, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.183, + "Actual Total Time": 56.397, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.44, + "Total Cost": 1405.65, + "Plan Rows": 226, + "Plan Width": 42, + "Actual Startup Time": 5.113, + "Actual Total Time": 60.780, + "Actual Rows": 188, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.info_type_id", "mi_idx2.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.556, + "Actual Total Time": 63.097, + "Actual Rows": 539, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.418, + "Actual Total Time": 56.436, + "Actual Rows": 67, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.542, + "Actual Total Time": 58.321, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.414, + "Actual Total Time": 61.506, + "Actual Rows": 216, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.575, + "Actual Total Time": 56.298, + "Actual Rows": 53, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.01, + "Total Cost": 1322.41, + "Plan Rows": 163, + "Plan Width": 29, + "Actual Startup Time": 1.199, + "Actual Total Time": 30.009, + "Actual Rows": 136, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.510, + "Actual Total Time": 23.240, + "Actual Rows": 402, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.508, + "Actual Total Time": 34.158, + "Actual Rows": 62, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.157, + "Actual Total Time": 34.736, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.363, + "Actual Total Time": 29.552, + "Actual Rows": 136, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.510, + "Actual Total Time": 32.466, + "Actual Rows": 39, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1316.77, + "Plan Rows": 189, + "Plan Width": 33, + "Actual Startup Time": 1.151, + "Actual Total Time": 29.500, + "Actual Rows": 158, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "t2.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.483, + "Actual Total Time": 21.939, + "Actual Rows": 407, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.439, + "Actual Total Time": 33.702, + "Actual Rows": 92, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.082, + "Actual Total Time": 34.393, + "Actual Rows": 65, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.332, + "Actual Total Time": 29.174, + "Actual Rows": 190, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.440, + "Actual Total Time": 32.177, + "Actual Rows": 45, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 629.91, + "Plan Rows": 463, + "Plan Width": 8, + "Actual Startup Time": 0.345, + "Actual Total Time": 21.281, + "Actual Rows": 386, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.360, + "Actual Total Time": 7.358, + "Actual Rows": 632, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.190, + "Actual Total Time": 26.080, + "Actual Rows": 243, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.983, + "Actual Total Time": 26.022, + "Actual Rows": 303, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.114, + "Actual Total Time": 21.464, + "Actual Rows": 567, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.315, + "Actual Total Time": 26.963, + "Actual Rows": 144, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 12, + "Actual Startup Time": 0.058, + "Actual Total Time": 12.470, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 4.044, + "Actual Rows": 1241, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.094, + "Actual Total Time": 15.442, + "Actual Rows": 3939, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.073, + "Actual Total Time": 15.406, + "Actual Rows": 3943, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 12.500, + "Actual Rows": 10290, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.070, + "Actual Total Time": 15.965, + "Actual Rows": 4075, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 6493, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1241, + "Cache Hits": 1225, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3939, + "Cache Hits": 3923, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3943, + "Cache Hits": 3927, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 10290, + "Cache Hits": 10274, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4075, + "Cache Hits": 4059, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text = ANY ('{sequel,follows,\"followed by\"}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 2315, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"],+ "Index Cond": "(t2.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t2.production_year >= 2000) AND (t2.production_year <= 2010))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 632 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 243 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 303 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 567 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 144 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 946, + "Output": ["kt2.id"], + "Cache Key": "t2.kind_id", + "Cache Mode": "logical", + "Cache Hits": 142, + "Cache Misses": 5, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 407, + "Cache Hits": 404, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 92, + "Cache Hits": 86, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 65, + "Cache Hits": 60, + "Cache Misses": 5, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 190, + "Cache Hits": 184, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 45, + "Cache Hits": 41, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 29, + "Output": ["kt2.id"], + "Index Cond": "(kt2.id = t2.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt2.kind)::text = ANY ('{\"tv series\",episode}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 5 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 4 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx2", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.220, + "Actual Total Time": 0.224, + "Actual Rows": 1, + "Actual Loops": 815, + "Output": ["mi_idx2.id", "mi_idx2.movie_id", "mi_idx2.info_type_id", "mi_idx2.info", "mi_idx2.note"], + "Index Cond": "(mi_idx2.movie_id = t2.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx2.info < '3.5'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.091, + "Actual Total Time": 0.097, + "Actual Rows": 1, + "Actual Loops": 402 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.351, + "Actual Total Time": 0.356, + "Actual Rows": 1, + "Actual Loops": 62 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.494, + "Actual Total Time": 0.499, + "Actual Rows": 1, + "Actual Loops": 47 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.230, + "Actual Total Time": 0.233, + "Actual Rows": 2, + "Actual Loops": 136 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.601, + "Actual Total Time": 0.608, + "Actual Rows": 1, + "Actual Loops": 39 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 4.25, + "Total Cost": 4.25, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it2.id", "it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.00, + "Total Cost": 4.25, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id", "it1.id"], + "Inner Unique": false, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id", "it2.info"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + }, + { + "Node Type": "Seq Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 2.41, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id", "it1.info"], + "Filter": "((it1.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc1", + "Startup Cost": 0.43, + "Total Cost": 1.42, + "Plan Rows": 3, + "Plan Width": 8, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.053, + "Actual Rows": 3, + "Actual Loops": 21, + "Output": ["mc1.id", "mc1.movie_id", "mc1.company_id", "mc1.company_type_id", "mc1.note"], + "Index Cond": "(mc1.movie_id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.027, + "Actual Rows": 4, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.088, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.102, + "Actual Total Time": 0.125, + "Actual Rows": 2, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 12 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.246, + "Actual Total Time": 0.260, + "Actual Rows": 3, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn1", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 54, + "Output": ["cn1.id", "cn1.name", "cn1.country_code", "cn1.imdb_id", "cn1.name_pcode_nf", "cn1.name_pcode_sf", "cn1.md5sum"], + "Index Cond": "(cn1.id = mc1.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn1.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 11 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.088, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 26 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx1", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.035, + "Actual Rows": 3, + "Actual Loops": 49, + "Output": ["mi_idx1.id", "mi_idx1.movie_id", "mi_idx1.info_type_id", "mi_idx1.info", "mi_idx1.note"], + "Index Cond": "(mi_idx1.movie_id = mc1.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 3, + "Actual Loops": 6 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.074, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.031, + "Actual Rows": 2, + "Actual Loops": 5 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 26 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.270, + "Actual Total Time": 0.275, + "Actual Rows": 3, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 46, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"], + "Index Cond": "(t1.id = mc1.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.721, + "Actual Total Time": 0.721, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 25 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["kt1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt1", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.025, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt1.id"], + "Filter": "((kt1.kind)::text = ANY ('{\"tv series\",episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc2", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.020, + "Actual Rows": 2, + "Actual Loops": 46, + "Output": ["mc2.id", "mc2.movie_id", "mc2.company_id", "mc2.company_type_id", "mc2.note"], + "Index Cond": "(mc2.movie_id = t2.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 6 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.127, + "Actual Total Time": 0.147, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.010, + "Actual Rows": 2, + "Actual Loops": 25 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.058, + "Actual Rows": 3, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn2", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 114, + "Output": ["cn2.id", "cn2.name", "cn2.country_code", "cn2.imdb_id", "cn2.name_pcode_nf", "cn2.name_pcode_sf", "cn2.md5sum"], + "Index Cond": "(cn2.id = mc2.company_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 15 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 61 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 9 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2787191317670660246, + "Planning Time": 2911.358, + "Triggers": [ + ], + "Execution Time": 78.396, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -2787191317670660246, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM keyword AS k,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE k.keyword LIKE '%sequel%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German')
  AND t.production_year > 2005
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi.movie_id
  AND k.id = mk.keyword_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2984.13, + "Total Cost": 2984.14, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 359.414, + "Actual Total Time": 380.020, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2984.10, + "Total Cost": 2984.11, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 40.438, + "Actual Total Time": 379.975, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2983.10, + "Total Cost": 2983.11, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 76.819, + "Actual Total Time": 76.823, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.663, + "Actual Total Time": 32.669, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.994, + "Actual Total Time": 31.000, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.107, + "Actual Total Time": 31.111, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.586, + "Actual Total Time": 22.590, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 75.193, + "Actual Total Time": 75.195, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 351.669, + "Actual Total Time": 351.671, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.568, + "Actual Total Time": 31.572, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 2983.03, + "Plan Rows": 29, + "Plan Width": 17, + "Actual Startup Time": 10.947, + "Actual Total Time": 76.670, + "Actual Rows": 26, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.181, + "Actual Total Time": 32.640, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.079, + "Actual Total Time": 30.964, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.660, + "Actual Total Time": 31.087, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.895, + "Actual Total Time": 22.548, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.785, + "Actual Total Time": 75.114, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.532, + "Actual Total Time": 350.715, + "Actual Rows": 147, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.225, + "Actual Total Time": 31.542, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2633.13, + "Plan Rows": 319, + "Plan Width": 25, + "Actual Startup Time": 6.853, + "Actual Total Time": 47.618, + "Actual Rows": 279, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.584, + "Actual Total Time": 19.521, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.771, + "Actual Total Time": 21.957, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.016, + "Actual Total Time": 17.937, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.781, + "Actual Total Time": 11.784, + "Actual Rows": 74, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.134, + "Actual Total Time": 39.242, + "Actual Rows": 536, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.384, + "Actual Total Time": 215.664, + "Actual Rows": 1457, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.067, + "Actual Total Time": 25.476, + "Actual Rows": 28, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1781.30, + "Plan Rows": 1850, + "Plan Width": 4, + "Actual Startup Time": 4.131, + "Actual Total Time": 15.469, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.123, + "Actual Total Time": 13.349, + "Actual Rows": 126, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.113, + "Actual Total Time": 17.019, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.694, + "Actual Total Time": 11.480, + "Actual Rows": 124, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.033, + "Actual Total Time": 3.978, + "Actual Rows": 181, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.946, + "Actual Total Time": 8.548, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.402, + "Actual Total Time": 38.044, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.342, + "Actual Total Time": 19.539, + "Actual Rows": 160, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 3.990, + "Actual Total Time": 8.756, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.014, + "Actual Total Time": 11.979, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.009, + "Actual Total Time": 15.576, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.597, + "Actual Total Time": 9.955, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.930, + "Actual Total Time": 2.173, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.555, + "Actual Total Time": 2.587, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.262, + "Actual Total Time": 0.274, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.236, + "Actual Total Time": 18.115, + "Actual Rows": 6, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 143.86, + "Plan Rows": 432, + "Plan Width": 8, + "Actual Startup Time": 0.072, + "Actual Total Time": 1.660, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.256, + "Actual Rows": 25, + "Actual Loops": 5 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.193, + "Actual Rows": 15, + "Actual Loops": 7 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.239, + "Actual Rows": 21, + "Actual Loops": 6 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.570, + "Actual Rows": 60, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.386, + "Actual Total Time": 5.431, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.136, + "Actual Total Time": 35.009, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.221, + "Actual Rows": 27, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 12951, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 126 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 104 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 124 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 181 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1400 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 10544 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 160 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.08, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.096, + "Actual Total Time": 0.103, + "Actual Rows": 0, + "Actual Loops": 2235, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German}'::text[]))", + "Rows Removed by Filter": 45, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.293, + "Actual Total Time": 0.421, + "Actual Rows": 0, + "Actual Loops": 31 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.204, + "Actual Total Time": 0.229, + "Actual Rows": 0, + "Actual Loops": 39 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.289, + "Actual Total Time": 0.311, + "Actual Rows": 0, + "Actual Loops": 42 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.139, + "Actual Total Time": 0.144, + "Actual Rows": 0, + "Actual Loops": 74 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.066, + "Actual Rows": 0, + "Actual Loops": 536 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.092, + "Actual Rows": 0, + "Actual Loops": 1457 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.197, + "Actual Total Time": 0.215, + "Actual Rows": 0, + "Actual Loops": 28 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5539820102114296223, + "Planning Time": 12.355, + "Triggers": [ + ], + "Execution Time": 380.259, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 5539820102114296223, + "JOINS": 3 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM keyword AS k,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE k.keyword LIKE '%sequel%'
  AND mi.info IN ('Bulgaria')
  AND t.production_year > 2010
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi.movie_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2688.19, + "Total Cost": 2688.20, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 149.988, + "Actual Total Time": 150.146, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.30, + "Total Cost": 2688.18, + "Plan Rows": 5, + "Plan Width": 17, + "Actual Startup Time": 13.327, + "Actual Total Time": 150.122, + "Actual Rows": 5, + "Actual Loops": 1, + "Output": ["t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 2687.18, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 16.334, + "Actual Total Time": 34.577, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.553, + "Actual Total Time": 30.344, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.504, + "Actual Total Time": 17.023, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.797, + "Actual Total Time": 13.800, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.492, + "Actual Total Time": 17.494, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.835, + "Actual Total Time": 13.837, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.504, + "Actual Total Time": 17.507, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.354, + "Actual Total Time": 17.356, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2633.13, + "Plan Rows": 58, + "Plan Width": 25, + "Actual Startup Time": 5.009, + "Actual Total Time": 31.351, + "Actual Rows": 51, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.221, + "Actual Total Time": 26.695, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.058, + "Actual Total Time": 14.783, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.186, + "Actual Total Time": 13.103, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.234, + "Actual Total Time": 16.643, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.746, + "Actual Total Time": 12.489, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.966, + "Actual Total Time": 15.369, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.161, + "Actual Total Time": 16.649, + "Actual Rows": 10, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1781.30, + "Plan Rows": 1850, + "Plan Width": 4, + "Actual Startup Time": 3.275, + "Actual Total Time": 13.629, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.123, + "Actual Total Time": 7.608, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.139, + "Actual Total Time": 8.398, + "Actual Rows": 316, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.314, + "Actual Total Time": 9.361, + "Actual Rows": 177, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.903, + "Actual Total Time": 13.212, + "Actual Rows": 161, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.404, + "Actual Total Time": 9.467, + "Actual Rows": 125, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.815, + "Actual Total Time": 13.911, + "Actual Rows": 60, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.238, + "Actual Total Time": 13.263, + "Actual Rows": 168, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 3.195, + "Actual Total Time": 8.069, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.999, + "Actual Total Time": 2.036, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.060, + "Actual Total Time": 6.139, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.247, + "Actual Total Time": 7.953, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.842, + "Actual Total Time": 11.948, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.347, + "Actual Total Time": 8.146, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.736, + "Actual Total Time": 13.227, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.163, + "Actual Total Time": 11.915, + "Actual Rows": 6, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 143.86, + "Plan Rows": 432, + "Plan Width": 8, + "Actual Startup Time": 0.042, + "Actual Total Time": 1.368, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.119, + "Actual Total Time": 5.082, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.053, + "Actual Total Time": 1.069, + "Actual Rows": 158, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.331, + "Actual Rows": 44, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.238, + "Actual Rows": 32, + "Actual Loops": 5 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.208, + "Actual Rows": 21, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.129, + "Actual Rows": 12, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.211, + "Actual Rows": 28, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 12951, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1400 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 316 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 177 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 161 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 125 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 60 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 168 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 405, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = 'Bulgaria'::text)", + "Rows Removed by Filter": 63, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.076, + "Actual Rows": 0, + "Actual Loops": 47 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.285, + "Actual Total Time": 0.318, + "Actual Rows": 0, + "Actual Loops": 7 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.230, + "Actual Total Time": 0.231, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.064, + "Actual Rows": 0, + "Actual Loops": 13 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.095, + "Actual Total Time": 0.095, + "Actual Rows": 0, + "Actual Loops": 14 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.133, + "Actual Total Time": 0.133, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.069, + "Actual Rows": 0, + "Actual Loops": 10 + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2073429154321355728, + "Planning Time": 11.271, + "Triggers": [ + ], + "Execution Time": 150.351, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 2073429154321355728, + "JOINS": 3 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM keyword AS k,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE k.keyword LIKE '%sequel%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND t.production_year > 1990
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi.movie_id
  AND k.id = mk.keyword_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3775.08, + "Total Cost": 3775.09, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 485.003, + "Actual Total Time": 485.131, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3775.06, + "Total Cost": 3775.07, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 484.985, + "Actual Total Time": 485.121, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3774.06, + "Total Cost": 3774.07, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 98.773, + "Actual Total Time": 98.776, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.612, + "Actual Total Time": 34.615, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 35.576, + "Actual Total Time": 35.579, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 36.114, + "Actual Total Time": 36.116, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 49.519, + "Actual Total Time": 49.522, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.937, + "Actual Total Time": 31.939, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 36.110, + "Actual Total Time": 36.114, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 82.728, + "Actual Total Time": 82.730, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.32, + "Total Cost": 3771.47, + "Plan Rows": 1036, + "Plan Width": 17, + "Actual Startup Time": 5.784, + "Actual Total Time": 98.301, + "Actual Rows": 906, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.974, + "Actual Total Time": 34.500, + "Actual Rows": 94, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.447, + "Actual Total Time": 35.448, + "Actual Rows": 116, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.937, + "Actual Total Time": 36.016, + "Actual Rows": 84, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.394, + "Actual Total Time": 49.304, + "Actual Rows": 243, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.246, + "Actual Total Time": 31.800, + "Actual Rows": 157, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.581, + "Actual Total Time": 36.018, + "Actual Rows": 66, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.539, + "Actual Total Time": 82.052, + "Actual Rows": 1231, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2633.13, + "Plan Rows": 1125, + "Plan Width": 25, + "Actual Startup Time": 4.292, + "Actual Total Time": 30.859, + "Actual Rows": 984, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.873, + "Actual Total Time": 17.193, + "Actual Rows": 74, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.850, + "Actual Total Time": 17.822, + "Actual Rows": 126, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.083, + "Actual Total Time": 14.126, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.229, + "Actual Total Time": 12.061, + "Actual Rows": 191, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.697, + "Actual Total Time": 14.372, + "Actual Rows": 146, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.943, + "Actual Total Time": 17.730, + "Actual Rows": 99, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.373, + "Actual Total Time": 24.160, + "Actual Rows": 1283, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1781.30, + "Plan Rows": 1850, + "Plan Width": 4, + "Actual Startup Time": 4.202, + "Actual Total Time": 13.801, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.788, + "Actual Total Time": 14.555, + "Actual Rows": 105, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.765, + "Actual Total Time": 12.261, + "Actual Rows": 195, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.005, + "Actual Total Time": 11.888, + "Actual Rows": 82, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.148, + "Actual Total Time": 5.494, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.625, + "Actual Total Time": 10.921, + "Actual Rows": 156, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.856, + "Actual Total Time": 13.780, + "Actual Rows": 157, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.183, + "Actual Total Time": 7.099, + "Actual Rows": 1400, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 4.087, + "Actual Total Time": 8.259, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.704, + "Actual Total Time": 13.354, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.526, + "Actual Total Time": 10.438, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.939, + "Actual Total Time": 9.955, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.017, + "Actual Total Time": 3.081, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.550, + "Actual Total Time": 9.583, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.757, + "Actual Total Time": 12.414, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.069, + "Actual Total Time": 2.096, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 143.86, + "Plan Rows": 432, + "Plan Width": 8, + "Actual Startup Time": 0.055, + "Actual Total Time": 1.363, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.160, + "Actual Rows": 15, + "Actual Loops": 7 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.285, + "Actual Rows": 32, + "Actual Loops": 6 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.311, + "Actual Rows": 14, + "Actual Loops": 6 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.124, + "Actual Total Time": 2.269, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.420, + "Actual Rows": 52, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.252, + "Actual Rows": 31, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.108, + "Actual Total Time": 4.587, + "Actual Rows": 1400, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 12951, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 105 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 195 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 82 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 312 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 156 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 157 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1400 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.46, + "Total Cost": 1.00, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.068, + "Actual Rows": 1, + "Actual Loops": 7874, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 35, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.144, + "Actual Total Time": 0.232, + "Actual Rows": 1, + "Actual Loops": 74 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.138, + "Actual Rows": 1, + "Actual Loops": 126 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.164, + "Actual Total Time": 0.332, + "Actual Rows": 1, + "Actual Loops": 63 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.117, + "Actual Total Time": 0.193, + "Actual Rows": 1, + "Actual Loops": 191 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.118, + "Actual Rows": 1, + "Actual Loops": 146 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.099, + "Actual Total Time": 0.183, + "Actual Rows": 1, + "Actual Loops": 99 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 1283 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 8031722090065659855, + "Planning Time": 30.941, + "Triggers": [ + ], + "Execution Time": 485.452, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 8031722090065659855, + "JOINS": 3 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS movie_title
FROM info_type AS it,
     keyword AS k,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it.info ='rating'
  AND k.keyword LIKE '%sequel%'
  AND mi_idx.info > '5.0'
  AND t.production_year > 2005
  AND t.id = mi_idx.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2797.96, + "Total Cost": 2797.97, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 178.927, + "Actual Total Time": 179.196, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2797.92, + "Total Cost": 2797.93, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 178.900, + "Actual Total Time": 179.182, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2796.92, + "Total Cost": 2796.93, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 40.511, + "Actual Total Time": 40.515, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.165, + "Actual Total Time": 16.168, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.455, + "Actual Total Time": 18.459, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.246, + "Actual Total Time": 14.251, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 20.446, + "Actual Total Time": 20.453, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.364, + "Actual Total Time": 20.369, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.156, + "Actual Total Time": 16.160, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 40.079, + "Actual Total Time": 40.082, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.13, + "Total Cost": 2796.39, + "Plan Rows": 106, + "Plan Width": 22, + "Actual Startup Time": 5.425, + "Actual Total Time": 40.355, + "Actual Rows": 92, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.544, + "Actual Total Time": 16.125, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.357, + "Actual Total Time": 18.441, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.767, + "Actual Total Time": 14.222, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.165, + "Actual Total Time": 20.004, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.742, + "Actual Total Time": 20.288, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.100, + "Actual Total Time": 16.117, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.794, + "Actual Total Time": 39.946, + "Actual Rows": 93, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 2794.10, + "Plan Rows": 166, + "Plan Width": 26, + "Actual Startup Time": 5.070, + "Actual Total Time": 39.851, + "Actual Rows": 144, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.278, + "Actual Total Time": 15.802, + "Actual Rows": 43, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.051, + "Actual Total Time": 18.125, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.163, + "Actual Total Time": 13.601, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.891, + "Actual Total Time": 19.699, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.464, + "Actual Total Time": 19.929, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.731, + "Actual Total Time": 15.793, + "Actual Rows": 38, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.544, + "Actual Total Time": 39.468, + "Actual Rows": 141, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2633.13, + "Plan Rows": 320, + "Plan Width": 25, + "Actual Startup Time": 4.831, + "Actual Total Time": 33.584, + "Actual Rows": 279, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.964, + "Actual Total Time": 13.577, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.456, + "Actual Total Time": 17.449, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.813, + "Actual Total Time": 12.680, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.798, + "Actual Total Time": 18.533, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.410, + "Actual Total Time": 16.116, + "Actual Rows": 103, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.639, + "Actual Total Time": 14.219, + "Actual Rows": 40, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.241, + "Actual Total Time": 26.594, + "Actual Rows": 536, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1781.30, + "Plan Rows": 1850, + "Plan Width": 4, + "Actual Startup Time": 3.972, + "Actual Total Time": 14.899, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.908, + "Actual Total Time": 10.462, + "Actual Rows": 129, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.258, + "Actual Total Time": 16.228, + "Actual Rows": 53, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.552, + "Actual Total Time": 11.269, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.590, + "Actual Total Time": 14.747, + "Actual Rows": 172, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.040, + "Actual Total Time": 10.969, + "Actual Rows": 265, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.379, + "Actual Total Time": 6.810, + "Actual Rows": 355, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.819, + "Actual Total Time": 8.169, + "Actual Rows": 1400, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 3.863, + "Actual Total Time": 8.548, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.852, + "Actual Total Time": 9.141, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.182, + "Actual Total Time": 15.722, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.415, + "Actual Total Time": 8.276, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.432, + "Actual Total Time": 13.143, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.972, + "Actual Total Time": 9.120, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.308, + "Actual Total Time": 4.196, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.713, + "Actual Total Time": 2.743, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 143.86, + "Plan Rows": 432, + "Plan Width": 8, + "Actual Startup Time": 0.054, + "Actual Total Time": 1.568, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.179, + "Actual Rows": 18, + "Actual Loops": 7 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.157, + "Actual Rows": 18, + "Actual Loops": 3 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.985, + "Actual Rows": 11, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.252, + "Actual Rows": 29, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.434, + "Actual Rows": 66, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.493, + "Actual Rows": 71, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.101, + "Actual Total Time": 4.896, + "Actual Rows": 1400, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 12951, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 129 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 53 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 33 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 172 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 265 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 355 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1400 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 2235, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '5.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 48 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.065, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.052, + "Actual Rows": 1, + "Actual Loops": 17 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 24 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 103 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 40 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 536 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1950505845315524548, + "Planning Time": 11.939, + "Triggers": [ + ], + "Execution Time": 179.411, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -1950505845315524548, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS movie_title
FROM info_type AS it,
     keyword AS k,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it.info ='rating'
  AND k.keyword LIKE '%sequel%'
  AND mi_idx.info > '9.0'
  AND t.production_year > 2010
  AND t.id = mi_idx.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2664.37, + "Total Cost": 2664.38, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 137.496, + "Actual Total Time": 137.634, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2664.32, + "Total Cost": 2664.33, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 137.473, + "Actual Total Time": 137.623, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2663.32, + "Total Cost": 2663.33, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 32.290, + "Actual Total Time": 32.293, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.096, + "Actual Total Time": 27.099, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.887, + "Actual Total Time": 12.891, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.774, + "Actual Total Time": 16.778, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.015, + "Actual Total Time": 14.019, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.521, + "Actual Total Time": 16.525, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.014, + "Actual Total Time": 17.017, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.267, + "Actual Total Time": 17.271, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.43, + "Total Cost": 2663.32, + "Plan Rows": 1, + "Plan Width": 22, + "Actual Startup Time": 17.449, + "Actual Total Time": 32.283, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.107, + "Actual Total Time": 27.084, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.882, + "Actual Total Time": 12.885, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.770, + "Actual Total Time": 16.773, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.010, + "Actual Total Time": 14.013, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.517, + "Actual Total Time": 16.520, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.010, + "Actual Total Time": 17.012, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.261, + "Actual Total Time": 17.265, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 2662.81, + "Plan Rows": 3, + "Plan Width": 26, + "Actual Startup Time": 13.481, + "Actual Total Time": 32.247, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.055, + "Actual Total Time": 27.032, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.099, + "Actual Total Time": 12.827, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.769, + "Actual Total Time": 16.771, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.657, + "Actual Total Time": 13.962, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.516, + "Actual Total Time": 16.519, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.010, + "Actual Total Time": 17.011, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.261, + "Actual Total Time": 17.263, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2633.13, + "Plan Rows": 59, + "Plan Width": 25, + "Actual Startup Time": 5.399, + "Actual Total Time": 31.334, + "Actual Rows": 51, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.917, + "Actual Total Time": 25.934, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.464, + "Actual Total Time": 12.179, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.315, + "Actual Total Time": 16.499, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.456, + "Actual Total Time": 13.858, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.484, + "Actual Total Time": 16.210, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.988, + "Actual Total Time": 16.582, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.898, + "Actual Total Time": 17.022, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1781.30, + "Plan Rows": 1850, + "Plan Width": 4, + "Actual Startup Time": 3.462, + "Actual Total Time": 14.088, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.722, + "Actual Total Time": 7.089, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.118, + "Actual Total Time": 9.122, + "Actual Rows": 139, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.463, + "Actual Total Time": 10.327, + "Actual Rows": 321, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.091, + "Actual Total Time": 12.458, + "Actual Rows": 62, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.094, + "Actual Total Time": 13.795, + "Actual Rows": 103, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.198, + "Actual Total Time": 11.170, + "Actual Rows": 275, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.685, + "Actual Total Time": 15.022, + "Actual Rows": 107, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 3.381, + "Actual Total Time": 8.591, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.603, + "Actual Total Time": 1.640, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.072, + "Actual Total Time": 7.774, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.391, + "Actual Total Time": 8.016, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.024, + "Actual Total Time": 11.887, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.024, + "Actual Total Time": 12.759, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.120, + "Actual Total Time": 9.189, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.610, + "Actual Total Time": 14.242, + "Actual Rows": 3, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 143.86, + "Plan Rows": 432, + "Plan Width": 8, + "Actual Startup Time": 0.041, + "Actual Total Time": 1.351, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.112, + "Actual Total Time": 4.953, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.159, + "Actual Rows": 17, + "Actual Loops": 8 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.728, + "Actual Rows": 107, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.134, + "Actual Rows": 16, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.195, + "Actual Rows": 21, + "Actual Loops": 5 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.373, + "Actual Rows": 55, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.243, + "Actual Rows": 36, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 12951, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1400 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 139 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 321 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 62 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 103 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 275 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 107 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 405, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '9.0'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 47 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 25 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 8 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 8 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 13 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 20, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1950505845315524548, + "Planning Time": 12.923, + "Triggers": [ + ], + "Execution Time": 137.923, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -1950505845315524548, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS movie_title
FROM info_type AS it,
     keyword AS k,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it.info ='rating'
  AND k.keyword LIKE '%sequel%'
  AND mi_idx.info > '2.0'
  AND t.production_year > 1990
  AND t.id = mi_idx.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3184.17, + "Total Cost": 3184.18, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 249.888, + "Actual Total Time": 250.118, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3184.13, + "Total Cost": 3184.14, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 249.865, + "Actual Total Time": 250.106, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3183.13, + "Total Cost": 3183.14, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 52.848, + "Actual Total Time": 52.852, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.368, + "Actual Total Time": 27.372, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 40.108, + "Actual Total Time": 40.111, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.013, + "Actual Total Time": 16.016, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.773, + "Actual Total Time": 21.776, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.323, + "Actual Total Time": 23.328, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.340, + "Actual Total Time": 23.343, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.802, + "Actual Total Time": 21.806, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.13, + "Total Cost": 3179.83, + "Plan Rows": 660, + "Plan Width": 22, + "Actual Startup Time": 3.873, + "Actual Total Time": 52.437, + "Actual Rows": 588, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi_idx.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.911, + "Actual Total Time": 27.305, + "Actual Rows": 40, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.351, + "Actual Total Time": 39.694, + "Actual Rows": 422, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.667, + "Actual Total Time": 15.919, + "Actual Rows": 79, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.659, + "Actual Total Time": 21.599, + "Actual Rows": 173, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.364, + "Actual Total Time": 23.182, + "Actual Rows": 130, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.923, + "Actual Total Time": 23.266, + "Actual Rows": 62, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.264, + "Actual Total Time": 21.647, + "Actual Rows": 146, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 2714.92, + "Plan Rows": 983, + "Plan Width": 13, + "Actual Startup Time": 3.749, + "Actual Total Time": 39.799, + "Actual Rows": 1012, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.861, + "Actual Total Time": 25.420, + "Actual Rows": 69, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.830, + "Actual Total Time": 29.538, + "Actual Rows": 514, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.592, + "Actual Total Time": 13.194, + "Actual Rows": 115, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.585, + "Actual Total Time": 14.844, + "Actual Rows": 288, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.301, + "Actual Total Time": 19.152, + "Actual Rows": 180, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.856, + "Actual Total Time": 21.384, + "Actual Rows": 96, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.157, + "Actual Total Time": 18.580, + "Actual Rows": 154, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2707.28, + "Plan Rows": 2126, + "Plan Width": 17, + "Actual Startup Time": 3.424, + "Actual Total Time": 38.474, + "Actual Rows": 1870, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.569, + "Actual Total Time": 25.007, + "Actual Rows": 132, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.523, + "Actual Total Time": 28.475, + "Actual Rows": 999, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.272, + "Actual Total Time": 12.705, + "Actual Rows": 206, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.305, + "Actual Total Time": 14.168, + "Actual Rows": 543, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.994, + "Actual Total Time": 18.584, + "Actual Rows": 332, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.549, + "Actual Total Time": 20.937, + "Actual Rows": 179, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.855, + "Actual Total Time": 18.053, + "Actual Rows": 295, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1781.30, + "Plan Rows": 1850, + "Plan Width": 4, + "Actual Startup Time": 3.287, + "Actual Total Time": 13.471, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.495, + "Actual Total Time": 5.167, + "Actual Rows": 87, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.438, + "Actual Total Time": 8.235, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.208, + "Actual Total Time": 9.364, + "Actual Rows": 124, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.039, + "Actual Total Time": 5.575, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.893, + "Actual Total Time": 12.500, + "Actual Rows": 197, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.427, + "Actual Total Time": 18.016, + "Actual Rows": 124, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.514, + "Actual Total Time": 13.917, + "Actual Rows": 163, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 3.201, + "Actual Total Time": 7.703, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.418, + "Actual Total Time": 4.227, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.320, + "Actual Total Time": 2.354, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.137, + "Actual Total Time": 8.095, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.962, + "Actual Total Time": 3.312, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.807, + "Actual Total Time": 10.811, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.350, + "Actual Total Time": 16.974, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.437, + "Actual Total Time": 12.659, + "Actual Rows": 5, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 143.86, + "Plan Rows": 432, + "Plan Width": 8, + "Actual Startup Time": 0.043, + "Actual Total Time": 1.424, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.445, + "Actual Rows": 44, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.110, + "Actual Total Time": 5.373, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.150, + "Actual Rows": 16, + "Actual Loops": 8 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.072, + "Actual Total Time": 2.143, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.227, + "Actual Rows": 28, + "Actual Loops": 7 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.194, + "Actual Rows": 25, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.236, + "Actual Rows": 33, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 12951, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '2.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.225, + "Actual Total Time": 0.226, + "Actual Rows": 2, + "Actual Loops": 87 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1400 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.026, + "Actual Rows": 2, + "Actual Loops": 124 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 2, + "Actual Loops": 312 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 2, + "Actual Loops": 197 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 124 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.024, + "Actual Rows": 2, + "Actual Loops": 163 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 8092, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 69 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 514 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 115 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 288 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 180 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 96 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 154 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1950505845315524548, + "Planning Time": 12.345, + "Triggers": [ + ], + "Execution Time": 250.342, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -1950505845315524548, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS typical_european_movie
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     title AS t
WHERE ct.kind = 'production companies'
  AND mc.note LIKE '%(theatrical)%'
  AND mc.note LIKE '%(France)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German')
  AND t.production_year > 2005
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND mc.movie_id = mi.movie_id
  AND ct.id = mc.company_type_id
  AND it.id = mi.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 23703.43, + "Total Cost": 23703.44, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 172.158, + "Actual Total Time": 176.372, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 23703.40, + "Total Cost": 23703.41, + "Plan Rows": 8, + "Plan Width": 32, + "Actual Startup Time": 171.934, + "Actual Total Time": 176.358, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 23702.40, + "Total Cost": 23702.41, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 164.727, + "Actual Total Time": 164.733, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 162.449, + "Actual Total Time": 162.454, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 162.385, + "Actual Total Time": 162.390, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 164.378, + "Actual Total Time": 164.382, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 164.376, + "Actual Total Time": 164.382, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 164.425, + "Actual Total Time": 164.431, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 164.365, + "Actual Total Time": 164.373, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 164.382, + "Actual Total Time": 164.388, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.05, + "Total Cost": 23702.40, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 164.721, + "Actual Total Time": 164.727, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 162.445, + "Actual Total Time": 162.448, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 162.379, + "Actual Total Time": 162.384, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 164.372, + "Actual Total Time": 164.376, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 164.372, + "Actual Total Time": 164.378, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 164.421, + "Actual Total Time": 164.426, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 164.359, + "Actual Total Time": 164.365, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 164.376, + "Actual Total Time": 164.382, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.91, + "Total Cost": 23702.24, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 164.720, + "Actual Total Time": 164.724, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi.info_type_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 162.444, + "Actual Total Time": 162.447, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 162.378, + "Actual Total Time": 162.382, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 164.371, + "Actual Total Time": 164.375, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 164.371, + "Actual Total Time": 164.376, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 164.419, + "Actual Total Time": 164.423, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 164.357, + "Actual Total Time": 164.362, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 164.375, + "Actual Total Time": 164.380, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 23700.99, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 164.719, + "Actual Total Time": 164.723, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 162.443, + "Actual Total Time": 162.445, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 162.377, + "Actual Total Time": 162.381, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 164.370, + "Actual Total Time": 164.373, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 164.370, + "Actual Total Time": 164.374, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 164.418, + "Actual Total Time": 164.421, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 164.356, + "Actual Total Time": 164.360, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 164.374, + "Actual Total Time": 164.378, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 23699.40, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 164.718, + "Actual Total Time": 164.721, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 162.442, + "Actual Total Time": 162.444, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 162.376, + "Actual Total Time": 162.378, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 164.370, + "Actual Total Time": 164.372, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 164.369, + "Actual Total Time": 164.372, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 164.417, + "Actual Total Time": 164.419, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 164.355, + "Actual Total Time": 164.359, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 164.373, + "Actual Total Time": 164.376, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.00, + "Total Cost": 23682.12, + "Plan Rows": 3003, + "Plan Width": 8, + "Actual Startup Time": 14.903, + "Actual Total Time": 163.543, + "Actual Rows": 3003, + "Actual Loops": 8, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Filter": "((mc.note ~~ '%(theatrical)%'::text) AND (mc.note ~~ '%(France)%'::text))", + "Rows Removed by Filter": 323138, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.725, + "Actual Total Time": 161.261, + "Actual Rows": 2919, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.102, + "Actual Total Time": 161.212, + "Actual Rows": 3091, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.210, + "Actual Total Time": 163.178, + "Actual Rows": 3231, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.151, + "Actual Total Time": 163.278, + "Actual Rows": 2829, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.857, + "Actual Total Time": 163.277, + "Actual Rows": 2899, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.311, + "Actual Total Time": 163.198, + "Actual Rows": 3037, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.492, + "Actual Total Time": 163.153, + "Actual Rows": 3151, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.076, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.59, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.24, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["it.id"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 9106003620751043838, + "Planning Time": 15.082, + "Triggers": [ + ], + "Execution Time": 176.563, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 9106003620751043838, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS american_vhs_movie
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     title AS t
WHERE ct.kind = 'production companies'
  AND mc.note LIKE '%(VHS)%'
  AND mc.note LIKE '%(USA)%'
  AND mc.note LIKE '%(1994)%'
  AND mi.info IN ('USA',
                  'America')
  AND t.production_year > 2010
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND mc.movie_id = mi.movie_id
  AND ct.id = mc.company_type_id
  AND it.id = mi.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24504.24, + "Total Cost": 24504.25, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 150.567, + "Actual Total Time": 161.488, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24504.21, + "Total Cost": 24504.22, + "Plan Rows": 8, + "Plan Width": 32, + "Actual Startup Time": 150.384, + "Actual Total Time": 161.476, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24503.21, + "Total Cost": 24503.22, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 142.892, + "Actual Total Time": 142.896, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 142.974, + "Actual Total Time": 142.978, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 142.985, + "Actual Total Time": 142.990, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 143.004, + "Actual Total Time": 143.008, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 143.343, + "Actual Total Time": 143.347, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 134.367, + "Actual Total Time": 134.373, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 143.362, + "Actual Total Time": 143.367, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 143.389, + "Actual Total Time": 143.394, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.05, + "Total Cost": 24503.20, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 142.887, + "Actual Total Time": 142.891, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 142.969, + "Actual Total Time": 142.973, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 142.982, + "Actual Total Time": 142.986, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 142.999, + "Actual Total Time": 143.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 143.339, + "Actual Total Time": 143.343, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 134.361, + "Actual Total Time": 134.365, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 143.359, + "Actual Total Time": 143.362, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 143.385, + "Actual Total Time": 143.390, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.62, + "Total Cost": 24502.67, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 142.887, + "Actual Total Time": 142.890, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 142.968, + "Actual Total Time": 142.971, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 142.981, + "Actual Total Time": 142.985, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 142.998, + "Actual Total Time": 143.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 143.339, + "Actual Total Time": 143.341, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 134.360, + "Actual Total Time": 134.364, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 143.358, + "Actual Total Time": 143.361, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 143.384, + "Actual Total Time": 143.388, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.48, + "Total Cost": 24502.51, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 142.886, + "Actual Total Time": 142.889, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 142.968, + "Actual Total Time": 142.970, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 142.981, + "Actual Total Time": 142.984, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 142.997, + "Actual Total Time": 142.999, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 143.338, + "Actual Total Time": 143.340, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 134.359, + "Actual Total Time": 134.363, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 143.357, + "Actual Total Time": 143.359, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 143.384, + "Actual Total Time": 143.386, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 24499.47, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 142.885, + "Actual Total Time": 142.887, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 142.967, + "Actual Total Time": 142.969, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 142.980, + "Actual Total Time": 142.983, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 142.996, + "Actual Total Time": 142.998, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 143.337, + "Actual Total Time": 143.339, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 134.359, + "Actual Total Time": 134.361, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 143.357, + "Actual Total Time": 143.358, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 143.383, + "Actual Total Time": 143.385, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.00, + "Total Cost": 24497.47, + "Plan Rows": 177, + "Plan Width": 8, + "Actual Startup Time": 10.309, + "Actual Total Time": 142.524, + "Actual Rows": 177, + "Actual Loops": 8, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Filter": "((mc.note ~~ '%(VHS)%'::text) AND (mc.note ~~ '%(USA)%'::text) AND (mc.note ~~ '%(1994)%'::text))", + "Rows Removed by Filter": 325964, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.446, + "Actual Total Time": 142.643, + "Actual Rows": 172, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.768, + "Actual Total Time": 142.702, + "Actual Rows": 196, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.305, + "Actual Total Time": 142.669, + "Actual Rows": 177, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.621, + "Actual Total Time": 142.962, + "Actual Rows": 184, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.696, + "Actual Total Time": 133.991, + "Actual Rows": 164, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.982, + "Actual Total Time": 142.994, + "Actual Rows": 190, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.050, + "Actual Total Time": 142.991, + "Actual Rows": 176, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 3.03, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{USA,America}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["it.id"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -3414057395363075461, + "Planning Time": 16.319, + "Triggers": [ + ], + "Execution Time": 161.699, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -3414057395363075461, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS american_movie
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     title AS t
WHERE ct.kind = 'production companies'
  AND mc.note NOT LIKE '%(TV)%'
  AND mc.note LIKE '%(USA)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND t.production_year > 1990
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND mc.movie_id = mi.movie_id
  AND ct.id = mc.company_type_id
  AND it.id = mi.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24051.54, + "Total Cost": 24051.55, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 204.562, + "Actual Total Time": 216.548, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24051.51, + "Total Cost": 24051.52, + "Plan Rows": 8, + "Plan Width": 32, + "Actual Startup Time": 204.227, + "Actual Total Time": 216.531, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24050.51, + "Total Cost": 24050.52, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 197.718, + "Actual Total Time": 197.724, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 197.115, + "Actual Total Time": 197.120, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 195.608, + "Actual Total Time": 195.613, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 197.257, + "Actual Total Time": 197.262, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 197.112, + "Actual Total Time": 197.116, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 197.072, + "Actual Total Time": 197.075, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 197.079, + "Actual Total Time": 197.084, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 197.090, + "Actual Total Time": 197.096, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.42, + "Total Cost": 24050.30, + "Plan Rows": 84, + "Plan Width": 17, + "Actual Startup Time": 128.259, + "Actual Total Time": 197.602, + "Actual Rows": 84, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 129.108, + "Actual Total Time": 197.009, + "Actual Rows": 75, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 131.962, + "Actual Total Time": 195.503, + "Actual Rows": 66, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 126.542, + "Actual Total Time": 197.136, + "Actual Rows": 85, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 126.092, + "Actual Total Time": 196.997, + "Actual Rows": 79, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 126.177, + "Actual Total Time": 196.925, + "Actual Rows": 107, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 126.269, + "Actual Total Time": 196.972, + "Actual Rows": 77, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 126.087, + "Actual Total Time": 196.965, + "Actual Rows": 106, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 24047.58, + "Plan Rows": 84, + "Plan Width": 21, + "Actual Startup Time": 127.953, + "Actual Total Time": 197.153, + "Actual Rows": 84, + "Actual Loops": 8, + "Output": ["mi.info_type_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 128.805, + "Actual Total Time": 196.577, + "Actual Rows": 75, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 131.713, + "Actual Total Time": 195.133, + "Actual Rows": 66, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 126.246, + "Actual Total Time": 196.678, + "Actual Rows": 85, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 125.815, + "Actual Total Time": 196.585, + "Actual Rows": 79, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 125.912, + "Actual Total Time": 196.483, + "Actual Rows": 107, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 125.992, + "Actual Total Time": 196.557, + "Actual Rows": 77, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 125.794, + "Actual Total Time": 196.514, + "Actual Rows": 106, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 23943.92, + "Plan Rows": 96, + "Plan Width": 25, + "Actual Startup Time": 127.475, + "Actual Total Time": 185.924, + "Actual Rows": 96, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 128.712, + "Actual Total Time": 187.197, + "Actual Rows": 79, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 131.587, + "Actual Total Time": 181.588, + "Actual Rows": 67, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 125.955, + "Actual Total Time": 184.272, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 125.078, + "Actual Total Time": 187.810, + "Actual Rows": 89, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 125.114, + "Actual Total Time": 184.443, + "Actual Rows": 134, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 125.510, + "Actual Total Time": 184.824, + "Actual Rows": 107, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 124.863, + "Actual Total Time": 185.749, + "Actual Rows": 103, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 23882.94, + "Plan Rows": 100, + "Plan Width": 4, + "Actual Startup Time": 127.294, + "Actual Total Time": 181.067, + "Actual Rows": 100, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 128.602, + "Actual Total Time": 182.060, + "Actual Rows": 81, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 131.406, + "Actual Total Time": 177.665, + "Actual Rows": 68, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 125.381, + "Actual Total Time": 179.817, + "Actual Rows": 91, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 124.965, + "Actual Total Time": 181.427, + "Actual Rows": 94, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 125.020, + "Actual Total Time": 179.045, + "Actual Rows": 137, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 125.428, + "Actual Total Time": 179.671, + "Actual Rows": 120, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 124.626, + "Actual Total Time": 181.816, + "Actual Rows": 106, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.00, + "Total Cost": 23682.12, + "Plan Rows": 36954, + "Plan Width": 8, + "Actual Startup Time": 0.103, + "Actual Total Time": 171.391, + "Actual Rows": 36954, + "Actual Loops": 8, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Filter": "((mc.note !~~ '%(TV)%'::text) AND (mc.note ~~ '%(USA)%'::text))", + "Rows Removed by Filter": 289188, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.188, + "Actual Total Time": 172.301, + "Actual Rows": 37607, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 167.776, + "Actual Rows": 38436, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.121, + "Actual Total Time": 170.114, + "Actual Rows": 37299, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.271, + "Actual Total Time": 171.700, + "Actual Rows": 37373, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.058, + "Actual Total Time": 169.166, + "Actual Rows": 38014, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.121, + "Actual Total Time": 171.003, + "Actual Rows": 33071, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.033, + "Actual Total Time": 171.998, + "Actual Rows": 35770, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.61, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 798, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.061, + "Actual Rows": 1, + "Actual Loops": 81 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 68 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 91 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.065, + "Actual Rows": 1, + "Actual Loops": 94 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 137 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 120 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 106 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.46, + "Total Cost": 1.07, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.106, + "Actual Total Time": 0.115, + "Actual Rows": 1, + "Actual Loops": 767, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 10, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.105, + "Actual Total Time": 0.117, + "Actual Rows": 1, + "Actual Loops": 79 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.189, + "Actual Total Time": 0.200, + "Actual Rows": 1, + "Actual Loops": 67 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.130, + "Actual Total Time": 0.139, + "Actual Rows": 1, + "Actual Loops": 88 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.097, + "Actual Rows": 1, + "Actual Loops": 89 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.088, + "Actual Rows": 1, + "Actual Loops": 134 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.099, + "Actual Total Time": 0.108, + "Actual Rows": 1, + "Actual Loops": 107 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.094, + "Actual Total Time": 0.103, + "Actual Rows": 1, + "Actual Loops": 103 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.66, + "Total Cost": 1.66, + "Plan Rows": 66, + "Plan Width": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 14, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.66, + "Plan Rows": 66, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.038, + "Actual Rows": 113, + "Actual Loops": 1, + "Output": ["it.id"], + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5596001239447068866, + "Planning Time": 15.988, + "Triggers": [ + ], + "Execution Time": 216.736, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 5596001239447068866, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS marvel_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword = 'marvel-cinematic-universe'
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2010
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1429.97, + "Total Cost": 1429.98, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 151.371, + "Actual Total Time": 151.529, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.73, + "Total Cost": 1429.93, + "Plan Rows": 6, + "Plan Width": 48, + "Actual Startup Time": 41.669, + "Actual Total Time": 151.498, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["k.keyword", "n.name", "t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1428.93, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 10.847, + "Actual Total Time": 24.558, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.062, + "Actual Total Time": 6.065, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.933, + "Actual Total Time": 4.936, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.738, + "Actual Total Time": 6.742, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.768, + "Actual Total Time": 6.770, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.389, + "Actual Total Time": 7.392, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.338, + "Actual Total Time": 7.342, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.715, + "Actual Total Time": 6.719, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1428.47, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 10.841, + "Actual Total Time": 24.540, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "k.keyword", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.061, + "Actual Total Time": 6.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.932, + "Actual Total Time": 4.934, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.737, + "Actual Total Time": 6.740, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.767, + "Actual Total Time": 6.769, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.387, + "Actual Total Time": 7.390, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.337, + "Actual Total Time": 7.340, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.714, + "Actual Total Time": 6.717, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 1348.46, + "Plan Rows": 177, + "Plan Width": 28, + "Actual Startup Time": 5.871, + "Actual Total Time": 7.629, + "Actual Rows": 155, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mk.movie_id", "k.keyword"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.060, + "Actual Total Time": 6.062, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.931, + "Actual Total Time": 4.933, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.737, + "Actual Total Time": 6.738, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.766, + "Actual Total Time": 6.767, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.387, + "Actual Total Time": 7.389, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.337, + "Actual Total Time": 7.338, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.714, + "Actual Total Time": 6.715, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.43, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 5.859, + "Actual Total Time": 5.877, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.059, + "Actual Total Time": 6.061, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.930, + "Actual Total Time": 4.932, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.736, + "Actual Total Time": 6.737, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.765, + "Actual Total Time": 6.766, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.386, + "Actual Total Time": 7.387, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.336, + "Actual Total Time": 7.337, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.713, + "Actual Total Time": 6.714, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 5.843, + "Actual Total Time": 5.847, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'marvel-cinematic-universe'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.058, + "Actual Total Time": 6.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.930, + "Actual Total Time": 4.930, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.736, + "Actual Total Time": 6.736, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.765, + "Actual Total Time": 6.765, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.385, + "Actual Total Time": 7.385, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.335, + "Actual Total Time": 7.335, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.712, + "Actual Total Time": 6.713, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.108, + "Actual Total Time": 0.208, + "Actual Rows": 14, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 89, + "Plan Width": 8, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.961, + "Actual Rows": 89, + "Actual Loops": 14, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.108, + "Actual Total Time": 0.108, + "Actual Rows": 0, + "Actual Loops": 1242, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3759324545287071861, + "Planning Time": 13.963, + "Triggers": [ + ], + "Execution Time": 151.817, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 3759324545287071861, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS hero_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2014
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3900.47, + "Total Cost": 3900.48, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 246.847, + "Actual Total Time": 272.948, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3900.40, + "Total Cost": 3900.41, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 101.492, + "Actual Total Time": 272.894, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(k.keyword))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3899.40, + "Total Cost": 3899.41, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 124.093, + "Actual Total Time": 124.097, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(k.keyword)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 237.303, + "Actual Total Time": 237.305, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 177.356, + "Actual Total Time": 177.359, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 63.416, + "Actual Total Time": 63.421, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 105.480, + "Actual Total Time": 105.483, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 71.864, + "Actual Total Time": 71.867, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 175.027, + "Actual Total Time": 175.030, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 61.754, + "Actual Total Time": 61.757, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 3899.39, + "Plan Rows": 2, + "Plan Width": 48, + "Actual Startup Time": 111.057, + "Actual Total Time": 124.082, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 233.146, + "Actual Total Time": 237.290, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 151.603, + "Actual Total Time": 177.343, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.294, + "Actual Total Time": 63.398, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 105.475, + "Actual Total Time": 105.477, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.296, + "Actual Total Time": 71.845, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 175.022, + "Actual Total Time": 175.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 61.746, + "Actual Total Time": 61.749, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 3874.53, + "Plan Rows": 55, + "Plan Width": 37, + "Actual Startup Time": 62.479, + "Actual Total Time": 121.695, + "Actual Rows": 48, + "Actual Loops": 8, + "Output": ["ci.person_id", "k.keyword", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 40.941, + "Actual Total Time": 233.243, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.235, + "Actual Total Time": 169.945, + "Actual Rows": 107, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.379, + "Actual Total Time": 61.393, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 105.474, + "Actual Total Time": 105.476, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.498, + "Actual Total Time": 68.857, + "Actual Rows": 82, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 175.021, + "Actual Total Time": 175.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 61.745, + "Actual Total Time": 61.747, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3867.34, + "Plan Rows": 5, + "Plan Width": 41, + "Actual Startup Time": 62.413, + "Actual Total Time": 120.879, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 40.812, + "Actual Total Time": 232.277, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.072, + "Actual Total Time": 168.139, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.273, + "Actual Total Time": 59.338, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 105.474, + "Actual Total Time": 105.475, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.415, + "Actual Total Time": 68.127, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 175.021, + "Actual Total Time": 175.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 61.744, + "Actual Total Time": 61.746, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1529.18, + "Plan Rows": 5078, + "Plan Width": 20, + "Actual Startup Time": 8.896, + "Actual Total Time": 35.941, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.232, + "Actual Total Time": 48.135, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.510, + "Actual Total Time": 38.310, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.864, + "Actual Total Time": 52.030, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.714, + "Actual Total Time": 20.018, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.975, + "Actual Total Time": 11.671, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.621, + "Actual Total Time": 38.628, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 61.744, + "Actual Total Time": 61.745, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1332.34, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 8.772, + "Actual Total Time": 14.840, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.081, + "Actual Total Time": 1.139, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.391, + "Actual Total Time": 2.412, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.778, + "Actual Total Time": 50.101, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.537, + "Actual Total Time": 1.554, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.800, + "Actual Total Time": 0.830, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.473, + "Actual Total Time": 0.548, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 61.743, + "Actual Total Time": 61.744, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.40, + "Plan Rows": 4444, + "Plan Width": 8, + "Actual Startup Time": 0.126, + "Actual Total Time": 19.480, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.101, + "Actual Total Time": 21.679, + "Actual Rows": 5412, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.112, + "Actual Total Time": 32.498, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.081, + "Actual Total Time": 1.808, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.170, + "Actual Total Time": 16.743, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.169, + "Actual Total Time": 10.102, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.143, + "Actual Total Time": 35.725, + "Actual Rows": 6011, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 35548, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2014)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 10824 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 10544 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 248 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 4196 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 6011 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 25, + "Plan Width": 8, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.171, + "Actual Rows": 11, + "Actual Loops": 36, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.182, + "Actual Rows": 14, + "Actual Loops": 5 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.131, + "Actual Rows": 8, + "Actual Loops": 13 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.668, + "Actual Rows": 15, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.110, + "Actual Rows": 14, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 383, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 72 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.068, + "Actual Rows": 0, + "Actual Loops": 107 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 46 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 82 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -196995888411579451, + "Planning Time": 15.585, + "Triggers": [ + ], + "Execution Time": 273.389, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -196995888411579451, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS marvel_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword = 'marvel-cinematic-universe'
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2014
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1429.94, + "Total Cost": 1429.95, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 33.009, + "Actual Total Time": 33.184, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.73, + "Total Cost": 1429.93, + "Plan Rows": 2, + "Plan Width": 48, + "Actual Startup Time": 29.346, + "Actual Total Time": 33.160, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["k.keyword", "n.name", "t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1428.93, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 10.312, + "Actual Total Time": 10.768, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.620, + "Actual Total Time": 7.623, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.288, + "Actual Total Time": 7.291, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.145, + "Actual Total Time": 6.148, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.732, + "Actual Total Time": 8.736, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.294, + "Actual Total Time": 8.297, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.342, + "Actual Total Time": 8.346, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.587, + "Actual Total Time": 7.591, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1428.47, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 7.722, + "Actual Total Time": 10.745, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "k.keyword", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.619, + "Actual Total Time": 7.622, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.287, + "Actual Total Time": 7.290, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.144, + "Actual Total Time": 6.146, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.731, + "Actual Total Time": 8.734, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.293, + "Actual Total Time": 8.295, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.341, + "Actual Total Time": 8.344, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.586, + "Actual Total Time": 7.589, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 1348.46, + "Plan Rows": 177, + "Plan Width": 28, + "Actual Startup Time": 6.902, + "Actual Total Time": 7.997, + "Actual Rows": 155, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mk.movie_id", "k.keyword"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.619, + "Actual Total Time": 7.620, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.286, + "Actual Total Time": 7.288, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.144, + "Actual Total Time": 6.145, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.731, + "Actual Total Time": 8.733, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.292, + "Actual Total Time": 8.294, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.340, + "Actual Total Time": 8.342, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.585, + "Actual Total Time": 7.587, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.43, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 6.896, + "Actual Total Time": 6.920, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.618, + "Actual Total Time": 7.619, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.285, + "Actual Total Time": 7.287, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.143, + "Actual Total Time": 6.144, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.730, + "Actual Total Time": 8.731, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.291, + "Actual Total Time": 8.292, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.339, + "Actual Total Time": 8.341, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.585, + "Actual Total Time": 7.586, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 6.888, + "Actual Total Time": 6.892, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'marvel-cinematic-universe'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.617, + "Actual Total Time": 7.618, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.285, + "Actual Total Time": 7.285, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.142, + "Actual Total Time": 6.143, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.729, + "Actual Total Time": 8.730, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.291, + "Actual Total Time": 8.291, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.338, + "Actual Total Time": 8.339, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.584, + "Actual Total Time": 7.584, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.187, + "Actual Rows": 14, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 89, + "Plan Width": 8, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.572, + "Actual Rows": 89, + "Actual Loops": 14, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1242, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2014)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3759324545287071861, + "Planning Time": 14.204, + "Triggers": [ + ], + "Execution Time": 33.464, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 3759324545287071861, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS hero_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2000
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 57041.57, + "Total Cost": 57041.58, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 5069.892, + "Actual Total Time": 5109.842, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 57041.51, + "Total Cost": 57041.52, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 1332.908, + "Actual Total Time": 5109.784, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(k.keyword))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 57040.51, + "Total Cost": 57040.52, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 2203.613, + "Actual Total Time": 2203.616, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(k.keyword)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.796, + "Actual Total Time": 104.799, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3801.047, + "Actual Total Time": 3801.049, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2236.971, + "Actual Total Time": 2236.974, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1310.165, + "Actual Total Time": 1310.169, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3101.067, + "Actual Total Time": 3101.070, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5060.636, + "Actual Total Time": 5060.638, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 682.310, + "Actual Total Time": 682.313, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 57040.46, + "Plan Rows": 6, + "Plan Width": 48, + "Actual Startup Time": 767.175, + "Actual Total Time": 2203.541, + "Actual Rows": 11, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.789, + "Actual Total Time": 104.792, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1464.740, + "Actual Total Time": 3800.989, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 151.875, + "Actual Total Time": 2236.831, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 763.847, + "Actual Total Time": 1310.088, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1745.696, + "Actual Total Time": 3101.008, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 750.674, + "Actual Total Time": 5060.524, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 327.554, + "Actual Total Time": 682.240, + "Actual Rows": 11, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 6758.18, + "Plan Rows": 111235, + "Plan Width": 37, + "Actual Startup Time": 16.604, + "Actual Total Time": 689.711, + "Actual Rows": 98185, + "Actual Loops": 8, + "Output": ["ci.person_id", "k.keyword", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.789, + "Actual Total Time": 104.791, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.380, + "Actual Total Time": 1202.966, + "Actual Rows": 194141, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.154, + "Actual Total Time": 697.375, + "Actual Rows": 84039, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.677, + "Actual Total Time": 380.455, + "Actual Rows": 38887, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.393, + "Actual Total Time": 1041.193, + "Actual Rows": 137541, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.520, + "Actual Total Time": 1555.678, + "Actual Rows": 282572, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.988, + "Actual Total Time": 139.347, + "Actual Rows": 11270, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3867.33, + "Plan Rows": 2010, + "Plan Width": 41, + "Actual Startup Time": 14.273, + "Actual Total Time": 97.876, + "Actual Rows": 1771, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.788, + "Actual Total Time": 104.790, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.244, + "Actual Total Time": 123.356, + "Actual Rows": 2965, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.061, + "Actual Total Time": 82.507, + "Actual Rows": 2120, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.518, + "Actual Total Time": 36.506, + "Actual Rows": 745, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.987, + "Actual Total Time": 186.885, + "Actual Rows": 3124, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.181, + "Actual Total Time": 191.414, + "Actual Rows": 4387, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.908, + "Actual Total Time": 10.717, + "Actual Rows": 155, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1529.18, + "Plan Rows": 5078, + "Plan Width": 20, + "Actual Startup Time": 14.196, + "Actual Total Time": 33.531, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.788, + "Actual Total Time": 104.789, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.170, + "Actual Total Time": 32.968, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.981, + "Actual Total Time": 17.633, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.349, + "Actual Total Time": 8.729, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.908, + "Actual Total Time": 37.613, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.112, + "Actual Total Time": 49.905, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.816, + "Actual Total Time": 5.460, + "Actual Rows": 248, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1332.34, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 14.096, + "Actual Total Time": 14.127, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.787, + "Actual Total Time": 104.787, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.113, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.872, + "Actual Total Time": 1.889, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.241, + "Actual Total Time": 0.285, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.798, + "Actual Total Time": 0.816, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.995, + "Actual Total Time": 1.045, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.718, + "Actual Total Time": 3.748, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.40, + "Plan Rows": 4444, + "Plan Width": 8, + "Actual Startup Time": 0.100, + "Actual Total Time": 17.446, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.120, + "Actual Total Time": 29.883, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.103, + "Actual Total Time": 13.714, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.099, + "Actual Total Time": 7.480, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.105, + "Actual Total Time": 32.711, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.078, + "Actual Total Time": 22.336, + "Actual Rows": 5412, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.091, + "Actual Total Time": 1.508, + "Actual Rows": 248, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 35548, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 6011 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 4196 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 10544 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 10824 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 248 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 25, + "Plan Width": 8, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.310, + "Actual Rows": 55, + "Actual Loops": 14165, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.337, + "Actual Rows": 65, + "Actual Loops": 2965 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.271, + "Actual Rows": 40, + "Actual Loops": 2120 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.433, + "Actual Rows": 52, + "Actual Loops": 745 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.255, + "Actual Rows": 44, + "Actual Loops": 3124 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.286, + "Actual Rows": 64, + "Actual Loops": 4387 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.784, + "Actual Rows": 73, + "Actual Loops": 155 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 785477, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 194141 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 84039 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 38887 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 137541 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 282572 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 11270 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -196995888411579451, + "Planning Time": 15.914, + "Triggers": [ + ], + "Execution Time": 5110.335, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -196995888411579451, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS marvel_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword = 'marvel-cinematic-universe'
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2000
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1429.97, + "Total Cost": 1429.98, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 34.736, + "Actual Total Time": 34.882, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.73, + "Total Cost": 1429.93, + "Plan Rows": 6, + "Plan Width": 48, + "Actual Startup Time": 9.741, + "Actual Total Time": 34.848, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["k.keyword", "n.name", "t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1428.93, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 7.696, + "Actual Total Time": 10.818, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.810, + "Actual Total Time": 6.814, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.009, + "Actual Total Time": 9.013, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.414, + "Actual Total Time": 5.418, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.971, + "Actual Total Time": 8.975, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.410, + "Actual Total Time": 5.414, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.358, + "Actual Total Time": 8.362, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.855, + "Actual Total Time": 8.859, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1428.47, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 7.688, + "Actual Total Time": 10.797, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "k.keyword", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.809, + "Actual Total Time": 6.812, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.008, + "Actual Total Time": 9.011, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.413, + "Actual Total Time": 5.416, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.970, + "Actual Total Time": 8.973, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.409, + "Actual Total Time": 5.412, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.357, + "Actual Total Time": 8.360, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.854, + "Actual Total Time": 8.857, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 1348.46, + "Plan Rows": 177, + "Plan Width": 28, + "Actual Startup Time": 6.759, + "Actual Total Time": 8.029, + "Actual Rows": 155, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mk.movie_id", "k.keyword"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.808, + "Actual Total Time": 6.810, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.007, + "Actual Total Time": 9.009, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.412, + "Actual Total Time": 5.415, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.970, + "Actual Total Time": 8.972, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.408, + "Actual Total Time": 5.410, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.357, + "Actual Total Time": 8.359, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.853, + "Actual Total Time": 8.855, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.43, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 6.746, + "Actual Total Time": 6.770, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.808, + "Actual Total Time": 6.809, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.006, + "Actual Total Time": 9.008, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.412, + "Actual Total Time": 5.413, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.969, + "Actual Total Time": 8.970, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.408, + "Actual Total Time": 5.409, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.356, + "Actual Total Time": 8.357, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.852, + "Actual Total Time": 8.853, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 6.733, + "Actual Total Time": 6.738, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'marvel-cinematic-universe'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.807, + "Actual Total Time": 6.807, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.006, + "Actual Total Time": 9.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.411, + "Actual Total Time": 5.412, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.968, + "Actual Total Time": 8.969, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.407, + "Actual Total Time": 5.407, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.355, + "Actual Total Time": 8.356, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.852, + "Actual Total Time": 8.852, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.70, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.220, + "Actual Rows": 14, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 89, + "Plan Width": 8, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.678, + "Actual Rows": 89, + "Actual Loops": 14, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1242, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3759324545287071861, + "Planning Time": 36.220, + "Triggers": [ + ], + "Execution Time": 35.483, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 3759324545287071861, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS hero_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND t.production_year > 2000
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 58822.90, + "Total Cost": 58822.91, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 4463.672, + "Actual Total Time": 4502.811, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 58822.84, + "Total Cost": 58822.85, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 926.758, + "Actual Total Time": 4502.751, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(k.keyword))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 58821.84, + "Total Cost": 58821.85, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 1748.836, + "Actual Total Time": 1748.839, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(k.keyword)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2422.696, + "Actual Total Time": 2422.699, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 303.505, + "Actual Total Time": 303.509, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1597.052, + "Actual Total Time": 1597.055, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 128.252, + "Actual Total Time": 128.257, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 942.056, + "Actual Total Time": 942.059, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4455.543, + "Actual Total Time": 4455.545, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3215.803, + "Actual Total Time": 3215.805, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 57980.26, + "Plan Rows": 112211, + "Plan Width": 48, + "Actual Startup Time": 17.229, + "Actual Total Time": 1667.980, + "Actual Rows": 98185, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.854, + "Actual Total Time": 2312.655, + "Actual Rows": 137541, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.447, + "Actual Total Time": 290.818, + "Actual Rows": 11270, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.679, + "Actual Total Time": 1523.870, + "Actual Rows": 84039, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 128.247, + "Actual Total Time": 128.251, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.101, + "Actual Total Time": 898.380, + "Actual Rows": 38887, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.780, + "Actual Total Time": 4246.645, + "Actual Rows": 282572, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.131, + "Actual Total Time": 3060.165, + "Actual Rows": 194141, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 7537.32, + "Plan Rows": 112211, + "Plan Width": 37, + "Actual Startup Time": 17.165, + "Actual Total Time": 539.635, + "Actual Rows": 98185, + "Actual Loops": 8, + "Output": ["ci.person_id", "k.keyword", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.788, + "Actual Total Time": 782.392, + "Actual Rows": 137541, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.381, + "Actual Total Time": 92.117, + "Actual Rows": 11270, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.607, + "Actual Total Time": 494.205, + "Actual Rows": 84039, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 128.247, + "Actual Total Time": 128.250, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.024, + "Actual Total Time": 284.672, + "Actual Rows": 38887, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.703, + "Actual Total Time": 1299.975, + "Actual Rows": 282572, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.051, + "Actual Total Time": 941.953, + "Actual Rows": 194141, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3867.33, + "Plan Rows": 2024, + "Plan Width": 41, + "Actual Startup Time": 17.093, + "Actual Total Time": 102.560, + "Actual Rows": 1771, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.731, + "Actual Total Time": 174.727, + "Actual Rows": 3124, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.311, + "Actual Total Time": 15.078, + "Actual Rows": 155, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.519, + "Actual Total Time": 76.614, + "Actual Rows": 2120, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 128.245, + "Actual Total Time": 128.248, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.916, + "Actual Total Time": 48.490, + "Actual Rows": 745, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.613, + "Actual Total Time": 188.049, + "Actual Rows": 4387, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.940, + "Actual Total Time": 120.157, + "Actual Rows": 2965, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1529.18, + "Plan Rows": 5078, + "Plan Width": 20, + "Actual Startup Time": 17.009, + "Actual Total Time": 38.360, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.674, + "Actual Total Time": 42.964, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.235, + "Actual Total Time": 4.219, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.428, + "Actual Total Time": 17.214, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 128.245, + "Actual Total Time": 128.247, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.698, + "Actual Total Time": 11.871, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.523, + "Actual Total Time": 52.112, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.855, + "Actual Total Time": 34.291, + "Actual Rows": 6011, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1332.34, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 16.888, + "Actual Total Time": 16.921, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.534, + "Actual Total Time": 0.552, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.160, + "Actual Total Time": 2.193, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.272, + "Actual Total Time": 1.286, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 128.244, + "Actual Total Time": 128.245, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.542, + "Actual Total Time": 0.584, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.373, + "Actual Total Time": 1.424, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.690, + "Actual Total Time": 0.764, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.40, + "Plan Rows": 4444, + "Plan Width": 8, + "Actual Startup Time": 0.120, + "Actual Total Time": 19.505, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.135, + "Actual Total Time": 38.346, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.069, + "Actual Total Time": 1.847, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.152, + "Actual Total Time": 14.071, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.151, + "Actual Total Time": 10.282, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.095, + "Actual Total Time": 23.240, + "Actual Rows": 5412, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.150, + "Actual Total Time": 30.658, + "Actual Rows": 6011, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 35548, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 10544 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 248 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 4196 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 10824 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 6011 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 55, + "Plan Width": 8, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.224, + "Actual Rows": 55, + "Actual Loops": 14165, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.177, + "Actual Rows": 44, + "Actual Loops": 3124 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.458, + "Actual Rows": 73, + "Actual Loops": 155 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.180, + "Actual Rows": 40, + "Actual Loops": 2120 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.286, + "Actual Rows": 52, + "Actual Loops": 745 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.230, + "Actual Rows": 64, + "Actual Loops": 4387 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.252, + "Actual Rows": 65, + "Actual Loops": 2965 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 785477, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 137541 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 11270 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 84039 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 38887 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 282572 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 194141 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4608735958739764665, + "Planning Time": 14.860, + "Triggers": [ + ], + "Execution Time": 4503.182, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -4608735958739764665, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(n.name) AS of_person,
       MIN(t.title) AS biography_movie
FROM aka_name AS an,
     cast_info AS ci,
     info_type AS it,
     link_type AS lt,
     movie_link AS ml,
     name AS n,
     person_info AS pi,
     title AS t
WHERE an.name LIKE '%a%'
  AND it.info ='mini biography'
  AND lt.link ='features'
  AND n.name_pcode_cf BETWEEN 'A' AND 'F'
  AND (n.gender='m'
       OR (n.gender = 'f'
           AND n.name LIKE 'B%'))
  AND pi.note ='Volker Boehm'
  AND t.production_year BETWEEN 1980 AND 1995
  AND n.id = an.person_id
  AND n.id = pi.person_id
  AND ci.person_id = n.id
  AND t.id = ci.movie_id
  AND ml.linked_movie_id = t.id
  AND lt.id = ml.link_type_id
  AND it.id = pi.info_type_id
  AND pi.person_id = an.person_id
  AND pi.person_id = ci.person_id
  AND an.person_id = ci.person_id
  AND ci.movie_id = ml.linked_movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 15109.79, + "Total Cost": 15109.80, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 577.761, + "Actual Total Time": 577.927, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 15109.75, + "Total Cost": 15109.76, + "Plan Rows": 5, + "Plan Width": 64, + "Actual Startup Time": 577.739, + "Actual Total Time": 577.913, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 15108.75, + "Total Cost": 15108.76, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 515.228, + "Actual Total Time": 515.233, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 490.504, + "Actual Total Time": 490.509, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 487.765, + "Actual Total Time": 487.771, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 520.261, + "Actual Total Time": 520.267, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 526.588, + "Actual Total Time": 526.593, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 489.420, + "Actual Total Time": 489.424, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.73, + "Total Cost": 15108.72, + "Plan Rows": 6, + "Plan Width": 32, + "Actual Startup Time": 350.969, + "Actual Total Time": 515.210, + "Actual Rows": 5, + "Actual Loops": 6, + "Output": ["n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 292.066, + "Actual Total Time": 490.468, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 446.318, + "Actual Total Time": 487.754, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 520.255, + "Actual Total Time": 520.261, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 154.737, + "Actual Total Time": 526.556, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 390.261, + "Actual Total Time": 489.406, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.31, + "Total Cost": 15107.25, + "Plan Rows": 3, + "Plan Width": 44, + "Actual Startup Time": 350.880, + "Actual Total Time": 515.070, + "Actual Rows": 2, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "pi.person_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 292.019, + "Actual Total Time": 490.282, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 446.272, + "Actual Total Time": 487.700, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 520.255, + "Actual Total Time": 520.259, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 154.404, + "Actual Total Time": 526.094, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 390.222, + "Actual Total Time": 489.356, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.17, + "Total Cost": 15106.63, + "Plan Rows": 3, + "Plan Width": 48, + "Actual Startup Time": 350.833, + "Actual Total Time": 515.005, + "Actual Rows": 2, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "pi.person_id", "pi.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 291.977, + "Actual Total Time": 490.179, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 446.228, + "Actual Total Time": 487.654, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 520.254, + "Actual Total Time": 520.258, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 154.298, + "Actual Total Time": 525.945, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 390.175, + "Actual Total Time": 489.307, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 12703.35, + "Plan Rows": 3512, + "Plan Width": 40, + "Actual Startup Time": 1.807, + "Actual Total Time": 424.187, + "Actual Rows": 2926, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.792, + "Actual Total Time": 406.098, + "Actual Rows": 2765, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.741, + "Actual Total Time": 395.997, + "Actual Rows": 2794, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.695, + "Actual Total Time": 429.872, + "Actual Rows": 3021, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.648, + "Actual Total Time": 422.971, + "Actual Rows": 2676, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.491, + "Actual Total Time": 412.617, + "Actual Rows": 2454, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 2976.56, + "Plan Rows": 21052, + "Plan Width": 21, + "Actual Startup Time": 1.457, + "Actual Total Time": 140.572, + "Actual Rows": 17544, + "Actual Loops": 6, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.296, + "Actual Total Time": 128.359, + "Actual Rows": 16935, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.656, + "Actual Total Time": 127.269, + "Actual Rows": 17632, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.584, + "Actual Total Time": 150.493, + "Actual Rows": 18435, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.534, + "Actual Total Time": 140.243, + "Actual Rows": 16326, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.297, + "Actual Total Time": 144.672, + "Actual Rows": 15391, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2170.77, + "Plan Rows": 293, + "Plan Width": 25, + "Actual Startup Time": 1.201, + "Actual Total Time": 38.552, + "Actual Rows": 244, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.978, + "Actual Total Time": 30.955, + "Actual Rows": 200, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.575, + "Actual Total Time": 35.673, + "Actual Rows": 283, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.469, + "Actual Total Time": 42.921, + "Actual Rows": 259, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.389, + "Actual Total Time": 38.441, + "Actual Rows": 244, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.171, + "Actual Total Time": 42.074, + "Actual Rows": 241, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 632.40, + "Plan Rows": 1037, + "Plan Width": 4, + "Actual Startup Time": 0.372, + "Actual Total Time": 18.477, + "Actual Rows": 864, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.877, + "Actual Total Time": 14.625, + "Actual Rows": 755, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.135, + "Actual Total Time": 17.131, + "Actual Rows": 865, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.193, + "Actual Total Time": 20.644, + "Actual Rows": 1046, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.153, + "Actual Total Time": 17.665, + "Actual Rows": 916, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.641, + "Actual Total Time": 20.072, + "Actual Rows": 847, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.080, + "Actual Total Time": 10.912, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.076, + "Actual Total Time": 8.670, + "Actual Rows": 3674, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.053, + "Actual Total Time": 10.055, + "Actual Rows": 4655, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.069, + "Actual Total Time": 12.286, + "Actual Rows": 5823, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.079, + "Actual Total Time": 10.464, + "Actual Rows": 4699, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.149, + "Actual Total Time": 11.843, + "Actual Rows": 4896, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 6234, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3674, + "Cache Hits": 3658, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4655, + "Cache Hits": 4639, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5823, + "Cache Hits": 5807, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4699, + "Cache Hits": 4683, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4896, + "Cache Hits": 4880, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text = 'features'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 5186, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1980) AND (t.production_year <= 1995))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 755 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 865 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1046 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 916 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 847 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 2.03, + "Plan Rows": 72, + "Plan Width": 8, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.388, + "Actual Rows": 72, + "Actual Loops": 1467, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.453, + "Actual Rows": 85, + "Actual Loops": 200 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.299, + "Actual Rows": 62, + "Actual Loops": 283 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.389, + "Actual Rows": 71, + "Actual Loops": 259 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.388, + "Actual Rows": 67, + "Actual Loops": 244 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.398, + "Actual Rows": 64, + "Actual Loops": 241 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 105262, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((n.name_pcode_cf)::text >= 'A'::text) AND ((n.name_pcode_cf)::text <= 'F'::text) AND (((n.gender)::text = 'm'::text) OR (((n.gender)::text = 'f'::text) AND (n.name ~~ 'B%'::text))))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 16935 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 17632 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 18435 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 16326 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 15391 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.67, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 17559, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(pi.note = 'Volker Boehm'::text)", + "Rows Removed by Filter": 20, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 2765 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 2794 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 3021 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 2676 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 2454 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.19, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 14, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = pi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'mini biography'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.055, + "Actual Rows": 2, + "Actual Loops": 14, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(an.name ~~ '%a%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.026, + "Actual Rows": 2, + "Actual Loops": 6 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.048, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.088, + "Actual Rows": 2, + "Actual Loops": 5 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.043, + "Actual Rows": 4, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7100159318594498086, + "Planning Time": 83.652, + "Triggers": [ + ], + "Execution Time": 578.365, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7100159318594498086, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(n.name) AS of_person,
       MIN(t.title) AS biography_movie
FROM aka_name AS an,
     cast_info AS ci,
     info_type AS it,
     link_type AS lt,
     movie_link AS ml,
     name AS n,
     person_info AS pi,
     title AS t
WHERE an.name LIKE '%a%'
  AND it.info ='mini biography'
  AND lt.link ='features'
  AND n.name_pcode_cf LIKE 'D%'
  AND n.gender='m'
  AND pi.note ='Volker Boehm'
  AND t.production_year BETWEEN 1980 AND 1984
  AND n.id = an.person_id
  AND n.id = pi.person_id
  AND ci.person_id = n.id
  AND t.id = ci.movie_id
  AND ml.linked_movie_id = t.id
  AND lt.id = ml.link_type_id
  AND it.id = pi.info_type_id
  AND pi.person_id = an.person_id
  AND pi.person_id = ci.person_id
  AND an.person_id = ci.person_id
  AND ci.movie_id = ml.linked_movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5894.66, + "Total Cost": 5894.67, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 216.686, + "Actual Total Time": 232.288, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5894.62, + "Total Cost": 5894.63, + "Plan Rows": 5, + "Plan Width": 64, + "Actual Startup Time": 136.899, + "Actual Total Time": 232.267, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5893.62, + "Total Cost": 5893.63, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 143.112, + "Actual Total Time": 143.119, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 141.519, + "Actual Total Time": 141.526, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 207.323, + "Actual Total Time": 207.327, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 119.676, + "Actual Total Time": 119.680, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 127.368, + "Actual Total Time": 127.376, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 126.809, + "Actual Total Time": 126.815, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.74, + "Total Cost": 5893.61, + "Plan Rows": 3, + "Plan Width": 32, + "Actual Startup Time": 128.217, + "Actual Total Time": 143.104, + "Actual Rows": 3, + "Actual Loops": 6, + "Output": ["n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 141.513, + "Actual Total Time": 141.519, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 207.318, + "Actual Total Time": 207.321, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 119.671, + "Actual Total Time": 119.674, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 38.019, + "Actual Total Time": 127.319, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 126.805, + "Actual Total Time": 126.809, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.32, + "Total Cost": 5892.63, + "Plan Rows": 2, + "Plan Width": 44, + "Actual Startup Time": 128.207, + "Actual Total Time": 143.063, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "pi.person_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 141.513, + "Actual Total Time": 141.518, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 207.317, + "Actual Total Time": 207.320, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 119.670, + "Actual Total Time": 119.673, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 37.967, + "Actual Total Time": 127.078, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 126.804, + "Actual Total Time": 126.808, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.17, + "Total Cost": 5892.20, + "Plan Rows": 2, + "Plan Width": 48, + "Actual Startup Time": 128.198, + "Actual Total Time": 143.046, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "pi.person_id", "pi.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 141.512, + "Actual Total Time": 141.516, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 207.317, + "Actual Total Time": 207.319, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 119.669, + "Actual Total Time": 119.671, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 37.913, + "Actual Total Time": 126.986, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 126.803, + "Actual Total Time": 126.806, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 5745.08, + "Plan Rows": 215, + "Plan Width": 40, + "Actual Startup Time": 6.129, + "Actual Total Time": 138.090, + "Actual Rows": 179, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.749, + "Actual Total Time": 136.160, + "Actual Rows": 149, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.754, + "Actual Total Time": 199.334, + "Actual Rows": 377, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.499, + "Actual Total Time": 117.074, + "Actual Rows": 137, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.650, + "Actual Total Time": 122.994, + "Actual Rows": 107, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.045, + "Actual Total Time": 121.183, + "Actual Rows": 88, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 2707.41, + "Plan Rows": 6683, + "Plan Width": 21, + "Actual Startup Time": 2.613, + "Actual Total Time": 52.805, + "Actual Rows": 5569, + "Actual Loops": 6, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.253, + "Actual Total Time": 58.202, + "Actual Rows": 4125, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.576, + "Actual Total Time": 52.133, + "Actual Rows": 10570, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.326, + "Actual Total Time": 45.271, + "Actual Rows": 5299, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.568, + "Actual Total Time": 52.240, + "Actual Rows": 3689, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.070, + "Actual Total Time": 52.479, + "Actual Rows": 3900, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2170.77, + "Plan Rows": 87, + "Plan Width": 25, + "Actual Startup Time": 2.543, + "Actual Total Time": 29.179, + "Actual Rows": 72, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.182, + "Actual Total Time": 35.361, + "Actual Rows": 74, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.489, + "Actual Total Time": 16.341, + "Actual Rows": 76, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.263, + "Actual Total Time": 24.361, + "Actual Rows": 81, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.499, + "Actual Total Time": 31.211, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.991, + "Actual Total Time": 32.736, + "Actual Rows": 59, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 632.40, + "Plan Rows": 1037, + "Plan Width": 4, + "Actual Startup Time": 0.472, + "Actual Total Time": 16.076, + "Actual Rows": 864, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.971, + "Actual Total Time": 20.041, + "Actual Rows": 876, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.715, + "Actual Total Time": 8.818, + "Actual Rows": 464, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.253, + "Actual Total Time": 13.272, + "Actual Rows": 836, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.087, + "Actual Total Time": 16.686, + "Actual Rows": 843, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.600, + "Actual Total Time": 18.730, + "Actual Rows": 811, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.057, + "Actual Total Time": 9.363, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.059, + "Actual Total Time": 11.588, + "Actual Rows": 5448, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.069, + "Actual Total Time": 5.146, + "Actual Rows": 2432, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.033, + "Actual Total Time": 7.813, + "Actual Rows": 4813, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.046, + "Actual Total Time": 9.788, + "Actual Rows": 4527, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.091, + "Actual Total Time": 10.818, + "Actual Rows": 5263, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 7498, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5448, + "Cache Hits": 5432, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 2432, + "Cache Hits": 2416, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4813, + "Cache Hits": 4797, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4527, + "Cache Hits": 4511, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5263, + "Cache Hits": 5247, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text = 'features'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 5186, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1980) AND (t.production_year <= 1984))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 876 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 464 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 836 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 843 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 811 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 5.40, + "Plan Rows": 77, + "Plan Width": 8, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.296, + "Actual Rows": 77, + "Actual Loops": 435, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.282, + "Actual Rows": 56, + "Actual Loops": 74 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.418, + "Actual Rows": 139, + "Actual Loops": 76 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.236, + "Actual Rows": 65, + "Actual Loops": 81 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.328, + "Actual Rows": 63, + "Actual Loops": 59 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.305, + "Actual Rows": 66, + "Actual Loops": 59 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 33415, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((n.name_pcode_cf)::text ~~ 'D%'::text) AND ((n.gender)::text = 'm'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 4125 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 10570 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 5299 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 3689 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 3900 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.67, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1076, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(pi.note = 'Volker Boehm'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 149 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 377 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 137 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 107 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 88 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.20, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["it.id"], + "Cache Key": "pi.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 8, + "Cache Hits": 7, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.19, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Index Cond": "(it.id = pi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'mini biography'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.026, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(an.name ~~ '%a%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.026, + "Actual Rows": 2, + "Actual Loops": 8 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -298514962653462987, + "Planning Time": 67.113, + "Triggers": [ + ], + "Execution Time": 232.846, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -298514962653462987, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(n.name) AS cast_member_name,
       MIN(pi.info) AS cast_member_info
FROM aka_name AS an,
     cast_info AS ci,
     info_type AS it,
     link_type AS lt,
     movie_link AS ml,
     name AS n,
     person_info AS pi,
     title AS t
WHERE an.name IS NOT NULL
  AND (an.name LIKE '%a%'
       OR an.name LIKE 'A%')
  AND it.info ='mini biography'
  AND lt.link IN ('references',
                  'referenced in',
                  'features',
                  'featured in')
  AND n.name_pcode_cf BETWEEN 'A' AND 'F'
  AND (n.gender='m'
       OR (n.gender = 'f'
           AND n.name LIKE 'A%'))
  AND pi.note IS NOT NULL
  AND t.production_year BETWEEN 1980 AND 2010
  AND n.id = an.person_id
  AND n.id = pi.person_id
  AND ci.person_id = n.id
  AND t.id = ci.movie_id
  AND ml.linked_movie_id = t.id
  AND lt.id = ml.link_type_id
  AND it.id = pi.info_type_id
  AND pi.person_id = an.person_id
  AND pi.person_id = ci.person_id
  AND an.person_id = ci.person_id
  AND ci.movie_id = ml.linked_movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 81846.99, + "Total Cost": 81847.00, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1468.382, + "Actual Total Time": 1502.656, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(pi.info)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 81846.96, + "Total Cost": 81846.97, + "Plan Rows": 5, + "Plan Width": 64, + "Actual Startup Time": 1381.705, + "Actual Total Time": 1502.561, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(pi.info))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 81845.96, + "Total Cost": 81845.97, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1412.481, + "Actual Total Time": 1412.492, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(pi.info)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1449.107, + "Actual Total Time": 1449.115, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1395.773, + "Actual Total Time": 1395.782, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1383.774, + "Actual Total Time": 1383.783, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1406.765, + "Actual Total Time": 1406.774, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1458.746, + "Actual Total Time": 1458.761, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 68165.13, + "Total Cost": 81777.77, + "Plan Rows": 13637, + "Plan Width": 111, + "Actual Startup Time": 526.669, + "Actual Total Time": 1256.614, + "Actual Rows": 11364, + "Actual Loops": 6, + "Output": ["n.name", "pi.info"], + "Inner Unique": false, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 519.406, + "Actual Total Time": 1287.314, + "Actual Rows": 11690, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 526.248, + "Actual Total Time": 1248.764, + "Actual Rows": 10191, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 530.934, + "Actual Total Time": 1242.500, + "Actual Rows": 9319, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 518.931, + "Actual Total Time": 1219.608, + "Actual Rows": 14759, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 527.656, + "Actual Total Time": 1293.895, + "Actual Rows": 11537, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 12790.21, + "Plan Rows": 219442, + "Plan Width": 4, + "Actual Startup Time": 0.372, + "Actual Total Time": 651.961, + "Actual Rows": 182868, + "Actual Loops": 6, + "Output": ["ci.person_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.506, + "Actual Total Time": 682.438, + "Actual Rows": 187787, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.485, + "Actual Total Time": 647.372, + "Actual Rows": 161753, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.308, + "Actual Total Time": 638.537, + "Actual Rows": 166105, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.303, + "Actual Total Time": 623.867, + "Actual Rows": 199585, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.332, + "Actual Total Time": 681.599, + "Actual Rows": 179214, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 7009.91, + "Plan Rows": 2839, + "Plan Width": 8, + "Actual Startup Time": 0.269, + "Actual Total Time": 71.416, + "Actual Rows": 2366, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.221, + "Actual Total Time": 72.074, + "Actual Rows": 2190, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.415, + "Actual Total Time": 74.362, + "Actual Rows": 2133, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.230, + "Actual Total Time": 72.121, + "Actual Rows": 2307, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.241, + "Actual Total Time": 68.059, + "Actual Rows": 2732, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.260, + "Actual Total Time": 70.510, + "Actual Rows": 2113, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 629.43, + "Plan Rows": 4301, + "Plan Width": 4, + "Actual Startup Time": 0.137, + "Actual Total Time": 20.886, + "Actual Rows": 3584, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.125, + "Actual Total Time": 20.932, + "Actual Rows": 3369, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.115, + "Actual Total Time": 22.565, + "Actual Rows": 3370, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.146, + "Actual Total Time": 20.488, + "Actual Rows": 3485, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.139, + "Actual Total Time": 19.765, + "Actual Rows": 3910, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.169, + "Actual Total Time": 20.802, + "Actual Rows": 3263, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.083, + "Actual Total Time": 10.437, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.068, + "Actual Total Time": 10.351, + "Actual Rows": 4459, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.066, + "Actual Total Time": 11.261, + "Actual Rows": 5484, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.100, + "Actual Total Time": 10.157, + "Actual Rows": 4413, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.074, + "Actual Total Time": 10.068, + "Actual Rows": 5528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.115, + "Actual Total Time": 10.214, + "Actual Rows": 4446, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 5651, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 4459, + "Cache Hits": 4443, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 5484, + "Cache Hits": 5468, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 4413, + "Cache Hits": 4397, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 5528, + "Cache Hits": 5512, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 4446, + "Cache Hits": 4430, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text = ANY ('{references,\"referenced in\",features,\"featured in\"}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 21505, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"], + "Index Cond": "(t.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1980) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 3369 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 3370 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3485 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 3910 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 3263 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.27, + "Plan Rows": 77, + "Plan Width": 8, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.223, + "Actual Rows": 77, + "Actual Loops": 14194, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.252, + "Actual Rows": 86, + "Actual Loops": 2190 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.244, + "Actual Rows": 76, + "Actual Loops": 2133 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.222, + "Actual Rows": 72, + "Actual Loops": 2307 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.186, + "Actual Rows": 73, + "Actual Loops": 2732 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.262, + "Actual Rows": 85, + "Actual Loops": 2113 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 68144.15, + "Total Cost": 68144.15, + "Plan Rows": 1574, + "Plan Width": 123, + "Actual Startup Time": 524.777, + "Actual Total Time": 524.783, + "Actual Rows": 2099, + "Actual Loops": 6, + "Output": ["an.person_id", "n.name", "n.id", "pi.info", "pi.person_id"], + "Hash Buckets": 16384, + "Original Hash Buckets": 16384, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 10816, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 518.405, + "Actual Total Time": 518.409, + "Actual Rows": 1912, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 525.685, + "Actual Total Time": 525.690, + "Actual Rows": 1963, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 526.946, + "Actual Total Time": 526.951, + "Actual Rows": 2322, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 518.490, + "Actual Total Time": 518.496, + "Actual Rows": 1884, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 525.804, + "Actual Total Time": 525.811, + "Actual Rows": 2212, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 68144.15, + "Plan Rows": 1574, + "Plan Width": 123, + "Actual Startup Time": 0.459, + "Actual Total Time": 519.419, + "Actual Rows": 2099, + "Actual Loops": 6, + "Output": ["an.person_id", "n.name", "n.id", "pi.info", "pi.person_id"], + "Inner Unique": true, + "Hash Cond": "(pi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.604, + "Actual Total Time": 513.712, + "Actual Rows": 1912, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.226, + "Actual Total Time": 520.966, + "Actual Rows": 1963, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.180, + "Actual Total Time": 519.443, + "Actual Rows": 2322, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.662, + "Actual Total Time": 513.565, + "Actual Rows": 1884, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.339, + "Actual Total Time": 520.840, + "Actual Rows": 2212, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 68138.02, + "Plan Rows": 1574, + "Plan Width": 127, + "Actual Startup Time": 0.417, + "Actual Total Time": 516.871, + "Actual Rows": 2099, + "Actual Loops": 6, + "Output": ["an.person_id", "n.name", "n.id", "pi.info", "pi.person_id", "pi.info_type_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.572, + "Actual Total Time": 511.246, + "Actual Rows": 1912, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.211, + "Actual Total Time": 518.497, + "Actual Rows": 1963, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.166, + "Actual Total Time": 516.871, + "Actual Rows": 2322, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.629, + "Actual Total Time": 511.146, + "Actual Rows": 1884, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.321, + "Actual Total Time": 518.264, + "Actual Rows": 2212, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.42, + "Total Cost": 62960.66, + "Plan Rows": 9122, + "Plan Width": 108, + "Actual Startup Time": 0.232, + "Actual Total Time": 359.641, + "Actual Rows": 12163, + "Actual Loops": 6, + "Output": ["an.person_id", "pi.info", "pi.person_id", "pi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.402, + "Actual Total Time": 357.628, + "Actual Rows": 10997, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.127, + "Actual Total Time": 359.943, + "Actual Rows": 11436, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.102, + "Actual Total Time": 360.798, + "Actual Rows": 11587, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.459, + "Actual Total Time": 356.095, + "Actual Rows": 13383, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.109, + "Actual Total Time": 359.305, + "Actual Rows": 11626, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.00, + "Total Cost": 55955.58, + "Plan Rows": 10523, + "Plan Width": 104, + "Actual Startup Time": 0.052, + "Actual Total Time": 196.025, + "Actual Rows": 14030, + "Actual Loops": 6, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Filter": "(pi.note IS NOT NULL)", + "Rows Removed by Filter": 479914, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.068, + "Actual Total Time": 197.492, + "Actual Rows": 12890, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.039, + "Actual Total Time": 197.333, + "Actual Rows": 12942, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.043, + "Actual Total Time": 198.201, + "Actual Rows": 13477, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.104, + "Actual Total Time": 190.629, + "Actual Rows": 15895, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 195.899, + "Actual Rows": 13126, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.66, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 84183, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = pi.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((an.name IS NOT NULL) AND ((an.name ~~ '%a%'::text) OR (an.name ~~ 'A%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 12890 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 12942 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 13477 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 15895 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 13126 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.57, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 72979, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((n.name_pcode_cf)::text >= 'A'::text) AND ((n.name_pcode_cf)::text <= 'F'::text) AND (((n.gender)::text = 'm'::text) OR (((n.gender)::text = 'f'::text) AND (n.name ~~ 'A%'::text))))",+ "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 10997 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 11436 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 11587 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 13383 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 11626 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.085, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'mini biography'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7678011977838348522, + "Planning Time": 69.937, + "Triggers": [ + ], + "Execution Time": 1503.081, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -7678011977838348522, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an1.name) AS actress_pseudonym,
       MIN(t.title) AS japanese_movie_dubbed
FROM aka_name AS an1,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n1,
     role_type AS rt,
     title AS t
WHERE ci.note ='(voice: English version)'
  AND cn.country_code ='[jp]'
  AND mc.note LIKE '%(Japan)%'
  AND mc.note NOT LIKE '%(USA)%'
  AND n1.name LIKE '%Yo%'
  AND n1.name NOT LIKE '%Yu%'
  AND rt.role ='actress'
  AND an1.person_id = n1.id
  AND n1.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND an1.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 23650.76, + "Total Cost": 23650.77, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 984.000, + "Actual Total Time": 1020.672, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an1.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 23650.71, + "Total Cost": 23650.72, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 950.727, + "Actual Total Time": 1020.634, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an1.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 23649.71, + "Total Cost": 23649.72, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 950.385, + "Actual Total Time": 950.392, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an1.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 942.266, + "Actual Total Time": 942.274, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 967.190, + "Actual Total Time": 967.196, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 942.199, + "Actual Total Time": 942.207, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 942.305, + "Actual Total Time": 942.311, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 942.294, + "Actual Total Time": 942.300, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 941.683, + "Actual Total Time": 941.691, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 975.302, + "Actual Total Time": 975.307, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 23649.67, + "Plan Rows": 8, + "Plan Width": 33, + "Actual Startup Time": 396.816, + "Actual Total Time": 950.351, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["an1.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n1.id = an1.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 942.261, + "Actual Total Time": 942.268, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 120.441, + "Actual Total Time": 967.145, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 942.193, + "Actual Total Time": 942.200, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 89.239, + "Actual Total Time": 942.228, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 260.040, + "Actual Total Time": 942.267, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 184.508, + "Actual Total Time": 941.631, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 211.309, + "Actual Total Time": 975.236, + "Actual Rows": 14, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 23646.46, + "Plan Rows": 5, + "Plan Width": 25, + "Actual Startup Time": 396.752, + "Actual Total Time": 950.188, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["ci.person_id", "n1.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 942.260, + "Actual Total Time": 942.266, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 120.335, + "Actual Total Time": 966.902, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 942.192, + "Actual Total Time": 942.198, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 89.105, + "Actual Total Time": 941.889, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 259.955, + "Actual Total Time": 942.116, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 184.438, + "Actual Total Time": 941.367, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 211.231, + "Actual Total Time": 974.977, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 22565.35, + "Plan Rows": 930, + "Plan Width": 21, + "Actual Startup Time": 40.554, + "Actual Total Time": 934.233, + "Actual Rows": 930, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.302, + "Actual Total Time": 931.574, + "Actual Rows": 612, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 48.245, + "Actual Total Time": 935.637, + "Actual Rows": 2043, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 68.602, + "Actual Total Time": 929.003, + "Actual Rows": 721, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 67.799, + "Actual Total Time": 917.374, + "Actual Rows": 1268, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 56.358, + "Actual Total Time": 925.141, + "Actual Rows": 1171, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.901, + "Actual Total Time": 928.251, + "Actual Rows": 671, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 51.501, + "Actual Total Time": 965.344, + "Actual Rows": 571, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 22555.55, + "Plan Rows": 2450, + "Plan Width": 25, + "Actual Startup Time": 36.987, + "Actual Total Time": 932.034, + "Actual Rows": 2450, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.role_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.777, + "Actual Total Time": 929.057, + "Actual Rows": 1434, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.886, + "Actual Total Time": 931.892, + "Actual Rows": 5128, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 68.292, + "Actual Total Time": 927.239, + "Actual Rows": 2173, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 67.285, + "Actual Total Time": 914.734, + "Actual Rows": 3318, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.923, + "Actual Total Time": 922.720, + "Actual Rows": 3018, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.312, + "Actual Total Time": 926.447, + "Actual Rows": 2047, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 51.084, + "Actual Total Time": 963.861, + "Actual Rows": 1569, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 14816.80, + "Plan Rows": 6041, + "Plan Width": 25, + "Actual Startup Time": 0.241, + "Actual Total Time": 173.544, + "Actual Rows": 6041, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.311, + "Actual Total Time": 188.954, + "Actual Rows": 6031, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.245, + "Actual Total Time": 159.931, + "Actual Rows": 6436, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.206, + "Actual Total Time": 161.155, + "Actual Rows": 4161, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.262, + "Actual Total Time": 180.383, + "Actual Rows": 5911, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.254, + "Actual Total Time": 172.491, + "Actual Rows": 7294, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.253, + "Actual Total Time": 195.373, + "Actual Rows": 7761, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.259, + "Actual Total Time": 170.763, + "Actual Rows": 5996, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 7212.08, + "Plan Rows": 6041, + "Plan Width": 4, + "Actual Startup Time": 0.145, + "Actual Total Time": 75.146, + "Actual Rows": 6041, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.176, + "Actual Total Time": 88.090, + "Actual Rows": 6031, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.135, + "Actual Total Time": 57.788, + "Actual Rows": 6436, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.126, + "Actual Total Time": 86.341, + "Actual Rows": 4161, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.144, + "Actual Total Time": 85.314, + "Actual Rows": 5911, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.182, + "Actual Total Time": 57.561, + "Actual Rows": 7294, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.143, + "Actual Total Time": 75.924, + "Actual Rows": 7761, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.162, + "Actual Total Time": 67.423, + "Actual Rows": 5996, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 844, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 13.469, + "Actual Rows": 844, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[jp]'::text)", + "Rows Removed by Filter": 28531, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.057, + "Actual Total Time": 19.194, + "Actual Rows": 1113, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 5.486, + "Actual Rows": 389, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 20.184, + "Actual Rows": 1267, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 17.839, + "Actual Rows": 1108, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 8.260, + "Actual Rows": 495, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.040, + "Actual Total Time": 11.423, + "Actual Rows": 708, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.042, + "Actual Total Time": 6.426, + "Actual Rows": 388, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 4.49, + "Plan Rows": 7, + "Plan Width": 8, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.069, + "Actual Rows": 7, + "Actual Loops": 6752, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(Japan)%'::text) AND (mc.note !~~ '%(USA)%'::text))", + "Rows Removed by Filter": 8, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.059, + "Actual Rows": 5, + "Actual Loops": 1113 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.127, + "Actual Rows": 17, + "Actual Loops": 389 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.050, + "Actual Rows": 3, + "Actual Loops": 1267 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.058, + "Actual Rows": 5, + "Actual Loops": 1108 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.093, + "Actual Rows": 15, + "Actual Loops": 495 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.086, + "Actual Rows": 11, + "Actual Loops": 708 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.150, + "Actual Rows": 15, + "Actual Loops": 388 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.26, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 48328, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 6031 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 6436 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 4161 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 5911 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 7294 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 7761 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 5996 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.27, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.119, + "Actual Total Time": 0.124, + "Actual Rows": 0, + "Actual Loops": 48328, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = '(voice: English version)'::text)", + "Rows Removed by Filter": 32, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.118, + "Actual Total Time": 0.121, + "Actual Rows": 0, + "Actual Loops": 6031 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.111, + "Actual Total Time": 0.119, + "Actual Rows": 1, + "Actual Loops": 6436 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.172, + "Actual Total Time": 0.183, + "Actual Rows": 1, + "Actual Loops": 4161 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.115, + "Actual Total Time": 0.123, + "Actual Rows": 1, + "Actual Loops": 5911 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.097, + "Actual Total Time": 0.102, + "Actual Rows": 0, + "Actual Loops": 7294 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.090, + "Actual Total Time": 0.093, + "Actual Rows": 0, + "Actual Loops": 7761 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.128, + "Actual Total Time": 0.131, + "Actual Rows": 0, + "Actual Loops": 5996 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.174, + "Actual Total Time": 0.175, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.131, + "Actual Total Time": 1.131, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n1", + "Startup Cost": 0.43, + "Total Cost": 1.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 7438, + "Output": ["n1.id", "n1.name", "n1.imdb_index", "n1.imdb_id", "n1.gender", "n1.name_pcode_cf", "n1.name_pcode_nf", "n1.surname_pcode", "n1.md5sum"], + "Index Cond": "(n1.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n1.name ~~ '%Yo%'::text) AND (n1.name !~~ '%Yu%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 612 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2043 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 721 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1268 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1171 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 671 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 571 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an1", + "Startup Cost": 0.42, + "Total Cost": 0.62, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.029, + "Actual Rows": 2, + "Actual Loops": 38, + "Output": ["an1.id", "an1.person_id", "an1.name", "an1.imdb_index", "an1.name_pcode_cf", "an1.name_pcode_nf", "an1.surname_pcode", "an1.md5sum"], + "Index Cond": "(an1.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.030, + "Actual Rows": 2, + "Actual Loops": 7 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 11 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.033, + "Actual Rows": 2, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.029, + "Actual Rows": 2, + "Actual Loops": 8 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.032, + "Actual Rows": 2, + "Actual Loops": 7 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 99813637196177449, + "Planning Time": 40.075, + "Triggers": [ + ], + "Execution Time": 1021.012, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 99813637196177449, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(an.name) AS acress_pseudonym,
       MIN(t.title) AS japanese_anime_movie
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note ='(voice: English version)'
  AND cn.country_code ='[jp]'
  AND mc.note LIKE '%(Japan)%'
  AND mc.note NOT LIKE '%(USA)%'
  AND (mc.note LIKE '%(2006)%'
       OR mc.note LIKE '%(2007)%')
  AND n.name LIKE '%Yo%'
  AND n.name NOT LIKE '%Yu%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2006 AND 2007
  AND (t.title LIKE 'One Piece%'
       OR t.title LIKE 'Dragon Ball Z%')
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id;

QUERY PLAN --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 9239.90, + "Total Cost": 9239.91, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 107.693, + "Actual Total Time": 122.479, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 9239.85, + "Total Cost": 9239.86, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 106.209, + "Actual Total Time": 122.456, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 9238.85, + "Total Cost": 9238.86, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 97.484, + "Actual Total Time": 97.491, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 94.554, + "Actual Total Time": 94.561, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.819, + "Actual Total Time": 95.824, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 95.454, + "Actual Total Time": 95.461, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.887, + "Actual Total Time": 97.891, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.087, + "Actual Total Time": 97.093, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 97.071, + "Actual Total Time": 97.077, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.882, + "Actual Total Time": 96.889, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.27, + "Total Cost": 9238.84, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 85.172, + "Actual Total Time": 97.481, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 59.851, + "Actual Total Time": 94.543, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.814, + "Actual Total Time": 95.820, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.691, + "Actual Total Time": 95.436, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.882, + "Actual Total Time": 97.887, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.081, + "Actual Total Time": 97.088, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 97.067, + "Actual Total Time": 97.072, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.876, + "Actual Total Time": 96.883, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 9237.24, + "Plan Rows": 3, + "Plan Width": 41, + "Actual Startup Time": 85.058, + "Actual Total Time": 97.422, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["an.name", "an.person_id", "ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 59.240, + "Actual Total Time": 94.287, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.814, + "Actual Total Time": 95.818, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.400, + "Actual Total Time": 95.226, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.881, + "Actual Total Time": 97.885, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.081, + "Actual Total Time": 97.086, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 97.066, + "Actual Total Time": 97.071, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.875, + "Actual Total Time": 96.881, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.41, + "Total Cost": 9235.36, + "Plan Rows": 3, + "Plan Width": 21, + "Actual Startup Time": 85.030, + "Actual Total Time": 97.329, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 59.123, + "Actual Total Time": 93.891, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.813, + "Actual Total Time": 95.817, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.291, + "Actual Total Time": 94.886, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.880, + "Actual Total Time": 97.884, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.080, + "Actual Total Time": 97.085, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 97.065, + "Actual Total Time": 97.070, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.875, + "Actual Total Time": 96.880, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.31, + "Total Cost": 9234.21, + "Plan Rows": 13, + "Plan Width": 25, + "Actual Startup Time": 84.853, + "Actual Total Time": 97.192, + "Actual Rows": 13, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.role_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 58.687, + "Actual Total Time": 93.729, + "Actual Rows": 58, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.724, + "Actual Total Time": 95.726, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.122, + "Actual Total Time": 94.772, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.815, + "Actual Total Time": 97.817, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.002, + "Actual Total Time": 97.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 97.002, + "Actual Total Time": 97.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.813, + "Actual Total Time": 96.816, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 9194.90, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 84.721, + "Actual Total Time": 96.969, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 57.731, + "Actual Total Time": 92.335, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.723, + "Actual Total Time": 95.725, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.031, + "Actual Total Time": 94.396, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.814, + "Actual Total Time": 97.816, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.000, + "Actual Total Time": 97.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 97.001, + "Actual Total Time": 97.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.812, + "Actual Total Time": 96.814, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 7380.88, + "Plan Rows": 1062, + "Plan Width": 4, + "Actual Startup Time": 0.419, + "Actual Total Time": 77.555, + "Actual Rows": 1062, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.421, + "Actual Total Time": 77.783, + "Actual Rows": 692, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.148, + "Actual Total Time": 79.268, + "Actual Rows": 780, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.237, + "Actual Total Time": 69.721, + "Actual Rows": 1467, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.562, + "Actual Total Time": 78.984, + "Actual Rows": 947, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.329, + "Actual Total Time": 75.375, + "Actual Rows": 1228, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.273, + "Actual Total Time": 73.038, + "Actual Rows": 1540, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.286, + "Actual Total Time": 81.123, + "Actual Rows": 810, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 844, + "Plan Width": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 13.241, + "Actual Rows": 844, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[jp]'::text)", + "Rows Removed by Filter": 28531, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.049, + "Actual Total Time": 12.281, + "Actual Rows": 818, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.039, + "Actual Total Time": 14.065, + "Actual Rows": 933, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.048, + "Actual Total Time": 12.589, + "Actual Rows": 780, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.036, + "Actual Total Time": 12.797, + "Actual Rows": 871, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 12.198, + "Actual Rows": 777, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.052, + "Actual Total Time": 12.862, + "Actual Rows": 736, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.068, + "Actual Total Time": 15.283, + "Actual Rows": 958, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 4.75, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.075, + "Actual Rows": 1, + "Actual Loops": 6752, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(Japan)%'::text) AND (mc.note !~~ '%(USA)%'::text) AND ((mc.note ~~ '%(2006)%'::text) OR (mc.note ~~ '%(2007)%'::text)))", + "Rows Removed by Filter": 14, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.079, + "Actual Rows": 1, + "Actual Loops": 818 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.069, + "Actual Rows": 1, + "Actual Loops": 933 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.072, + "Actual Rows": 2, + "Actual Loops": 780 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.075, + "Actual Rows": 1, + "Actual Loops": 871 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.080, + "Actual Rows": 2, + "Actual Loops": 777 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.080, + "Actual Rows": 2, + "Actual Loops": 736 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.068, + "Actual Rows": 1, + "Actual Loops": 958 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.44, + "Total Cost": 2.61, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 8495, + "Output": ["t.title", "t.id"], + "Cache Key": "mc.movie_id", + "Cache Mode": "logical", + "Cache Hits": 110, + "Cache Misses": 921, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 62, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 692, + "Cache Hits": 29, + "Cache Misses": 663, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 45 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 780, + "Cache Hits": 59, + "Cache Misses": 721, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 48 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1467, + "Cache Hits": 63, + "Cache Misses": 1404, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 94 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 947, + "Cache Hits": 58, + "Cache Misses": 889, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 60 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1228, + "Cache Hits": 24, + "Cache Misses": 1204, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 80 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1540, + "Cache Hits": 134, + "Cache Misses": 1406, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 94 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 810, + "Cache Hits": 83, + "Cache Misses": 727, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 49 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 2.60, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 7935, + "Output": ["t.title", "t.id"], + "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2006) AND (t.production_year <= 2007) AND ((t.title ~~ 'One Piece%'::text) OR (t.title ~~ 'Dragon Ball Z%'::text)))",+ "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 663 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 721 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1404 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 889 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1204 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1406 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 727 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 38.98, + "Plan Rows": 26, + "Plan Width": 12, + "Actual Startup Time": 0.255, + "Actual Total Time": 0.425, + "Actual Rows": 26, + "Actual Loops": 4, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = '(voice: English version)'::text)", + "Rows Removed by Filter": 17, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.459, + "Actual Total Time": 0.677, + "Actual Rows": 29, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.173, + "Actual Rows": 23, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.62, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 25, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 14 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 11 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 24, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%Yo%'::text) AND (n.name !~~ '%Yu%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 15 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 9 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4954783290691726040, + "Planning Time": 41.281, + "Triggers": [ + ], + "Execution Time": 123.018, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 4954783290691726040, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(a1.name) AS writer_pseudo_name,
       MIN(t.title) AS movie_title
FROM aka_name AS a1,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n1,
     role_type AS rt,
     title AS t
WHERE cn.country_code ='[us]'
  AND rt.role ='writer'
  AND a1.person_id = n1.id
  AND n1.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND a1.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 225043.93, + "Total Cost": 225043.94, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 9693.506, + "Actual Total Time": 9739.556, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(a1.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 225043.88, + "Total Cost": 225043.89, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 9628.939, + "Actual Total Time": 9739.509, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(a1.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 225042.88, + "Total Cost": 225042.89, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 9628.903, + "Actual Total Time": 9629.863, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(a1.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9617.606, + "Actual Total Time": 9617.613, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9618.499, + "Actual Total Time": 9618.506, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9677.853, + "Actual Total Time": 9677.870, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9617.792, + "Actual Total Time": 9617.799, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9617.662, + "Actual Total Time": 9617.668, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9628.412, + "Actual Total Time": 9628.421, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9625.292, + "Actual Total Time": 9625.301, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 168434.49, + "Total Cost": 224419.03, + "Plan Rows": 124770, + "Plan Width": 33, + "Actual Startup Time": 5832.843, + "Actual Total Time": 9450.803, + "Actual Rows": 310951, + "Actual Loops": 8, + "Output": ["a1.name", "t.title"], + "Inner Unique": false, + "Hash Cond": "(ci.movie_id = mc.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5831.462, + "Actual Total Time": 9443.552, + "Actual Rows": 288420, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5831.460, + "Actual Total Time": 9442.634, + "Actual Rows": 311390, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5832.010, + "Actual Total Time": 9508.068, + "Actual Rows": 294675, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5834.336, + "Actual Total Time": 9434.005, + "Actual Rows": 324011, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5830.999, + "Actual Total Time": 9447.055, + "Actual Rows": 298656, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5831.223, + "Actual Total Time": 9440.392, + "Actual Rows": 334822, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5831.731, + "Actual Total Time": 9426.230, + "Actual Rows": 330177, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 144492.42, + "Total Cost": 196405.82, + "Plan Rows": 292966, + "Plan Width": 41, + "Actual Startup Time": 5250.895, + "Actual Total Time": 8549.266, + "Actual Rows": 292966, + "Actual Loops": 8, + "Output": ["a1.name", "ci.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5250.900, + "Actual Total Time": 8545.172, + "Actual Rows": 276776, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5250.856, + "Actual Total Time": 8544.249, + "Actual Rows": 299466, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5250.906, + "Actual Total Time": 8601.014, + "Actual Rows": 286607, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5250.891, + "Actual Total Time": 8531.680, + "Actual Rows": 295966, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5250.978, + "Actual Total Time": 8558.798, + "Actual Rows": 299417, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5250.852, + "Actual Total Time": 8531.782, + "Actual Rows": 299441, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5250.854, + "Actual Total Time": 8515.107, + "Actual Rows": 287066, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 144491.99, + "Total Cost": 157570.79, + "Plan Rows": 86530, + "Plan Width": 20, + "Actual Startup Time": 5250.789, + "Actual Total Time": 5515.792, + "Actual Rows": 292966, + "Actual Loops": 8, + "Output": ["a1.name", "ci.movie_id"], + "Inner Unique": false, + "Hash Cond": "(a1.person_id = n1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5250.808, + "Actual Total Time": 5511.043, + "Actual Rows": 276776, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5250.753, + "Actual Total Time": 5509.899, + "Actual Rows": 299466, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5250.805, + "Actual Total Time": 5547.653, + "Actual Rows": 286607, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5250.773, + "Actual Total Time": 5510.010, + "Actual Rows": 295966, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5250.853, + "Actual Total Time": 5515.567, + "Actual Rows": 299417, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5250.743, + "Actual Total Time": 5506.437, + "Actual Rows": 299441, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5250.729, + "Actual Total Time": 5503.695, + "Actual Rows": 287066, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "a1", + "Startup Cost": 0.00, + "Total Cost": 12522.68, + "Plan Rows": 112668, + "Plan Width": 20, + "Actual Startup Time": 0.047, + "Actual Total Time": 36.623, + "Actual Rows": 112668, + "Actual Loops": 8, + "Output": ["a1.id", "a1.person_id", "a1.name", "a1.imdb_index", "a1.name_pcode_cf", "a1.name_pcode_nf", "a1.surname_pcode", "a1.md5sum"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 37.600, + "Actual Rows": 113775, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 35.486, + "Actual Rows": 111144, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.048, + "Actual Total Time": 38.060, + "Actual Rows": 112163, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.045, + "Actual Total Time": 35.392, + "Actual Rows": 110251, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 38.486, + "Actual Rows": 121584, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.034, + "Actual Total Time": 33.591, + "Actual Rows": 105327, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.088, + "Actual Total Time": 36.618, + "Actual Rows": 107967, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 138313.94, + "Total Cost": 138313.94, + "Plan Rows": 494244, + "Plan Width": 12, + "Actual Startup Time": 5248.872, + "Actual Total Time": 5249.827, + "Actual Rows": 341118, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "n1.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 1048576, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 185408, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5250.559, + "Actual Total Time": 5250.562, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5250.554, + "Actual Total Time": 5250.556, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5250.558, + "Actual Total Time": 5250.565, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5250.560, + "Actual Total Time": 5250.563, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5250.554, + "Actual Total Time": 5250.558, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5250.561, + "Actual Total Time": 5250.566, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5250.521, + "Actual Total Time": 5250.525, + "Actual Rows": 2728943, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 45131.29, + "Total Cost": 138313.94, + "Plan Rows": 494244, + "Plan Width": 12, + "Actual Startup Time": 669.156, + "Actual Total Time": 1081.898, + "Actual Rows": 341118, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "n1.id"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 669.138, + "Actual Total Time": 669.141, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 669.139, + "Actual Total Time": 669.141, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 669.129, + "Actual Total Time": 669.136, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 669.138, + "Actual Total Time": 669.141, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 669.121, + "Actual Total Time": 669.124, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 669.121, + "Actual Total Time": 669.125, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 669.329, + "Actual Total Time": 3963.624, + "Actual Rows": 2728943, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.44, + "Total Cost": 91885.70, + "Plan Rows": 494244, + "Plan Width": 8, + "Actual Startup Time": 0.028, + "Actual Total Time": 241.244, + "Actual Rows": 341118, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.203, + "Actual Total Time": 1929.926, + "Actual Rows": 2728943, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id", "rt.role"], + "Filter": "((rt.role)::text = 'writer'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 83482.47, + "Plan Rows": 840214, + "Plan Width": 12, + "Actual Startup Time": 0.173, + "Actual Total Time": 1400.121, + "Actual Rows": 2728943, + "Actual Loops": 1, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.role_id = rt.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.173, + "Actual Total Time": 1400.121, + "Actual Rows": 2728943, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 38619.15, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 661.786, + "Actual Total Time": 661.787, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n1.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 195968, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 610.699, + "Actual Total Time": 610.699, + "Actual Rows": 555954, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 669.093, + "Actual Total Time": 669.094, + "Actual Rows": 545340, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 669.077, + "Actual Total Time": 669.079, + "Actual Rows": 465552, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 669.098, + "Actual Total Time": 669.099, + "Actual Rows": 455670, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 669.070, + "Actual Total Time": 669.071, + "Actual Rows": 556320, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 669.073, + "Actual Total Time": 669.074, + "Actual Rows": 523014, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 669.086, + "Actual Total Time": 669.087, + "Actual Rows": 533477, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n1", + "Startup Cost": 0.43, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 0.235, + "Actual Total Time": 231.364, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n1.id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.142, + "Actual Total Time": 218.487, + "Actual Rows": 555954, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.363, + "Actual Total Time": 221.750, + "Actual Rows": 545340, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.315, + "Actual Total Time": 255.621, + "Actual Rows": 465552, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.423, + "Actual Total Time": 251.240, + "Actual Rows": 455670, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.094, + "Actual Total Time": 219.709, + "Actual Rows": 556320, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.224, + "Actual Total Time": 227.286, + "Actual Rows": 523014, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.177, + "Actual Total Time": 228.194, + "Actual Rows": 533477, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 2343724, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 276776 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 299466 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 286607 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 295966 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 299417 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 299441 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 287066 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 22139.26, + "Total Cost": 22139.26, + "Plan Rows": 144225, + "Plan Width": 4, + "Actual Startup Time": 577.365, + "Actual Total Time": 577.366, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Hash Buckets": 2097152, + "Original Hash Buckets": 2097152, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 61632, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 580.310, + "Actual Total Time": 580.311, + "Actual Rows": 132956, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 580.335, + "Actual Total Time": 580.337, + "Actual Rows": 156798, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 580.444, + "Actual Total Time": 580.447, + "Actual Rows": 145301, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 580.437, + "Actual Total Time": 580.438, + "Actual Rows": 134566, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 579.801, + "Actual Total Time": 579.802, + "Actual Rows": 151852, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 580.162, + "Actual Total Time": 580.164, + "Actual Rows": 133405, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 580.437, + "Actual Total Time": 580.439, + "Actual Rows": 138119, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 22139.26, + "Plan Rows": 144225, + "Plan Width": 4, + "Actual Startup Time": 0.156, + "Actual Total Time": 444.474, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.172, + "Actual Total Time": 449.283, + "Actual Rows": 132956, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.159, + "Actual Total Time": 437.209, + "Actual Rows": 156798, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.159, + "Actual Total Time": 446.725, + "Actual Rows": 145301, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.160, + "Actual Total Time": 451.959, + "Actual Rows": 134566, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.153, + "Actual Total Time": 444.248, + "Actual Rows": 151852, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.150, + "Actual Total Time": 445.467, + "Actual Rows": 133405, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.135, + "Actual Total Time": 447.666, + "Actual Rows": 138119, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 17.259, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 19.026, + "Actual Rows": 11764, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 15.682, + "Actual Rows": 9473, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 17.654, + "Actual Rows": 11063, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 19.486, + "Actual Rows": 11674, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 17.007, + "Actual Rows": 10396, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 16.536, + "Actual Rows": 10208, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 18.336, + "Actual Rows": 11383, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.63, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.035, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.032, + "Actual Rows": 11, + "Actual Loops": 11764 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.039, + "Actual Rows": 17, + "Actual Loops": 9473 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.034, + "Actual Rows": 13, + "Actual Loops": 11063 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.033, + "Actual Rows": 12, + "Actual Loops": 11674 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.036, + "Actual Rows": 15, + "Actual Loops": 10396 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.037, + "Actual Rows": 13, + "Actual Loops": 10208 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.033, + "Actual Rows": 12, + "Actual Loops": 11383 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2444720784039749802, + "Planning Time": 28.603, + "Triggers": [ + ], + "Execution Time": 9739.854, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -2444720784039749802, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(an1.name) AS costume_designer_pseudo,
       MIN(t.title) AS movie_with_costumes
FROM aka_name AS an1,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n1,
     role_type AS rt,
     title AS t
WHERE cn.country_code ='[us]'
  AND rt.role ='costume designer'
  AND an1.person_id = n1.id
  AND n1.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND an1.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 225043.93, + "Total Cost": 225043.94, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 2315.510, + "Actual Total Time": 2352.592, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an1.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 225043.88, + "Total Cost": 225043.89, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 2292.780, + "Actual Total Time": 2352.554, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an1.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 225042.88, + "Total Cost": 225042.89, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 2266.611, + "Actual Total Time": 2266.620, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an1.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2263.000, + "Actual Total Time": 2263.007, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2263.144, + "Actual Total Time": 2263.152, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2262.725, + "Actual Total Time": 2262.733, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2262.780, + "Actual Total Time": 2262.787, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2263.016, + "Actual Total Time": 2263.023, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2263.485, + "Actual Total Time": 2263.492, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2262.731, + "Actual Total Time": 2262.739, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 168434.49, + "Total Cost": 224419.03, + "Plan Rows": 124770, + "Plan Width": 33, + "Actual Startup Time": 1747.804, + "Actual Total Time": 2239.563, + "Actual Rows": 40376, + "Actual Loops": 8, + "Output": ["an1.name", "t.title"], + "Inner Unique": false, + "Hash Cond": "(ci.movie_id = mc.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1745.967, + "Actual Total Time": 2234.042, + "Actual Rows": 45261, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1746.895, + "Actual Total Time": 2236.277, + "Actual Rows": 42419, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1747.127, + "Actual Total Time": 2237.687, + "Actual Rows": 39361, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1747.586, + "Actual Total Time": 2236.258, + "Actual Rows": 32835, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1746.489, + "Actual Total Time": 2235.192, + "Actual Rows": 40521, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1745.723, + "Actual Total Time": 2238.035, + "Actual Rows": 39057, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1747.448, + "Actual Total Time": 2235.522, + "Actual Rows": 40378, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 144492.42, + "Total Cost": 196405.82, + "Plan Rows": 292966, + "Plan Width": 41, + "Actual Startup Time": 1173.600, + "Actual Total Time": 1621.407, + "Actual Rows": 27371, + "Actual Loops": 8, + "Output": ["an1.name", "ci.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1173.201, + "Actual Total Time": 1617.758, + "Actual Rows": 28262, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1174.261, + "Actual Total Time": 1621.365, + "Actual Rows": 27925, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1173.463, + "Actual Total Time": 1622.745, + "Actual Rows": 29095, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1173.302, + "Actual Total Time": 1621.694, + "Actual Rows": 25168, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1173.545, + "Actual Total Time": 1618.607, + "Actual Rows": 24916, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1173.192, + "Actual Total Time": 1623.504, + "Actual Rows": 28450, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1174.358, + "Actual Total Time": 1618.795, + "Actual Rows": 27118, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 144491.99, + "Total Cost": 157570.79, + "Plan Rows": 86530, + "Plan Width": 20, + "Actual Startup Time": 1173.517, + "Actual Total Time": 1274.728, + "Actual Rows": 27371, + "Actual Loops": 8, + "Output": ["an1.name", "ci.movie_id"], + "Inner Unique": false, + "Hash Cond": "(an1.person_id = n1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1173.106, + "Actual Total Time": 1275.174, + "Actual Rows": 28262, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1174.196, + "Actual Total Time": 1280.229, + "Actual Rows": 27925, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1173.368, + "Actual Total Time": 1269.491, + "Actual Rows": 29095, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1173.203, + "Actual Total Time": 1265.821, + "Actual Rows": 25168, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1173.445, + "Actual Total Time": 1282.134, + "Actual Rows": 24916, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1173.116, + "Actual Total Time": 1272.659, + "Actual Rows": 28450, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1174.298, + "Actual Total Time": 1273.030, + "Actual Rows": 27118, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an1", + "Startup Cost": 0.00, + "Total Cost": 12522.68, + "Plan Rows": 112668, + "Plan Width": 20, + "Actual Startup Time": 0.021, + "Actual Total Time": 28.334, + "Actual Rows": 112668, + "Actual Loops": 8, + "Output": ["an1.id", "an1.person_id", "an1.name", "an1.imdb_index", "an1.name_pcode_cf", "an1.name_pcode_nf", "an1.surname_pcode", "an1.md5sum"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 29.147, + "Actual Rows": 121450, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 30.016, + "Actual Rows": 123556, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 26.525, + "Actual Rows": 107873, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 25.263, + "Actual Rows": 88960, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 31.053, + "Actual Rows": 119451, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 27.846, + "Actual Rows": 110801, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 28.542, + "Actual Rows": 112089, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 138313.94, + "Total Cost": 138313.94, + "Plan Rows": 494244, + "Plan Width": 12, + "Actual Startup Time": 1171.359, + "Actual Total Time": 1171.363, + "Actual Rows": 34550, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "n1.id"], + "Hash Buckets": 1048576, + "Original Hash Buckets": 1048576, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 21184, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1172.961, + "Actual Total Time": 1172.964, + "Actual Rows": 276403, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1172.961, + "Actual Total Time": 1172.964, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1160.047, + "Actual Total Time": 1160.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1172.974, + "Actual Total Time": 1172.977, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1172.978, + "Actual Total Time": 1172.982, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1172.973, + "Actual Total Time": 1172.977, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1172.989, + "Actual Total Time": 1172.992, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 45131.29, + "Total Cost": 138313.94, + "Plan Rows": 494244, + "Plan Width": 12, + "Actual Startup Time": 663.129, + "Actual Total Time": 708.201, + "Actual Rows": 34550, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "n1.id"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 663.289, + "Actual Total Time": 1023.839, + "Actual Rows": 276403, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 663.087, + "Actual Total Time": 663.090, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 663.116, + "Actual Total Time": 663.120, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 663.113, + "Actual Total Time": 663.116, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 663.111, + "Actual Total Time": 663.115, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 663.107, + "Actual Total Time": 663.110, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 663.118, + "Actual Total Time": 663.120, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.44, + "Total Cost": 91885.70, + "Plan Rows": 494244, + "Plan Width": 8, + "Actual Startup Time": 0.025, + "Actual Total Time": 23.755, + "Actual Rows": 34550, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.179, + "Actual Total Time": 190.014, + "Actual Rows": 276403, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id", "rt.role"], + "Filter": "((rt.role)::text = 'costume designer'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 83482.47, + "Plan Rows": 840214, + "Plan Width": 12, + "Actual Startup Time": 0.150, + "Actual Total Time": 136.037, + "Actual Rows": 276403, + "Actual Loops": 1, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.role_id = rt.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.150, + "Actual Total Time": 136.037, + "Actual Rows": 276403, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 38619.15, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 655.822, + "Actual Total Time": 655.823, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n1.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 195936, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 663.075, + "Actual Total Time": 663.076, + "Actual Rows": 534209, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 663.055, + "Actual Total Time": 663.056, + "Actual Rows": 547170, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 663.077, + "Actual Total Time": 663.078, + "Actual Rows": 535092, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 663.080, + "Actual Total Time": 663.081, + "Actual Rows": 474336, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 663.069, + "Actual Total Time": 663.070, + "Actual Rows": 500322, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 663.077, + "Actual Total Time": 663.078, + "Actual Rows": 527772, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 605.095, + "Actual Total Time": 605.096, + "Actual Rows": 506178, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n1", + "Startup Cost": 0.43, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 0.210, + "Actual Total Time": 216.764, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n1.id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.346, + "Actual Total Time": 214.074, + "Actual Rows": 534209, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.371, + "Actual Total Time": 213.536, + "Actual Rows": 547170, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.128, + "Actual Total Time": 220.947, + "Actual Rows": 535092, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.089, + "Actual Total Time": 216.553, + "Actual Rows": 474336, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.252, + "Actual Total Time": 207.952, + "Actual Rows": 500322, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.173, + "Actual Total Time": 215.433, + "Actual Rows": 527772, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.122, + "Actual Total Time": 232.783, + "Actual Rows": 506178, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 218966, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 28262 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 27925 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 29095 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 25168 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 24916 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 28450 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 27118 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 22139.26, + "Total Cost": 22139.26, + "Plan Rows": 144225, + "Plan Width": 4, + "Actual Startup Time": 569.576, + "Actual Total Time": 569.578, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Hash Buckets": 2097152, + "Original Hash Buckets": 2097152, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 61632, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 572.548, + "Actual Total Time": 572.549, + "Actual Rows": 135064, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 572.445, + "Actual Total Time": 572.446, + "Actual Rows": 127142, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 572.652, + "Actual Total Time": 572.653, + "Actual Rows": 152774, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 572.549, + "Actual Total Time": 572.550, + "Actual Rows": 133953, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 572.645, + "Actual Total Time": 572.646, + "Actual Rows": 146991, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 571.808, + "Actual Total Time": 571.809, + "Actual Rows": 160214, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 572.642, + "Actual Total Time": 572.644, + "Actual Rows": 158380, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 22139.26, + "Plan Rows": 144225, + "Plan Width": 4, + "Actual Startup Time": 0.141, + "Actual Total Time": 433.323, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.140, + "Actual Total Time": 443.371, + "Actual Rows": 135064, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.133, + "Actual Total Time": 442.873, + "Actual Rows": 127142, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.154, + "Actual Total Time": 416.450, + "Actual Rows": 152774, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.124, + "Actual Total Time": 431.715, + "Actual Rows": 133953, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.161, + "Actual Total Time": 433.679, + "Actual Rows": 146991, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.148, + "Actual Total Time": 428.272, + "Actual Rows": 160214, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.132, + "Actual Total Time": 432.851, + "Actual Rows": 158380, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 17.760, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 18.138, + "Actual Rows": 11208, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 19.271, + "Actual Rows": 11019, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 15.552, + "Actual Rows": 9477, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 19.806, + "Actual Rows": 11827, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 17.096, + "Actual Rows": 9953, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 16.208, + "Actual Rows": 9980, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 16.914, + "Actual Rows": 10643, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.63, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.034, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.033, + "Actual Rows": 12, + "Actual Loops": 11208 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.034, + "Actual Rows": 12, + "Actual Loops": 11019 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.037, + "Actual Rows": 16, + "Actual Loops": 9477 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.030, + "Actual Rows": 11, + "Actual Loops": 11827 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.036, + "Actual Rows": 15, + "Actual Loops": 9953 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.035, + "Actual Rows": 16, + "Actual Loops": 9980 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.034, + "Actual Rows": 15, + "Actual Loops": 10643 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2444720784039749802, + "Planning Time": 28.650, + "Triggers": [ + ], + "Execution Time": 2352.914, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -2444720784039749802, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(an.name) AS alternative_name,
       MIN(chn.name) AS character_name,
       MIN(t.title) AS movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND mc.note IS NOT NULL
  AND (mc.note LIKE '%(USA)%'
       OR mc.note LIKE '%(worldwide)%')
  AND n.gender ='f'
  AND n.name LIKE '%Ang%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2005 AND 2015
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND ci.movie_id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND n.id = ci.person_id
  AND chn.id = ci.person_role_id
  AND an.person_id = n.id
  AND an.person_id = ci.person_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 66255.80, + "Total Cost": 66255.81, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 272.795, + "Actual Total Time": 276.267, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(chn.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 66255.73, + "Total Cost": 66255.74, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 272.417, + "Actual Total Time": 276.230, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(chn.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 66254.73, + "Total Cost": 66254.74, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 264.671, + "Actual Total Time": 264.682, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(chn.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 262.690, + "Actual Total Time": 262.697, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 264.579, + "Actual Total Time": 264.586, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 263.530, + "Actual Total Time": 263.538, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 263.715, + "Actual Total Time": 263.723, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 263.805, + "Actual Total Time": 263.813, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 263.718, + "Actual Total Time": 263.724, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 263.758, + "Actual Total Time": 263.765, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.68, + "Total Cost": 66254.62, + "Plan Rows": 15, + "Plan Width": 49, + "Actual Startup Time": 151.029, + "Actual Total Time": 264.639, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["an.name", "chn.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 129.224, + "Actual Total Time": 262.646, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 172.700, + "Actual Total Time": 264.561, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 146.347, + "Actual Total Time": 263.499, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 163.274, + "Actual Total Time": 263.706, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 138.646, + "Actual Total Time": 263.719, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 143.440, + "Actual Total Time": 263.689, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 174.370, + "Actual Total Time": 263.737, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 66247.81, + "Plan Rows": 15, + "Plan Width": 53, + "Actual Startup Time": 150.955, + "Actual Total Time": 264.355, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["an.name", "chn.name", "mc.company_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 129.143, + "Actual Total Time": 262.275, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 172.606, + "Actual Total Time": 264.446, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 146.265, + "Actual Total Time": 263.309, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 163.207, + "Actual Total Time": 263.638, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 138.575, + "Actual Total Time": 262.919, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 143.340, + "Actual Total Time": 263.413, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 174.307, + "Actual Total Time": 263.599, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 66238.33, + "Plan Rows": 17, + "Plan Width": 57, + "Actual Startup Time": 142.691, + "Actual Total Time": 263.809, + "Actual Rows": 17, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "chn.name", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 127.717, + "Actual Total Time": 261.580, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 146.208, + "Actual Total Time": 264.208, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 138.572, + "Actual Total Time": 262.814, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 163.118, + "Actual Total Time": 263.457, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 138.488, + "Actual Total Time": 261.842, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 131.410, + "Actual Total Time": 262.443, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 155.868, + "Actual Total Time": 263.261, + "Actual Rows": 10, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 66228.74, + "Plan Rows": 19, + "Plan Width": 45, + "Actual Startup Time": 142.585, + "Actual Total Time": 263.419, + "Actual Rows": 19, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "ci.person_role_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 127.632, + "Actual Total Time": 261.053, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 146.109, + "Actual Total Time": 263.973, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 138.478, + "Actual Total Time": 262.328, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 162.995, + "Actual Total Time": 263.298, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 138.382, + "Actual Total Time": 261.336, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 131.331, + "Actual Total Time": 261.791, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 155.655, + "Actual Total Time": 262.940, + "Actual Rows": 14, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 66227.57, + "Plan Rows": 19, + "Plan Width": 49, + "Actual Startup Time": 141.191, + "Actual Total Time": 261.980, + "Actual Rows": 19, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "ci.role_id", "ci.person_role_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 127.357, + "Actual Total Time": 260.730, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 145.845, + "Actual Total Time": 263.689, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 138.241, + "Actual Total Time": 262.034, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 162.672, + "Actual Total Time": 262.966, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 129.298, + "Actual Total Time": 252.163, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 131.039, + "Actual Total Time": 261.436, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 155.319, + "Actual Total Time": 262.562, + "Actual Rows": 14, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 66200.71, + "Plan Rows": 53, + "Plan Width": 28, + "Actual Startup Time": 134.881, + "Actual Total Time": 260.796, + "Actual Rows": 53, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(n.id = ci.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 127.276, + "Actual Total Time": 259.582, + "Actual Rows": 38, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 145.768, + "Actual Total Time": 262.983, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 133.864, + "Actual Total Time": 260.014, + "Actual Rows": 83, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 137.020, + "Actual Total Time": 261.077, + "Actual Rows": 116, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 129.223, + "Actual Total Time": 250.610, + "Actual Rows": 49, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 130.958, + "Actual Total Time": 260.312, + "Actual Rows": 54, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 135.237, + "Actual Total Time": 261.831, + "Actual Rows": 45, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.42, + "Total Cost": 65429.92, + "Plan Rows": 195, + "Plan Width": 24, + "Actual Startup Time": 125.561, + "Actual Total Time": 248.797, + "Actual Rows": 195, + "Actual Loops": 8, + "Output": ["an.name", "an.person_id", "n.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 125.063, + "Actual Total Time": 248.354, + "Actual Rows": 183, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 126.421, + "Actual Total Time": 255.026, + "Actual Rows": 139, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 125.622, + "Actual Total Time": 238.196, + "Actual Rows": 445, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 125.854, + "Actual Total Time": 246.707, + "Actual Rows": 139, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 116.233, + "Actual Total Time": 235.228, + "Actual Rows": 173, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 125.050, + "Actual Total Time": 252.220, + "Actual Rows": 138, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 125.850, + "Actual Total Time": 252.792, + "Actual Rows": 166, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 63478.05, + "Plan Rows": 846, + "Plan Width": 4, + "Actual Startup Time": 124.851, + "Actual Total Time": 239.294, + "Actual Rows": 846, + "Actual Loops": 8, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Filter": "((n.name ~~ '%Ang%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 520090, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 124.433, + "Actual Total Time": 239.706, + "Actual Rows": 721, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 125.437, + "Actual Total Time": 246.222, + "Actual Rows": 763, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 124.937, + "Actual Total Time": 223.835, + "Actual Rows": 1540, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 125.332, + "Actual Total Time": 238.583, + "Actual Rows": 705, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 116.114, + "Actual Total Time": 226.897, + "Actual Rows": 604, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 124.957, + "Actual Total Time": 243.336, + "Actual Rows": 801, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 124.576, + "Actual Total Time": 243.204, + "Actual Rows": 807, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 2.30, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 6768, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 721 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 763 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 1540 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 705 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 604 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 801 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 807 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 3.94, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 1558, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.person_id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 183 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 139 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 445 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.098, + "Actual Total Time": 0.102, + "Actual Rows": 1, + "Actual Loops": 139 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.088, + "Actual Rows": 0, + "Actual Loops": 173 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 138 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 166 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 425, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2015))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 38 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 27 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 83 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 116 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 49 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 54 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 45 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 155, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 19 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 29 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.074, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 33 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 39 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 14 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.55, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 139, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note IS NOT NULL) AND ((mc.note ~~ '%(USA)%'::text) OR (mc.note ~~ '%(worldwide)%'::text)))", + "Rows Removed by Filter": 5, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 18 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 23 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.086, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.034, + "Actual Rows": 2, + "Actual Loops": 30 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 39 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 10 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 123, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 15 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.064, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 63 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6747521538659772949, + "Planning Time": 71.519, + "Triggers": [ + ], + "Execution Time": 276.623, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -6747521538659772949, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS alternative_name,
       MIN(chn.name) AS voiced_character,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS american_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note = '(voice)'
  AND cn.country_code ='[us]'
  AND mc.note LIKE '%(200%)%'
  AND (mc.note LIKE '%(USA)%'
       OR mc.note LIKE '%(worldwide)%')
  AND n.gender ='f'
  AND n.name LIKE '%Angel%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2007 AND 2010
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND ci.movie_id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND n.id = ci.person_id
  AND chn.id = ci.person_role_id
  AND an.person_id = n.id
  AND an.person_id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 51419.64, + "Total Cost": 51419.65, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1608.557, + "Actual Total Time": 1648.309, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 51419.55, + "Total Cost": 51419.56, + "Plan Rows": 8, + "Plan Width": 128, + "Actual Startup Time": 1575.485, + "Actual Total Time": 1648.272, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 51418.55, + "Total Cost": 51418.56, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1571.651, + "Actual Total Time": 1571.659, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1566.071, + "Actual Total Time": 1566.078, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1599.523, + "Actual Total Time": 1599.530, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1566.756, + "Actual Total Time": 1566.763, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1566.611, + "Actual Total Time": 1566.618, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1566.656, + "Actual Total Time": 1566.664, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1566.386, + "Actual Total Time": 1566.394, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1566.595, + "Actual Total Time": 1566.604, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.69, + "Total Cost": 51418.50, + "Plan Rows": 5, + "Plan Width": 64, + "Actual Startup Time": 812.143, + "Actual Total Time": 1571.625, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["an.name", "chn.name", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1566.066, + "Actual Total Time": 1566.073, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 634.838, + "Actual Total Time": 1599.502, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 132.229, + "Actual Total Time": 1566.696, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 743.365, + "Actual Total Time": 1566.578, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 967.996, + "Actual Total Time": 1566.646, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1350.848, + "Actual Total Time": 1566.372, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 857.306, + "Actual Total Time": 1566.568, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 51416.53, + "Plan Rows": 4, + "Plan Width": 56, + "Actual Startup Time": 698.700, + "Actual Total Time": 1571.493, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["chn.name", "ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1566.065, + "Actual Total Time": 1566.071, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 634.799, + "Actual Total Time": 1599.404, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 132.181, + "Actual Total Time": 1566.482, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 743.322, + "Actual Total Time": 1566.406, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 445.344, + "Actual Total Time": 1566.533, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 966.190, + "Actual Total Time": 1566.236, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 857.245, + "Actual Total Time": 1566.423, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 51414.46, + "Plan Rows": 4, + "Plan Width": 44, + "Actual Startup Time": 698.612, + "Actual Total Time": 1571.312, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.person_role_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1566.065, + "Actual Total Time": 1566.070, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 634.701, + "Actual Total Time": 1599.213, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 132.105, + "Actual Total Time": 1566.242, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 743.248, + "Actual Total Time": 1566.166, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 445.224, + "Actual Total Time": 1566.379, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 966.038, + "Actual Total Time": 1566.050, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 857.104, + "Actual Total Time": 1566.180, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 50887.90, + "Plan Rows": 946, + "Plan Width": 25, + "Actual Startup Time": 17.992, + "Actual Total Time": 1554.571, + "Actual Rows": 946, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.person_role_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.839, + "Actual Total Time": 1538.981, + "Actual Rows": 1659, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.312, + "Actual Total Time": 1579.078, + "Actual Rows": 1212, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.546, + "Actual Total Time": 1551.080, + "Actual Rows": 842, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.514, + "Actual Total Time": 1546.206, + "Actual Rows": 1243, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.028, + "Actual Total Time": 1551.244, + "Actual Rows": 813, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 75.037, + "Actual Total Time": 1552.647, + "Actual Rows": 661, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.156, + "Actual Total Time": 1554.745, + "Actual Rows": 549, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 50874.81, + "Plan Rows": 3374, + "Plan Width": 29, + "Actual Startup Time": 8.630, + "Actual Total Time": 1551.689, + "Actual Rows": 3374, + "Actual Loops": 8, + "Output": ["ci.role_id", "ci.person_id", "ci.person_role_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.460, + "Actual Total Time": 1534.847, + "Actual Rows": 6254, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 24.985, + "Actual Total Time": 1575.655, + "Actual Rows": 3867, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.146, + "Actual Total Time": 1548.182, + "Actual Rows": 3379, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.104, + "Actual Total Time": 1543.027, + "Actual Rows": 4083, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.636, + "Actual Total Time": 1548.540, + "Actual Rows": 2847, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.864, + "Actual Total Time": 1550.369, + "Actual Rows": 2092, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.970, + "Actual Total Time": 1552.622, + "Actual Rows": 1966, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 40287.37, + "Plan Rows": 5876, + "Plan Width": 25, + "Actual Startup Time": 0.387, + "Actual Total Time": 738.930, + "Actual Rows": 5876, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.348, + "Actual Total Time": 701.783, + "Actual Rows": 7672, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.762, + "Actual Total Time": 699.414, + "Actual Rows": 6170, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.408, + "Actual Total Time": 780.535, + "Actual Rows": 5024, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.232, + "Actual Total Time": 633.540, + "Actual Rows": 5761, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.763, + "Actual Total Time": 786.875, + "Actual Rows": 5172, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.302, + "Actual Total Time": 763.883, + "Actual Rows": 5702, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.143, + "Actual Total Time": 788.679, + "Actual Rows": 5890, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 25002.61, + "Plan Rows": 22133, + "Plan Width": 4, + "Actual Startup Time": 0.175, + "Actual Total Time": 434.629, + "Actual Rows": 22133, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.173, + "Actual Total Time": 409.952, + "Actual Rows": 21373, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.145, + "Actual Total Time": 356.580, + "Actual Rows": 26754, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.179, + "Actual Total Time": 485.094, + "Actual Rows": 21627, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.156, + "Actual Total Time": 375.842, + "Actual Rows": 18648, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.466, + "Actual Total Time": 455.789, + "Actual Rows": 24053, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.107, + "Actual Total Time": 457.536, + "Actual Rows": 22344, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.083, + "Actual Total Time": 483.157, + "Actual Rows": 21011, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 17.165, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 14.126, + "Actual Rows": 8487, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 7.835, + "Actual Rows": 3823, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 19.068, + "Actual Rows": 12143, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 14.430, + "Actual Rows": 9278, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 20.353, + "Actual Rows": 12841, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 21.346, + "Actual Rows": 13067, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 20.023, + "Actual Rows": 12212, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 2.02, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.038, + "Actual Rows": 2, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(200%)%'::text) AND ((mc.note ~~ '%(USA)%'::text) OR (mc.note ~~ '%(worldwide)%'::text)))", + "Rows Removed by Filter": 12, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.045, + "Actual Rows": 3, + "Actual Loops": 8487 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.088, + "Actual Rows": 7, + "Actual Loops": 3823 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.037, + "Actual Rows": 2, + "Actual Loops": 12143 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.038, + "Actual Rows": 2, + "Actual Loops": 9278 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.033, + "Actual Rows": 2, + "Actual Loops": 12841 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.032, + "Actual Rows": 2, + "Actual Loops": 13067 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.036, + "Actual Rows": 2, + "Actual Loops": 12212 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.69, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 177065, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2007) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 21373 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 26754 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 21627 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 18648 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 24053 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 22344 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 21011 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.79, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.123, + "Actual Total Time": 0.137, + "Actual Rows": 1, + "Actual Loops": 47009, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = '(voice)'::text)", + "Rows Removed by Filter": 31, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.098, + "Actual Total Time": 0.107, + "Actual Rows": 1, + "Actual Loops": 7672 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.125, + "Actual Total Time": 0.141, + "Actual Rows": 1, + "Actual Loops": 6170 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.133, + "Actual Total Time": 0.152, + "Actual Rows": 1, + "Actual Loops": 5024 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.141, + "Actual Total Time": 0.156, + "Actual Rows": 1, + "Actual Loops": 5761 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.129, + "Actual Total Time": 0.146, + "Actual Rows": 1, + "Actual Loops": 5172 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.124, + "Actual Total Time": 0.137, + "Actual Rows": 0, + "Actual Loops": 5702 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.117, + "Actual Total Time": 0.128, + "Actual Rows": 0, + "Actual Loops": 5890 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.56, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 7565, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%Angel%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1659 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1212 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 842 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1243 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 813 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 661 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 549 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 30, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.060, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.071, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.088, + "Actual Total Time": 0.088, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 30, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.030, + "Actual Rows": 2, + "Actual Loops": 6 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.061, + "Actual Rows": 2, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.031, + "Actual Rows": 2, + "Actual Loops": 4 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 316739818532851506, + "Planning Time": 61.140, + "Triggers": [ + ], + "Execution Time": 1648.705, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 316739818532851506, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS alternative_name,
       MIN(chn.name) AS voiced_character_name,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS american_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND ci.movie_id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND n.id = ci.person_id
  AND chn.id = ci.person_role_id
  AND an.person_id = n.id
  AND an.person_id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 76136.04, + "Total Cost": 76136.05, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 464.222, + "Actual Total Time": 471.668, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 76135.95, + "Total Cost": 76135.96, + "Plan Rows": 8, + "Plan Width": 128, + "Actual Startup Time": 463.604, + "Actual Total Time": 471.612, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 76134.95, + "Total Cost": 76134.96, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 455.745, + "Actual Total Time": 455.754, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 454.752, + "Actual Total Time": 454.760, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 454.436, + "Actual Total Time": 454.446, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 454.458, + "Actual Total Time": 454.465, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 454.611, + "Actual Total Time": 454.619, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 454.984, + "Actual Total Time": 454.993, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 454.453, + "Actual Total Time": 454.462, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 455.447, + "Actual Total Time": 455.456, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.68, + "Total Cost": 76124.77, + "Plan Rows": 1018, + "Plan Width": 64, + "Actual Startup Time": 133.824, + "Actual Total Time": 454.362, + "Actual Rows": 1018, + "Actual Loops": 8, + "Output": ["an.name", "chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 134.821, + "Actual Total Time": 453.736, + "Actual Rows": 825, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 127.515, + "Actual Total Time": 452.479, + "Actual Rows": 1470, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 131.188, + "Actual Total Time": 453.604, + "Actual Rows": 592, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 138.355, + "Actual Total Time": 453.693, + "Actual Rows": 609, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 131.551, + "Actual Total Time": 451.774, + "Actual Rows": 2582, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 135.095, + "Actual Total Time": 453.206, + "Actual Rows": 950, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 130.853, + "Actual Total Time": 454.930, + "Actual Rows": 347, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 75112.10, + "Plan Rows": 2293, + "Plan Width": 68, + "Actual Startup Time": 131.721, + "Actual Total Time": 427.138, + "Actual Rows": 2293, + "Actual Loops": 8, + "Output": ["an.name", "chn.name", "mc.company_id", "n.name", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 134.771, + "Actual Total Time": 431.176, + "Actual Rows": 1982, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 127.459, + "Actual Total Time": 420.540, + "Actual Rows": 3042, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 128.269, + "Actual Total Time": 429.212, + "Actual Rows": 2062, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 131.244, + "Actual Total Time": 429.839, + "Actual Rows": 1923, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 131.490, + "Actual Total Time": 406.371, + "Actual Rows": 4212, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 135.031, + "Actual Total Time": 434.571, + "Actual Rows": 1551, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 129.657, + "Actual Total Time": 442.380, + "Actual Rows": 803, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 74578.76, + "Plan Rows": 966, + "Plan Width": 72, + "Actual Startup Time": 131.650, + "Actual Total Time": 412.642, + "Actual Rows": 966, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "chn.name", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 134.691, + "Actual Total Time": 421.394, + "Actual Rows": 505, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 127.376, + "Actual Total Time": 401.161, + "Actual Rows": 1542, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 128.200, + "Actual Total Time": 420.228, + "Actual Rows": 400, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 131.171, + "Actual Total Time": 419.682, + "Actual Rows": 514, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 131.417, + "Actual Total Time": 379.629, + "Actual Rows": 2001, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 134.958, + "Actual Total Time": 422.008, + "Actual Rows": 931, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 129.586, + "Actual Total Time": 435.644, + "Actual Rows": 373, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 74094.02, + "Plan Rows": 966, + "Plan Width": 51, + "Actual Startup Time": 131.576, + "Actual Total Time": 400.092, + "Actual Rows": 966, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "chn.name", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 134.608, + "Actual Total Time": 413.704, + "Actual Rows": 505, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 127.294, + "Actual Total Time": 383.545, + "Actual Rows": 1542, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 128.122, + "Actual Total Time": 413.781, + "Actual Rows": 400, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 131.112, + "Actual Total Time": 411.783, + "Actual Rows": 514, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 131.333, + "Actual Total Time": 356.427, + "Actual Rows": 2001, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 134.890, + "Actual Total Time": 410.537, + "Actual Rows": 931, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 129.505, + "Actual Total Time": 428.712, + "Actual Rows": 373, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.97, + "Total Cost": 73576.46, + "Plan Rows": 1026, + "Plan Width": 39, + "Actual Startup Time": 131.489, + "Actual Total Time": 387.652, + "Actual Rows": 1026, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "ci.person_role_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 134.505, + "Actual Total Time": 406.653, + "Actual Rows": 550, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 127.203, + "Actual Total Time": 365.662, + "Actual Rows": 1597, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 128.025, + "Actual Total Time": 407.703, + "Actual Rows": 437, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 131.031, + "Actual Total Time": 404.265, + "Actual Rows": 558, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 131.230, + "Actual Total Time": 331.685, + "Actual Rows": 2100, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 134.798, + "Actual Total Time": 399.637, + "Actual Rows": 974, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 129.425, + "Actual Total Time": 421.874, + "Actual Rows": 448, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 73571.71, + "Plan Rows": 1026, + "Plan Width": 43, + "Actual Startup Time": 131.201, + "Actual Total Time": 386.057, + "Actual Rows": 1026, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "ci.role_id", "ci.person_role_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(n.id = ci.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 134.251, + "Actual Total Time": 405.644, + "Actual Rows": 550, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 126.924, + "Actual Total Time": 363.483, + "Actual Rows": 1597, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 127.711, + "Actual Total Time": 406.717, + "Actual Rows": 437, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 130.763, + "Actual Total Time": 403.214, + "Actual Rows": 558, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 131.000, + "Actual Total Time": 328.978, + "Actual Rows": 2100, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 134.484, + "Actual Total Time": 398.095, + "Actual Rows": 974, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 129.086, + "Actual Total Time": 420.842, + "Actual Rows": 448, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.42, + "Total Cost": 68369.91, + "Plan Rows": 1316, + "Plan Width": 39, + "Actual Startup Time": 127.811, + "Actual Total Time": 307.676, + "Actual Rows": 1316, + "Actual Loops": 8, + "Output": ["an.name", "an.person_id", "n.name", "n.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 126.443, + "Actual Total Time": 324.872, + "Actual Rows": 1429, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 126.795, + "Actual Total Time": 299.854, + "Actual Rows": 1039, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 126.170, + "Actual Total Time": 320.729, + "Actual Rows": 1529, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 127.202, + "Actual Total Time": 314.940, + "Actual Rows": 1637, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 126.567, + "Actual Total Time": 265.174, + "Actual Rows": 1120, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 125.959, + "Actual Total Time": 318.325, + "Actual Rows": 1299, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 128.457, + "Actual Total Time": 336.139, + "Actual Rows": 1373, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 63478.05, + "Plan Rows": 6251, + "Plan Width": 19, + "Actual Startup Time": 127.530, + "Actual Total Time": 249.007, + "Actual Rows": 6251, + "Actual Loops": 8, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 514685, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 126.085, + "Actual Total Time": 261.169, + "Actual Rows": 6852, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 126.669, + "Actual Total Time": 249.115, + "Actual Rows": 5319, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 125.995, + "Actual Total Time": 252.543, + "Actual Rows": 7573, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 126.838, + "Actual Total Time": 247.554, + "Actual Rows": 7467, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 126.311, + "Actual Total Time": 220.318, + "Actual Rows": 5093, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 125.855, + "Actual Total Time": 260.204, + "Actual Rows": 6015, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 128.138, + "Actual Total Time": 270.675, + "Actual Rows": 6330, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.77, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 50011, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6852 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 5319 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 7573 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 7467 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 5093 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6015 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 6330 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 3.94, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 10525, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.person_id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1429 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.060, + "Actual Rows": 2, + "Actual Loops": 1039 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 1529 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1637 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.055, + "Actual Rows": 2, + "Actual Loops": 1120 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.060, + "Actual Rows": 1, + "Actual Loops": 1299 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 1373 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 8204, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 550 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1597 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 437 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 558 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 2100 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 974 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 448 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 7726, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 505 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1542 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 400 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 514 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 2001 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 931 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 373 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 2, + "Actual Loops": 7726, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.017, + "Actual Rows": 4, + "Actual Loops": 505 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 1542 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.019, + "Actual Rows": 5, + "Actual Loops": 400 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.017, + "Actual Rows": 4, + "Actual Loops": 514 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 2001 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 931 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.016, + "Actual Rows": 2, + "Actual Loops": 373 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 18345, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 1982 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 3042 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 2062 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1923 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 4212 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1551 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 803 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -180252288200201541, + "Planning Time": 57.103, + "Triggers": [ + ], + "Execution Time": 472.023, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -180252288200201541, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS alternative_name,
       MIN(chn.name) AS voiced_char_name,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS american_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND n.gender ='f'
  AND rt.role ='actress'
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND ci.movie_id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND n.id = ci.person_id
  AND chn.id = ci.person_role_id
  AND an.person_id = n.id
  AND an.person_id = ci.person_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 210184.32, + "Total Cost": 210184.33, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 8566.324, + "Actual Total Time": 8602.299, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 210184.23, + "Total Cost": 210184.24, + "Plan Rows": 8, + "Plan Width": 128, + "Actual Startup Time": 8472.383, + "Actual Total Time": 8602.261, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 210183.23, + "Total Cost": 210183.24, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 8268.675, + "Actual Total Time": 8268.681, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8120.952, + "Actual Total Time": 8120.958, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8543.334, + "Actual Total Time": 8543.338, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8307.404, + "Actual Total Time": 8307.408, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8151.060, + "Actual Total Time": 8151.066, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8001.496, + "Actual Total Time": 8001.502, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8422.018, + "Actual Total Time": 8422.023, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8131.691, + "Actual Total Time": 8131.697, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 162176.42, + "Total Cost": 209579.38, + "Plan Rows": 60385, + "Plan Width": 64, + "Actual Startup Time": 7067.862, + "Actual Total Time": 8210.344, + "Actual Rows": 60385, + "Actual Loops": 8, + "Output": ["an.name", "chn.name", "n.name", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7054.353, + "Actual Total Time": 8078.832, + "Actual Rows": 40839, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7045.025, + "Actual Total Time": 8399.628, + "Actual Rows": 166259, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7049.136, + "Actual Total Time": 8233.007, + "Actual Rows": 77601, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7078.885, + "Actual Total Time": 8111.732, + "Actual Rows": 31818, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7031.898, + "Actual Total Time": 7967.868, + "Actual Rows": 33193, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7107.214, + "Actual Total Time": 8374.403, + "Actual Rows": 48573, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7114.151, + "Actual Total Time": 8092.217, + "Actual Rows": 36505, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 162176.00, + "Total Cost": 198596.17, + "Plan Rows": 21696, + "Plan Width": 56, + "Actual Startup Time": 7067.536, + "Actual Total Time": 7930.403, + "Actual Rows": 21696, + "Actual Loops": 8, + "Output": ["chn.name", "ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Join Filter": "(ci.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7054.176, + "Actual Total Time": 7839.886, + "Actual Rows": 18970, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7044.078, + "Actual Total Time": 7986.446, + "Actual Rows": 27345, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7049.112, + "Actual Total Time": 7927.965, + "Actual Rows": 22179, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7078.860, + "Actual Total Time": 7876.707, + "Actual Rows": 18592, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7031.259, + "Actual Total Time": 7759.404, + "Actual Rows": 16323, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7107.079, + "Actual Total Time": 8074.963, + "Actual Rows": 26118, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7113.620, + "Actual Total Time": 7864.932, + "Actual Rows": 16761, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 162175.57, + "Total Cost": 188222.98, + "Plan Rows": 21696, + "Plan Width": 47, + "Actual Startup Time": 7067.494, + "Actual Total Time": 7713.162, + "Actual Rows": 21696, + "Actual Loops": 8, + "Output": ["chn.name", "ci.movie_id", "ci.person_id", "mc.movie_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7054.124, + "Actual Total Time": 7644.129, + "Actual Rows": 18970, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7044.033, + "Actual Total Time": 7740.557, + "Actual Rows": 27345, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7049.084, + "Actual Total Time": 7707.779, + "Actual Rows": 22179, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7078.778, + "Actual Total Time": 7680.526, + "Actual Rows": 18592, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7031.215, + "Actual Total Time": 7586.293, + "Actual Rows": 16323, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7107.037, + "Actual Total Time": 7824.215, + "Actual Rows": 26118, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7113.595, + "Actual Total Time": 7683.638, + "Actual Rows": 16761, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 162175.14, + "Total Cost": 176614.45, + "Plan Rows": 21707, + "Plan Width": 28, + "Actual Startup Time": 7067.453, + "Actual Total Time": 7468.411, + "Actual Rows": 21707, + "Actual Loops": 8, + "Output": ["chn.name", "ci.movie_id", "ci.person_id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7054.093, + "Actual Total Time": 7424.758, + "Actual Rows": 18984, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7044.001, + "Actual Total Time": 7469.467, + "Actual Rows": 27359, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7049.055, + "Actual Total Time": 7457.668, + "Actual Rows": 22190, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7078.748, + "Actual Total Time": 7455.157, + "Actual Rows": 18601, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7031.158, + "Actual Total Time": 7382.026, + "Actual Rows": 16333, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7106.949, + "Actual Total Time": 7541.511, + "Actual Rows": 26136, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7113.568, + "Actual Total Time": 7480.008, + "Actual Rows": 16764, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Merge Join", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 162174.71, + "Total Cost": 164662.09, + "Plan Rows": 23694, + "Plan Width": 16, + "Actual Startup Time": 7067.390, + "Actual Total Time": 7218.063, + "Actual Rows": 23694, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id", "mc.movie_id"], + "Inner Unique": false, + "Merge Cond": "(mc.movie_id = ci.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7054.001, + "Actual Total Time": 7207.395, + "Actual Rows": 20403, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7043.937, + "Actual Total Time": 7188.095, + "Actual Rows": 29269, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7049.003, + "Actual Total Time": 7200.322, + "Actual Rows": 24411, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7078.703, + "Actual Total Time": 7230.611, + "Actual Rows": 21070, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7031.034, + "Actual Total Time": 7172.934, + "Actual Rows": 18099, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7106.898, + "Actual Total Time": 7254.453, + "Actual Rows": 28849, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7113.527, + "Actual Total Time": 7268.865, + "Actual Rows": 18281, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Sort", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 34497.87, + "Total Cost": 34858.44, + "Plan Rows": 144225, + "Plan Width": 4, + "Actual Startup Time": 491.281, + "Actual Total Time": 504.893, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Sort Key": ["mc.movie_id"], + "Sort Method": "quicksort", + "Sort Space Used": 6145, + "Sort Space Type": "Memory", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 492.645, + "Actual Total Time": 508.082, + "Actual Rows": 156330, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 6145, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 1, + "Actual Startup Time": 496.728, + "Actual Total Time": 510.627, + "Actual Rows": 169559, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 6145, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 2, + "Actual Startup Time": 495.712, + "Actual Total Time": 510.678, + "Actual Rows": 162511, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 6145, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 3, + "Actual Startup Time": 490.758, + "Actual Total Time": 504.827, + "Actual Rows": 134470, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 6145, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 4, + "Actual Startup Time": 486.564, + "Actual Total Time": 499.091, + "Actual Rows": 129969, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 3073, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 5, + "Actual Startup Time": 484.604, + "Actual Total Time": 496.523, + "Actual Rows": 131214, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 6145, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 6, + "Actual Startup Time": 487.523, + "Actual Total Time": 501.320, + "Actual Rows": 132662, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 6145, + "Sort Space Type": "Memory" + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 22139.26, + "Plan Rows": 144225, + "Plan Width": 4, + "Actual Startup Time": 0.104, + "Actual Total Time": 421.027, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.089, + "Actual Total Time": 418.637, + "Actual Rows": 156330, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.102, + "Actual Total Time": 417.621, + "Actual Rows": 169559, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.147, + "Actual Total Time": 418.144, + "Actual Rows": 162511, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.096, + "Actual Total Time": 421.738, + "Actual Rows": 134470, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.102, + "Actual Total Time": 422.301, + "Actual Rows": 129969, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.096, + "Actual Total Time": 421.885, + "Actual Rows": 131214, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.107, + "Actual Total Time": 420.232, + "Actual Rows": 132662, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 16.584, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 15.500, + "Actual Rows": 10233, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 15.869, + "Actual Rows": 10420, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 14.401, + "Actual Rows": 9480, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 17.004, + "Actual Rows": 10349, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 18.016, + "Actual Rows": 11524, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 17.243, + "Actual Rows": 11270, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 16.267, + "Actual Rows": 10353, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.63, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.033, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.034, + "Actual Rows": 15, + "Actual Loops": 10233 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.033, + "Actual Rows": 16, + "Actual Loops": 10420 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.037, + "Actual Rows": 17, + "Actual Loops": 9480 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.034, + "Actual Rows": 13, + "Actual Loops": 10349 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.030, + "Actual Rows": 11, + "Actual Loops": 11524 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.032, + "Actual Rows": 12, + "Actual Loops": 11270 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.034, + "Actual Rows": 13, + "Actual Loops": 10353 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Sort", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 127676.81, + "Total Cost": 128367.22, + "Plan Rows": 276166, + "Plan Width": 12, + "Actual Startup Time": 6575.911, + "Actual Total Time": 6623.905, + "Actual Rows": 281408, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id"], + "Sort Key": ["ci.movie_id"], + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6561.293, + "Actual Total Time": 6608.299, + "Actual Rows": 278432, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 1, + "Actual Startup Time": 6547.193, + "Actual Total Time": 6591.829, + "Actual Rows": 284567, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 2, + "Actual Startup Time": 6552.815, + "Actual Total Time": 6599.454, + "Actual Rows": 280170, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 3, + "Actual Startup Time": 6587.501, + "Actual Total Time": 6636.917, + "Actual Rows": 281660, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 4, + "Actual Startup Time": 6544.453, + "Actual Total Time": 6590.090, + "Actual Rows": 279279, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 5, + "Actual Startup Time": 6622.275, + "Actual Total Time": 6669.903, + "Actual Rows": 284446, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 6, + "Actual Startup Time": 6625.993, + "Actual Total Time": 6674.975, + "Actual Rows": 280655, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.44, + "Total Cost": 102718.06, + "Plan Rows": 276166, + "Plan Width": 12, + "Actual Startup Time": 0.635, + "Actual Total Time": 6354.959, + "Actual Rows": 276166, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.550, + "Actual Total Time": 6342.405, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.527, + "Actual Total Time": 6331.682, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.547, + "Actual Total Time": 6340.596, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.421, + "Actual Total Time": 6361.401, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.507, + "Actual Total Time": 6327.510, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.593, + "Actual Total Time": 6391.957, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.483, + "Actual Total Time": 6401.012, + "Actual Rows": 276166, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["rt.id", "rt.role"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.050, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.066, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 99955.25, + "Plan Rows": 276166, + "Plan Width": 16, + "Actual Startup Time": 0.594, + "Actual Total Time": 6280.898, + "Actual Rows": 276166, + "Actual Loops": 8, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.role_id = rt.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 7175807, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.504, + "Actual Total Time": 6266.952, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.496, + "Actual Total Time": 6258.129, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.501, + "Actual Total Time": 6268.349, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.383, + "Actual Total Time": 6288.392, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.459, + "Actual Total Time": 6253.077, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.529, + "Actual Total Time": 6317.795, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.445, + "Actual Total Time": 6325.810, + "Actual Rows": 276166, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 189554, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 20403 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 29269 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 24411 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 21070 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 18099 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 28849 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 18281 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 173657, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'f'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 18984 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 27359 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 22190 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 18601 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 16333 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 26136 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 16764 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 173567, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 18970 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 27345 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 22179 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 18592 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 16323 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 26118 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 16761 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 20, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 3, + "Actual Loops": 173567, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 18970 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.013, + "Actual Rows": 6, + "Actual Loops": 27345 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 22179 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 18592 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 16323 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 2, + "Actual Loops": 26118 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 16761 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7221379846823333251, + "Planning Time": 58.080, + "Triggers": [ + ], + "Execution Time": 8626.759, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7221379846823333251, + "JOINS": 7 + } + ] (1 row)
